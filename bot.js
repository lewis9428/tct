const _0x242689=_0x220c;(function(_0x25aeaf,_0x36c909){const _0x9b025e=_0x220c,_0x50c3bb=_0x25aeaf();while(!![]){try{const _0x1ddd8e=-parseInt(_0x9b025e(0x274))/(-0x1c78+0x174e*0x1+0x52b)+parseInt(_0x9b025e(0x2f9))/(0x125b+-0x1520*0x1+-0x9*-0x4f)+parseInt(_0x9b025e(0x39b))/(0x54*-0x6a+-0x5*-0x178+0x1b73)+parseInt(_0x9b025e(0x1f0))/(-0xc9*0x20+0x1d5*0x2+0x157a)*(parseInt(_0x9b025e(0x2d2))/(-0x3*-0x8dd+-0x3*0x19+-0xd9*0x1f))+-parseInt(_0x9b025e(0x203))/(0x11c7+0x2*0xde1+-0x2d83)+parseInt(_0x9b025e(0x39a))/(0x3*-0x9a3+0x15a9+-0x9*-0xcf)*(-parseInt(_0x9b025e(0x263))/(0x696+0x1e9+-0x877))+parseInt(_0x9b025e(0x2d8))/(0x1e20+-0x2405+0x5ee)*(parseInt(_0x9b025e(0x2a0))/(-0x1*0x1d7d+-0xb*-0x2e7+-0x133*0x2));if(_0x1ddd8e===_0x36c909)break;else _0x50c3bb['push'](_0x50c3bb['shift']());}catch(_0x527aa2){_0x50c3bb['push'](_0x50c3bb['shift']());}}}(_0x26db,-0x176f4+0x53739+0x7*0x45eb));import{register}from'node:module';import{pathToFileURL}from'node:url';register('./utils/re'+_0x242689(0x279)+_0x242689(0x1de)+'s',pathToFileURL('./'));import _0x586b31 from'util';import _0x52a527 from'axios';import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,jidNormalizedUser,makeCacheableSignalKeyStore,getUrlInfo,generateLinkPreviewIfRequired,downloadMediaMessage,getAggregateVotesInPollMessage,proto,areJidsSameUser,isJidGroup,isJidStatusBroadcast,isJidBroadcast,isJidNewsletter}from'@whiskeysockets/baileys';import{Worker}from'worker_threads';import _0x719874 from'os';import _0x5a060b from'qrcode-terminal';import _0x573dfc from'pino';import _0x38340c from'events';import _0x25fc88 from'path';import _0x445545 from'fs/promises';import{existsSync,readFileSync}from'fs';import{fileURLToPath}from'url';import{createRequire}from'module';import _0x4e12ef from'p-queue';import{Writable}from'stream';import{ensureAuth,deepSerialize}from'./qrcode.js';import{initLogger,debug,info,warn,error,fatal}from'./utils/logger.js';import*as _0x38c239 from'./utils/connection.js';import{isadmin}from'./utils/isadmin.js';import{initBotState}from'./utils/bot-state.js';const require=createRequire(import.meta[_0x242689(0x22e)]),__filename=fileURLToPath(import.meta[_0x242689(0x22e)]),__dirname=_0x25fc88[_0x242689(0x164)](__filename);let cfg;try{const configModule=await import('./utils/config.js');cfg=configModule[_0x242689(0x384)](),configModule[_0x242689(0x388)+'onfig']&&configModule[_0x242689(0x388)+_0x242689(0x29c)](_0x397bd8=>{const _0x29cda6=_0x242689;info(_0x29cda6(0x230)+'ing\x20config'+'\x20(changed\x20'+'keys:\x20'+_0x397bd8['join'](',\x20')+')'),cfg=configModule[_0x29cda6(0x384)]();});}catch(_0x4e31a1){cfg={'CACHE_TTL_MS':(0x1c4c+0xcca+0x3*-0xd9e)*(0x42d*-0x8+0xe*-0x139+0x2*0x1b37),'CACHE_MAX_SIZE_BYTES':(0x1a6*-0x5+0x67e*0x1+0x1d4)*(-0x11a+-0x260d*-0x1+-0x20f3)*(0x2484+-0x76*-0x2+0x42e*-0x8),'MEMORY_STORE_MAX_BYTES':(-0x1*-0x607+-0x3ab+-0x68)*(-0xd44+-0x5d9+0x171d)*(-0x360+-0x1*0x996+0x2*0x87b),'AUTH_STATE_DIR':_0x242689(0x3e4),'RATE_LIMIT':{'window':0x3e8,'limit':0x5},'OUTGOING_MAX_QUEUE':0x7d0,'SEND_RETRY_ATTEMPTS':0x2,'SEND_RETRY_BASE_MS':0x1f4,'PREVIEW_BLOCKLIST':[],'PREVIEW_ALLOWLIST':null,'PREVIEW_RETRY_ATTEMPTS':0x2,'PREVIEW_TIMEOUT_MS':0xbb8,'PREVIEW_CACHE_TTL_MS':(-0x1*-0x20d7+-0x166*0x19+0x25b)*(0x3*0xac5+0xe*0x3a+-0x233f)*(0x555+0x226a*-0x1+0x5*0x699),'CONTACT_CACHE_TTL_MS':(-0xccb+0x146*0x1c+0x78b*-0x3)*(0x2137+-0x2699+0x59e)*(-0x93a+-0x13d*-0xb+-0x7d),'CHAT_CACHE_TTL_MS':(-0x1*-0x2485+0x136f+-0x37d6)*(0x1096*0x1+-0x1e*0x9b+0x10*0x1d)*(0x2*0x7ef+-0x395+-0x861),'SHUTDOWN_DRAIN_MS':0x1388,'DLQ_PATH':_0x242689(0x15b),'DLQ_MAX_SIZE_BYTES':(0x5e5*0x2+0x1*0x13b7+-0x3*0x92b)*(-0x1672+0x2665+-0xbf3),'DLQ_MAX_FILES':0x5,'BAILEYS_BROWSER':[_0x242689(0x32d),_0x242689(0x348),_0x242689(0x3a3)],'GENERATE_HIGH_QUALITY_LINK_PREVIEW':![],'PROJECT_ROOT':process[_0x242689(0x3ed)](),'COMMAND_PREFIX':null,'ADMIN_TOKEN':process[_0x242689(0x340)][_0x242689(0x31e)+'N']||null,'LOG_LEVEL':'info','BAILEYS_PINO_LEVEL':'error','AUTH_WAL_MAX_FILE_SIZE_KB':0x400,'AUTH_WAL_MAX_LINES':0x2710,'AUTH_WAL_REWRITE_INTERVAL_MS':(-0x26ba+0x107*-0x17+0x3e60)*(-0x1d28+0x23ad*-0x1+-0x1*-0x4111)*(0x613*-0x1+-0x19ca+0x23c5)},warn(_0x242689(0x20d)+'load\x20confi'+_0x242689(0x357)+'using\x20defa'+'ults.');}try{initLogger(cfg),info(_0x242689(0x14e)+_0x242689(0x204)+_0x242689(0x253)+_0x242689(0x27e));}catch(_0xb838a1){console[_0x242689(0x3fa)](_0x242689(0x1cb)+_0x242689(0x38b)+_0x242689(0x389)+_0x242689(0x18f)+'js',_0xb838a1);}const workerPool=[];let nextWorkerIndex=0x13*0x6d+0x3b*0x97+-0x2dc*0xf,nextWorkerTaskId=0x73a+0x11a+-0x853;const workerPendingTasks=new Map();function initializeWorkerPool(){const _0x5830ce=_0x242689;try{const _0x32e652=_0x719874[_0x5830ce(0x40a)]()[_0x5830ce(0x2e5)];if(_0x32e652<=-0x1539+-0x14d*-0x17+-0x1bd*0x5){info(_0x5830ce(0x2eb)+_0x5830ce(0x2bd)+'cted.\x20I/O\x20'+_0x5830ce(0x17e)+_0x5830ce(0x3cf)+_0x5830ce(0x306)+_0x5830ce(0x282));return;}const _0x3c223d=_0x32e652>0x196e+0x20*0x5f+-0x254c?0x7*0x287+-0x24bb+0x130c:-0x51d+0x1*0x1d07+-0x17e9*0x1;info(_0x32e652+('\x20CPU\x20cores'+_0x5830ce(0x1b2)+_0x5830ce(0x395)+_0x5830ce(0x14a)+_0x5830ce(0x1fc)+_0x5830ce(0x2b4))+_0x3c223d+(_0x5830ce(0x2fc)+_0x5830ce(0x396)));const _0x338995=_0x25fc88[_0x5830ce(0x206)](__dirname,_0x5830ce(0x270)+'r.js');if(!existsSync(_0x338995)){warn(_0x5830ce(0x270)+_0x5830ce(0x3f7)+'ound\x20at\x20'+_0x338995+(_0x5830ce(0x28f)+_0x5830ce(0x34f)+_0x5830ce(0x1a5)+_0x5830ce(0x311)+_0x5830ce(0x177)));return;}for(let _0x372ab8=0x59e+0xdd7+0x1*-0x1375;_0x372ab8<_0x3c223d;_0x372ab8++){const _0x3bf042=new Worker(_0x338995);_0x3bf042['on'](_0x5830ce(0x2e0),_0x285953=>{const _0x54e3b9=_0x5830ce,{taskId:_0x357818,error:_0x52377b,result:_0x34bf10}=_0x285953;if(workerPendingTasks['has'](_0x357818)){const {resolve:_0x516c66,reject:_0x2c9f3e}=workerPendingTasks['get'](_0x357818);_0x52377b?_0x2c9f3e(new Error(_0x52377b)):_0x516c66(_0x34bf10),workerPendingTasks[_0x54e3b9(0x31a)](_0x357818);}}),_0x3bf042['on']('error',_0x4262eb=>{const _0x4f3412=_0x5830ce;error(_0x4f3412(0x2ef)+_0x4f3412(0x354)+_0x372ab8+(_0x4f3412(0x33a)+_0x4f3412(0x2be)+_0x4f3412(0x336)),_0x4262eb);for(const [_0x105c01,{reject:_0x4e5a7b,workerId:_0x57be63}]of workerPendingTasks[_0x4f3412(0x3b6)]()){_0x57be63===_0x372ab8&&(_0x4e5a7b(new Error(_0x4f3412(0x2ef)+_0x4f3412(0x354)+_0x372ab8+'\x20crashed.')),workerPendingTasks['delete'](_0x105c01));}}),_0x3bf042['on'](_0x5830ce(0x3b7),_0x6e0bc4=>{const _0x341c86=_0x5830ce;_0x6e0bc4!==0x21*0x5+0x49*0x13+-0x610&&warn(_0x341c86(0x2ef)+_0x341c86(0x354)+_0x372ab8+(_0x341c86(0x2ac)+'ith\x20exit\x20c'+_0x341c86(0x32f))+_0x6e0bc4+(_0x341c86(0x18c)+_0x341c86(0x25f)+_0x341c86(0x3e5)));const _0x5b330d=workerPool[_0x341c86(0x15e)](_0x3bf042);_0x5b330d>-(-0x1360+0x1637+-0x3*0xf2)&&workerPool['splice'](_0x5b330d,0x1*-0xff6+-0x82f+0x1826);for(const [_0x4c79c9,{reject:_0x290e90,workerId:_0x153bea}]of workerPendingTasks[_0x341c86(0x3b6)]()){_0x153bea===_0x372ab8&&(_0x290e90(new Error(_0x341c86(0x2ef)+_0x341c86(0x354)+_0x372ab8+'\x20exited.')),workerPendingTasks[_0x341c86(0x31a)](_0x4c79c9));}}),workerPool[_0x5830ce(0x180)](_0x3bf042);}workerPool[_0x5830ce(0x2e5)]>0x1*-0x1c0d+0x4*-0x439+0x2cf1?info('✅\x20I/O\x20work'+_0x5830ce(0x1c0)+_0x5830ce(0x26b)+'successful'+'ly\x20with\x20'+workerPool[_0x5830ce(0x2e5)]+(_0x5830ce(0x2fc)+'.')):warn(_0x5830ce(0x3aa)+'\x20pool\x20init'+_0x5830ce(0x3d7)+'\x20failed.\x20F'+_0x5830ce(0x3a4)+_0x5830ce(0x1da)+_0x5830ce(0x377));}catch(_0x452760){error(_0x5830ce(0x1cb)+_0x5830ce(0x3f4)+_0x5830ce(0x2f2)+_0x5830ce(0x2bb)+_0x5830ce(0x3a4)+_0x5830ce(0x1da)+_0x5830ce(0x192)+_0x5830ce(0x1b8),_0x452760),workerPool[_0x5830ce(0x2e5)]=0x2547*-0x1+0xa92+0x1ab5;}}async function handleTaskDirectly(_0x440289){const _0x63437c=_0x242689,{type:_0x3fe22a,payload:_0x2e18cb}=_0x440289;switch(_0x3fe22a){case _0x63437c(0x398)+'IC':return _atomicWriteDirect(_0x2e18cb['filePath'],_0x2e18cb[_0x63437c(0x2c3)]);case _0x63437c(0x228)+'E':await _0x445545[_0x63437c(0x34e)](_0x25fc88['dirname'](_0x2e18cb['filePath']),{'recursive':!![]});return _0x445545[_0x63437c(0x358)](_0x2e18cb[_0x63437c(0x21f)],_0x2e18cb['data'],'utf8');case _0x63437c(0x1ef)+_0x63437c(0x1f7):return manageLogFileDirect(_0x2e18cb[_0x63437c(0x21f)],_0x2e18cb[_0x63437c(0x2c3)],_0x2e18cb[_0x63437c(0x343)]);default:throw new Error(_0x63437c(0x401)+_0x63437c(0x1a6)+'r\x20worker\x20t'+_0x63437c(0x399)+_0x3fe22a+'\x22');}}function postTaskToPool(_0x1ce8fd){const _0x128c5a=_0x242689;if(workerPool[_0x128c5a(0x2e5)]===0x1*-0x2185+-0x423*0x8+0x429d)return handleTaskDirectly(_0x1ce8fd);return new Promise((_0xb9dbd6,_0x261850)=>{const _0x1c9e8a=_0x128c5a,_0x2cecee=nextWorkerTaskId++,_0x2a0fba=nextWorkerIndex;workerPendingTasks[_0x1c9e8a(0x404)](_0x2cecee,{'resolve':_0xb9dbd6,'reject':_0x261850,'workerId':_0x2a0fba});const _0x5df273=workerPool[_0x2a0fba];_0x5df273[_0x1c9e8a(0x30f)+'e']({'taskId':_0x2cecee,..._0x1ce8fd}),nextWorkerIndex=(nextWorkerIndex+(0x288+-0x123f*0x1+0x3ee*0x4))%workerPool[_0x1c9e8a(0x2e5)],setTimeout(()=>{const _0x34dc2c=_0x1c9e8a;workerPendingTasks[_0x34dc2c(0x246)](_0x2cecee)&&(_0x261850(new Error(_0x34dc2c(0x1f2)+_0x34dc2c(0x30c)+_0x1ce8fd[_0x34dc2c(0x19d)]+_0x34dc2c(0x3ca)+_0x2cecee+(_0x34dc2c(0x252)+'t.'))),workerPendingTasks[_0x34dc2c(0x31a)](_0x2cecee));},-0xd926+-0x1904+-0x1*-0x1675a);});}const globalMessagesToSuppress=[_0x242689(0x1f5)+_0x242689(0x2d0)+_0x242689(0x1fb)+_0x242689(0x2e1)+'y','Failed\x20to\x20'+_0x242689(0x2a8)+'ssage\x20with'+_0x242689(0x2bf)+_0x242689(0x268),_0x242689(0x205)+_0x242689(0x1c8)+_0x242689(0x16b),_0x242689(0x36e)+'eds.json\x22',_0x242689(0x16d)+_0x242689(0x24f)+_0x242689(0x19b),'Closing\x20st'+_0x242689(0x19c)+_0x242689(0x1bf)+_0x242689(0x2f1)+'ing\x20prekey'+_0x242689(0x220),'Closing\x20op'+'en\x20session'+_0x242689(0x3c5)+_0x242689(0x387)+'g\x20prekey\x20b'+_0x242689(0x3fc),_0x242689(0x22d)+'message\x20wi'+'th\x20closed\x20'+_0x242689(0x346),_0x242689(0x2ba)+_0x242689(0x2a8)+_0x242689(0x2dc),_0x242689(0x231)+_0x242689(0x23e)+_0x242689(0x2a8)+'ssage','Invalid\x20Pr'+_0x242689(0x37a)];process[_0x242689(0x298)]['write']=createGlobalFilteringWriter(process[_0x242689(0x298)][_0x242689(0x17a)]['bind'](process['stdout'])),process[_0x242689(0x258)][_0x242689(0x17a)]=createGlobalFilteringWriter(process[_0x242689(0x258)][_0x242689(0x17a)][_0x242689(0x33e)](process[_0x242689(0x258)]));function createGlobalFilteringWriter(_0x434437){return function(_0xe418d4,_0x265ffd,_0x22c699){const _0x4b2da0=_0x220c;try{const _0x3b3e58=_0xe418d4[_0x4b2da0(0x280)]();if(globalMessagesToSuppress[_0x4b2da0(0x38f)](_0x503fef=>_0x3b3e58['includes'](_0x503fef))){if(typeof _0x22c699==='function')_0x22c699();return!![];}}catch(_0x3279b7){}return _0x434437(_0xe418d4,_0x265ffd,_0x22c699);};}class FifoMutex{constructor(){const _0xa247f3=_0x242689;this[_0xa247f3(0x2e4)]=![],this[_0xa247f3(0x29a)]=[];}async[_0x242689(0x27b)](){const _0x155210=_0x242689;if(!this[_0x155210(0x2e4)]){this[_0x155210(0x2e4)]=!![];let _0x170352=![];return()=>{const _0x1807b2=_0x155210;!_0x170352&&(_0x170352=!![],this[_0x1807b2(0x153)]());};}return new Promise(_0x2ce9ad=>this[_0x155210(0x29a)][_0x155210(0x180)](_0x2ce9ad))['then'](()=>{let _0x20ea50=![];return()=>{const _0x4b4f51=_0x220c;!_0x20ea50&&(_0x20ea50=!![],this[_0x4b4f51(0x153)]());};});}[_0x242689(0x153)](){const _0x55d029=_0x242689;if(this[_0x55d029(0x29a)]['length']>0xb3+-0x469*-0x6+-0x1b29)this[_0x55d029(0x29a)][_0x55d029(0x373)]()();else this[_0x55d029(0x2e4)]=![];}}const authMutex=new FifoMutex(),storeMutex=new FifoMutex(),logFileMutex=new FifoMutex(),MAX_LOG_SIZE_BYTES=(0x1a68+0x4cd+-0x1f34)*(-0x2419*-0x1+-0x1664+-0x9b5)*(0x8cb+-0x1*-0xb81+-0x104c),LOG_FILE_PATH=_0x25fc88[_0x242689(0x284)](process[_0x242689(0x3ed)](),_0x242689(0x2c3),'tmp',_0x242689(0x2aa)+'.log'),voluntaryLeaverStore=new Map();async function manageLogFileDirect(_0x28702c,_0x1a0bc6,_0x104d2b){const _0x41dcf2=_0x242689,_0x3857c5=await logFileMutex[_0x41dcf2(0x27b)]();try{await _0x445545['mkdir'](_0x25fc88[_0x41dcf2(0x164)](_0x28702c),{'recursive':!![]}),await _0x445545[_0x41dcf2(0x358)](_0x28702c,_0x1a0bc6,_0x41dcf2(0x312));const _0x357152=await _0x445545[_0x41dcf2(0x16e)](_0x28702c)['catch'](()=>({'size':0x0}));if(_0x357152[_0x41dcf2(0x240)]>_0x104d2b){const _0x33122e=await _0x445545[_0x41dcf2(0x2f8)](_0x28702c,_0x41dcf2(0x312));let _0x4918b6=_0x33122e[_0x41dcf2(0x3a0)]('\x0a')[_0x41dcf2(0x360)](_0x499402=>_0x499402['trim']()!=='');while(Buffer['byteLength'](_0x4918b6['join']('\x0a'),_0x41dcf2(0x312))>_0x104d2b&&_0x4918b6[_0x41dcf2(0x2e5)]>0x5e*-0x36+-0x1c9e+0x3072){_0x4918b6[_0x41dcf2(0x373)]();}const _0x42cc53=_0x4918b6[_0x41dcf2(0x2e5)]>0x31e+-0x1*-0xaea+-0xe08?_0x4918b6[_0x41dcf2(0x284)]('\x0a')+'\x0a':'';await _0x445545['writeFile'](_0x28702c,_0x42cc53,_0x41dcf2(0x312));}}finally{_0x3857c5();}}async function writeLogEntry(_0x40c39d){const _0x2813c4=_0x242689,_0x427d5f=JSON[_0x2813c4(0x367)](_0x40c39d)+'\x0a';try{await postTaskToPool({'type':'MANAGE_LOG'+_0x2813c4(0x1f7),'payload':{'filePath':LOG_FILE_PATH,'data':_0x427d5f,'maxSize':MAX_LOG_SIZE_BYTES}});}catch(_0x52d98a){warn('Failed\x20to\x20'+_0x2813c4(0x2b8)+_0x2813c4(0x145)+_0x2813c4(0x1c4)+_0x2813c4(0x22a),_0x52d98a);}}const baileysLogInterceptor=new Writable({'write'(_0x287733,_0x4520e8,_0x448ad3){const _0x2044cb=_0x242689;try{const _0x295890=_0x287733[_0x2044cb(0x280)]();if(!_0x295890[_0x2044cb(0x292)]('sent\x20ack')){_0x448ad3();return;}const _0x3172ea=JSON['parse'](_0x295890);if(_0x3172ea['msg']===_0x2044cb(0x29d)&&_0x3172ea[_0x2044cb(0x359)]){const _0x42a594=_0x3172ea[_0x2044cb(0x359)]['attrs'];if(_0x42a594&&_0x42a594[_0x2044cb(0x237)+'t']&&voluntaryLeaverStore[_0x2044cb(0x246)](_0x42a594[_0x2044cb(0x237)+'t'])){const _0x455bd0=voluntaryLeaverStore[_0x2044cb(0x2da)](_0x42a594[_0x2044cb(0x237)+'t']),_0x3e9b9f={'id':_0x42a594['id'],'groupId':_0x455bd0[_0x2044cb(0x408)],'action':_0x2044cb(0x31d),'type':'voluntary_'+'leave','notify':_0x42a594[_0x2044cb(0x2d4)],'participant_pn':_0x42a594[_0x2044cb(0x237)+_0x2044cb(0x314)]};writeLogEntry(_0x3e9b9f),voluntaryLeaverStore[_0x2044cb(0x31a)](_0x42a594['participan'+'t']);}}}catch(_0x5da2a0){}_0x448ad3();}}),messageEditCache=new Map(),MESSAGE_CACHE_TTL_MS=(-0x1*-0x1c12+0x112e+-0x1f7*0x17)*(-0xac3+0x1f9e*-0x1+-0x1*-0x2a9d)*(0x10dc*-0x1+0x1*0x496+0x102e),baileysPinoLevel=(cfg[_0x242689(0x155)+_0x242689(0x3c7)]||_0x242689(0x3fa))[_0x242689(0x280)]();let baileysPinoLogger=_0x573dfc({'level':baileysPinoLevel}),_authState_for_flush=null,_authRewriteTimer=null,_authWriteInProgress=![],_walLineCount=0x3*-0x60d+0x255*0x7+-0xc*-0x27;async function _atomicWriteDirect(_0x220c9a,_0x350cc4){const _0x3eeb0d=_0x242689,_0x17ccd8=_0x25fc88[_0x3eeb0d(0x164)](_0x220c9a),_0x162900=_0x25fc88[_0x3eeb0d(0x284)](_0x17ccd8,_0x25fc88[_0x3eeb0d(0x1ed)](_0x220c9a)+'.'+Date[_0x3eeb0d(0x2c8)]()+_0x3eeb0d(0x3d4));return await _0x445545[_0x3eeb0d(0x34e)](_0x17ccd8,{'recursive':!![]})['catch'](()=>{}),await _0x445545[_0x3eeb0d(0x2e9)](_0x162900,_0x350cc4,{'encoding':_0x3eeb0d(0x312)}),await _0x445545[_0x3eeb0d(0x1bb)](_0x162900,_0x220c9a),_0x220c9a;}function _0x220c(_0x1becec,_0x5851cb){const _0x5b4536=_0x26db();return _0x220c=function(_0x301128,_0x282930){_0x301128=_0x301128-(-0x571+-0x121a+0x18c5);let _0x5239c7=_0x5b4536[_0x301128];return _0x5239c7;},_0x220c(_0x1becec,_0x5851cb);}async function _atomicWriteAuthFile(_0x250113,_0x150597){const _0x55ae0e=_0x242689,_0x44524d=_0x25fc88[_0x55ae0e(0x284)](_0x150597,_0x55ae0e(0x3c4)),_0x1c4767=JSON[_0x55ae0e(0x367)](_0x250113,null,0xaa+-0x844*-0x3+0x4*-0x65d);return postTaskToPool({'type':_0x55ae0e(0x398)+'IC','payload':{'filePath':_0x44524d,'data':_0x1c4767}});}async function _appendWalFile(_0x397927,_0x565f0c){const _0x728890=_0x242689;_walLineCount++;const _0x5da4af=_0x25fc88[_0x728890(0x284)](_0x565f0c,'creds.wal'),_0x38824b=JSON[_0x728890(0x367)](_0x397927)+'\x0a';return postTaskToPool({'type':'APPEND_FIL'+'E','payload':{'filePath':_0x5da4af,'data':_0x38824b}});}async function flushAuthToDisk(){const _0x161043=_0x242689;if(!_authState_for_flush||_authWriteInProgress)return;_authWriteInProgress=!![];if(_authRewriteTimer)clearTimeout(_authRewriteTimer);const _0x431a4e=await authMutex['acquire']();try{const {state:_0x472751,authDir:_0xc2e954}=_authState_for_flush,_0x3b8bce=_0x472751['keys']?_0x472751['keys'][_0x161043(0x19e)]?_0x472751[_0x161043(0x353)][_0x161043(0x19e)]():{}:{},_0x46bff8={'creds':deepSerialize(_0x472751[_0x161043(0x364)]),'keys':deepSerialize(_0x3b8bce)};await _atomicWriteAuthFile(_0x46bff8,_0xc2e954);const _0x37308c=_0x25fc88[_0x161043(0x284)](_0xc2e954,_0x161043(0x3a7));await _0x445545[_0x161043(0x2e9)](_0x37308c,'',_0x161043(0x312))[_0x161043(0x3c6)](_0x282cc1=>warn(_0x161043(0x1cb)+_0x161043(0x2de)+_0x161043(0x3fb)+_0x282cc1[_0x161043(0x2e0)])),_walLineCount=0x8ad+0x1def+-0x1*0x269c,debug(_0x161043(0x1d8)+_0x161043(0x173)+_0x161043(0x3c2)+_0x161043(0x225));}catch(_0x3333bf){warn(_0x161043(0x260)+_0x161043(0x3a5)+_0x161043(0x148)+'\x20failed',_0x3333bf?.[_0x161043(0x2e0)]||_0x3333bf);}finally{_authWriteInProgress=![],_0x431a4e(),scheduleAuthRewrite();}}function scheduleAuthFlush(_0x58a374){const _0xf52197=_0x242689,_0x42fec5=_authState_for_flush?.[_0xf52197(0x198)];if(!_0x42fec5)return;_appendWalFile(_0x58a374,_0x42fec5)[_0xf52197(0x3c6)](_0x5717a2=>warn('WAL\x20append'+_0xf52197(0x361)+_0x5717a2[_0xf52197(0x2e0)]));const _0x261295=_0x25fc88[_0xf52197(0x284)](_0x42fec5,'creds.wal');_0x445545['stat'](_0x261295)[_0xf52197(0x1a8)](_0x588db1=>{const _0x43813b=_0xf52197;if(_0x588db1['size']>(cfg[_0x43813b(0x1b3)+_0x43813b(0x187)+_0x43813b(0x1d4)]||0x82+0x90+0x1e*0x19)*(0x1e71*0x1+-0x35*-0xbb+0x56e*-0xc)){info(_0x43813b(0x3af)+'ize\x20limit\x20'+'reached.\x20F'+_0x43813b(0x160)+_0x43813b(0x36d)+_0x43813b(0x40c));if(_authRewriteTimer)clearTimeout(_authRewriteTimer);flushAuthToDisk();}})[_0xf52197(0x3c6)](()=>{});if(_walLineCount>(cfg[_0xf52197(0x1b3)+_0xf52197(0x158)]||-0x3059+-0x3173+0x88dc)){info('WAL\x20line\x20c'+_0xf52197(0x259)+_0xf52197(0x305)+_0xf52197(0x325)+_0xf52197(0x226)+'ewrite.');if(_authRewriteTimer)clearTimeout(_authRewriteTimer);flushAuthToDisk();}}function _0x26db(){const _0x234625=['p\x20file\x20','with\x20','nextAttemp','setActiveG','d\x20or\x20faile','write\x20or\x20p','nitialized','failed\x20to\x20','er\x20pool.\x20F','red.\x20Pleas','\x20core\x20dete','ed\x20a\x20criti','\x20any\x20known','terminate','lly.','tory\x20','data','ata','OCKLIST','history.se','creds\x20file','now','string','esults','normalize\x20','alid\x20auth\x20','linkPrevie','count','preview:','ld\x20closed\x20','nextTimer','65OTEsKZ','LES','notify','lastAccess','EFIX','messages.d','65889TIcqXn','ed:\x20','get','SESSION_ID','ssage','uncaughtEx','clear\x20WAL\x20','user','message','essionEntr','dia','Database\x20i','_locked','length','th.thebook','limit','ZE_BYTES','writeFile','Bad\x20MAC','Single\x20CPU','t\x20after\x2025','window','invalid\x20da','File\x20worke','Running\x20cl','\x20new\x20outgo','\x20file\x20work','ing\x20circui','ges...','Remote\x20rec',')...','editedMess','readFile','1341344KHCYiS','\x20returned\x20','ader\x20modul','\x20worker(s)','labels.ass','statusText','Using\x20Bail','eue:','_sweep','IGH_QUALIT','@broadcast','JID\x20for\x20re','\x20reached.\x20','on\x20the\x20mai','Final\x20auth','\x20file:\x20','erJid','ck\x20failed','module.det','k\x20\x22','om\x20outgoin','PREVIEW_BL','postMessag','OPEN','he\x20main\x20th','utf8',',\x20isLatest','t_pn','nup.','download\x20m','connection','items','statusCode','delete','message.ed','DLQ_MAX_FI','remove','ADMIN_TOKE','estamp','CHE_TTL_MS','chats.dele','led:\x20','pollCreati','Error\x20duri','Forcing\x20fu','edia-updat','ening\x20circ','upsert','/creds','rotate\x20DLQ','_makeMsgBo','ssage:\x20','lwskky','CLOSED','ode\x20','ry\x20due\x20to\x20','WebMessage','th\x20directo','silent','ceived','DLQ_PATH','cal\x20error:','race','ytes','DLQ\x20write\x20','\x20encounter','\x20Loaded\x20','unshift','values','bind','rom\x20file','env','ttempting\x20','Bad\x20MAC\x20—\x20','maxSize','Unknown','call','session.','A\x20new\x20logi','Chrome','adcast','BAILEYS_VE','output','\x20version,\x20','RESHOLD','mkdir','ations\x20wil','oadcast','off','ming\x20prior','keys','r\x20#','chats.upse','remote\x20fet','guration;\x20','appendFile','recv','or\x20failed\x20','creds.upda','obtain\x20any','dentials.','sage\x20','JID\x20for\x20qu','filter','\x20failed:\x20','splice','selectedDi','creds','\x20successfu','OUTGOING_M','stringify','AUTH_WAL_R','readyState','restart.','\x20API\x20faile','ttempt\x20(st','l\x20state\x20re','\x22\x20.auth/cr','unref','ean\x20up.','\x20error','areJidsSam','shift','\x20bot','ssion\x20is\x20v','proto','thread.','ngth\x20high:','to\x20read\x20it','eKey\x20ID','toISOStrin','Connection','mFile:\x20not','omplete.','REAKER]\x20Re','own','SIZE_BYTES','tore\x20file\x20','sender','getConfig','priority=','ine\x20target','of\x20incomin','hotReloadC','r\x20from\x20uti','pping\x20temp','init\x20logge','seMessage','.update','update','some','parse','isNewslett','_estimateB','ENOENT','\x20API\x20is\x20st','\x20Initializ','...','raw.messag','WRITE_ATOM','ask\x20type\x20\x22','7ETVRBE','963210dWrToC','ssages\x20to\x20','AX_QUEUE','msgbox:','ttempt\x20#','split','edia','alidating\x20','19.1.0','alling\x20bac','oDisk\x20(ful','\x20bytes=','creds.wal','hostname','ocessing\x20f','I/O\x20worker','_touch','text','queue','failed','WAL\x20file\x20s','est','ception','labels.edi','defaultTtl','not\x20determ','AL\x20entry.','entries','exit','eues\x20drain','Dropped\x20fr','windowMs','ndQueue\x20le','EWRITE_INT','rcuit\x20is\x20o','add','keys.remov','listRespon','eanup\x20in\x20','auth\x20state','thFlush\x20af','creds.json','\x20in\x20favor\x20','catch','NO_LEVEL','ate=','.\x20Deleting','\x22\x20(ID:\x20','key','ued\x20item\x20(','alformed\x20W','ng\x20detachA','\x20will\x20run\x20','messages.r','rom\x20WAL.','eaction','No\x20prior\x20s','.tmp','HALF_OPEN','minutes.','ialization','Logged\x20out','\x20closed.\x20S','.\x20Falling\x20','ng\x20tempora','-request','al\x20LRU\x20mem','floor','loadLocalC','✅\x20Remote\x20c','ropped\x20que','for\x20','able.\x20Clos','.auth','pawned.','unknown_ch','n\x20timed\x20ou','startsWith','blocklist.','ds\x20fetch\x20a','imageMessa','https://au','cwd','CACHE_TTL_','\x20does\x20not\x20','ed:\x20could\x20','dir','temporary\x20','from','initialize','ion\x20is\x20inv','successes','r.js\x20not\x20f','ponseMessa','\x20after\x20','error','file:\x20','undle','Unrecovera','processing','\x20size=','t\x20in\x20cache','No\x20direct\x20','logout.','roupForUse','set','ore\x20writte','bytes','tempt\x20fail','groupId','essing\x20WAL','cpus','OutgoingSe','write.','messageTim','PREVIEW_CA','isStatusBr','\x20creds\x20and','RE_MAX_BYT','DLQ...','delete\x20aut','Error\x20proc','\x20temporary','RATE_LIMIT','FAILURE_TH','ck\x20to\x20defa','Y_LINK_PRE','meout\x20elap','Validation','\x20JID.','Memory\x20sto','rune\x20volun','ow...','\x20trying\x20ne','l\x20rewrite)','loggedOut','ing\x20I/O\x20wo',')\x20to\x20make\x20','timeout','keys.set','Logger\x20ini','ound.\x20Repl','SUCCESS_TH','pdate','FATAL:\x20QR\x20','_release','\x20valid\x20cre','BAILEYS_PI','generate','_sweepTime','AX_LINES','e\x20scan\x20the','ity/priori','.dlq','message-re','close','indexOf','overy\x20fail','orcing\x20ful','ry\x20files\x20f','failure','Graceful\x20s','dirname','\x20remote\x20cr','mapById','psert','find','open','on\x20shutdow','\x20Bad\x20MAC','getContact','Saved\x20upda','stat','enqueue','\x20on\x20restar','ttempt\x20fai','No\x20tempora','rote\x20full\x20','PREVIEW_AL','ndQueue:\x20d','tityKey','read.','ult','REAKER]\x20Ci','write','generatePr','ctReply','\x20store\x20to\x20','operations','messages.m','push','ceipt.upda','\x20Persisted','Auth\x20direc','alid.','tialize\x20lo','eUser','AX_FILE_SI','No\x20target\x20','unhandledR','canSend','fully.','.\x20It\x20will\x20','remoteJid','BAILEYS_BR','ls/logger.','Deleted\x20le','✅\x20Connecti','thread\x20for','cache','eck\x20failed','ey=','\x20QR\x20code.','\x20id\x20provid','authDir','maxBytes','registrati','to\x20disk','ale\x20open\x20s','type','all','\x20Evicted\x20k','art\x20failed','old','isArray','slice','\x20restart','l\x20run\x20on\x20t','handler\x20fo','tgoing\x20que','then','tializeMod','mote\x20creds','groups.upd','unlink','append','status:','mplete.\x20De','contact:','sendMessag','\x20detected.','AUTH_WAL_M','n\x20to\x20file','_evictIfNe','trim','redsFileSt','\x20I/O.','icted\x20','multistrea','rename','start\x20bot','s\x20makeInMe','OWSER','ession\x20for','er\x20pool\x20in','reject','maxQueue','eys\x20versio','tary\x20leave','nitializat','leted\x20','message\x20no','ror:Error:','sort','value','Failed\x20to\x20','mory\x20store','warnThresh','function','isUser\x20che','messages','byteLength','attach','ucceeded.','ZE_KB','patching\x20k','Remote\x20cre','persist\x20me','[AUTH]\x20Rew','ter\x20keys.s','k\x20to\x20main\x20','conversati','Database','chats','ter-hook.j','erJid\x20chec','ejection','assign','dule','_cleanup','scheduleAu','Message\x20qu','cheduling\x20','ed,\x20will\x20s','s\x20due\x20to:\x20','messages.u','OPEN\x20state','persist\x20ou','toJSON','basename','Cleanup\x20co','MANAGE_LOG','73812BnaJcb','e\x20to\x20file','Worker\x20tas','Module','ch\x20until\x20','Removing\x20o','\x20priority=','_FILE','meString','noiseKey','SIGINT','session:\x20S','rker\x20pool\x20','no\x20session','unregister','del','ng\x20shutdow','extAvailab','state','1344294QrXwok','tialized\x20(','Session\x20er','resolve','ue\x20to\x20DLQ\x20','\x20restart\x20n','signedIden','Deleted\x20au','LOWLIST','et\x20failed','Could\x20not\x20','badSession','Restart\x20at','totalBytes','Initial\x20st','COMMAND_PR','ry\x20file\x20cl','[STORE]\x20Re','p\x20file:\x20','[CIRCUIT_B','uit\x20for\x205\x20','\x20timed\x20out','toLocaleTi','prepend','end','d\x20too\x20many','Shutting\x20d','status','filePath','\x20bundle','recordSend','timeoutMs','Replayed\x20','onMessage','\x20to\x20disk.','ll\x20state\x20r','_tryProces','APPEND_FIL','trace','\x20log\x20file:','QR\x20Code\x20re','timestamps','Decrypted\x20','url','Attempting','Hot-reload','No\x20session','eys\x20store\x20','ach\x20failed','h\x20and\x20rest','Scheduling','max','participan','buffer','Persisting','buttonsRes','group.join','ound\x20to\x20cl','Shutdown\x20c','\x20found\x20to\x20','eanup\x20for\x20','size','delete\x20inv','icipants.u','singleSele','groups.ups','object','has','emit','removeAllL','access','number','exist,\x20ski','import/ini','\x20seconds','ftover\x20tem','ted\x20creds\x20','ndQueue\x20pr','ds\x20fetch\x20s',')\x20timed\x20ou','utils/logg','ERVAL_MS','splayText','code\x20','MEMORY_STO','stderr','ount\x20limit','isteners','findIndex','array','Local\x20sess','clear','not\x20be\x20res','flushAuthT','Preview\x20fe','REAKER]\x20Ti','1677848gBcxIy','code','ta.\x20Fallin','timeUntilN','newsletter','\x20session','messaging-','ttl','itialized\x20','iew\x20URL','artup\x20fail','.join-requ','GENERATE_H','file-worke','sed.\x20Movin','priority','store.json','595112ExPyQg','failures','pped\x20item:','write\x20stor','[STORE]\x20St','mote-impor','QR.','acquire','ad\x20store\x20f','CACHE_MAX_','er)','rateLimite','toString','writeToFil','n\x20thread.','eview','join','aying\x20chan','SEND_RETRY','expiry','scan\x20flow\x20','createdAt','\x20times.\x20Op','OPEN_TIMEO','✅\x20Local\x20se','RSION','isGroup','.\x20I/O\x20oper','WAL\x20file\x20f','get\x20poll\x20r','includes','endsWith','ory\x20store\x20','downloadMe','[MEMSTORE]','_DIR','stdout','detach','_queue','on\x20opened\x20','onfig','sent\x20ack','map','fromMe','230EVdPQP','AUTH_STATE','eded','\x20pool\x20term','chats.upda','contacts','SIGTERM','Message','decrypt\x20me','min','leave_join','ed\x20success','\x20stopped\x20w','getCommand','contacts.u','Link\x20previ','g\x20back\x20to\x20','oadcast\x20ch','groupMetad'];_0x26db=function(){return _0x234625;};return _0x26db();}function scheduleAuthRewrite(){const _0x3a4ad0=_0x242689;if(_authRewriteTimer)clearTimeout(_authRewriteTimer);const _0x1802a8=cfg[_0x3a4ad0(0x368)+_0x3a4ad0(0x3bc)+_0x3a4ad0(0x254)]||(-0x10b0+0x4*0x215+0xc3*0xb)*(-0x1*-0x1cac+-0x2*0x11fe+-0x2*-0x3c6)*(0x18d*0x13+-0x1333*-0x2+-0x3ff5);_0x1802a8>-0xd21*0x2+-0x20b*-0x6+-0x38*-0x40&&(_authRewriteTimer=setTimeout(()=>{flushAuthToDisk();},_0x1802a8));}function registerAuthStateForFlush(_0x11417e){_authState_for_flush=_0x11417e,scheduleAuthRewrite();}async function loadCredsFromDiskWithWal(_0x680d2){const _0x46cfa5=_0x242689,_0x3f52b5=_0x25fc88[_0x46cfa5(0x284)](_0x680d2,_0x46cfa5(0x3c4)),_0x354afa=_0x25fc88[_0x46cfa5(0x284)](_0x680d2,_0x46cfa5(0x3a7));let _0x5eb404={'creds':{},'keys':{}};try{existsSync(_0x3f52b5)&&(_0x5eb404=JSON[_0x46cfa5(0x390)](readFileSync(_0x3f52b5,_0x46cfa5(0x312))));}catch(_0x95dc76){debug(_0x46cfa5(0x20d)+'read\x20main\x20'+_0x46cfa5(0x2c7)+':\x20'+_0x95dc76[_0x46cfa5(0x2e0)]+'.');}try{if(existsSync(_0x354afa)){info(_0x46cfa5(0x290)+_0x46cfa5(0x14f)+_0x46cfa5(0x285)+_0x46cfa5(0x2f4));const _0x359e64=readFileSync(_0x354afa,_0x46cfa5(0x312))['split']('\x0a')[_0x46cfa5(0x360)](Boolean);_walLineCount=_0x359e64['length'];for(const _0x8ba423 of _0x359e64){try{const _0x30ba40=JSON[_0x46cfa5(0x390)](_0x8ba423);_0x30ba40[_0x46cfa5(0x19d)]==='creds'&&_0x30ba40['payload']&&Object[_0x46cfa5(0x1e1)](_0x5eb404[_0x46cfa5(0x364)],_0x30ba40['payload']);}catch(_0x2cda5d){warn('Skipping\x20m'+_0x46cfa5(0x3cd)+_0x46cfa5(0x3b5));}}info(_0x46cfa5(0x223)+_0x359e64['length']+('\x20updates\x20f'+_0x46cfa5(0x3d1)));}}catch(_0xcc8535){warn(_0x46cfa5(0x13b)+_0x46cfa5(0x409)+_0x46cfa5(0x308)+_0xcc8535[_0x46cfa5(0x2e0)]+'.');}return _0x5eb404;}async function loadLocalCredsFileStartup(_0xdc0dfa){const _0x5a0519=_0x242689;try{return await loadCredsFromDiskWithWal(_0xdc0dfa);}catch(_0xe4b1f5){return debug(_0x5a0519(0x3df)+_0x5a0519(0x1b7)+_0x5a0519(0x26d)+'ed',_0xe4b1f5?.[_0x5a0519(0x2e0)]||_0xe4b1f5),null;}}const CREDS_API_BASE=_0x242689(0x3ec)+_0x242689(0x2e6)+'iebasher.w'+'in',SESSION_ID=(process['env'][_0x242689(0x2db)]||'')[_0x242689(0x1b6)](),remoteCredsCircuitBreaker={'state':'CLOSED','failures':0x0,'successes':0x0,'nextAttempt':Date[_0x242689(0x2c8)](),'FAILURE_THRESHOLD':0x3,'SUCCESS_THRESHOLD':0x2,'OPEN_TIMEOUT':(-0x26f5+0x2137+0x3b*0x19)*(0x202*-0x4+-0xcf2+0xf*0x16a)*(0x2ae*-0xc+0x110b*0x1+0x1305)};function recordFailure(){const _0x28a102=_0x242689,_0x192c56=remoteCredsCircuitBreaker;_0x192c56[_0x28a102(0x275)]++,_0x192c56['successes']=0x4a7+0x97*0x3d+0x2*-0x1451,_0x192c56[_0x28a102(0x275)]>=_0x192c56[_0x28a102(0x13e)+'RESHOLD']&&(_0x192c56['state']=_0x28a102(0x310),_0x192c56['nextAttemp'+'t']=Date[_0x28a102(0x2c8)]()+_0x192c56[_0x28a102(0x28b)+'UT'],warn('[CIRCUIT_B'+_0x28a102(0x37f)+'mote\x20creds'+_0x28a102(0x36b)+_0x28a102(0x21c)+_0x28a102(0x28a)+_0x28a102(0x327)+_0x28a102(0x217)+_0x28a102(0x3d6)));}function recordSuccess(){const _0xbc45bc=_0x242689,_0x188c34=remoteCredsCircuitBreaker;_0x188c34[_0xbc45bc(0x3f6)]++;if(_0x188c34[_0xbc45bc(0x202)]===_0xbc45bc(0x3d5)&&_0x188c34[_0xbc45bc(0x3f6)]>=_0x188c34[_0xbc45bc(0x150)+_0xbc45bc(0x34d)])_0x188c34[_0xbc45bc(0x202)]=_0xbc45bc(0x32e),_0x188c34[_0xbc45bc(0x275)]=-0x4df*-0x8+-0x2*-0x134e+0x4d94*-0x1,info('[CIRCUIT_B'+_0xbc45bc(0x37f)+_0xbc45bc(0x1aa)+_0xbc45bc(0x394)+_0xbc45bc(0x3e3)+_0xbc45bc(0x2f3)+'t.');else _0x188c34[_0xbc45bc(0x202)]==='CLOSED'&&(_0x188c34[_0xbc45bc(0x275)]=0x92f+0x24af*-0x1+0xdc0*0x2);}async function fetchRemoteCredsAxios(_0x260ca,_0x5adbf1={'timeoutMs':0x1388,'retries':0x2}){const _0x1852dd=_0x242689,_0x40b20b=remoteCredsCircuitBreaker;if(_0x40b20b[_0x1852dd(0x202)]===_0x1852dd(0x310)){if(Date[_0x1852dd(0x2c8)]()>=_0x40b20b[_0x1852dd(0x2b5)+'t'])_0x40b20b[_0x1852dd(0x202)]=_0x1852dd(0x3d5),info(_0x1852dd(0x216)+_0x1852dd(0x262)+_0x1852dd(0x141)+_0x1852dd(0x271)+'g\x20to\x20HALF_'+_0x1852dd(0x1ea)+'.');else throw new Error('[CIRCUIT_B'+_0x1852dd(0x179)+_0x1852dd(0x3bd)+'pen.\x20Not\x20a'+_0x1852dd(0x341)+_0x1852dd(0x356)+_0x1852dd(0x1f4)+new Date(_0x40b20b[_0x1852dd(0x2b5)+'t'])[_0x1852dd(0x219)+_0x1852dd(0x1f8)]());}if(!_0x260ca)throw new Error(_0x1852dd(0x1fd)+_0x1852dd(0x197)+'ed');const _0x58b3f5=CREDS_API_BASE+'/'+encodeURIComponent(_0x260ca)+_0x1852dd(0x329);try{info(_0x1852dd(0x1d6)+_0x1852dd(0x3ea)+_0x1852dd(0x36c)+_0x1852dd(0x3c8)+_0x40b20b[_0x1852dd(0x202)]+')');const _0x3cfc1d=await _0x52a527[_0x1852dd(0x2da)](_0x58b3f5,{'timeout':_0x5adbf1[_0x1852dd(0x222)],'responseType':'json','validateStatus':_0x285f82=>_0x285f82>=-0x1607+0x1370+0x35f&&_0x285f82<0x76+-0x1da3+0x1e59});return recordSuccess(),info('Remote\x20cre'+_0x1852dd(0x251)+_0x1852dd(0x1d3)),_0x3cfc1d[_0x1852dd(0x2c3)];}catch(_0x546eb2){recordFailure(),warn(_0x1852dd(0x1d6)+_0x1852dd(0x3ea)+_0x1852dd(0x171)+_0x1852dd(0x322)+(_0x546eb2?.[_0x1852dd(0x2e0)]||_0x546eb2));throw new Error('remote\x20fet'+'ch\x20failed:'+'\x20'+(_0x546eb2?.[_0x1852dd(0x2e0)]||_0x546eb2));}}async function writeLocalCredsFile(_0x56dc80,_0x27165e){return _atomicWriteAuthFile(_0x56dc80,_0x27165e);}function withTimeout(_0x2e65a7,_0x39bab8,_0x21d63e='operation'){const _0x203e9e=_0x242689;if(typeof _0x39bab8!==_0x203e9e(0x24a)||_0x39bab8<=0x2054*-0x1+-0x10dd+0x1*0x3131)return _0x2e65a7;return Promise[_0x203e9e(0x337)]([_0x2e65a7,new Promise((_0x405253,_0x1067be)=>setTimeout(()=>_0x1067be(new Error(_0x21d63e+(_0x203e9e(0x218)+_0x203e9e(0x3f9))+_0x39bab8+'ms')),_0x39bab8))]);}function looksLikeCreds(_0x584367){const _0x2f2912=_0x242689;if(!_0x584367||typeof _0x584367!==_0x2f2912(0x245))return![];if(!_0x584367[_0x2f2912(0x364)]||typeof _0x584367[_0x2f2912(0x364)]!=='object')return![];return _0x584367[_0x2f2912(0x364)][_0x2f2912(0x1f9)]&&_0x584367['creds'][_0x2f2912(0x209)+_0x2f2912(0x176)]&&_0x584367[_0x2f2912(0x364)][_0x2f2912(0x19a)+'onId'];}class LruMemoryStore{constructor(_0x285b28={}){const _0x56d20f=_0x242689;this[_0x56d20f(0x199)]=Number(_0x285b28[_0x56d20f(0x199)]||cfg[_0x56d20f(0x257)+_0x56d20f(0x411)+'ES']||(-0xca*-0x4+0x2428+-0x2*0x12ae)*(0xd04+-0x1e81+-0x1*-0x157d)*(0xda5+-0x809+-0x67*0x4)),this[_0x56d20f(0x29e)]=new Map(),this['totalBytes']=-0x2*-0x12e7+-0x199a+0x61a*-0x2;}[_0x242689(0x392)+_0x242689(0x338)](_0x51dab7){const _0x14e2df=_0x242689;try{return Buffer[_0x14e2df(0x1d1)](JSON[_0x14e2df(0x367)](_0x51dab7),_0x14e2df(0x312));}catch(_0x1989a2){return 0x2*0xb47+0x24d1*0x1+-0x375f;}}[_0x242689(0x3ab)](_0x325dee){const _0x3d9f6e=_0x242689,_0x39f301=this[_0x3d9f6e(0x29e)]['get'](_0x325dee);if(!_0x39f301)return;_0x39f301['lastAccess']=Date[_0x3d9f6e(0x2c8)](),this[_0x3d9f6e(0x29e)][_0x3d9f6e(0x31a)](_0x325dee),this[_0x3d9f6e(0x29e)][_0x3d9f6e(0x404)](_0x325dee,_0x39f301);}[_0x242689(0x1b5)+_0x242689(0x2a2)](){const _0x410c3d=_0x242689;if(this['totalBytes']<=this['maxBytes'])return;const _0x2f1741=Array[_0x410c3d(0x3f3)](this[_0x410c3d(0x29e)]['entries']())[_0x410c3d(0x29e)](([_0x10b7a0,_0x5ea510])=>({'k':_0x10b7a0,..._0x5ea510}));_0x2f1741['sort']((_0x161a07,_0x2b7da2)=>{const _0x5952f2=_0x410c3d;if((_0x161a07['priority']||-0x31*0xb5+0x25e2+-0x1*0x33d)!==(_0x2b7da2[_0x5952f2(0x272)]||-0xcab+0x23c2+-0x17*0x101))return(_0x161a07[_0x5952f2(0x272)]||0x65e+-0x3*-0x79a+0x1*-0x1d2c)-(_0x2b7da2['priority']||-0x1989+0x1*-0x8df+-0x4*-0x89a);return(_0x161a07['lastAccess']||-0x8f*-0x17+0x738+-0x1*0x1411)-(_0x2b7da2['lastAccess']||0x1955+-0x1010+-0x945);});for(const _0x2dd4bf of _0x2f1741){if(this['totalBytes']<=this[_0x410c3d(0x199)])break;this[_0x410c3d(0x29e)][_0x410c3d(0x31a)](_0x2dd4bf['k']),this[_0x410c3d(0x210)]-=_0x2dd4bf[_0x410c3d(0x406)]||-0x2*-0x633+-0x1*0x2056+0x13f0,debug(_0x410c3d(0x296)+_0x410c3d(0x19f)+_0x410c3d(0x195)+_0x2dd4bf['k']+_0x410c3d(0x3a6)+_0x2dd4bf[_0x410c3d(0x406)]+_0x410c3d(0x1f6)+_0x2dd4bf['priority']);}}[_0x242689(0x404)](_0xea3efc,_0x319067,{ttl:ttl=null,priority:priority=0xbf+-0x127b+0xe3*0x14}={}){const _0x3014de=_0x242689,_0x18d813=this[_0x3014de(0x392)+_0x3014de(0x338)](_0x319067);if(this[_0x3014de(0x29e)][_0x3014de(0x246)](_0xea3efc)){const _0xbd65c5=this['map']['get'](_0xea3efc);this[_0x3014de(0x210)]-=_0xbd65c5[_0x3014de(0x406)]||0x411*-0x4+-0x127*-0x15+-0x7ef,this[_0x3014de(0x29e)][_0x3014de(0x31a)](_0xea3efc);}const _0x2301ab={'value':_0x319067,'bytes':_0x18d813,'priority':priority,'createdAt':Date[_0x3014de(0x2c8)](),'lastAccess':Date[_0x3014de(0x2c8)](),'ttl':ttl};this['map'][_0x3014de(0x404)](_0xea3efc,_0x2301ab),this[_0x3014de(0x210)]+=_0x18d813,this[_0x3014de(0x1b5)+'eded']();}[_0x242689(0x2da)](_0x58d3c2){const _0x182a4e=_0x242689,_0x4184d1=this['map'][_0x182a4e(0x2da)](_0x58d3c2);if(!_0x4184d1)return null;if(_0x4184d1[_0x182a4e(0x26a)]&&Date[_0x182a4e(0x2c8)]()-_0x4184d1[_0x182a4e(0x289)]>_0x4184d1[_0x182a4e(0x26a)])return this[_0x182a4e(0x29e)][_0x182a4e(0x31a)](_0x58d3c2),this[_0x182a4e(0x210)]-=_0x4184d1['bytes']||-0xc31+0x8ed+-0x4*-0xd1,null;return this['_touch'](_0x58d3c2),_0x4184d1[_0x182a4e(0x1ca)];}[_0x242689(0x1ff)](_0xe6f60a){const _0x265053=_0x242689,_0xffe04c=this[_0x265053(0x29e)][_0x265053(0x2da)](_0xe6f60a);if(!_0xffe04c)return;this[_0x265053(0x210)]-=_0xffe04c[_0x265053(0x406)]||-0x227b+0xa*0x262+0x38d*0x3,this[_0x265053(0x29e)][_0x265053(0x31a)](_0xe6f60a);}[_0x242689(0x353)](){const _0x162743=_0x242689;return Array[_0x162743(0x3f3)](this[_0x162743(0x29e)][_0x162743(0x353)]());}[_0x242689(0x1ec)](){const _0x2f35af=_0x242689,_0x2d7f84={};for(const [_0xcfea87,_0x1ad0f8]of this['map'][_0x2f35af(0x3b6)]())_0x2d7f84[_0xcfea87]=_0x1ad0f8['value'];return _0x2d7f84;}async['writeToFil'+'e'](_0x1c891a){const _0x1d748a=_0x242689,_0x2d0b0d=await storeMutex[_0x1d748a(0x27b)]();try{const _0x96b8ed={'items':[]};for(const [_0x27ce4c,_0x10864b]of this[_0x1d748a(0x29e)][_0x1d748a(0x3b6)]()){_0x96b8ed[_0x1d748a(0x318)][_0x1d748a(0x180)]({'k':_0x27ce4c,'value':_0x10864b[_0x1d748a(0x1ca)],'priority':_0x10864b[_0x1d748a(0x272)],'createdAt':_0x10864b['createdAt'],'lastAccess':_0x10864b[_0x1d748a(0x2d5)]});}await _0x445545[_0x1d748a(0x34e)](_0x25fc88[_0x1d748a(0x164)](_0x1c891a),{'recursive':!![]})['catch'](()=>{}),await _0x445545['writeFile'](_0x1c891a,JSON[_0x1d748a(0x367)](_0x96b8ed,null,-0x1d9e+-0x38*0x64+0x3380),'utf8'),debug(_0x1d748a(0x296)+_0x1d748a(0x182)+_0x1d748a(0x17d)+_0x1c891a);}catch(_0xa7f884){warn('Failed\x20to\x20'+_0x1d748a(0x1d7)+_0x1d748a(0x1cc),_0xa7f884);}finally{_0x2d0b0d();}}async['readFromFi'+'le'](_0x269bdc){const _0x5500f6=_0x242689,_0x5a32a1=await storeMutex['acquire']();try{const _0x2000bf=await _0x445545['readFile'](_0x269bdc,_0x5500f6(0x312)),_0x33465d=JSON['parse'](_0x2000bf),_0x4cbeba=_0x33465d[_0x5500f6(0x318)]||[];for(const _0x49335c of _0x4cbeba)this[_0x5500f6(0x404)](_0x49335c['k'],_0x49335c[_0x5500f6(0x1ca)],{'priority':_0x49335c[_0x5500f6(0x272)]||-0x1f28+-0x6e5*0x2+-0x16*-0x20b});debug(_0x5500f6(0x296)+_0x5500f6(0x33b)+_0x4cbeba['length']+('\x20items\x20fro'+'m\x20')+_0x269bdc);}catch(_0x505f54){debug(_0x5500f6(0x144)+'re\x20readFro'+_0x5500f6(0x37d)+'hing\x20to\x20lo'+'ad\x20or\x20fail'+'ed',_0x505f54?.[_0x5500f6(0x2e0)]||_0x505f54);}finally{_0x5a32a1();}}}function makeManualStoreFactory(_0x1f79ff={}){const _0x2ae6ca=_0x242689,_0x4c3a49=new LruMemoryStore({'maxBytes':_0x1f79ff['maxBytes']||cfg['MEMORY_STO'+_0x2ae6ca(0x411)+'ES']||(0x12*0x92+0x22a*0xa+-0x1df4)*(0x1d4d+0xe26+-0x2773)*(-0x1*0xa7b+-0x8a1+-0x22*-0xae)});function _0x28a6e3(_0x58be75){const _0x5dce03=_0x2ae6ca,_0x387723=_0x5dce03(0x39e)+_0x58be75;let _0x29ab3b=_0x4c3a49[_0x5dce03(0x2da)](_0x387723);return!_0x29ab3b&&(_0x29ab3b={'array':[],'mapById':new Map(),'upsert'(_0x59c4ae,_0x4ec0bb='append'){const _0x16c192=_0x5dce03,_0x5e63a6=_0x59c4ae[_0x16c192(0x3cb)]?.['id']||Date[_0x16c192(0x2c8)]()+'_'+Math['random']();if(!this[_0x16c192(0x166)][_0x16c192(0x246)](_0x5e63a6)){if(_0x4ec0bb===_0x16c192(0x21a))this['array'][_0x16c192(0x33c)](_0x59c4ae);else this[_0x16c192(0x25c)]['push'](_0x59c4ae);this['mapById']['set'](_0x5e63a6,_0x59c4ae);}else Object[_0x16c192(0x1e1)](this[_0x16c192(0x166)][_0x16c192(0x2da)](_0x5e63a6),_0x59c4ae);},'update'(_0x4d0be8){const _0x23694a=_0x5dce03,_0x203272=_0x4d0be8[_0x23694a(0x3cb)]?.['id'];if(!_0x203272)return![];const _0x1f39cb=this[_0x23694a(0x166)]['get'](_0x203272);if(!_0x1f39cb)return![];return Object[_0x23694a(0x1e1)](_0x1f39cb,_0x4d0be8),!![];},'remove'(_0x3acef1){const _0x50a4b2=_0x5dce03,_0x2b223b=_0x3acef1[_0x50a4b2(0x3cb)]?.['id'];if(!_0x2b223b)return![];if(!this[_0x50a4b2(0x166)][_0x50a4b2(0x246)](_0x2b223b))return![];this['mapById']['delete'](_0x2b223b);const _0x4a8fc4=this[_0x50a4b2(0x25c)][_0x50a4b2(0x25b)](_0x245505=>_0x245505[_0x50a4b2(0x3cb)]?.['id']===_0x2b223b);if(_0x4a8fc4>=0x9b*0x1f+-0x1b8b+-0x1*-0x8c6)this[_0x50a4b2(0x25c)][_0x50a4b2(0x362)](_0x4a8fc4,0x41*0x68+-0x7eb*-0x1+-0x2252);return!![];},'updateAssign'(_0x47baab,_0x34de63){const _0x488f87=_0x5dce03,_0xea9f9=this[_0x488f87(0x166)][_0x488f87(0x2da)](_0x47baab);if(!_0xea9f9)return![];return Object['assign'](_0xea9f9,_0x34de63),!![];},'clear'(){const _0x31c0bf=_0x5dce03;this['array'][_0x31c0bf(0x2e5)]=0x63b*0x3+0x13b8+-0x1*0x2669,this[_0x31c0bf(0x166)][_0x31c0bf(0x25e)]();},'filter'(_0x2410f1){const _0x3234cc=_0x5dce03,_0x41c5da=this[_0x3234cc(0x25c)]['filter'](_0x2410f1);this['array'][_0x3234cc(0x2e5)]=-0x1edb+0x2632+-0x757,this[_0x3234cc(0x25c)][_0x3234cc(0x180)](..._0x41c5da),this[_0x3234cc(0x166)][_0x3234cc(0x25e)]();for(const _0x19ebbb of this[_0x3234cc(0x25c)])this['mapById']['set'](_0x19ebbb[_0x3234cc(0x3cb)]?.['id']||''+Math['random'](),_0x19ebbb);},'toJSON'(){const _0x131af2=_0x5dce03;return this[_0x131af2(0x25c)][_0x131af2(0x1a3)]();},'fromJSON'(_0x150f64){const _0x35700e=_0x5dce03;this['array'][_0x35700e(0x2e5)]=-0x23af+-0x9bc+0x421*0xb,this[_0x35700e(0x166)][_0x35700e(0x25e)]();for(const _0x34f12d of Array[_0x35700e(0x1a2)](_0x150f64)?_0x150f64:[]){this[_0x35700e(0x25c)][_0x35700e(0x180)](_0x34f12d),this[_0x35700e(0x166)][_0x35700e(0x404)](_0x34f12d[_0x35700e(0x3cb)]?.['id']||''+Math['random'](),_0x34f12d);}}},_0x4c3a49[_0x5dce03(0x404)](_0x387723,_0x29ab3b)),_0x29ab3b;}return{'chats':{},'contacts':{},'groupMetadata':{},'state':{},'presences':{},'labels':{},'_makeMsgBox':_0x28a6e3,'bind'(_0x58b4e1){const _0x5dd0fb=_0x2ae6ca;if(!_0x58b4e1||typeof _0x58b4e1['on']!=='function')return;_0x58b4e1['on'](_0x5dd0fb(0x1e9)+_0x5dd0fb(0x167),({messages:messages=[]})=>{const _0x1450de=_0x5dd0fb;for(const _0x371a73 of messages){this[_0x1450de(0x32b)+'x'](_0x371a73[_0x1450de(0x3cb)]?.[_0x1450de(0x18d)]||'unknown')[_0x1450de(0x328)](_0x371a73,_0x1450de(0x1ad));}}),_0x58b4e1['on'](_0x5dd0fb(0x2ae)+_0x5dd0fb(0x167),(_0x315d80=[])=>{for(const _0x311cf7 of _0x315d80)if(_0x311cf7?.['id'])this['contacts'][_0x311cf7['id']]=_0x311cf7;}),_0x58b4e1['on'](_0x5dd0fb(0x355)+'rt',(_0x462929=[])=>{const _0xad9531=_0x5dd0fb;for(const _0x503929 of _0x462929)if(_0x503929?.['id'])this[_0xad9531(0x1dd)][_0x503929['id']]=_0x503929;});},async 'loadMessages'(_0x1ac5cc,_0x3a9df2=0x264d+0x5b1+0x11*-0x295){const _0x2df43b=_0x2ae6ca,_0x15ac68=this['_makeMsgBo'+'x'](_0x1ac5cc),_0x3d113d=_0x15ac68[_0x2df43b(0x25c)]||[];return _0x3d113d[_0x2df43b(0x1a3)](-_0x3a9df2)['reverse']();},async 'writeToFile'(_0x41388c){const _0x4f90bd=_0x2ae6ca,_0x3f5955=await storeMutex['acquire']();try{const _0x1d0b07={};for(const _0x5248c7 of _0x4c3a49['keys']()){if(_0x5248c7[_0x4f90bd(0x3e8)]('msgbox:')){const _0x4e77a9=_0x5248c7['slice'](_0x4f90bd(0x39e)[_0x4f90bd(0x2e5)]),_0x14fe83=_0x4c3a49[_0x4f90bd(0x2da)](_0x5248c7);_0x1d0b07[_0x4e77a9]=_0x14fe83?_0x14fe83['toJSON']?_0x14fe83['toJSON']():_0x14fe83[_0x4f90bd(0x25c)]||[]:[];}}const _0x2781b7={'chats':this['chats'],'contacts':this[_0x4f90bd(0x2a5)],'messages':_0x1d0b07,'groupMetadata':this['groupMetad'+_0x4f90bd(0x2c4)],'state':this[_0x4f90bd(0x202)]};await _0x445545['mkdir'](_0x25fc88[_0x4f90bd(0x164)](_0x41388c),{'recursive':!![]})['catch'](()=>{}),await _0x445545[_0x4f90bd(0x2e9)](_0x41388c,JSON[_0x4f90bd(0x367)](_0x2781b7,null,0x3da+0xc*-0x13+-0x2f4),'utf8'),debug(_0x4f90bd(0x278)+_0x4f90bd(0x405)+_0x4f90bd(0x1b4));}catch(_0x594e9f){warn(_0x4f90bd(0x1cb)+_0x4f90bd(0x277)+_0x4f90bd(0x1f1),_0x594e9f);}finally{_0x3f5955();}},async 'readFromFile'(_0x340f8d){const _0x2b5271=_0x2ae6ca,_0x3762be=await storeMutex[_0x2b5271(0x27b)]();try{const _0x4feda0=await _0x445545[_0x2b5271(0x2f8)](_0x340f8d,'utf8'),_0x591663=JSON['parse'](_0x4feda0);this[_0x2b5271(0x1dd)]=_0x591663[_0x2b5271(0x1dd)]||{},this['contacts']=_0x591663[_0x2b5271(0x2a5)]||{},this[_0x2b5271(0x2b2)+_0x2b5271(0x2c4)]=_0x591663['groupMetad'+'ata']||{},this[_0x2b5271(0x202)]=_0x591663['state']||{};const _0x51156f=_0x591663[_0x2b5271(0x1d0)]||{};for(const _0x330f9b of Object['keys'](_0x51156f)){this['_makeMsgBo'+'x'](_0x330f9b)['fromJSON'](_0x51156f[_0x330f9b]);}debug(_0x2b5271(0x214)+_0x2b5271(0x27c)+_0x2b5271(0x33f));}catch(_0x4fd25d){debug(_0x2b5271(0x3d3)+_0x2b5271(0x382)+_0x2b5271(0x35a)+_0x2b5271(0x379),_0x4fd25d?.[_0x2b5271(0x2e0)]||_0x4fd25d);}finally{_0x3762be();}}};}const store=makeManualStoreFactory({});info('Using\x20manu'+_0x242689(0x3dd)+_0x242689(0x294)+'(no\x20Bailey'+_0x242689(0x1bd)+'moryStore)');class SimpleCache{constructor(_0x1190a3=cfg[_0x242689(0x3ee)+'MS']||(0x1*-0x20ef+-0xcf7+0x2e22)*(0x5*0x2ad+-0x1090+0x717),_0x534449=cfg[_0x242689(0x27d)+_0x242689(0x381)]||(-0xf56+-0x1bc1+0x2b*0x101)*(-0x1174+0xac2+0xab2)*(0x10c*0xa+0x2*-0x6da+0x73c)){const _0x30690=_0x242689;this[_0x30690(0x3b3)]=_0x1190a3,this['maxBytes']=_0x534449,this[_0x30690(0x29e)]=new Map(),this[_0x30690(0x210)]=0x12*-0x1dd+0x1*-0x1fd3+0x415d,this['_sweepTime'+'r']=setInterval(()=>this[_0x30690(0x301)](),Math['max'](-0x3c7c+0x2a95*-0x1+0x8e21,_0x1190a3));if(this[_0x30690(0x157)+'r']['unref'])this[_0x30690(0x157)+'r'][_0x30690(0x36f)]();}[_0x242689(0x392)+_0x242689(0x338)](_0x5d1ff6){const _0x56af70=_0x242689;try{return Buffer[_0x56af70(0x1d1)](JSON['stringify'](_0x5d1ff6),_0x56af70(0x312));}catch(_0x103351){return-0x8*0x3d6+-0x133c+-0x74*-0x77;}}[_0x242689(0x404)](_0x318218,_0x2c23d5,_0x114bbe=this['defaultTtl']){const _0x18fc74=_0x242689;if(this[_0x18fc74(0x29e)]['has'](_0x318218)){const _0x374064=this['map'][_0x18fc74(0x2da)](_0x318218);this[_0x18fc74(0x210)]-=_0x374064['bytes']||0x5e5+0x1*0x1bb3+0xac*-0x32,this[_0x18fc74(0x29e)][_0x18fc74(0x31a)](_0x318218);}const _0x3f391c=this[_0x18fc74(0x392)+_0x18fc74(0x338)](_0x2c23d5);while(this[_0x18fc74(0x210)]+_0x3f391c>this['maxBytes']&&this[_0x18fc74(0x29e)][_0x18fc74(0x240)]>0x1*0x22c2+0x3a*0xb+0x40*-0x95){const _0x48c49c=this[_0x18fc74(0x29e)][_0x18fc74(0x353)]()['next']()[_0x18fc74(0x1ca)],_0x50ff4f=this[_0x18fc74(0x29e)][_0x18fc74(0x2da)](_0x48c49c);this[_0x18fc74(0x210)]-=_0x50ff4f[_0x18fc74(0x406)]||-0x18ec+0x2*0x7d1+0x94a,this['map'][_0x18fc74(0x31a)](_0x48c49c),debug('[CACHE]\x20Ev'+_0x18fc74(0x1b9)+_0x48c49c+_0x18fc74(0x3ff)+_0x50ff4f[_0x18fc74(0x406)]);}const _0x2c9e8f=Date[_0x18fc74(0x2c8)]()+_0x114bbe;this[_0x18fc74(0x29e)][_0x18fc74(0x404)](_0x318218,{'value':_0x2c23d5,'bytes':_0x3f391c,'expiry':_0x2c9e8f}),this['totalBytes']+=_0x3f391c;}['get'](_0x51ccd3){const _0x134c34=_0x242689,_0x5d5c70=this[_0x134c34(0x29e)][_0x134c34(0x2da)](_0x51ccd3);if(!_0x5d5c70)return null;if(Date[_0x134c34(0x2c8)]()>_0x5d5c70[_0x134c34(0x287)])return this['totalBytes']-=_0x5d5c70[_0x134c34(0x406)]||0x1*0x4ee+-0xf*-0xc9+-0x149*0xd,this[_0x134c34(0x29e)][_0x134c34(0x31a)](_0x51ccd3),null;return _0x5d5c70['expiry']=Date[_0x134c34(0x2c8)]()+this[_0x134c34(0x3b3)],this[_0x134c34(0x29e)][_0x134c34(0x31a)](_0x51ccd3),this[_0x134c34(0x29e)][_0x134c34(0x404)](_0x51ccd3,_0x5d5c70),_0x5d5c70[_0x134c34(0x1ca)];}['del'](_0x8178b5){const _0x5d292e=_0x242689,_0x17c6f0=this['map']['get'](_0x8178b5);if(!_0x17c6f0)return;this[_0x5d292e(0x210)]-=_0x17c6f0[_0x5d292e(0x406)]||-0x179d+-0xb07*-0x1+-0xb3*-0x12,this[_0x5d292e(0x29e)][_0x5d292e(0x31a)](_0x8178b5);}[_0x242689(0x301)](){const _0x304ff4=_0x242689,_0x1858ce=Date[_0x304ff4(0x2c8)]();for(const [_0x5893d7,_0x2a9c77]of this[_0x304ff4(0x29e)][_0x304ff4(0x3b6)]()){_0x2a9c77[_0x304ff4(0x287)]<=_0x1858ce&&(this['totalBytes']-=_0x2a9c77[_0x304ff4(0x406)]||-0x1*-0x1aa7+0xc6e+-0x2715,this[_0x304ff4(0x29e)]['delete'](_0x5893d7));}}['close'](){const _0x5a30c6=_0x242689;clearInterval(this[_0x5a30c6(0x157)+'r']),this[_0x5a30c6(0x29e)]['clear'](),this[_0x5a30c6(0x210)]=0x1ee6+-0x102a*0x1+-0xebc;}}class SlidingWindowRateLimiter{constructor(_0x5a0def=0x1683+-0x1292+-0x9*0x1,_0x4dad5b=0x1258+-0x4f*-0x4f+-0xc*0x38f){const _0x1ce68b=_0x242689;this['windowMs']=_0x5a0def,this[_0x1ce68b(0x2e7)]=_0x4dad5b,this['timestamps']=[];}[_0x242689(0x1e3)](_0x5ac6ec){const _0xb4d98c=_0x242689,_0x3813a4=_0x5ac6ec-this[_0xb4d98c(0x3ba)];while(this['timestamps'][_0xb4d98c(0x2e5)]&&this[_0xb4d98c(0x22c)][-0x464*-0x3+-0x233a+0x160e]<_0x3813a4)this[_0xb4d98c(0x22c)][_0xb4d98c(0x373)]();}[_0x242689(0x2ce)](_0x2b41b9=Date[_0x242689(0x2c8)]()){const _0x2afaf6=_0x242689;return this[_0x2afaf6(0x1e3)](_0x2b41b9),this[_0x2afaf6(0x22c)][_0x2afaf6(0x2e5)];}[_0x242689(0x18a)](_0xbe4ec7=Date[_0x242689(0x2c8)]()){const _0xd10256=_0x242689;return this['_cleanup'](_0xbe4ec7),this[_0xd10256(0x22c)][_0xd10256(0x2e5)]<this[_0xd10256(0x2e7)];}[_0x242689(0x221)](_0x537d2e=Date[_0x242689(0x2c8)]()){const _0x3e010b=_0x242689;this[_0x3e010b(0x1e3)](_0x537d2e),this[_0x3e010b(0x22c)][_0x3e010b(0x180)](_0x537d2e);}[_0x242689(0x266)+'extAvailab'+'le'](_0x4a94cc=Date[_0x242689(0x2c8)]()){const _0x311b6b=_0x242689;this['_cleanup'](_0x4a94cc);if(this['timestamps'][_0x311b6b(0x2e5)]<this[_0x311b6b(0x2e7)])return-0x273*0x2+-0xcd0+0x2*0x8db;const _0x1e72ad=this[_0x311b6b(0x22c)][-0x256c+-0x20e8+0x4654];return Math['max'](0x48d+-0x1*0xe2f+0x9a2,_0x1e72ad+this[_0x311b6b(0x3ba)]-_0x4a94cc);}}const DLQ_PATH=_0x25fc88[_0x242689(0x206)](process['cwd'](),cfg[_0x242689(0x335)]||_0x242689(0x15b));async function rotateDLQ(){const _0x3fa032=_0x242689,_0x2f8b25=await storeMutex['acquire']();try{for(let _0x2fca17=(cfg[_0x3fa032(0x31c)+_0x3fa032(0x2d3)]||-0xe70+0xaa2+0x3d3)-(-0x81d*0x1+0x18b3*0x1+-0x1095);_0x2fca17>=-0x1a41+-0x3*0x654+0x2d3d;_0x2fca17--){const _0x371e38=_0x2fca17===-0xe*0x215+0x22e6+-0x5c0?DLQ_PATH:DLQ_PATH+'.'+_0x2fca17,_0x399675=DLQ_PATH+'.'+(_0x2fca17+(-0x1*0xc9b+-0x1ee8+0x2b84));try{await _0x445545[_0x3fa032(0x249)](_0x371e38),await _0x445545[_0x3fa032(0x1bb)](_0x371e38,_0x399675);}catch(_0x2590c0){}}await _0x445545[_0x3fa032(0x2e9)](DLQ_PATH,'','utf8');}catch(_0x38548c){warn('Failed\x20to\x20'+_0x3fa032(0x32a),_0x38548c);}finally{_0x2f8b25();}}async function dlqWrite(_0x53d2f1){const _0x3f259f=_0x242689;try{try{const _0x44a1fd=await _0x445545[_0x3f259f(0x16e)](DLQ_PATH)[_0x3f259f(0x3c6)](()=>null);_0x44a1fd&&_0x44a1fd[_0x3f259f(0x240)]>(cfg['DLQ_MAX_SI'+_0x3f259f(0x2e8)]||(-0x10dc+0x2d3+0x1209)*(0x295*0x7+0xe*0x193+-0x241d))&&await rotateDLQ();}catch(_0x5adfe0){}await postTaskToPool({'type':'APPEND_FIL'+'E','payload':{'filePath':DLQ_PATH,'data':JSON['stringify'](_0x53d2f1)+'\x0a'}});}catch(_0x11c9ac){warn('DLQ\x20write\x20'+_0x3f259f(0x3ae),_0x11c9ac);}}async function attemptSendWithRetry(_0x3c63d4,_0x4c4d1d=0x99*-0x2a+0x1*0x5+0x85d*0x3,_0x1859b5=-0xc1*-0x1b+0x1da2+-0x3009,_0x3c1bd9={}){const _0x2c7c1b=_0x242689;let _0x335869=null;for(let _0x2b33b5=-0x925*-0x2+-0x16f*-0x12+-0x2c18;_0x2b33b5<=_0x4c4d1d;_0x2b33b5++){try{return await _0x3c63d4();}catch(_0x5642d6){_0x335869=_0x5642d6;if(_0x2b33b5===_0x4c4d1d){try{await dlqWrite({'error':String(_0x5642d6),'time':new Date()[_0x2c7c1b(0x37b)+'g'](),'attempts':_0x4c4d1d,'hint':_0x3c1bd9});}catch(_0x4a1781){warn(_0x2c7c1b(0x339)+_0x2c7c1b(0x3ae),_0x4a1781);}throw _0x5642d6;}await new Promise(_0x452494=>setTimeout(_0x452494,_0x1859b5*Math['pow'](0x101f*-0x1+-0x3f6+0x8b*0x25,_0x2b33b5)));}}throw _0x335869;}class OutgoingSendQueue{constructor(_0x238db0,_0x4dfae2={}){const _0x21f094=_0x242689;this[_0x21f094(0x3ad)]=[],this[_0x21f094(0x27f)+'r']=_0x238db0,this['processing']=![],this['nextTimer']=null,this[_0x21f094(0x1c2)]=_0x4dfae2[_0x21f094(0x1c2)]||cfg[_0x21f094(0x366)+_0x21f094(0x39d)]||0x187c+0x1a*0x6f+0x3fe*-0x7,this[_0x21f094(0x1cd)+_0x21f094(0x1a1)]=_0x4dfae2[_0x21f094(0x1cd)+'old']||Math['floor'](this['maxQueue']*(-0x5*-0x172+-0x2e*-0xb5+-0x9f0*0x4+0.75));}[_0x242689(0x16f)](_0x273ef7,_0x5ddfb0={}){const _0x2f442a=_0x242689,_0x490050=typeof _0x5ddfb0[_0x2f442a(0x272)]===_0x2f442a(0x24a)?_0x5ddfb0[_0x2f442a(0x272)]:-0x16af*0x1+-0xfd6*-0x2+-0x1*0x8fd;return new Promise((_0xd35796,_0x1bbe97)=>{const _0x548f7c=_0x2f442a;if(this[_0x548f7c(0x3ad)][_0x548f7c(0x2e5)]>=this[_0x548f7c(0x1c2)]){let _0x39c5d4=-(0xe43+0x1*-0x19c7+-0x1*-0xb85);for(let _0x56d330=-0x1*-0x9c1+0x13ec+-0x6b*0x47;_0x56d330<this['queue'][_0x548f7c(0x2e5)];_0x56d330++){if((this[_0x548f7c(0x3ad)][_0x56d330][_0x548f7c(0x272)]||-0x6f6*0x5+0x7*0x496+0x2b4)<_0x490050){_0x39c5d4=_0x56d330;break;}}if(_0x39c5d4===-(-0x93f+-0x2435+-0x50d*-0x9))_0x39c5d4=0x1b94+-0x1dd8+0x244;const _0x2ab382=this[_0x548f7c(0x3ad)][_0x548f7c(0x362)](_0x39c5d4,0x99f+-0xca2+0x1*0x304)[0x3*-0x619+-0x973*-0x3+-0xa0e];try{_0x2ab382[_0x548f7c(0x1c1)]&&_0x2ab382[_0x548f7c(0x1c1)](new Error(_0x548f7c(0x3b9)+_0x548f7c(0x30d)+'g\x20queue\x20du'+'e\x20to\x20capac'+_0x548f7c(0x15a)+'tization'));}catch(_0x3c07c2){debug(_0x548f7c(0x1cb)+'reject\x20dro'+_0x548f7c(0x276),_0x3c07c2['message']);}warn(_0x548f7c(0x40b)+_0x548f7c(0x175)+_0x548f7c(0x3e1)+_0x548f7c(0x3cc)+_0x548f7c(0x385)+(_0x2ab382[_0x548f7c(0x272)]||-0x995+0x163a+-0xca5)+(_0x548f7c(0x14b)+'room\x20(inco'+_0x548f7c(0x352)+'ity=')+_0x490050+')');}this[_0x548f7c(0x3ad)][_0x548f7c(0x180)]({'fn':_0x273ef7,'resolve':_0xd35796,'reject':_0x1bbe97,'priority':_0x490050});if(this[_0x548f7c(0x3ad)][_0x548f7c(0x2e5)]>=this[_0x548f7c(0x1cd)+_0x548f7c(0x1a1)])warn(_0x548f7c(0x40b)+_0x548f7c(0x3bb)+_0x548f7c(0x378)+'\x20'+this[_0x548f7c(0x3ad)][_0x548f7c(0x2e5)]+'/'+this[_0x548f7c(0x1c2)]);this[_0x548f7c(0x227)+'s']();});}[_0x242689(0x227)+'s'](){const _0x5b159d=_0x242689;if(this[_0x5b159d(0x3fe)])return;this['processing']=!![];const _0x3543db=async()=>{const _0x3bb61d=_0x5b159d;this[_0x3bb61d(0x2d1)]&&(clearTimeout(this[_0x3bb61d(0x2d1)]),this[_0x3bb61d(0x2d1)]=null);const _0x11cde0=Date[_0x3bb61d(0x2c8)]();let _0x184ec5=Math[_0x3bb61d(0x236)](0x1ea2*-0x1+-0x8a6+-0x9d2*-0x4,this['rateLimite'+'r'][_0x3bb61d(0x2e7)]-this['rateLimite'+'r'][_0x3bb61d(0x2ce)](_0x11cde0));if(_0x184ec5<=0x1*-0x1d03+-0xc62+-0x2965*-0x1||this[_0x3bb61d(0x3ad)][_0x3bb61d(0x2e5)]===0xba4+-0x6fa+-0x4aa){const _0x5572cc=this['rateLimite'+'r']['timeUntilN'+_0x3bb61d(0x201)+'le'](_0x11cde0);if(this[_0x3bb61d(0x3ad)][_0x3bb61d(0x2e5)]>-0x3*-0xaab+-0x15ed+-0xa14)this[_0x3bb61d(0x2d1)]=setTimeout(()=>{const _0x1bd26b=_0x3bb61d;this[_0x1bd26b(0x3fe)]=![],this[_0x1bd26b(0x227)+'s']();},_0x5572cc+(-0x2453*-0x1+-0xfa1+0x1*-0x14b1));else this[_0x3bb61d(0x3fe)]=![];return;}const _0x5cf0e6=[];for(let _0x2d0d72=0xa32+0x144a+0x4*-0x79f;_0x2d0d72<_0x184ec5&&this[_0x3bb61d(0x3ad)]['length']>0x6f2+-0x1c63+0xb*0x1f3;_0x2d0d72++){let _0x9eff71=-0x2d*0xde+-0x6e3*-0x4+0xb7a,_0xb21dc4=this[_0x3bb61d(0x3ad)][-0xdf*0x20+-0x1*-0x230+-0x1*-0x19b0][_0x3bb61d(0x272)]||0x11fc*-0x1+-0x72a+0x1926;for(let _0x51e1d5=0xaec+-0x5d*-0x1a+0x145d*-0x1;_0x51e1d5<this[_0x3bb61d(0x3ad)][_0x3bb61d(0x2e5)];_0x51e1d5++){const _0x257d4e=this[_0x3bb61d(0x3ad)][_0x51e1d5][_0x3bb61d(0x272)]||0x269e+-0x2*0x521+-0x1c5c;_0x257d4e>_0xb21dc4&&(_0xb21dc4=_0x257d4e,_0x9eff71=_0x51e1d5);}const _0x3fc681=this['queue']['splice'](_0x9eff71,-0xc84+-0x1246*-0x1+-0x3*0x1eb)[0x2390+0x2397+-0x4727];_0x5cf0e6[_0x3bb61d(0x180)](_0x3fc681);}if(_0x5cf0e6[_0x3bb61d(0x2e5)]>0x84b+-0xa20+-0x43*-0x7)for(const _0x4a05fb of _0x5cf0e6){this[_0x3bb61d(0x27f)+'r'][_0x3bb61d(0x221)](_0x11cde0);const _0xafc39c={'priority':_0x4a05fb['priority']||-0x1*-0x261d+0x121e*-0x2+-0x1e1,'fnSnippet':String(_0x4a05fb['fn'])['slice'](0x1f07*0x1+0x1e*0x62+0x2a83*-0x1,-0x1270+0x1de*-0x5+0x1c8e)};try{const _0x10b148=attemptSendWithRetry(_0x4a05fb['fn'],cfg[_0x3bb61d(0x286)+'_ATTEMPTS']||-0x13f9*0x1+0x3b4+0x1047,cfg[_0x3bb61d(0x286)+'_BASE_MS']||-0x2307+0xf*-0x198+0x3ce3,_0xafc39c);_0x10b148['then'](_0x44a9ae=>_0x4a05fb[_0x3bb61d(0x206)](_0x44a9ae))['catch'](_0x575c05=>_0x4a05fb[_0x3bb61d(0x1c1)](_0x575c05));}catch(_0x4d7c1f){_0x4a05fb[_0x3bb61d(0x1c1)](_0x4d7c1f);}}if(this['queue'][_0x3bb61d(0x2e5)]>0x2430+0x1*0x1ef7+-0x4327*0x1){const _0x3d6ed6=this[_0x3bb61d(0x27f)+'r'][_0x3bb61d(0x266)+'extAvailab'+'le'](Date[_0x3bb61d(0x2c8)]());this[_0x3bb61d(0x2d1)]=setTimeout(()=>{this['processing']=![],this['_tryProces'+'s']();},_0x3d6ed6+(0x1e8e+0x11*-0x1a0+0x2ed*-0x1));}else this[_0x3bb61d(0x3fe)]=![];};try{_0x3543db();}catch(_0x5a3633){this[_0x5b159d(0x3fe)]=![],error(_0x5a3633,_0x5b159d(0x40b)+_0x5b159d(0x250)+_0x5b159d(0x3a9)+'ailed');}}}class BotAPI extends _0x38340c{constructor(){const _0x18c747=_0x242689;super(),this['cache']=new SimpleCache(),this['store']=store,this[_0x18c747(0x376)]=proto;}async[_0x242689(0x295)+_0x242689(0x2e2)](_0x2660bc,_0x96c9e5={}){const _0x2c3230=_0x242689;try{return await downloadMediaMessage(_0x2660bc,_0x2c3230(0x238),{},{'logger':baileysPinoLogger,..._0x96c9e5});}catch(_0xa5c2d8){error(_0xa5c2d8,_0x2c3230(0x1cb)+_0x2c3230(0x316)+_0x2c3230(0x3a1));throw _0xa5c2d8;}}[_0x242689(0x28e)](_0x1ea457){return isJidGroup(_0x1ea457);}['isUser'](_0x3347db){const _0x420814=_0x242689;try{if(!_0x3347db||typeof _0x3347db!==_0x420814(0x2c9))return![];if(isJidGroup(_0x3347db))return![];if(isJidBroadcast(_0x3347db))return![];if(isJidStatusBroadcast(_0x3347db))return![];return _0x3347db[_0x420814(0x292)]('@');}catch(_0x3371f7){return debug(_0x420814(0x1cf)+_0x420814(0x30a),_0x3371f7?.[_0x420814(0x2e0)]||_0x3371f7),![];}}['isBroadcas'+'t'](_0x4545aa){return isJidBroadcast(_0x4545aa);}[_0x242689(0x372)+_0x242689(0x186)](_0x3e89d9,_0x30b079){return areJidsSameUser(_0x3e89d9,_0x30b079);}[_0x242689(0x40f)+_0x242689(0x350)](_0xd164f7){const _0x47806d=_0x242689;try{return isJidStatusBroadcast(_0xd164f7);}catch(_0x35e0fe){return debug(_0x47806d(0x40f)+_0x47806d(0x2b1)+_0x47806d(0x194)+':',_0x35e0fe[_0x47806d(0x2e0)]),![];}}[_0x242689(0x391)+_0x242689(0x309)](_0x1ad442){const _0x3b413d=_0x242689;try{return isJidNewsletter(_0x1ad442);}catch(_0x41f7de){return debug(_0x3b413d(0x391)+_0x3b413d(0x1df)+'k\x20failed:',_0x41f7de[_0x3b413d(0x2e0)]),![];}}['makeStatus'+_0x242689(0x331)]({id:_0x1faff7,participant:_0x230e64,body:_0x2ed1d3,timestamp:_0x3d755a}){const _0x460572=_0x242689;return{'key':{'id':_0x1faff7,'remoteJid':'status@bro'+_0x460572(0x349),'participant':_0x230e64,'fromMe':![]},'message':{'conversation':_0x2ed1d3},'messageTimestamp':Math[_0x460572(0x3de)]((_0x3d755a||Date[_0x460572(0x2c8)]())/(0xa35+0x973+0xc0*-0x15))};}async['getPollRes'+'ults'](_0x819cc0){const _0x218366=_0x242689;try{if(_0x819cc0[_0x218366(0x2e0)]?.[_0x218366(0x323)+'onMessage'])return getAggregateVotesInPollMessage({'message':_0x819cc0[_0x218366(0x2e0)],'pollCreationMessage':_0x819cc0['message']['pollCreati'+_0x218366(0x224)]});return null;}catch(_0x4749ac){return error(_0x4749ac,_0x218366(0x1cb)+_0x218366(0x291)+_0x218366(0x2ca)),null;}}}const bot=new BotAPI();let sock=null,botJid=null,restartAttempts=0x46b+0xf3c+-0x183*0xd;const MAX_BACKOFF=(-0xc1*-0x25+-0x503*0x7+0x735)*(-0x103b*0x1+0x1967+0x68*-0x16)*(-0x15d7*0x1+0xfb8*-0x1+0x2977);let outgoingQueueGlobal=null,detachAllHandlers=null,registeredModules=new Set();const messageProcessingQueues=new Map(),perJidChains=new Map();function normalizeJidForQueue(_0x2a4734){const _0x4a055f=_0x242689;try{return jidNormalizedUser(_0x2a4734||'');}catch(_0x49dc80){return error('Failed\x20to\x20'+_0x4a055f(0x2cb)+_0x4a055f(0x35f)+_0x4a055f(0x300),_0x49dc80),String(_0x2a4734||'');}}function enqueuePerJid(_0x663ab3,_0x5ae922){const _0x3b75aa=_0x242689,_0x2dc524=normalizeJidForQueue(_0x663ab3),_0x405c41=perJidChains[_0x3b75aa(0x2da)](_0x2dc524)||Promise[_0x3b75aa(0x206)](),_0x44555e=_0x405c41[_0x3b75aa(0x3c6)](()=>{})[_0x3b75aa(0x1a8)](()=>_0x5ae922());return perJidChains[_0x3b75aa(0x404)](_0x2dc524,_0x44555e['finally'](()=>{const _0xd54270=_0x3b75aa;if(perJidChains[_0xd54270(0x2da)](_0x2dc524)===_0x44555e)perJidChains[_0xd54270(0x31a)](_0x2dc524);})),_0x44555e;}bot['registerMo'+_0x242689(0x1e2)]=_0x5205d1=>{const _0x45ceb3=_0x242689;registeredModules[_0x45ceb3(0x3be)](_0x5205d1);if(_0x5205d1[_0x45ceb3(0x1d2)])try{_0x5205d1['attach'](bot);}catch(_0x313ed){warn('module.att'+_0x45ceb3(0x233),_0x313ed);}},bot[_0x242689(0x1fe)+_0x242689(0x1f3)]=_0x2d4770=>{const _0xc2e2ae=_0x242689;if(registeredModules[_0xc2e2ae(0x246)](_0x2d4770)){if(_0x2d4770[_0xc2e2ae(0x299)])try{_0x2d4770[_0xc2e2ae(0x299)](bot);}catch(_0x15d6ae){warn(_0xc2e2ae(0x30b)+'ach\x20failed',_0x15d6ae);}registeredModules['delete'](_0x2d4770);}};async function chooseBaileysVersion(){const _0x1b72f2=_0x242689;if(cfg['BAILEYS_VE'+_0x1b72f2(0x28d)]){if(Array[_0x1b72f2(0x1a2)](cfg[_0x1b72f2(0x34a)+_0x1b72f2(0x28d)]))return{'version':cfg['BAILEYS_VE'+_0x1b72f2(0x28d)],'isLatest':![]};if(typeof cfg[_0x1b72f2(0x34a)+_0x1b72f2(0x28d)]===_0x1b72f2(0x2c9)){const _0x576616=cfg[_0x1b72f2(0x34a)+_0x1b72f2(0x28d)][_0x1b72f2(0x3a0)]('.')[_0x1b72f2(0x29e)](_0x4b6048=>parseInt(_0x4b6048,0xe27*-0x2+0x116+0x1b42)||-0x1*0xaf3+-0x1b0c+0x25ff);return{'version':_0x576616,'isLatest':![]};}}try{return await fetchLatestBaileysVersion();}catch(_0x32e666){return debug(_0x1b72f2(0x1cb)+'fetch\x20late'+'st\x20Baileys'+_0x1b72f2(0x34c)+'falling\x20ba'+_0x1b72f2(0x13f)+_0x1b72f2(0x178),_0x32e666?.[_0x1b72f2(0x2e0)]||_0x32e666),{'version':[0x7f*-0x7+-0x18d7+0x5*0x5ab,0x90f+-0xc09+0x3*0xfe,-0xf65+0x1bb2+-0xc4d],'isLatest':![]};}}function scheduleRestart(_0x5bd059){const _0x483932=_0x242689;restartAttempts++;const _0x56d836=Math[_0x483932(0x2a9)](MAX_BACKOFF,(0xf31*0x2+0x11*0x235+0xcb*-0x3d)*Math['pow'](0x5*0x56f+0x892+-0x23bb,Math[_0x483932(0x236)](0x1*0x1d02+-0xca5*0x2+-0x22*0x1c,restartAttempts-(0xff3+-0xd*-0x199+0xd*-0x2d3))));info(_0x483932(0x235)+'\x20restart\x20a'+_0x483932(0x39f)+restartAttempts+'\x20in\x20'+_0x56d836/(0xc4+-0x104*0x4+0x4*0x1cd)+_0x483932(0x1e8)+_0x5bd059),setTimeout(async()=>{const _0x311903=_0x483932;info(_0x311903(0x22f)+_0x311903(0x208)+_0x311903(0x146));try{if(detachAllHandlers){try{detachAllHandlers();}catch(_0x2aeb22){debug('Error\x20duri'+_0x311903(0x3ce)+'llHandlers'+_0x311903(0x170)+'t:',_0x2aeb22['message']);}detachAllHandlers=null;}if(sock){try{sock[_0x311903(0x21b)](new Error('Restarting'+_0x311903(0x374)));}catch(_0x27fd9e){}try{sock['ev']['removeAllL'+'isteners']?.();}catch(_0x5e0cae){}sock=null;}if(outgoingQueueGlobal){try{outgoingQueueGlobal['nextTimer']&&clearTimeout(outgoingQueueGlobal[_0x311903(0x2d1)]);}catch(_0x4b067a){}outgoingQueueGlobal=null;}await startBot(),restartAttempts=-0x1*0xace+0x1cf+0x8ff;}catch(_0x26416e){error(_0x26416e,_0x311903(0x20f)+_0x311903(0x407)+_0x311903(0x1e7)+'chedule\x20an'+'other\x20atte'+'mpt'),scheduleRestart(_0x5bd059);}},_0x56d836);}async function cleanupTempFiles(_0x174a0b){const _0x43121e=_0x242689;info(_0x43121e(0x2f0)+_0x43121e(0x23f)+_0x43121e(0x3f2)+'files\x20in\x20'+_0x174a0b+_0x43121e(0x396));try{const _0x29efd5=await _0x445545['readdir'](_0x174a0b);let _0x43923b=0x15d5+-0x1b*0xac+0x2d*-0x15;for(const _0x1845e1 of _0x29efd5){if(_0x1845e1[_0x43121e(0x293)](_0x43121e(0x3d4))){const _0x32e488=_0x25fc88['join'](_0x174a0b,_0x1845e1);try{await _0x445545[_0x43121e(0x1ac)](_0x32e488),debug(_0x43121e(0x190)+_0x43121e(0x24e)+_0x43121e(0x215)+_0x32e488),_0x43923b++;}catch(_0x1ff2b6){warn(_0x43121e(0x1cb)+'delete\x20tem'+_0x43121e(0x2b3)+_0x32e488+':',_0x1ff2b6);}}}_0x43923b>0xa52+0x560+-0xfb2?info(_0x43121e(0x1ee)+_0x43121e(0x1af)+_0x43121e(0x1c6)+_0x43923b+(_0x43121e(0x13c)+'\x20file(s).')):info(_0x43121e(0x172)+_0x43121e(0x161)+_0x43121e(0x23c)+_0x43121e(0x370));}catch(_0x344798){_0x344798[_0x43121e(0x264)]===_0x43121e(0x393)?info(_0x43121e(0x183)+_0x43121e(0x2c2)+_0x174a0b+(_0x43121e(0x3ef)+_0x43121e(0x24b)+_0x43121e(0x38a)+'\x20file\x20clea'+_0x43121e(0x315))):warn(_0x43121e(0x324)+_0x43121e(0x3db)+_0x43121e(0x213)+_0x43121e(0x3c1)+_0x174a0b+':',_0x344798);}}async function validateCreds(_0x369185,_0x3332f9){return new Promise((_0x2f8eef,_0x22448c)=>{const _0x5b6ce3=_0x220c,{state:_0xefd768}=_0x369185,_0x265c2c=makeCacheableSignalKeyStore(_0xefd768[_0x5b6ce3(0x353)],_0x573dfc({'level':_0x5b6ce3(0x333)})),_0xf6ed99=_0x573dfc({'level':'silent'}),_0x433284=makeWASocket({'version':_0x3332f9,'auth':{'creds':_0xefd768['creds'],'keys':_0x265c2c},'logger':_0xf6ed99,'browser':cfg[_0x5b6ce3(0x18e)+_0x5b6ce3(0x1be)]}),_0x2a8a86=setTimeout(()=>{const _0x30b6ca=_0x5b6ce3;_0xa40e94(),_0x22448c(new Error(_0x30b6ca(0x142)+'\x20connectio'+_0x30b6ca(0x3e7)+_0x30b6ca(0x2ec)+_0x30b6ca(0x24d)));},0x8305+0x34e8+-0x5645),_0xa40e94=()=>{const _0x405279=_0x5b6ce3;clearTimeout(_0x2a8a86);try{_0x433284['ev'][_0x405279(0x248)+_0x405279(0x25a)](_0x405279(0x317)+'.update'),_0x433284['ws']&&_0x433284['ws'][_0x405279(0x369)]!==-0x1290+-0xba3+-0xd1*-0x25&&_0x433284['ws'][_0x405279(0x369)]!==-0x31*0xbe+0xd*0x1eb+-0x125*-0xa&&_0x433284[_0x405279(0x21b)]();}catch(_0x5300d0){}};_0x433284['ev']['on'](_0x5b6ce3(0x317)+_0x5b6ce3(0x38d),({connection:_0x4966dc,lastDisconnect:_0x4dd5e4})=>{const _0x5fe5f5=_0x5b6ce3;if(_0x4966dc==='open')_0xa40e94(),_0x2f8eef();else{if(_0x4966dc===_0x5fe5f5(0x15d)){const _0x58b9ac=_0x4dd5e4?.[_0x5fe5f5(0x3fa)]?.[_0x5fe5f5(0x34b)]?.[_0x5fe5f5(0x319)],_0x4b7f66=[DisconnectReason[_0x5fe5f5(0x149)],DisconnectReason[_0x5fe5f5(0x317)+'Replaced'],DisconnectReason['badSession']][_0x5fe5f5(0x292)](_0x58b9ac);if(_0x4b7f66)_0xa40e94(),_0x22448c(new Error(_0x5fe5f5(0x3d8)+'\x20('+(DisconnectReason[_0x58b9ac]||_0x58b9ac)+')'));else _0x58b9ac&&(_0xa40e94(),_0x22448c(_0x4dd5e4[_0x5fe5f5(0x3fa)]||new Error(_0x5fe5f5(0x142)+'\x20failed\x20wi'+'th\x20status\x20'+_0x5fe5f5(0x256)+_0x58b9ac)));}}});});}async function startBot(){const _0x30339a=_0x242689;try{const _0x40567b=cfg[_0x30339a(0x2a1)+_0x30339a(0x297)]||_0x30339a(0x3e4),{version:_0x25aa3b,isLatest:_0x796ef0}=await chooseBaileysVersion();await cleanupTempFiles(_0x40567b),initializeWorkerPool();try{const _0x43a088=await import('./utils/database.js');_0x43a088[_0x30339a(0x3f4)+'Database']&&(await _0x43a088[_0x30339a(0x3f4)+_0x30339a(0x1dc)](),info(_0x30339a(0x2e3)+_0x30339a(0x2b9)+_0x30339a(0x365)+_0x30339a(0x2c1)));}catch(_0x537e2b){info('Database\x20i'+_0x30339a(0x1c5)+'ion\x20skippe'+_0x30339a(0x2b7)+'d.');}const _0x4d7c44=async()=>{const _0x1baec3=_0x30339a;let _0x255b70=await loadLocalCredsFileStartup(_0x40567b);if(looksLikeCreds(_0x255b70)){info('Local\x20cred'+'s\x20found.\x20V'+_0x1baec3(0x3a2)+'session...');try{const _0x100c4e=await ensureAuth({'authDir':_0x40567b,'creds':_0x255b70,'_isValidation':!![]});return await validateCreds(_0x100c4e,_0x25aa3b),info(_0x1baec3(0x28c)+_0x1baec3(0x375)+_0x1baec3(0x184)),_0x100c4e;}catch(_0x32c785){warn(_0x1baec3(0x25d)+_0x1baec3(0x3f5)+'alid:\x20'+_0x32c785[_0x1baec3(0x2e0)]+(_0x1baec3(0x3c9)+_0x1baec3(0x410)+_0x1baec3(0x147)+'xt\x20method.')),await _0x445545['rm'](_0x40567b,{'recursive':!![],'force':!![]})[_0x1baec3(0x3c6)](_0x32ac63=>error(_0x1baec3(0x1cb)+_0x1baec3(0x241)+_0x1baec3(0x2cc)+_0x1baec3(0x3f1),_0x32ac63));}}if(SESSION_ID){info(_0x1baec3(0x22f)+_0x1baec3(0x165)+'edential\x20r'+'ecovery...');try{const _0x38de26=await fetchRemoteCredsAxios(SESSION_ID);if(looksLikeCreds(_0x38de26))return info(_0x1baec3(0x3e0)+'reds\x20fetch'+_0x1baec3(0x2ab)+_0x1baec3(0x18b)),await writeLocalCredsFile(_0x38de26,_0x40567b),await ensureAuth({'authDir':_0x40567b,'creds':_0x38de26,'browser':cfg['BAILEYS_BR'+_0x1baec3(0x1be)]});else warn('Remote\x20API'+_0x1baec3(0x2fa)+_0x1baec3(0x2ee)+_0x1baec3(0x265)+_0x1baec3(0x2b0)+_0x1baec3(0x27a));}catch(_0x1d364e){warn(_0x1baec3(0x2f5)+_0x1baec3(0x15f)+_0x1baec3(0x2d9)+_0x1d364e[_0x1baec3(0x2e0)]+(_0x1baec3(0x3da)+'back\x20to\x20QR'+'.'));}}info(_0x1baec3(0x347)+'n\x20is\x20requi'+_0x1baec3(0x2bc)+_0x1baec3(0x159)+_0x1baec3(0x196));try{return await ensureAuth({'authDir':_0x40567b,'creds':null,'browser':cfg[_0x1baec3(0x18e)+_0x1baec3(0x1be)]});}catch(_0x3a80c1){return error(_0x1baec3(0x152)+_0x1baec3(0x288)+'failed.',_0x3a80c1),null;}},_0x512bbe=await _0x4d7c44();if(!_0x512bbe){scheduleRestart('Failed\x20to\x20'+_0x30339a(0x35c)+_0x30339a(0x154)+_0x30339a(0x35d));return;}const {state:_0x4c3590}=_0x512bbe;registerAuthStateForFlush({'state':_0x4c3590,'authDir':_0x40567b});const _0x2864cd=makeCacheableSignalKeyStore(_0x4c3590['keys'],baileysPinoLogger);try{if(typeof _0x2864cd['set']===_0x30339a(0x1ce)){const _0x47061f=_0x2864cd[_0x30339a(0x404)][_0x30339a(0x33e)](_0x2864cd);_0x2864cd[_0x30339a(0x404)]=(..._0x1a81be)=>{const _0x2bf2c2=_0x30339a,_0x2061bb=_0x47061f(..._0x1a81be);try{scheduleAuthFlush({'type':_0x2bf2c2(0x14d),'payload':_0x1a81be});}catch(_0x195052){debug(_0x2bf2c2(0x1e4)+_0x2bf2c2(0x3c3)+_0x2bf2c2(0x1d9)+_0x2bf2c2(0x20c),_0x195052?.[_0x2bf2c2(0x2e0)]||_0x195052);}return _0x2061bb;};}if(typeof _0x2864cd[_0x30339a(0x31d)]===_0x30339a(0x1ce)){const _0x405f7f=_0x2864cd[_0x30339a(0x31d)][_0x30339a(0x33e)](_0x2864cd);_0x2864cd[_0x30339a(0x31d)]=(..._0x2c5ef6)=>{const _0x5f04ab=_0x30339a,_0x5e6a2a=_0x405f7f(..._0x2c5ef6);try{scheduleAuthFlush({'type':_0x5f04ab(0x3bf)+'e','payload':_0x2c5ef6});}catch(_0x1c1f04){debug(_0x5f04ab(0x1e4)+_0x5f04ab(0x3c3)+'ter\x20keys.r'+'emove\x20fail'+'ed',_0x1c1f04?.[_0x5f04ab(0x2e0)]||_0x1c1f04);}return _0x5e6a2a;};}}catch(_0x2bfdaf){debug(_0x30339a(0x1d5)+_0x30339a(0x232)+_0x30339a(0x3ae),_0x2bfdaf?.[_0x30339a(0x2e0)]||_0x2bfdaf);}const _0x596fa6=new SlidingWindowRateLimiter(cfg[_0x30339a(0x13d)][_0x30339a(0x2ed)]||-0x5ae+-0x35+0x6d*0x17,cfg[_0x30339a(0x13d)][_0x30339a(0x2e7)]||-0x2*0x11fb+0x1a5*-0x10+0x1*0x3e4b),_0x513060=new OutgoingSendQueue(_0x596fa6,{'maxQueue':cfg[_0x30339a(0x366)+_0x30339a(0x39d)]});outgoingQueueGlobal=_0x513060,info(_0x30339a(0x2ff)+_0x30339a(0x1c3)+'n\x20'+_0x25aa3b[_0x30339a(0x284)]('.')+(_0x30339a(0x313)+'=')+_0x796ef0);const _0x3e2a91=[{'stream':baileysLogInterceptor,'level':_0x30339a(0x229)},{'stream':process[_0x30339a(0x258)],'level':baileysPinoLevel}];baileysPinoLogger=_0x573dfc({'level':_0x30339a(0x229)},_0x573dfc[_0x30339a(0x1ba)+'m'](_0x3e2a91)),sock=makeWASocket({'version':_0x25aa3b,'auth':{'creds':_0x4c3590['creds'],'keys':_0x2864cd},'logger':baileysPinoLogger,'browser':cfg[_0x30339a(0x18e)+_0x30339a(0x1be)],'shouldIgnoreJid':_0x170697=>typeof _0x170697==='string'&&_0x170697[_0x30339a(0x292)](_0x30339a(0x303))&&!isJidStatusBroadcast(_0x170697),'generateHighQualityLinkPreview':cfg[_0x30339a(0x26f)+_0x30339a(0x302)+_0x30339a(0x140)+'VIEW']}),store[_0x30339a(0x33e)](sock['ev']),sock['ev']['on'](_0x30339a(0x35b)+'te',_0x53472f=>{const _0x5cfae0=_0x30339a;try{_0x53472f&&(Object[_0x5cfae0(0x1e1)](_0x4c3590[_0x5cfae0(0x364)],_0x53472f),scheduleAuthFlush({'type':_0x5cfae0(0x364),'payload':_0x53472f}));}catch(_0x55b11e){debug(_0x5cfae0(0x35b)+'te\x20handler'+_0x5cfae0(0x371),_0x55b11e?.[_0x5cfae0(0x2e0)]||_0x55b11e);}});const _0x12e4fd=sock['sendMessag'+'e'][_0x30339a(0x33e)](sock);sock['sendMessag'+'e']=async(_0x52d125,_0x2cd9c8={},_0x28aa2d={})=>{const _0x5004ad=_0x30339a;let _0x378617=_0x2cd9c8;try{if(_0x378617&&typeof _0x378617===_0x5004ad(0x245)&&typeof _0x378617[_0x5004ad(0x3ac)]==='string'&&!_0x378617[_0x5004ad(0x2cd)+'w']){const _0x2f7da3=await _0xa83a8b(_0x378617[_0x5004ad(0x3ac)]);if(_0x2f7da3)_0x378617={..._0x378617,'linkPreview':_0x2f7da3};}}catch(_0x1e5471){warn(_0x5004ad(0x2af)+'ew\x20generat'+'ion\x20failed',_0x1e5471);}const _0x2d3cff=()=>_0x513060[_0x5004ad(0x16f)](()=>_0x12e4fd(_0x52d125,_0x378617,_0x28aa2d),{'priority':_0x28aa2d&&typeof _0x28aa2d[_0x5004ad(0x272)]===_0x5004ad(0x24a)?_0x28aa2d[_0x5004ad(0x272)]:0x1*0x2c8+-0x1efc+-0xbe*-0x26});return enqueuePerJid(_0x52d125,_0x2d3cff);};async function _0xa83a8b(_0x194fff,_0x5321bb=-0x1a9+-0x2*0xe9e+0xa4d*0x3,_0xf9e76d=0x25da+-0xb25*-0x2+-0x1*0x306c){const _0x5caf75=_0x30339a;if(!_0x194fff||typeof _0x194fff!==_0x5caf75(0x2c9))return null;const _0xa804bb=_0x194fff['match'](/https?:\/\/[^\s]+/i);if(!_0xa804bb)return null;const _0x163a2f=_0xa804bb[-0x1f75+0x1*-0x1bb+0x9*0x3b0];try{const _0x3ec1eb=new URL(_0x163a2f);if(cfg['PREVIEW_AL'+_0x5caf75(0x20b)]&&Array[_0x5caf75(0x1a2)](cfg[_0x5caf75(0x174)+_0x5caf75(0x20b)])&&!cfg[_0x5caf75(0x174)+_0x5caf75(0x20b)][_0x5caf75(0x292)](_0x3ec1eb[_0x5caf75(0x3a8)]))return null;if((cfg[_0x5caf75(0x30e)+_0x5caf75(0x2c5)]||[])[_0x5caf75(0x292)](_0x3ec1eb[_0x5caf75(0x3a8)]))return null;}catch(_0x204fe1){return debug(_0x5caf75(0x1cb)+'parse\x20prev'+_0x5caf75(0x26c),_0x204fe1),null;}const _0x488eee=_0x5caf75(0x2cf)+_0x163a2f,_0x3494b4=bot['cache'][_0x5caf75(0x2da)](_0x488eee);if(_0x3494b4)return _0x3494b4;let _0x583c71=0x1*-0x23c7+-0x1*0x2069+-0x27*-0x1c6;for(let _0x25da04=-0x3d*0x5f+-0x11*0x1+-0x1*-0x16b4;_0x25da04<=_0x5321bb;_0x25da04++){try{const _0x301def=await new Promise((_0x5495e1,_0x44cec)=>{const _0x57a145=_0x5caf75;let _0x44b340=![];generateLinkPreviewIfRequired(_0x194fff,getUrlInfo,baileysPinoLogger)[_0x57a145(0x1a8)](_0x38d3dd=>{_0x44b340=!![],_0x5495e1(_0x38d3dd);})[_0x57a145(0x3c6)](_0x2a6591=>{if(!_0x44b340)_0x44cec(_0x2a6591);}),setTimeout(()=>{const _0x174ee2=_0x57a145;if(!_0x44b340)_0x44cec(new Error(_0x174ee2(0x14c)));},_0xf9e76d);});if(_0x301def)bot[_0x5caf75(0x193)][_0x5caf75(0x404)](_0x488eee,_0x301def,cfg[_0x5caf75(0x40e)+_0x5caf75(0x320)]||(0x493+-0x8b*-0x2e+0x5dd*-0x5)*(-0x326*-0x9+0x2dc*-0x1+0xc9f*-0x2)*(0x1d10+0x1063+-0x298b));return _0x301def;}catch(_0x325f1f){if(_0x25da04===_0x5321bb)return warn(_0x5caf75(0x261)+'tch\x20final\x20'+_0x5caf75(0x162),_0x325f1f),null;await new Promise(_0x520e43=>setTimeout(_0x520e43,_0x583c71)),_0x583c71*=-0x121d+0x1ec*0x6+0x7*0xf1;}}return null;}const _0x5c4d1e=[],_0x34ca88=(_0x55a1cb,_0x2d05d6)=>{const _0x493736=_0x30339a;sock['ev']['on'](_0x55a1cb,_0x2d05d6),_0x5c4d1e[_0x493736(0x180)]({'event':_0x55a1cb,'handler':_0x2d05d6});};detachAllHandlers=()=>{const _0x1768f9=_0x30339a;for(const {event:_0x4c2dcd,handler:_0x407d55}of _0x5c4d1e){try{sock['ev'][_0x1768f9(0x351)](_0x4c2dcd,_0x407d55);}catch(_0x528048){}}_0x5c4d1e[_0x1768f9(0x2e5)]=-0xd7*-0x21+0x239*0x3+-0x5bb*0x6;};const _0x5814c3=async _0x23801d=>{const _0x3930a1=_0x30339a,{connection:_0x742fb5,lastDisconnect:_0x35154f,qr:_0x265f82}=_0x23801d;if(_0x265f82){info(_0x3930a1(0x22b)+_0x3930a1(0x334));try{_0x5a060b[_0x3930a1(0x156)](_0x265f82,{'small':!![]});}catch(_0x2eeccf){}}if(_0x742fb5===_0x3930a1(0x15d)){const _0x3ae065=_0x35154f?.[_0x3930a1(0x3fa)],_0xc0fa5e=_0x3ae065?.[_0x3930a1(0x34b)]?.['statusCode'];if(_0x3ae065?.[_0x3930a1(0x2e0)]?.['includes'](_0x3930a1(0x2ea))){info(_0x3930a1(0x342)+'scheduling'+_0x3930a1(0x1a4)),scheduleRestart(_0x3930a1(0x2ea));return;}const _0x402a82=[DisconnectReason[_0x3930a1(0x149)],DisconnectReason[_0x3930a1(0x317)+'Replaced'],DisconnectReason[_0x3930a1(0x20e)]]['includes'](_0xc0fa5e);if(_0x402a82){error(_0x3930a1(0x3fd)+'ble\x20error:'+'\x20'+(DisconnectReason[_0xc0fa5e]||_0x3930a1(0x344))+(_0x3930a1(0x3c9)+'\x20local\x20aut'+_0x3930a1(0x234)+'arting.'));const _0x47233a=cfg[_0x3930a1(0x2a1)+_0x3930a1(0x297)]||_0x3930a1(0x3e4);try{await _0x445545['rm'](_0x47233a,{'recursive':!![],'force':!![]}),info(_0x3930a1(0x20a)+_0x3930a1(0x332)+_0x3930a1(0x330)+_0x3930a1(0x402));}catch(_0x1726f9){error('Failed\x20to\x20'+_0x3930a1(0x13a)+'h\x20director'+'y.',_0x1726f9);}scheduleRestart(DisconnectReason[_0xc0fa5e]||_0x3930a1(0x1ae)+_0xc0fa5e);}else info(_0x3930a1(0x37c)+_0x3930a1(0x3d9)+_0x3930a1(0x1e6)+_0x3930a1(0x36a)),scheduleRestart(String(_0x3ae065||'unknown'));}else{if(_0x742fb5===_0x3930a1(0x169)){restartAttempts=-0x1*0x883+0x10fe+-0x87b,botJid=sock[_0x3930a1(0x2df)]?.['id'],info(_0x3930a1(0x191)+_0x3930a1(0x29b)+_0x3930a1(0x3e2)+jidNormalizedUser(botJid)),bot[_0x3930a1(0x1b1)+'e']=sock[_0x3930a1(0x1b1)+'e'],bot['sock']=sock,bot[_0x3930a1(0x17b)+_0x3930a1(0x283)]=_0xa83a8b,bot[_0x3930a1(0x16c)]=_0xe02a27=>bot['cache']['get'](_0x3930a1(0x1b0)+_0xe02a27)||null,initBotState(bot);try{const _0xb0a9be=await import('./utils/loader.js');if(_0xb0a9be[_0x3930a1(0x3f4)+'Modules'])await withTimeout(_0xb0a9be[_0x3930a1(0x3f4)+'Modules'](bot),0x29a7+0x547+0x26*-0x35,'loader.ini'+_0x3930a1(0x1a9)+'ules');}catch(_0x22b002){warn('Failed\x20to\x20'+_0x3930a1(0x24c)+_0x3930a1(0x185)+_0x3930a1(0x2fb)+'e',_0x22b002?.[_0x3930a1(0x2e0)]||_0x22b002);}}}};_0x34ca88(_0x30339a(0x317)+_0x30339a(0x38d),_0x5814c3);const _0x179cc9=async({messages:_0x42c9a4,type:_0x91f981})=>{const _0x55dd4f=_0x30339a;if(_0x91f981===_0x55dd4f(0x2d4))for(const _0x4dd95c of _0x42c9a4){if(_0x4dd95c['key']&&_0x4dd95c[_0x55dd4f(0x2e0)]&&_0x4dd95c[_0x55dd4f(0x2e0)]['conversati'+'on']){const _0x55a047=_0x4dd95c[_0x55dd4f(0x3cb)]['id'];messageEditCache[_0x55dd4f(0x404)](_0x55a047,_0x4dd95c[_0x55dd4f(0x2e0)][_0x55dd4f(0x1db)+'on']),setTimeout(()=>{const _0x3391c5=_0x55dd4f;messageEditCache[_0x3391c5(0x246)](_0x55a047)&&messageEditCache[_0x3391c5(0x31a)](_0x55a047);},MESSAGE_CACHE_TTL_MS);}}if(!_0x42c9a4||!_0x42c9a4[_0x55dd4f(0x2e5)])return;if(_0x91f981===_0x55dd4f(0x2d4))for(const _0x1f31f1 of _0x42c9a4){try{store[_0x55dd4f(0x32b)+'x'](_0x1f31f1[_0x55dd4f(0x3cb)]?.[_0x55dd4f(0x18d)]||'unknown')[_0x55dd4f(0x328)](_0x1f31f1,_0x55dd4f(0x1ad));}catch(_0x289b64){}}for(const _0x365752 of _0x42c9a4){const _0x254292=_0x365752[_0x55dd4f(0x3cb)]?.[_0x55dd4f(0x18d)]||_0x55dd4f(0x3e6)+'at';!messageProcessingQueues[_0x55dd4f(0x246)](_0x254292)&&messageProcessingQueues[_0x55dd4f(0x404)](_0x254292,new _0x4e12ef({'concurrency':0x1})),messageProcessingQueues[_0x55dd4f(0x2da)](_0x254292)[_0x55dd4f(0x3be)](()=>_0x32d5f5(_0x365752))[_0x55dd4f(0x3c6)](_0x2499b0=>{const _0xfbb71b=_0x55dd4f;error(_0x2499b0,_0xfbb71b(0x13b)+'essing\x20mes'+_0xfbb71b(0x35e)+_0x365752[_0xfbb71b(0x3cb)]['id']);});}};function _0x1bb224(_0x45005e){const _0x4a2cf2=_0x30339a;if(!_0x45005e)return'';return _0x45005e[_0x4a2cf2(0x1db)+'on']||_0x45005e['extendedTe'+'xtMessage']?.[_0x4a2cf2(0x3ac)]||_0x45005e[_0x4a2cf2(0x3eb)+'ge']?.['caption']||_0x45005e['videoMessa'+'ge']?.['caption']||_0x45005e[_0x4a2cf2(0x2fe)+_0x4a2cf2(0x2a7)]?.['text']||_0x45005e[_0x4a2cf2(0x23a)+_0x4a2cf2(0x3f8)+'ge']?.[_0x4a2cf2(0x363)+_0x4a2cf2(0x255)]||_0x45005e[_0x4a2cf2(0x3c0)+_0x4a2cf2(0x38c)]?.[_0x4a2cf2(0x243)+_0x4a2cf2(0x17c)]?.[_0x4a2cf2(0x363)+_0x4a2cf2(0x255)]||'';}async function _0x32d5f5(_0x7bf9d3){const _0x4fc97c=_0x30339a;let _0x21cba3=new Set();try{const loader=await import('./utils/loader.js');if(loader[_0x4fc97c(0x2ad)+'Names'])_0x21cba3=loader['getCommand'+'Names']();}catch(_0x414386){}try{bot[_0x4fc97c(0x247)](_0x4fc97c(0x397)+'e',_0x7bf9d3);if(!_0x7bf9d3[_0x4fc97c(0x2e0)])return;const _0x231698=Array[_0x4fc97c(0x1a2)](cfg[_0x4fc97c(0x212)+'EFIX'])?cfg[_0x4fc97c(0x212)+_0x4fc97c(0x2d6)][_0x4fc97c(0x1a3)]()[_0x4fc97c(0x1c9)]((_0x3982d5,_0x352b29)=>_0x352b29[_0x4fc97c(0x2e5)]-_0x3982d5[_0x4fc97c(0x2e5)]):typeof cfg[_0x4fc97c(0x212)+_0x4fc97c(0x2d6)]===_0x4fc97c(0x2c9)?[cfg['COMMAND_PR'+_0x4fc97c(0x2d6)]]:null,_0x4cee92=_0x1bb224(_0x7bf9d3[_0x4fc97c(0x2e0)]);let _0x3ae9ef=_0x4cee92,_0x254388=![];if(_0x231698===null){const _0x1a1d44=_0x4cee92['trim']()[_0x4fc97c(0x3a0)](/ +/)['shift']()?.['toLowerCas'+'e']();_0x1a1d44&&_0x21cba3[_0x4fc97c(0x246)](_0x1a1d44)&&(_0x254388=!![]);}else{const _0x1bdf9e=_0x231698[_0x4fc97c(0x168)](_0x3902a1=>_0x4cee92[_0x4fc97c(0x3e8)](_0x3902a1));if(_0x1bdf9e){const _0xa93dab=_0x4cee92['slice'](_0x1bdf9e[_0x4fc97c(0x2e5)])[_0x4fc97c(0x1b6)]();_0xa93dab&&(_0x254388=!![],_0x3ae9ef=_0xa93dab);}}const _0x5e1487=_0x7bf9d3[_0x4fc97c(0x3cb)]?.['remoteJid'],_0x2d1438=!!(_0x5e1487&&isJidStatusBroadcast(_0x5e1487)),_0x440e66=_0x7bf9d3[_0x4fc97c(0x3cb)][_0x4fc97c(0x237)+'t']||_0x7bf9d3[_0x4fc97c(0x3cb)][_0x4fc97c(0x18d)],_0x160b03={'message':_0x7bf9d3[_0x4fc97c(0x2e0)],'key':_0x7bf9d3[_0x4fc97c(0x3cb)],'pushName':_0x7bf9d3['pushName'],'remoteJid':_0x5e1487,'sender':_0x440e66,'fromMe':_0x7bf9d3[_0x4fc97c(0x3cb)][_0x4fc97c(0x29f)],'messageTimestamp':_0x7bf9d3[_0x4fc97c(0x40d)+_0x4fc97c(0x31f)],'rawText':_0x4cee92,'text':_0x3ae9ef,'isCommand':_0x254388,'isStatus':_0x2d1438,'proto':proto,'reply':_0x2f422f=>{const _0x325bbf=_0x4fc97c,_0x5e7e06=_0x2d1438?_0x440e66:_0x5e1487;if(!_0x5e7e06)return warn('Reply\x20fail'+_0x325bbf(0x3f0)+_0x325bbf(0x3b4)+_0x325bbf(0x386)+_0x325bbf(0x143)),Promise[_0x325bbf(0x1c1)](new Error(_0x325bbf(0x188)+_0x325bbf(0x304)+'ply.'));return sock[_0x325bbf(0x1b1)+'e'](_0x5e7e06,_0x2f422f,{'quoted':_0x7bf9d3});}};if(isJidGroup(_0x5e1487))try{await isadmin(bot,_0x160b03)&&await _0x38c239[_0x4fc97c(0x2b6)+_0x4fc97c(0x403)+'r'](_0x160b03[_0x4fc97c(0x383)],_0x160b03['remoteJid']);}catch(_0x34f58c){}if(_0x2d1438)bot[_0x4fc97c(0x247)](_0x4fc97c(0x21e),_0x160b03);bot[_0x4fc97c(0x247)](_0x4fc97c(0x2e0),_0x160b03);}catch(_0x4968fb){error(_0x4968fb,_0x4fc97c(0x1cb)+'process\x20me'+_0x4fc97c(0x32c)+_0x7bf9d3['key']?.['id']);}}_0x34ca88(_0x30339a(0x1e9)+'psert',_0x179cc9);const _0x118d7d=_0x1b9078=>{const _0x5d45c6=_0x30339a;for(const _0x3851ee of _0x1b9078){if(_0x3851ee[_0x5d45c6(0x38e)]?.[_0x5d45c6(0x2e0)]?.['editedMess'+'age']){const _0x51d48b=_0x3851ee[_0x5d45c6(0x3cb)]['id'],_0xb9c3c2=messageEditCache[_0x5d45c6(0x2da)](_0x51d48b)||'[Original\x20'+_0x5d45c6(0x1c7)+_0x5d45c6(0x400)+']',_0x7bbe94={'event':'message-ed'+'it','chatId':_0x3851ee[_0x5d45c6(0x3cb)][_0x5d45c6(0x18d)],'fromMe':_0x3851ee[_0x5d45c6(0x3cb)]['fromMe'],'originalMessageId':_0x51d48b,'oldText':_0xb9c3c2,'newText':_0x3851ee[_0x5d45c6(0x38e)]['message'][_0x5d45c6(0x2f7)+'age']['message']?.['conversati'+'on'],'timestamp':new Date((_0x3851ee[_0x5d45c6(0x38e)][_0x5d45c6(0x40d)+'estamp']||Date[_0x5d45c6(0x2c8)]()/(-0x2*0x853+-0x2*0x7da+0x2442))*(-0x2624+0xae0+0x1f2c))[_0x5d45c6(0x37b)+'g']()};bot['emit'](_0x5d45c6(0x31b)+'it',_0x7bbe94),messageEditCache[_0x5d45c6(0x246)](_0x51d48b)&&messageEditCache['delete'](_0x51d48b);}}};_0x34ca88(_0x30339a(0x1e9)+_0x30339a(0x151),_0x118d7d);const _0x31a31c=_0x57cc0c=>{const _0x481252=_0x30339a,{id:_0x5e7d22,action:_0x2f99eb,author:_0x233d1f,participants:_0x438bf8}=_0x57cc0c;_0x2f99eb===_0x481252(0x31d)&&_0x233d1f&&_0x438bf8?.[_0x481252(0x2e5)]===-0x1849*-0x1+-0x79b+-0x3*0x58f&&_0x233d1f===_0x438bf8[0x1*-0x7d7+-0x21d1*0x1+0x29a8*0x1]&&(voluntaryLeaverStore[_0x481252(0x404)](_0x233d1f,{'groupId':_0x5e7d22}),setTimeout(()=>{const _0x2cc283=_0x481252;voluntaryLeaverStore[_0x2cc283(0x31a)](_0x233d1f);},-0x1*0x18a2+0x1*0x158b+0x169f));};_0x34ca88('group-part'+_0x30339a(0x242)+'pdate',_0x31a31c);const _0x100123=[_0x30339a(0x2d7)+'elete',_0x30339a(0x3d0)+_0x30339a(0x3d2),_0x30339a(0x15c)+_0x30339a(0x181)+'te',_0x30339a(0x17f)+_0x30339a(0x326)+'e','presence.u'+'pdate',_0x30339a(0x2ae)+'psert',_0x30339a(0x2ae)+_0x30339a(0x151),'chats.upse'+'rt',_0x30339a(0x2a4)+'te',_0x30339a(0x321)+'te',_0x30339a(0x1ab)+'ate',_0x30339a(0x244)+'ert',_0x30339a(0x23b)+_0x30339a(0x3dc),_0x30339a(0x345),'blocklist.'+'set',_0x30339a(0x3e9)+_0x30339a(0x38e),_0x30339a(0x3b2)+'t',_0x30339a(0x2fd)+'ociation',_0x30339a(0x269)+_0x30339a(0x2c6)+'t',_0x30339a(0x267)+_0x30339a(0x26e)+_0x30339a(0x3b0)];for(const _0x469cc4 of _0x100123){_0x469cc4!==_0x30339a(0x1e9)+'pdate'&&_0x34ca88(_0x469cc4,_0x4b14ba=>bot['emit'](_0x469cc4,_0x4b14ba));}}catch(_0x5c9308){error(_0x5c9308,_0x30339a(0x1cb)+_0x30339a(0x1bc)),scheduleRestart(_0x30339a(0x211)+_0x30339a(0x1a0));}}let shuttingDown=![];async function persistQueueToDLQ(_0x5ea5ae){const _0x2a308d=_0x242689;try{for(const _0x2a34cc of _0x5ea5ae){await dlqWrite({'queuedAt':Date[_0x2a308d(0x2c8)](),'hint':String(_0x2a34cc['fn'])[_0x2a308d(0x1a3)](-0x1*0x68f+-0x1b27+-0x35f*-0xa,0x212f+-0x2dc*-0xb+-0x3*0x1549),'priority':_0x2a34cc[_0x2a308d(0x272)]||0x2*-0xb08+0x19eb+-0x149*0x3});}}catch(_0x25a0ec){warn(_0x2a308d(0x1cb)+_0x2a308d(0x1eb)+_0x2a308d(0x1a7)+_0x2a308d(0x207)+_0x2a308d(0x16a)+'n',_0x25a0ec);}}async function shutdown(_0x423ceb){const _0x9259cb=_0x242689;if(shuttingDown)return;shuttingDown=!![],info(_0x9259cb(0x21d)+'own\x20(signa'+'l='+_0x423ceb+_0x9259cb(0x2f6));try{outgoingQueueGlobal&&(outgoingQueueGlobal[_0x9259cb(0x16f)]=()=>Promise['reject'](new Error('Shutting\x20d'+_0x9259cb(0x380))));await Promise[_0x9259cb(0x19e)](Array['from'](messageProcessingQueues[_0x9259cb(0x33d)]())[_0x9259cb(0x29e)](_0x98a3a=>_0x98a3a['onIdle']())),info(_0x9259cb(0x1e5)+_0x9259cb(0x3b8)+'ed.'),await flushAuthToDisk(),debug(_0x9259cb(0x307)+'\x20flush\x20on\x20'+'shutdown.');store&&store['writeToFil'+'e']&&(await store[_0x9259cb(0x281)+'e'](_0x25fc88[_0x9259cb(0x284)](cfg[_0x9259cb(0x2a1)+_0x9259cb(0x297)]||_0x9259cb(0x3e4),_0x9259cb(0x273))),info('Store\x20save'+'d.'));outgoingQueueGlobal?.[_0x9259cb(0x3ad)]?.['length']&&(info(_0x9259cb(0x239)+'\x20'+outgoingQueueGlobal[_0x9259cb(0x3ad)][_0x9259cb(0x2e5)]+('\x20unsent\x20me'+_0x9259cb(0x39c)+_0x9259cb(0x412))),await persistQueueToDLQ(outgoingQueueGlobal['queue']));if(detachAllHandlers)detachAllHandlers();if(sock)sock['end'](new Error(_0x9259cb(0x163)+'hutdown\x20on'+'\x20'+_0x423ceb));bot[_0x9259cb(0x193)]?.[_0x9259cb(0x15d)]?.(),workerPool[_0x9259cb(0x2e5)]>0x12de+0x1*-0x2441+0x1163&&(await Promise[_0x9259cb(0x19e)](workerPool[_0x9259cb(0x29e)](_0x4c686c=>_0x4c686c[_0x9259cb(0x2c0)]())),info(_0x9259cb(0x3aa)+_0x9259cb(0x2a3)+'inated.'));}catch(_0x91b613){error(_0x91b613,_0x9259cb(0x324)+_0x9259cb(0x200)+'n');}finally{info(_0x9259cb(0x23d)+_0x9259cb(0x37e)),process[_0x9259cb(0x3b7)](0xa27+0x2419+-0x2e40);}}process['on']('SIGINT',()=>shutdown(_0x242689(0x1fa))),process['on'](_0x242689(0x2a6),()=>shutdown(_0x242689(0x2a6))),process['on']('uncaughtEx'+_0x242689(0x3b1),_0x9ed5f7=>{const _0x5280c6=_0x242689;fatal(_0x5280c6(0x2dd)+_0x5280c6(0x3b1),_0x9ed5f7);}),process['on']('unhandledR'+_0x242689(0x1e0),_0x370a5a=>{const _0x8114e=_0x242689;fatal(_0x8114e(0x189)+'ejection',_0x370a5a);}),startBot()['catch'](_0x3f587a=>{const _0xf3ca=_0x242689;error(_0x3f587a,'Failed\x20to\x20'+_0xf3ca(0x1bc)),scheduleRestart(_0xf3ca(0x211)+_0xf3ca(0x1a0));});export default bot;