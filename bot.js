const _0x5a6ed9=_0x19a9;(function(_0x8f8e95,_0x305191){const _0x140b46=_0x19a9,_0x9ba191=_0x8f8e95();while(!![]){try{const _0x92a2ba=parseInt(_0x140b46(0x25b))/(-0x142*-0x1b+-0x1532+-0x129*0xb)+parseInt(_0x140b46(0x359))/(-0x182f+0x3be+0x5*0x417)+-parseInt(_0x140b46(0x329))/(0x220f+-0x2*-0x3fb+0x2*-0x1501)+parseInt(_0x140b46(0x159))/(-0xb41+-0x3*0xaa1+0xaca*0x4)*(-parseInt(_0x140b46(0x1bb))/(-0x1df8+-0x5c9*-0x2+0x126b))+-parseInt(_0x140b46(0x1e0))/(0xe28+-0x416+-0x2*0x506)+-parseInt(_0x140b46(0x1ed))/(-0x1*-0x6e2+-0x1d89*0x1+0x16ae*0x1)+parseInt(_0x140b46(0x2e6))/(0x2d*0x97+-0x1283*-0x1+-0x2d06);if(_0x92a2ba===_0x305191)break;else _0x9ba191['push'](_0x9ba191['shift']());}catch(_0x9ab846){_0x9ba191['push'](_0x9ba191['shift']());}}}(_0x300f,0x5f*-0x621+0x2446b*-0x1+0x6660e));import{register}from'node:module';import{pathToFileURL}from'node:url';register(_0x5a6ed9(0x1d0)+_0x5a6ed9(0x28d)+_0x5a6ed9(0x22d)+'s',pathToFileURL('./'));import _0x571d6e from'util';import _0x4c6e74 from'axios';import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,jidNormalizedUser,makeCacheableSignalKeyStore,getUrlInfo,generateLinkPreviewIfRequired,downloadMediaMessage,getAggregateVotesInPollMessage,proto,areJidsSameUser,isJidGroup,isJidStatusBroadcast,isJidBroadcast,isJidNewsletter}from'@whiskeysockets/baileys';import{Worker}from'worker_threads';import _0x20fe89 from'os';import _0x32e7bb from'qrcode-terminal';import _0xb4e2ad from'pino';import _0x38c42d from'events';import _0x4317ad from'path';import _0x5c426c from'fs/promises';import{existsSync,readFileSync}from'fs';import{fileURLToPath}from'url';import{createRequire}from'module';import _0x51895b from'p-queue';import{Writable}from'stream';import{ensureAuth,deepSerialize}from'./qrcode.js';import{initLogger,debug,info,warn,error,fatal}from'./utils/logger.js';import*as _0x53764c from'./utils/connection.js';import{isadmin}from'./utils/isadmin.js';import{initBotState}from'./utils/bot-state.js';const require=createRequire(import.meta[_0x5a6ed9(0x29c)]),__filename=fileURLToPath(import.meta[_0x5a6ed9(0x29c)]),__dirname=_0x4317ad[_0x5a6ed9(0xce)](__filename);let cfg;try{const configModule=await import('./utils/config.js');cfg=configModule[_0x5a6ed9(0x15b)](),configModule[_0x5a6ed9(0x144)+'onfig']&&configModule['hotReloadC'+_0x5a6ed9(0x19f)](_0xe0e8eb=>{const _0x5343bd=_0x5a6ed9;info('Hot-reload'+_0x5343bd(0x18b)+_0x5343bd(0x27e)+_0x5343bd(0xf4)+_0xe0e8eb['join'](',\x20')+')'),cfg=configModule[_0x5343bd(0x15b)]();});}catch(_0x108e6f){cfg={'CACHE_TTL_MS':(-0x29e*0x5+-0x4*0x427+0x1dee)*(0x3*0xcdb+-0x3*0x8f7+0x7c4*-0x1),'CACHE_MAX_SIZE_BYTES':(-0x144c+0x24f*-0x1+-0x1*-0x16af)*(0x1*-0x661+0x2*-0x872+0xd*0x219)*(-0x149b+0x1ac9+-0x22e),'MEMORY_STORE_MAX_BYTES':(0x1e9a+0x1*-0x19d1+0x5*-0x91)*(0x2091*-0x1+0x21c7*0x1+0x2*0x165)*(0x7*0x277+-0x14*-0x78+0x78b*-0x3),'AUTH_STATE_DIR':_0x5a6ed9(0x2f0),'RATE_LIMIT':{'window':0x3e8,'limit':0x5},'OUTGOING_MAX_QUEUE':0x7d0,'SEND_RETRY_ATTEMPTS':0x2,'SEND_RETRY_BASE_MS':0x1f4,'PREVIEW_BLOCKLIST':[],'PREVIEW_ALLOWLIST':null,'PREVIEW_RETRY_ATTEMPTS':0x2,'PREVIEW_TIMEOUT_MS':0xbb8,'PREVIEW_CACHE_TTL_MS':(0x5e0+0x155*-0xe+0xd02)*(-0xe3*0x7+-0x1*0x103d+0xb57*0x2)*(0x1412+0x1f36+-0x2f60),'CONTACT_CACHE_TTL_MS':(-0x98a+-0x1d5*-0x1+-0x6b*-0x13)*(0xb2*-0x14+0xe17+0xd)*(-0x9*0x245+0x17*-0x9d+0x2670),'CHAT_CACHE_TTL_MS':(0x46d+-0x1edd+0x1a8e)*(0x1*-0x209+0x11c*-0x2+-0x3*-0x17f)*(0x668+-0x1e0f+0x53*0x55),'SHUTDOWN_DRAIN_MS':0x1388,'DLQ_PATH':_0x5a6ed9(0x1f1),'DLQ_MAX_SIZE_BYTES':(0x18c6+0x64d*-0x4+0x46e)*(0xef7*0x1+-0x4f8*-0x2+-0x14e7),'DLQ_MAX_FILES':0x5,'BAILEYS_BROWSER':[_0x5a6ed9(0x375),_0x5a6ed9(0x12e),_0x5a6ed9(0x94)],'GENERATE_HIGH_QUALITY_LINK_PREVIEW':![],'PROJECT_ROOT':process[_0x5a6ed9(0x1b4)](),'COMMAND_PREFIX':null,'ADMIN_TOKEN':process[_0x5a6ed9(0x22f)][_0x5a6ed9(0xb5)+'N']||null,'LOG_LEVEL':'info','BAILEYS_PINO_LEVEL':_0x5a6ed9(0x347),'AUTH_WAL_MAX_FILE_SIZE_KB':0x400,'AUTH_WAL_MAX_LINES':0x2710,'AUTH_WAL_REWRITE_INTERVAL_MS':(-0x2*0x212+0xc2c+-0x803*0x1)*(0x7*0x296+0x430+-0x160e*0x1)*(0x44f*0x1+0x17b3+-0xa*0x269)},warn(_0x5a6ed9(0x2c0)+_0x5a6ed9(0x25c)+'guration;\x20'+_0x5a6ed9(0x253)+_0x5a6ed9(0xca));}try{initLogger(cfg),info('Logger\x20ini'+_0x5a6ed9(0x102)+_0x5a6ed9(0x1aa)+'er)');}catch(_0x62c907){console['error'](_0x5a6ed9(0xeb)+'init\x20logge'+_0x5a6ed9(0xd9)+_0x5a6ed9(0x142)+'js',_0x62c907);}const workerPool=[];let nextWorkerIndex=-0x2*-0xb2f+-0x1ab9+0x45b,nextWorkerTaskId=-0x89e*0x3+0x2277*0x1+0x2*-0x44e;const workerPendingTasks=new Map();function initializeWorkerPool(){const _0x2f5e6a=_0x5a6ed9;try{const _0x372a17=_0x20fe89['cpus']()['length'];if(_0x372a17<=0x3*-0xe5+0xe72+-0xbc2){info(_0x2f5e6a(0xbd)+_0x2f5e6a(0x171)+'cted.\x20I/O\x20'+_0x2f5e6a(0x248)+_0x2f5e6a(0xc8)+_0x2f5e6a(0x279)+_0x2f5e6a(0xf7));return;}const _0x386366=_0x372a17>0xcf5+-0x58*-0x40+-0x22f3?-0xcc1+0x3*-0x60c+-0x3*-0xa4d:0x1*0x22f9+0x1a58+-0x3d50;info(_0x372a17+(_0x2f5e6a(0x363)+_0x2f5e6a(0xb9)+_0x2f5e6a(0x322)+'ing\x20I/O\x20wo'+'rker\x20pool\x20'+_0x2f5e6a(0x2a5))+_0x386366+('\x20worker(s)'+_0x2f5e6a(0x328)));const _0x593b11=_0x4317ad[_0x2f5e6a(0x208)](__dirname,_0x2f5e6a(0x13f)+_0x2f5e6a(0x126));if(!existsSync(_0x593b11)){warn(_0x2f5e6a(0x13f)+'r.js\x20not\x20f'+_0x2f5e6a(0xcb)+_0x593b11+(_0x2f5e6a(0x334)+_0x2f5e6a(0x27d)+'l\x20run\x20on\x20t'+'he\x20main\x20th'+_0x2f5e6a(0x236)));return;}for(let _0x3084cd=-0x202*0x10+-0x1*0xa6+0x20c6;_0x3084cd<_0x386366;_0x3084cd++){const _0x4c6058=new Worker(_0x593b11);_0x4c6058['on']('message',_0x31ade1=>{const _0x3ce6c5=_0x2f5e6a,{taskId:_0x329891,error:_0x12b19a,result:_0x5b4dc3}=_0x31ade1;if(workerPendingTasks[_0x3ce6c5(0xa6)](_0x329891)){const {resolve:_0x5ce2db,reject:_0x12143d}=workerPendingTasks[_0x3ce6c5(0x192)](_0x329891);_0x12b19a?_0x12143d(new Error(_0x12b19a)):_0x5ce2db(_0x5b4dc3),workerPendingTasks[_0x3ce6c5(0x2bc)](_0x329891);}}),_0x4c6058['on'](_0x2f5e6a(0x347),_0x2432d2=>{const _0x592484=_0x2f5e6a;error(_0x592484(0x16d)+_0x592484(0x265)+_0x3084cd+(_0x592484(0x218)+_0x592484(0x161)+_0x592484(0x15e)),_0x2432d2);for(const [_0x129b86,{reject:_0x242819,workerId:_0x5eaa1e}]of workerPendingTasks[_0x592484(0x2ee)]()){_0x5eaa1e===_0x3084cd&&(_0x242819(new Error(_0x592484(0x16d)+_0x592484(0x265)+_0x3084cd+_0x592484(0xa8))),workerPendingTasks[_0x592484(0x2bc)](_0x129b86));}}),_0x4c6058['on'](_0x2f5e6a(0x101),_0x241984=>{const _0x58e417=_0x2f5e6a;_0x241984!==-0x1ead+-0x1bb*-0xb+0x5*0x254&&warn(_0x58e417(0x16d)+_0x58e417(0x265)+_0x3084cd+(_0x58e417(0x302)+_0x58e417(0x1c8)+'ode\x20')+_0x241984+('.\x20It\x20will\x20'+_0x58e417(0x238)+_0x58e417(0x2ca)));const _0x50e6a3=workerPool[_0x58e417(0xfc)](_0x4c6058);_0x50e6a3>-(-0x1*-0x202+0x26ab*-0x1+0x24aa)&&workerPool['splice'](_0x50e6a3,0x92f*0x1+0x1314+0x1*-0x1c42);for(const [_0x4354d2,{reject:_0x584bcc,workerId:_0x22ce6e}]of workerPendingTasks['entries']()){_0x22ce6e===_0x3084cd&&(_0x584bcc(new Error(_0x58e417(0x16d)+_0x58e417(0x265)+_0x3084cd+'\x20exited.')),workerPendingTasks[_0x58e417(0x2bc)](_0x4354d2));}}),workerPool['push'](_0x4c6058);}workerPool[_0x2f5e6a(0x177)]>-0x1e*-0xab+0x991*-0x2+0x2*-0x74?info(_0x2f5e6a(0x23d)+_0x2f5e6a(0x16a)+_0x2f5e6a(0x164)+_0x2f5e6a(0x130)+_0x2f5e6a(0xd0)+workerPool[_0x2f5e6a(0x177)]+('\x20worker(s)'+'.')):warn(_0x2f5e6a(0x1e9)+_0x2f5e6a(0x199)+_0x2f5e6a(0x1be)+'\x20failed.\x20F'+'alling\x20bac'+_0x2f5e6a(0xbe)+_0x2f5e6a(0x187));}catch(_0x361123){error(_0x2f5e6a(0xeb)+_0x2f5e6a(0x1e3)+_0x2f5e6a(0x22c)+_0x2f5e6a(0x34e)+_0x2f5e6a(0x19e)+_0x2f5e6a(0xbe)+_0x2f5e6a(0x270)+_0x2f5e6a(0xcf),_0x361123),workerPool[_0x2f5e6a(0x177)]=-0x26e6*-0x1+-0x25f0+-0xf6;}}async function handleTaskDirectly(_0x6ee35c){const _0x25ff8a=_0x5a6ed9,{type:_0xfffdbc,payload:_0x317e9c}=_0x6ee35c;switch(_0xfffdbc){case'WRITE_ATOM'+'IC':return _atomicWriteDirect(_0x317e9c['filePath'],_0x317e9c[_0x25ff8a(0x191)]);case'APPEND_FIL'+'E':await _0x5c426c['mkdir'](_0x4317ad['dirname'](_0x317e9c['filePath']),{'recursive':!![]});return _0x5c426c[_0x25ff8a(0x2a3)](_0x317e9c[_0x25ff8a(0xf6)],_0x317e9c[_0x25ff8a(0x191)],'utf8');case'MANAGE_LOG'+_0x25ff8a(0x2ac):return manageLogFileDirect(_0x317e9c[_0x25ff8a(0xf6)],_0x317e9c[_0x25ff8a(0x191)],_0x317e9c['maxSize']);default:throw new Error(_0x25ff8a(0x2ff)+_0x25ff8a(0x27a)+'r\x20worker\x20t'+_0x25ff8a(0x2bb)+_0xfffdbc+'\x22');}}function postTaskToPool(_0x218b8a){const _0xa39488=_0x5a6ed9;if(workerPool[_0xa39488(0x177)]===-0x9d*-0xf+-0x59a+-0x399)return handleTaskDirectly(_0x218b8a);return new Promise((_0x51ee2d,_0x3a1c62)=>{const _0x552b44=_0xa39488,_0x2bd2e6=nextWorkerTaskId++,_0x3e7e02=nextWorkerIndex;workerPendingTasks[_0x552b44(0x120)](_0x2bd2e6,{'resolve':_0x51ee2d,'reject':_0x3a1c62,'workerId':_0x3e7e02});const _0x1ba944=workerPool[_0x3e7e02];_0x1ba944[_0x552b44(0x134)+'e']({'taskId':_0x2bd2e6,..._0x218b8a}),nextWorkerIndex=(nextWorkerIndex+(0x56*-0xe+-0x5f9*0x5+0x2292))%workerPool[_0x552b44(0x177)],setTimeout(()=>{const _0x3bd277=_0x552b44;workerPendingTasks[_0x3bd277(0xa6)](_0x2bd2e6)&&(_0x3a1c62(new Error(_0x3bd277(0x215)+'k\x20\x22'+_0x218b8a[_0x3bd277(0x353)]+_0x3bd277(0x29a)+_0x2bd2e6+(_0x3bd277(0x165)+'t.'))),workerPendingTasks['delete'](_0x2bd2e6));},-0xea*-0xc7+-0x1*0xc95+-0x9d*0x55);});}const globalMessagesToSuppress=['Removing\x20o'+'ld\x20closed\x20'+'session:\x20S'+_0x5a6ed9(0x2e5)+'y','Failed\x20to\x20'+_0x5a6ed9(0x2f1)+_0x5a6ed9(0x15d)+_0x5a6ed9(0x2e3)+_0x5a6ed9(0x1de),_0x5a6ed9(0x16b)+_0x5a6ed9(0xba)+_0x5a6ed9(0x222),_0x5a6ed9(0x14d)+_0x5a6ed9(0x95),_0x5a6ed9(0x255)+_0x5a6ed9(0x18c)+_0x5a6ed9(0xd8),_0x5a6ed9(0x33c)+_0x5a6ed9(0x2b7)+_0x5a6ed9(0x266)+'\x20new\x20outgo'+'ing\x20prekey'+_0x5a6ed9(0x1d5),_0x5a6ed9(0xac)+_0x5a6ed9(0xa3)+_0x5a6ed9(0x288)+'of\x20incomin'+'g\x20prekey\x20b'+_0x5a6ed9(0x98),_0x5a6ed9(0x1ac)+_0x5a6ed9(0x1b7)+_0x5a6ed9(0x201)+'session.','failed\x20to\x20'+_0x5a6ed9(0x2f1)+_0x5a6ed9(0x31b),_0x5a6ed9(0x1a8)+_0x5a6ed9(0x100)+_0x5a6ed9(0x2f1)+_0x5a6ed9(0x31b),_0x5a6ed9(0x211)+_0x5a6ed9(0x343)];process[_0x5a6ed9(0x33f)]['write']=createGlobalFilteringWriter(process['stdout'][_0x5a6ed9(0x125)]['bind'](process[_0x5a6ed9(0x33f)])),process[_0x5a6ed9(0x2e1)]['write']=createGlobalFilteringWriter(process[_0x5a6ed9(0x2e1)][_0x5a6ed9(0x125)][_0x5a6ed9(0x10c)](process[_0x5a6ed9(0x2e1)]));function createGlobalFilteringWriter(_0x3e40e5){return function(_0x188d42,_0x49fe22,_0x10af9d){const _0x3d66a0=_0x19a9;try{const _0x239f88=_0x188d42[_0x3d66a0(0xa9)]();if(globalMessagesToSuppress[_0x3d66a0(0x140)](_0x4345e3=>_0x239f88[_0x3d66a0(0x321)](_0x4345e3))){if(typeof _0x10af9d==='function')_0x10af9d();return!![];}}catch(_0x35c02f){}return _0x3e40e5(_0x188d42,_0x49fe22,_0x10af9d);};}class FifoMutex{constructor(){const _0x3044a3=_0x5a6ed9;this[_0x3044a3(0x108)]=![],this[_0x3044a3(0x374)]=[];}async['acquire'](){const _0x4edbd6=_0x5a6ed9;if(!this['_locked']){this[_0x4edbd6(0x108)]=!![];let _0x54ec5c=![];return()=>{!_0x54ec5c&&(_0x54ec5c=!![],this['_release']());};}return new Promise(_0x2b67c2=>this['_queue']['push'](_0x2b67c2))[_0x4edbd6(0x169)](()=>{let _0x467ddd=![];return()=>{const _0x29dfd0=_0x19a9;!_0x467ddd&&(_0x467ddd=!![],this[_0x29dfd0(0xaf)]());};});}[_0x5a6ed9(0xaf)](){const _0x316ed1=_0x5a6ed9;if(this['_queue'][_0x316ed1(0x177)]>0x109d+0x23c9*0x1+-0x161*0x26)this[_0x316ed1(0x374)][_0x316ed1(0x301)]()();else this[_0x316ed1(0x108)]=![];}}const authMutex=new FifoMutex(),storeMutex=new FifoMutex(),logFileMutex=new FifoMutex(),MAX_LOG_SIZE_BYTES=(-0x1*0x253d+-0x1d96+0x42d4)*(0x1*-0x1ab+-0xb54*0x1+0x10ff)*(0xb07+0x58f+-0xc96),LOG_FILE_PATH=_0x4317ad[_0x5a6ed9(0x10b)](process[_0x5a6ed9(0x1b4)](),_0x5a6ed9(0x191),_0x5a6ed9(0x22a),'leave_join'+_0x5a6ed9(0x2ab)),voluntaryLeaverStore=new Map();async function manageLogFileDirect(_0x27af5e,_0x491d75,_0x121904){const _0x4ec1c1=_0x5a6ed9,_0xc806b3=await logFileMutex[_0x4ec1c1(0x2c5)]();try{await _0x5c426c[_0x4ec1c1(0x1d6)](_0x4317ad[_0x4ec1c1(0xce)](_0x27af5e),{'recursive':!![]}),await _0x5c426c['appendFile'](_0x27af5e,_0x491d75,'utf8');const _0x5e1662=await _0x5c426c['stat'](_0x27af5e)[_0x4ec1c1(0x204)](()=>({'size':0x0}));if(_0x5e1662['size']>_0x121904){const _0x4993a1=await _0x5c426c[_0x4ec1c1(0x2da)](_0x27af5e,_0x4ec1c1(0x244));let _0x3b0cc3=_0x4993a1[_0x4ec1c1(0x200)]('\x0a')[_0x4ec1c1(0x2d0)](_0x4403e5=>_0x4403e5['trim']()!=='');while(Buffer[_0x4ec1c1(0x13b)](_0x3b0cc3[_0x4ec1c1(0x10b)]('\x0a'),_0x4ec1c1(0x244))>_0x121904&&_0x3b0cc3[_0x4ec1c1(0x177)]>0x9*-0x1f2+0x15cc+-0xb7*0x6){_0x3b0cc3[_0x4ec1c1(0x301)]();}const _0x3f22ad=_0x3b0cc3[_0x4ec1c1(0x177)]>0x1777+0x2*0x1b2+-0x1adb?_0x3b0cc3[_0x4ec1c1(0x10b)]('\x0a')+'\x0a':'';await _0x5c426c[_0x4ec1c1(0x308)](_0x27af5e,_0x3f22ad,_0x4ec1c1(0x244));}}finally{_0xc806b3();}}async function writeLogEntry(_0xf5483a){const _0x469204=_0x5a6ed9,_0x29ff95=JSON[_0x469204(0x1e4)](_0xf5483a)+'\x0a';try{await postTaskToPool({'type':'MANAGE_LOG'+_0x469204(0x2ac),'payload':{'filePath':LOG_FILE_PATH,'data':_0x29ff95,'maxSize':MAX_LOG_SIZE_BYTES}});}catch(_0x47c0a2){warn(_0x469204(0xeb)+_0x469204(0x286)+_0x469204(0x23a)+_0x469204(0x143)+_0x469204(0x1ba),_0x47c0a2);}}const baileysLogInterceptor=new Writable({'write'(_0x36b419,_0x456d5c,_0x1b5bb2){const _0x4b3160=_0x5a6ed9;try{const _0x3f5aa2=_0x36b419[_0x4b3160(0xa9)]();if(!_0x3f5aa2[_0x4b3160(0x321)](_0x4b3160(0xd5))){_0x1b5bb2();return;}const _0x123f0b=JSON[_0x4b3160(0x104)](_0x3f5aa2);if(_0x123f0b[_0x4b3160(0x109)]==='sent\x20ack'&&_0x123f0b[_0x4b3160(0xe5)]){const _0xfb63fd=_0x123f0b[_0x4b3160(0xe5)][_0x4b3160(0x369)];if(_0xfb63fd&&_0xfb63fd[_0x4b3160(0x1a9)+'t']&&voluntaryLeaverStore[_0x4b3160(0xa6)](_0xfb63fd[_0x4b3160(0x1a9)+'t'])){const _0x32425c=voluntaryLeaverStore[_0x4b3160(0x192)](_0xfb63fd[_0x4b3160(0x1a9)+'t']),_0x2263db={'id':_0xfb63fd['id'],'groupId':_0x32425c[_0x4b3160(0x351)],'action':_0x4b3160(0x163),'type':_0x4b3160(0x340)+_0x4b3160(0x181),'notify':_0xfb63fd[_0x4b3160(0x1fb)],'participant_pn':_0xfb63fd['participan'+_0x4b3160(0x127)]};writeLogEntry(_0x2263db),voluntaryLeaverStore[_0x4b3160(0x2bc)](_0xfb63fd[_0x4b3160(0x1a9)+'t']);}}}catch(_0x1f8859){}_0x1b5bb2();}}),messageEditCache=new Map(),MESSAGE_CACHE_TTL_MS=(-0x1*0x140e+-0x3b*-0x51+-0x1*-0x172)*(-0xcc5*0x2+0x14a4+0x12*0x49)*(-0x365*-0x2+-0x12b3+0xfd1*0x1),baileysPinoLevel=(cfg[_0x5a6ed9(0x235)+_0x5a6ed9(0xb1)]||_0x5a6ed9(0x347))['toString']();let baileysPinoLogger=_0xb4e2ad({'level':baileysPinoLevel}),_authState_for_flush=null,_authRewriteTimer=null,_authWriteInProgress=![],_walLineCount=-0x22*-0x96+0x1462+0xe*-0x2e1;async function _atomicWriteDirect(_0x107b59,_0x187ad5){const _0xbcff27=_0x5a6ed9,_0x34ff2d=_0x4317ad[_0xbcff27(0xce)](_0x107b59),_0x470ba7=_0x4317ad[_0xbcff27(0x10b)](_0x34ff2d,_0x4317ad['basename'](_0x107b59)+'.'+Date[_0xbcff27(0x29d)]()+_0xbcff27(0x226));return await _0x5c426c['mkdir'](_0x34ff2d,{'recursive':!![]})[_0xbcff27(0x204)](()=>{}),await _0x5c426c[_0xbcff27(0x308)](_0x470ba7,_0x187ad5,{'encoding':_0xbcff27(0x244)}),await _0x5c426c[_0xbcff27(0xe7)](_0x470ba7,_0x107b59),_0x107b59;}async function _atomicWriteAuthFile(_0x58a80d,_0x599d06){const _0x118859=_0x5a6ed9,_0x4c1a2d=_0x4317ad[_0x118859(0x10b)](_0x599d06,_0x118859(0xa2)),_0x5209c7=JSON[_0x118859(0x1e4)](_0x58a80d,null,-0x169*-0xe+-0x12a0+0x2*-0x8e);return postTaskToPool({'type':_0x118859(0x2ce)+'IC','payload':{'filePath':_0x4c1a2d,'data':_0x5209c7}});}async function _appendWalFile(_0x4c50dc,_0x2845d6){const _0x1c8c0a=_0x5a6ed9;_walLineCount++;const _0x2299cb=_0x4317ad[_0x1c8c0a(0x10b)](_0x2845d6,_0x1c8c0a(0x2b2)),_0x4aaadb=JSON[_0x1c8c0a(0x1e4)](_0x4c50dc)+'\x0a';return postTaskToPool({'type':_0x1c8c0a(0x284)+'E','payload':{'filePath':_0x2299cb,'data':_0x4aaadb}});}async function flushAuthToDisk(){const _0x1bf346=_0x5a6ed9;if(!_authState_for_flush||_authWriteInProgress)return;_authWriteInProgress=!![];if(_authRewriteTimer)clearTimeout(_authRewriteTimer);const _0x1ea361=await authMutex[_0x1bf346(0x2c5)]();try{const {state:_0x3a0809,authDir:_0x488def}=_authState_for_flush,_0xc6daa4=_0x3a0809[_0x1bf346(0x9f)]?_0x3a0809[_0x1bf346(0x9f)][_0x1bf346(0x2e9)]?_0x3a0809[_0x1bf346(0x9f)][_0x1bf346(0x2e9)]():{}:{},_0x1f4a01={'creds':deepSerialize(_0x3a0809[_0x1bf346(0x1c5)]),'keys':deepSerialize(_0xc6daa4)};await _atomicWriteAuthFile(_0x1f4a01,_0x488def);const _0x3ae567=_0x4317ad[_0x1bf346(0x10b)](_0x488def,_0x1bf346(0x2b2));await _0x5c426c[_0x1bf346(0x308)](_0x3ae567,'',_0x1bf346(0x244))[_0x1bf346(0x204)](_0x29c001=>warn(_0x1bf346(0xeb)+_0x1bf346(0x21b)+_0x1bf346(0x239)+_0x29c001[_0x1bf346(0x227)])),_walLineCount=0x2180+0x1*0x36a+-0x24ea,debug(_0x1bf346(0x21c)+_0x1bf346(0x25d)+_0x1bf346(0x9e)+_0x1bf346(0x15c));}catch(_0xc6d632){warn(_0x1bf346(0x1fe)+'oDisk\x20(ful'+'l\x20rewrite)'+'\x20failed',_0xc6d632?.['message']||_0xc6d632);}finally{_authWriteInProgress=![],_0x1ea361(),scheduleAuthRewrite();}}function scheduleAuthFlush(_0xfd67ac){const _0x233e45=_0x5a6ed9,_0x3c4e2f=_authState_for_flush?.[_0x233e45(0x2a1)];if(!_0x3c4e2f)return;_appendWalFile(_0xfd67ac,_0x3c4e2f)[_0x233e45(0x204)](_0x5bff93=>warn('WAL\x20append'+_0x233e45(0x24e)+_0x5bff93[_0x233e45(0x227)]));const _0x4998a9=_0x4317ad[_0x233e45(0x10b)](_0x3c4e2f,_0x233e45(0x2b2));_0x5c426c[_0x233e45(0x213)](_0x4998a9)[_0x233e45(0x169)](_0x178cc7=>{const _0x414a59=_0x233e45;if(_0x178cc7[_0x414a59(0x153)]>(cfg[_0x414a59(0x2e4)+'AX_FILE_SI'+_0x414a59(0x179)]||-0xee2+0x1*0x9eb+0x8f7)*(0x15e3+-0x1398+0x1b5)){info(_0x414a59(0x223)+_0x414a59(0x11c)+'reached.\x20F'+_0x414a59(0x154)+_0x414a59(0x234)+_0x414a59(0x2a4));if(_authRewriteTimer)clearTimeout(_authRewriteTimer);flushAuthToDisk();}})[_0x233e45(0x204)](()=>{});if(_walLineCount>(cfg[_0x233e45(0x2e4)+_0x233e45(0x261)]||0x122*0x11+0x95*-0x4b+0x3f75)){info(_0x233e45(0x12f)+'ount\x20limit'+'\x20reached.\x20'+_0x233e45(0x355)+_0x233e45(0x1a5)+_0x233e45(0x1f9));if(_authRewriteTimer)clearTimeout(_authRewriteTimer);flushAuthToDisk();}}function scheduleAuthRewrite(){const _0x375aad=_0x5a6ed9;if(_authRewriteTimer)clearTimeout(_authRewriteTimer);const _0x287ed2=cfg[_0x375aad(0x294)+'EWRITE_INT'+'ERVAL_MS']||(0xbc*-0x5+0x1*-0x5de+-0x98f*-0x1)*(-0x1752+-0x1*0x26c+0xe*0x1db)*(-0x2133+0xa22+0x1af9);_0x287ed2>0x1217*-0x1+-0x15ba+0x27d1&&(_authRewriteTimer=setTimeout(()=>{flushAuthToDisk();},_0x287ed2));}function registerAuthStateForFlush(_0x13df9f){_authState_for_flush=_0x13df9f,scheduleAuthRewrite();}async function loadCredsFromDiskWithWal(_0x31de26){const _0x5ba1e2=_0x5a6ed9,_0x14e06d=_0x4317ad[_0x5ba1e2(0x10b)](_0x31de26,_0x5ba1e2(0xa2)),_0x152849=_0x4317ad['join'](_0x31de26,_0x5ba1e2(0x2b2));let _0x2eba9e={'creds':{},'keys':{}};try{existsSync(_0x14e06d)&&(_0x2eba9e=JSON[_0x5ba1e2(0x104)](readFileSync(_0x14e06d,_0x5ba1e2(0x244))));}catch(_0x27665c){debug(_0x5ba1e2(0x2c0)+'read\x20main\x20'+_0x5ba1e2(0x1c0)+':\x20'+_0x27665c[_0x5ba1e2(0x227)]+'.');}try{if(existsSync(_0x152849)){info(_0x5ba1e2(0x110)+'ound.\x20Repl'+_0x5ba1e2(0x1e6)+_0x5ba1e2(0x1a1));const _0x5184d6=readFileSync(_0x152849,'utf8')[_0x5ba1e2(0x200)]('\x0a')['filter'](Boolean);_walLineCount=_0x5184d6['length'];for(const _0x11ebd3 of _0x5184d6){try{const _0xa193c3=JSON[_0x5ba1e2(0x104)](_0x11ebd3);_0xa193c3[_0x5ba1e2(0x353)]==='creds'&&_0xa193c3[_0x5ba1e2(0x11a)]&&Object[_0x5ba1e2(0x2f9)](_0x2eba9e[_0x5ba1e2(0x1c5)],_0xa193c3[_0x5ba1e2(0x11a)]);}catch(_0x3170af){warn(_0x5ba1e2(0x28b)+_0x5ba1e2(0x357)+_0x5ba1e2(0x1a4));}}info(_0x5ba1e2(0x339)+_0x5184d6[_0x5ba1e2(0x177)]+(_0x5ba1e2(0x254)+_0x5ba1e2(0x25f)));}}catch(_0x183a83){warn('Error\x20proc'+_0x5ba1e2(0x36b)+_0x5ba1e2(0x2d4)+_0x183a83[_0x5ba1e2(0x227)]+'.');}return _0x2eba9e;}async function loadLocalCredsFileStartup(_0x1fca80){const _0x50be79=_0x5a6ed9;try{return await loadCredsFromDiskWithWal(_0x1fca80);}catch(_0xdb2fb4){return debug('loadLocalC'+_0x50be79(0x268)+_0x50be79(0x2bf)+'ed',_0xdb2fb4?.[_0x50be79(0x227)]||_0xdb2fb4),null;}}const CREDS_API_BASE=_0x5a6ed9(0x368)+_0x5a6ed9(0x26a)+_0x5a6ed9(0x27c)+'in',SESSION_ID=(process[_0x5a6ed9(0x22f)][_0x5a6ed9(0x173)]||'')[_0x5a6ed9(0x146)](),remoteCredsCircuitBreaker={'state':_0x5a6ed9(0x14f),'failures':0x0,'successes':0x0,'nextAttempt':Date[_0x5a6ed9(0x29d)](),'FAILURE_THRESHOLD':0x3,'SUCCESS_THRESHOLD':0x2,'OPEN_TIMEOUT':(-0xf6c+0x266c+-0x16fb)*(-0x1de1+0x4*0x38f+0xfe1)*(-0xfe8+-0x1*0x1237+0x2607)};function recordFailure(){const _0x251cdf=_0x5a6ed9,_0x65029a=remoteCredsCircuitBreaker;_0x65029a[_0x251cdf(0x1d3)]++,_0x65029a[_0x251cdf(0x290)]=0x17ac+0x26a*0xd+-0x370e,_0x65029a['failures']>=_0x65029a[_0x251cdf(0x272)+_0x251cdf(0x325)]&&(_0x65029a[_0x251cdf(0xea)]='OPEN',_0x65029a[_0x251cdf(0x283)+'t']=Date[_0x251cdf(0x29d)]()+_0x65029a['OPEN_TIMEO'+'UT'],warn('[CIRCUIT_B'+_0x251cdf(0x19b)+_0x251cdf(0x2ea)+_0x251cdf(0x185)+'d\x20too\x20many'+'\x20times.\x20Op'+_0x251cdf(0x2d6)+_0x251cdf(0x257)+_0x251cdf(0x1ce)));}function recordSuccess(){const _0x59799b=_0x5a6ed9,_0x4f7904=remoteCredsCircuitBreaker;_0x4f7904[_0x59799b(0x290)]++;if(_0x4f7904[_0x59799b(0xea)]===_0x59799b(0xbf)&&_0x4f7904[_0x59799b(0x290)]>=_0x4f7904[_0x59799b(0x2c4)+_0x59799b(0x325)])_0x4f7904[_0x59799b(0xea)]=_0x59799b(0x14f),_0x4f7904['failures']=-0x1d5d*0x1+0x5ec+0x1771,info(_0x59799b(0x1af)+_0x59799b(0x19b)+_0x59799b(0x2ea)+_0x59799b(0x145)+'able.\x20Clos'+_0x59799b(0x1f7)+'t.');else _0x4f7904['state']===_0x59799b(0x14f)&&(_0x4f7904[_0x59799b(0x1d3)]=0x1d27*0x1+-0x262b+0x904);}async function fetchRemoteCredsAxios(_0x34610c,_0x134733={'timeoutMs':0x1388,'retries':0x2}){const _0x117c15=_0x5a6ed9,_0x175ae2=remoteCredsCircuitBreaker;if(_0x175ae2['state']===_0x117c15(0x23b)){if(Date[_0x117c15(0x29d)]()>=_0x175ae2['nextAttemp'+'t'])_0x175ae2['state']=_0x117c15(0xbf),info(_0x117c15(0x1af)+'REAKER]\x20Ti'+_0x117c15(0x32a)+_0x117c15(0x122)+_0x117c15(0x274)+_0x117c15(0xed)+'.');else throw new Error(_0x117c15(0x1af)+_0x117c15(0x27b)+_0x117c15(0x251)+_0x117c15(0x1eb)+'ttempting\x20'+_0x117c15(0x263)+_0x117c15(0x24c)+new Date(_0x175ae2[_0x117c15(0x283)+'t'])[_0x117c15(0x156)+_0x117c15(0x31c)]());}if(!_0x34610c)throw new Error(_0x117c15(0x2fc)+_0x117c15(0x34f)+'ed');const _0x2fb2cb=CREDS_API_BASE+'/'+encodeURIComponent(_0x34610c)+_0x117c15(0x9b);try{info(_0x117c15(0x17c)+_0x117c15(0x35b)+_0x117c15(0x105)+_0x117c15(0x1dc)+_0x175ae2[_0x117c15(0xea)]+')');const _0x308dcf=await _0x4c6e74[_0x117c15(0x192)](_0x2fb2cb,{'timeout':_0x134733[_0x117c15(0x17e)],'responseType':_0x117c15(0x148),'validateStatus':_0x277c4e=>_0x277c4e>=-0xa78+0x117+0x99*0x11&&_0x277c4e<-0x1dff+0x131*0x1d+0x362*-0x1});return recordSuccess(),info(_0x117c15(0x17c)+'ds\x20fetch\x20s'+_0x117c15(0x29f)),_0x308dcf[_0x117c15(0x191)];}catch(_0xce01b3){recordFailure(),warn(_0x117c15(0x17c)+'ds\x20fetch\x20a'+_0x117c15(0x2a0)+'led:\x20'+(_0xce01b3?.[_0x117c15(0x227)]||_0xce01b3));throw new Error('remote\x20fet'+'ch\x20failed:'+'\x20'+(_0xce01b3?.[_0x117c15(0x227)]||_0xce01b3));}}async function writeLocalCredsFile(_0x524990,_0x30a8d6){return _atomicWriteAuthFile(_0x524990,_0x30a8d6);}function withTimeout(_0x468901,_0xa1f2d8,_0x41f97c=_0x5a6ed9(0x2aa)){const _0x1395cd=_0x5a6ed9;if(typeof _0xa1f2d8!=='number'||_0xa1f2d8<=-0x15cc+0x6ef+-0x1*-0xedd)return _0x468901;return Promise[_0x1395cd(0x20f)]([_0x468901,new Promise((_0x4b51e1,_0x2c5abd)=>setTimeout(()=>_0x2c5abd(new Error(_0x41f97c+(_0x1395cd(0x2c1)+_0x1395cd(0x16f))+_0xa1f2d8+'ms')),_0xa1f2d8))]);}function looksLikeCreds(_0x214b93){const _0x68e05f=_0x5a6ed9;if(!_0x214b93||typeof _0x214b93!=='object')return![];if(!_0x214b93[_0x68e05f(0x1c5)]||typeof _0x214b93[_0x68e05f(0x1c5)]!==_0x68e05f(0x2d5))return![];return _0x214b93[_0x68e05f(0x1c5)][_0x68e05f(0x131)]&&_0x214b93[_0x68e05f(0x1c5)][_0x68e05f(0x2fa)+_0x68e05f(0x2cc)]&&_0x214b93[_0x68e05f(0x1c5)][_0x68e05f(0x278)+_0x68e05f(0xe1)];}class LruMemoryStore{constructor(_0x4b0e0b={}){const _0x33db19=_0x5a6ed9;this[_0x33db19(0x193)]=Number(_0x4b0e0b[_0x33db19(0x193)]||cfg['MEMORY_STO'+_0x33db19(0x337)+'ES']||(0x3*-0x151+-0x14c7+0x1aae)*(0xaae+0xe67+-0x1*0x1515)*(0x43c+-0x1c41*-0x1+-0x1c7d)),this['map']=new Map(),this[_0x33db19(0x111)]=0x3eb*-0x5+0x25d*0x1+0x113a;}[_0x5a6ed9(0x225)+'ytes'](_0x1ca2fa){const _0x5ea3e0=_0x5a6ed9;try{return Buffer[_0x5ea3e0(0x13b)](JSON[_0x5ea3e0(0x1e4)](_0x1ca2fa),_0x5ea3e0(0x244));}catch(_0x5a0bef){return 0x1598+-0x20d9+0x1*0xf41;}}['_touch'](_0xf6c392){const _0x58e187=_0x5a6ed9,_0x668581=this[_0x58e187(0xbb)][_0x58e187(0x192)](_0xf6c392);if(!_0x668581)return;_0x668581[_0x58e187(0xfe)]=Date[_0x58e187(0x29d)](),this[_0x58e187(0xbb)][_0x58e187(0x2bc)](_0xf6c392),this[_0x58e187(0xbb)][_0x58e187(0x120)](_0xf6c392,_0x668581);}[_0x5a6ed9(0x313)+_0x5a6ed9(0x136)](){const _0x23dea0=_0x5a6ed9;if(this['totalBytes']<=this[_0x23dea0(0x193)])return;const _0x499b81=Array[_0x23dea0(0x36c)](this[_0x23dea0(0xbb)][_0x23dea0(0x2ee)]())[_0x23dea0(0xbb)](([_0x132aee,_0x5adc38])=>({'k':_0x132aee,..._0x5adc38}));_0x499b81[_0x23dea0(0x2c9)]((_0x54e12d,_0x321f1a)=>{const _0x526848=_0x23dea0;if((_0x54e12d[_0x526848(0x198)]||0xe3*0x1a+0x320+-0x1a2e)!==(_0x321f1a[_0x526848(0x198)]||-0x1892+-0x2693+0x3f25))return(_0x54e12d[_0x526848(0x198)]||0x902+-0x22*-0x18+0x1be*-0x7)-(_0x321f1a['priority']||0x1*0x1f6+-0x12ed+0x65*0x2b);return(_0x54e12d['lastAccess']||-0x6*-0x16f+-0x1*0x20e4+0x184a)-(_0x321f1a[_0x526848(0xfe)]||-0x4fa+-0x145e+0x1958);});for(const _0xca5072 of _0x499b81){if(this[_0x23dea0(0x111)]<=this[_0x23dea0(0x193)])break;this[_0x23dea0(0xbb)][_0x23dea0(0x2bc)](_0xca5072['k']),this[_0x23dea0(0x111)]-=_0xca5072[_0x23dea0(0x256)]||-0x1*0x2157+0x1b5*0x14+-0xcd,debug('[MEMSTORE]'+'\x20Evicted\x20k'+_0x23dea0(0x12c)+_0xca5072['k']+'\x20bytes='+_0xca5072['bytes']+'\x20priority='+_0xca5072[_0x23dea0(0x198)]);}}[_0x5a6ed9(0x120)](_0x5e8f61,_0x529a52,{ttl:ttl=null,priority:priority=-0x1ea5+-0x20a3+-0x6c*-0x96}={}){const _0x5f0749=_0x5a6ed9,_0x1690dd=this[_0x5f0749(0x225)+_0x5f0749(0x25a)](_0x529a52);if(this[_0x5f0749(0xbb)][_0x5f0749(0xa6)](_0x5e8f61)){const _0x18837f=this['map']['get'](_0x5e8f61);this[_0x5f0749(0x111)]-=_0x18837f[_0x5f0749(0x256)]||0xc85+-0xceb*-0x3+-0x3346,this['map'][_0x5f0749(0x2bc)](_0x5e8f61);}const _0x2e760f={'value':_0x529a52,'bytes':_0x1690dd,'priority':priority,'createdAt':Date[_0x5f0749(0x29d)](),'lastAccess':Date[_0x5f0749(0x29d)](),'ttl':ttl};this[_0x5f0749(0xbb)][_0x5f0749(0x120)](_0x5e8f61,_0x2e760f),this[_0x5f0749(0x111)]+=_0x1690dd,this[_0x5f0749(0x313)+_0x5f0749(0x136)]();}[_0x5a6ed9(0x192)](_0x459d20){const _0x312d55=_0x5a6ed9,_0x48a84a=this[_0x312d55(0xbb)][_0x312d55(0x192)](_0x459d20);if(!_0x48a84a)return null;if(_0x48a84a[_0x312d55(0x2fd)]&&Date[_0x312d55(0x29d)]()-_0x48a84a[_0x312d55(0x1ca)]>_0x48a84a['ttl'])return this[_0x312d55(0xbb)]['delete'](_0x459d20),this[_0x312d55(0x111)]-=_0x48a84a[_0x312d55(0x256)]||-0x17aa+0xee0+0x5a*0x19,null;return this[_0x312d55(0x197)](_0x459d20),_0x48a84a[_0x312d55(0xc1)];}[_0x5a6ed9(0x13c)](_0x138bb1){const _0x48685c=_0x5a6ed9,_0x422ea0=this[_0x48685c(0xbb)][_0x48685c(0x192)](_0x138bb1);if(!_0x422ea0)return;this['totalBytes']-=_0x422ea0[_0x48685c(0x256)]||0x5f6+-0x1dc*0x1+-0x41a*0x1,this[_0x48685c(0xbb)][_0x48685c(0x2bc)](_0x138bb1);}[_0x5a6ed9(0x9f)](){const _0x268920=_0x5a6ed9;return Array[_0x268920(0x36c)](this['map'][_0x268920(0x9f)]());}['toJSON'](){const _0x36865a=_0x5a6ed9,_0x37213b={};for(const [_0x3f42be,_0x384366]of this['map'][_0x36865a(0x2ee)]())_0x37213b[_0x3f42be]=_0x384366[_0x36865a(0xc1)];return _0x37213b;}async[_0x5a6ed9(0xd2)+'e'](_0x4731a1){const _0x173dcf=_0x5a6ed9,_0x2b5beb=await storeMutex[_0x173dcf(0x2c5)]();try{const _0x1519c4={'items':[]};for(const [_0x40bd97,_0x35e798]of this[_0x173dcf(0xbb)][_0x173dcf(0x2ee)]()){_0x1519c4['items'][_0x173dcf(0x182)]({'k':_0x40bd97,'value':_0x35e798[_0x173dcf(0xc1)],'priority':_0x35e798['priority'],'createdAt':_0x35e798[_0x173dcf(0x1ca)],'lastAccess':_0x35e798[_0x173dcf(0xfe)]});}await _0x5c426c[_0x173dcf(0x1d6)](_0x4317ad['dirname'](_0x4731a1),{'recursive':!![]})[_0x173dcf(0x204)](()=>{}),await _0x5c426c[_0x173dcf(0x308)](_0x4731a1,JSON['stringify'](_0x1519c4,null,-0x5*0x7c+0x1334+-0x26*0x71),'utf8'),debug(_0x173dcf(0x13e)+_0x173dcf(0x2fb)+_0x173dcf(0x19d)+_0x4731a1);}catch(_0x53f3cf){warn(_0x173dcf(0xeb)+_0x173dcf(0xb8)+_0x173dcf(0x300),_0x53f3cf);}finally{_0x2b5beb();}}async['readFromFi'+'le'](_0x378dd4){const _0x22bfeb=_0x5a6ed9,_0x3c96a9=await storeMutex[_0x22bfeb(0x2c5)]();try{const _0x296ba7=await _0x5c426c[_0x22bfeb(0x2da)](_0x378dd4,_0x22bfeb(0x244)),_0x549abd=JSON['parse'](_0x296ba7),_0x9ef0eb=_0x549abd[_0x22bfeb(0x18e)]||[];for(const _0x345a5d of _0x9ef0eb)this[_0x22bfeb(0x120)](_0x345a5d['k'],_0x345a5d[_0x22bfeb(0xc1)],{'priority':_0x345a5d[_0x22bfeb(0x198)]||0x1190+-0x35*0x59+0xd*0x11});debug(_0x22bfeb(0x13e)+_0x22bfeb(0x271)+_0x9ef0eb[_0x22bfeb(0x177)]+(_0x22bfeb(0x287)+'m\x20')+_0x378dd4);}catch(_0x55e6c6){debug(_0x22bfeb(0x13a)+_0x22bfeb(0x97)+_0x22bfeb(0x135)+'hing\x20to\x20lo'+_0x22bfeb(0xb7)+'ed',_0x55e6c6?.[_0x22bfeb(0x227)]||_0x55e6c6);}finally{_0x3c96a9();}}}function makeManualStoreFactory(_0x24f7f0={}){const _0x262b65=_0x5a6ed9,_0x2e8354=new LruMemoryStore({'maxBytes':_0x24f7f0['maxBytes']||cfg[_0x262b65(0x12b)+_0x262b65(0x337)+'ES']||(0x1*0x935+-0x19f5+0x12b4)*(-0x2*-0x62f+0x413+-0xc71)*(0x1bb+0x29*-0x53+0xf90)});function _0x2d11d0(_0x93b64c){const _0x23c307=_0x262b65,_0x438cc5='msgbox:'+_0x93b64c;let _0x2f2977=_0x2e8354[_0x23c307(0x192)](_0x438cc5);return!_0x2f2977&&(_0x2f2977={'array':[],'mapById':new Map(),'upsert'(_0xe6373d,_0x33f61b=_0x23c307(0x303)){const _0x1116d2=_0x23c307,_0x375b17=_0xe6373d['key']?.['id']||Date[_0x1116d2(0x29d)]()+'_'+Math[_0x1116d2(0x116)]();if(!this[_0x1116d2(0x306)][_0x1116d2(0xa6)](_0x375b17)){if(_0x33f61b===_0x1116d2(0xd7))this['array'][_0x1116d2(0x28f)](_0xe6373d);else this[_0x1116d2(0x311)]['push'](_0xe6373d);this[_0x1116d2(0x306)][_0x1116d2(0x120)](_0x375b17,_0xe6373d);}else Object[_0x1116d2(0x2f9)](this[_0x1116d2(0x306)][_0x1116d2(0x192)](_0x375b17),_0xe6373d);},'update'(_0x2a106c){const _0x4c9d33=_0x23c307,_0xd54ac4=_0x2a106c[_0x4c9d33(0x231)]?.['id'];if(!_0xd54ac4)return![];const _0x57f563=this['mapById'][_0x4c9d33(0x192)](_0xd54ac4);if(!_0x57f563)return![];return Object[_0x4c9d33(0x2f9)](_0x57f563,_0x2a106c),!![];},'remove'(_0x3b5d74){const _0x24ccdf=_0x23c307,_0x59ddba=_0x3b5d74[_0x24ccdf(0x231)]?.['id'];if(!_0x59ddba)return![];if(!this['mapById'][_0x24ccdf(0xa6)](_0x59ddba))return![];this[_0x24ccdf(0x306)][_0x24ccdf(0x2bc)](_0x59ddba);const _0xdc757b=this['array']['findIndex'](_0x35765d=>_0x35765d[_0x24ccdf(0x231)]?.['id']===_0x59ddba);if(_0xdc757b>=0xb*0x257+0x457*0x5+-0x2f70)this[_0x24ccdf(0x311)][_0x24ccdf(0x241)](_0xdc757b,0x2548+0x1dff+0x1*-0x4346);return!![];},'updateAssign'(_0x39ba0d,_0x3962d5){const _0x476317=_0x23c307,_0x5705d0=this[_0x476317(0x306)][_0x476317(0x192)](_0x39ba0d);if(!_0x5705d0)return![];return Object['assign'](_0x5705d0,_0x3962d5),!![];},'clear'(){const _0x356ab4=_0x23c307;this['array']['length']=0x5*-0x455+-0x21c2+0x1279*0x3,this[_0x356ab4(0x306)][_0x356ab4(0x124)]();},'filter'(_0x1cf553){const _0x2b7a94=_0x23c307,_0x39b139=this[_0x2b7a94(0x311)][_0x2b7a94(0x2d0)](_0x1cf553);this[_0x2b7a94(0x311)]['length']=-0x17b*0x8+-0x11b7+-0x2f*-0xa1,this[_0x2b7a94(0x311)]['push'](..._0x39b139),this['mapById'][_0x2b7a94(0x124)]();for(const _0x4819b9 of this[_0x2b7a94(0x311)])this[_0x2b7a94(0x306)]['set'](_0x4819b9[_0x2b7a94(0x231)]?.['id']||''+Math[_0x2b7a94(0x116)](),_0x4819b9);},'toJSON'(){const _0x59411e=_0x23c307;return this['array'][_0x59411e(0x168)]();},'fromJSON'(_0x5e94c4){const _0x3f333f=_0x23c307;this[_0x3f333f(0x311)][_0x3f333f(0x177)]=0x2*-0xd13+-0xe5d+0x2883,this[_0x3f333f(0x306)][_0x3f333f(0x124)]();for(const _0x1f122c of Array[_0x3f333f(0x21d)](_0x5e94c4)?_0x5e94c4:[]){this[_0x3f333f(0x311)][_0x3f333f(0x182)](_0x1f122c),this['mapById'][_0x3f333f(0x120)](_0x1f122c[_0x3f333f(0x231)]?.['id']||''+Math[_0x3f333f(0x116)](),_0x1f122c);}}},_0x2e8354[_0x23c307(0x120)](_0x438cc5,_0x2f2977)),_0x2f2977;}return{'chats':{},'contacts':{},'groupMetadata':{},'state':{},'presences':{},'labels':{},'_makeMsgBox':_0x2d11d0,'bind'(_0x9f69bf){const _0x2899fa=_0x262b65;if(!_0x9f69bf||typeof _0x9f69bf['on']!==_0x2899fa(0x194))return;_0x9f69bf['on'](_0x2899fa(0x2f4)+_0x2899fa(0x35e),({messages:messages=[]})=>{const _0x64d8fb=_0x2899fa;for(const _0x4f9c2a of messages){this[_0x64d8fb(0x370)+'x'](_0x4f9c2a[_0x64d8fb(0x231)]?.[_0x64d8fb(0x26f)]||'unknown')[_0x64d8fb(0x1a6)](_0x4f9c2a,_0x64d8fb(0x303));}}),_0x9f69bf['on'](_0x2899fa(0x137)+'psert',(_0xb9089a=[])=>{const _0x335774=_0x2899fa;for(const _0x504ac6 of _0xb9089a)if(_0x504ac6?.['id'])this[_0x335774(0x2c6)][_0x504ac6['id']]=_0x504ac6;}),_0x9f69bf['on'](_0x2899fa(0x14e)+'rt',(_0xcfdced=[])=>{const _0x3d83c8=_0x2899fa;for(const _0x7da298 of _0xcfdced)if(_0x7da298?.['id'])this[_0x3d83c8(0x319)][_0x7da298['id']]=_0x7da298;});},async 'loadMessages'(_0x2295dc,_0xd3ff44=0x2*0x9e9+-0xa25+-0x994){const _0x10863e=_0x262b65,_0x3cd963=this[_0x10863e(0x370)+'x'](_0x2295dc),_0x59653a=_0x3cd963[_0x10863e(0x311)]||[];return _0x59653a['slice'](-_0xd3ff44)[_0x10863e(0x2d1)]();},async 'writeToFile'(_0xc3f42b){const _0x43366b=_0x262b65,_0x155667=await storeMutex[_0x43366b(0x2c5)]();try{const _0x1e1dd7={};for(const _0x3dcfc2 of _0x2e8354['keys']()){if(_0x3dcfc2[_0x43366b(0x1f5)](_0x43366b(0x318))){const _0x45b724=_0x3dcfc2['slice'](_0x43366b(0x318)[_0x43366b(0x177)]),_0xbad2e1=_0x2e8354[_0x43366b(0x192)](_0x3dcfc2);_0x1e1dd7[_0x45b724]=_0xbad2e1?_0xbad2e1[_0x43366b(0x33e)]?_0xbad2e1[_0x43366b(0x33e)]():_0xbad2e1[_0x43366b(0x311)]||[]:[];}}const _0xb2652b={'chats':this[_0x43366b(0x319)],'contacts':this[_0x43366b(0x2c6)],'messages':_0x1e1dd7,'groupMetadata':this['groupMetad'+_0x43366b(0xe0)],'state':this[_0x43366b(0xea)]};await _0x5c426c[_0x43366b(0x1d6)](_0x4317ad[_0x43366b(0xce)](_0xc3f42b),{'recursive':!![]})[_0x43366b(0x204)](()=>{}),await _0x5c426c[_0x43366b(0x308)](_0xc3f42b,JSON[_0x43366b(0x1e4)](_0xb2652b,null,-0xc87*0x3+0x1*0x1276+0x3b*0x53),_0x43366b(0x244)),debug(_0x43366b(0x27f)+_0x43366b(0x13d)+_0x43366b(0x10f));}catch(_0x458bd8){warn(_0x43366b(0xeb)+'write\x20stor'+'e\x20to\x20file',_0x458bd8);}finally{_0x155667();}},async 'readFromFile'(_0x635d7b){const _0x397039=_0x262b65,_0x4fb5c0=await storeMutex[_0x397039(0x2c5)]();try{const _0x39ce54=await _0x5c426c[_0x397039(0x2da)](_0x635d7b,_0x397039(0x244)),_0x630a1=JSON[_0x397039(0x104)](_0x39ce54);this['chats']=_0x630a1[_0x397039(0x319)]||{},this[_0x397039(0x2c6)]=_0x630a1['contacts']||{},this[_0x397039(0xab)+_0x397039(0xe0)]=_0x630a1[_0x397039(0xab)+_0x397039(0xe0)]||{},this[_0x397039(0xea)]=_0x630a1[_0x397039(0xea)]||{};const _0x390aa2=_0x630a1[_0x397039(0x184)]||{};for(const _0x5e102e of Object[_0x397039(0x9f)](_0x390aa2)){this[_0x397039(0x370)+'x'](_0x5e102e)['fromJSON'](_0x390aa2[_0x5e102e]);}debug(_0x397039(0x2f5)+_0x397039(0xf3)+_0x397039(0x26d));}catch(_0x99ac39){debug(_0x397039(0x32b)+_0x397039(0x103)+'or\x20failed\x20'+_0x397039(0x123),_0x99ac39?.[_0x397039(0x227)]||_0x99ac39);}finally{_0x4fb5c0();}}};}const store=makeManualStoreFactory({});info(_0x5a6ed9(0xe9)+'al\x20LRU\x20mem'+_0x5a6ed9(0x12d)+'(no\x20Bailey'+_0x5a6ed9(0x2a7)+_0x5a6ed9(0x323));class SimpleCache{constructor(_0xc9f939=cfg[_0x5a6ed9(0x149)+'MS']||(0xde1+0x11*0x18e+-0x2813)*(-0x1061+0xcc7*0x3+-0x302*0x6),_0x540a62=cfg['CACHE_MAX_'+_0x5a6ed9(0x21f)]||(0xd5e+-0x22*-0x4+-0x3a*0x3d)*(0x886*0x2+-0x12f9+0x5ed)*(0x2ed*0x9+-0xf6b*0x2+0x881)){const _0x899407=_0x5a6ed9;this[_0x899407(0x166)]=_0xc9f939,this['maxBytes']=_0x540a62,this['map']=new Map(),this['totalBytes']=0x8c3+-0x298+-0x62b,this[_0x899407(0x273)+'r']=setInterval(()=>this[_0x899407(0x2cf)](),Math[_0x899407(0x205)](0x1*0x1841+0x181f+0x95*-0x10,_0xc9f939));if(this[_0x899407(0x273)+'r'][_0x899407(0x29b)])this[_0x899407(0x273)+'r'][_0x899407(0x29b)]();}[_0x5a6ed9(0x225)+_0x5a6ed9(0x25a)](_0x5e8eb1){const _0x2ee9fb=_0x5a6ed9;try{return Buffer[_0x2ee9fb(0x13b)](JSON[_0x2ee9fb(0x1e4)](_0x5e8eb1),_0x2ee9fb(0x244));}catch(_0x167017){return-0xef5+-0xf2c+0x2221;}}[_0x5a6ed9(0x120)](_0x3da5d7,_0x23cd1b,_0xbf0cb0=this[_0x5a6ed9(0x166)]){const _0x4d3665=_0x5a6ed9;if(this[_0x4d3665(0xbb)][_0x4d3665(0xa6)](_0x3da5d7)){const _0x307b8f=this[_0x4d3665(0xbb)][_0x4d3665(0x192)](_0x3da5d7);this[_0x4d3665(0x111)]-=_0x307b8f[_0x4d3665(0x256)]||0x5a*-0x3d+-0x199b+0x2f0d,this[_0x4d3665(0xbb)][_0x4d3665(0x2bc)](_0x3da5d7);}const _0x421737=this[_0x4d3665(0x225)+'ytes'](_0x23cd1b);while(this[_0x4d3665(0x111)]+_0x421737>this[_0x4d3665(0x193)]&&this[_0x4d3665(0xbb)][_0x4d3665(0x153)]>-0x4a*-0x3e+0x1032+-0x221e){const _0x4eb442=this[_0x4d3665(0xbb)][_0x4d3665(0x9f)]()[_0x4d3665(0x280)]()[_0x4d3665(0xc1)],_0xccb176=this[_0x4d3665(0xbb)]['get'](_0x4eb442);this[_0x4d3665(0x111)]-=_0xccb176['bytes']||0x8be+0x15f*0x1+-0xa1d,this[_0x4d3665(0xbb)][_0x4d3665(0x2bc)](_0x4eb442),debug(_0x4d3665(0x240)+_0x4d3665(0x180)+_0x4eb442+_0x4d3665(0x195)+_0xccb176[_0x4d3665(0x256)]);}const _0x484b01=Date[_0x4d3665(0x29d)]()+_0xbf0cb0;this[_0x4d3665(0xbb)]['set'](_0x3da5d7,{'value':_0x23cd1b,'bytes':_0x421737,'expiry':_0x484b01}),this[_0x4d3665(0x111)]+=_0x421737;}[_0x5a6ed9(0x192)](_0x398de5){const _0x420436=_0x5a6ed9,_0x3da478=this[_0x420436(0xbb)][_0x420436(0x192)](_0x398de5);if(!_0x3da478)return null;if(Date[_0x420436(0x29d)]()>_0x3da478[_0x420436(0x252)])return this[_0x420436(0x111)]-=_0x3da478[_0x420436(0x256)]||0x269f*-0x1+-0x175*0x13+0x424e,this['map']['delete'](_0x398de5),null;return _0x3da478[_0x420436(0x252)]=Date[_0x420436(0x29d)]()+this['defaultTtl'],this[_0x420436(0xbb)][_0x420436(0x2bc)](_0x398de5),this['map'][_0x420436(0x120)](_0x398de5,_0x3da478),_0x3da478[_0x420436(0xc1)];}[_0x5a6ed9(0x13c)](_0x3d233f){const _0x152d7c=_0x5a6ed9,_0x52edab=this['map'][_0x152d7c(0x192)](_0x3d233f);if(!_0x52edab)return;this[_0x152d7c(0x111)]-=_0x52edab[_0x152d7c(0x256)]||-0x2027+0x142e+0xbf9,this[_0x152d7c(0xbb)][_0x152d7c(0x2bc)](_0x3d233f);}[_0x5a6ed9(0x2cf)](){const _0x167fe7=_0x5a6ed9,_0x3cc4ea=Date[_0x167fe7(0x29d)]();for(const [_0x2c0491,_0x3b89fc]of this[_0x167fe7(0xbb)][_0x167fe7(0x2ee)]()){_0x3b89fc[_0x167fe7(0x252)]<=_0x3cc4ea&&(this[_0x167fe7(0x111)]-=_0x3b89fc[_0x167fe7(0x256)]||0x279+-0x2482+0x1*0x2209,this['map'][_0x167fe7(0x2bc)](_0x2c0491));}}[_0x5a6ed9(0x1cb)](){const _0x47b180=_0x5a6ed9;clearInterval(this[_0x47b180(0x273)+'r']),this[_0x47b180(0xbb)][_0x47b180(0x124)](),this[_0x47b180(0x111)]=-0x19d3+-0xc74+0x2647;}}class SlidingWindowRateLimiter{constructor(_0x5c9cf8=0xda4+-0x1871*0x1+-0x3*-0x4e7,_0x43e6f8=0x3*-0x6bf+-0x75e*-0x1+0xce4){const _0x299270=_0x5a6ed9;this[_0x299270(0x282)]=_0x5c9cf8,this[_0x299270(0x217)]=_0x43e6f8,this[_0x299270(0x19c)]=[];}[_0x5a6ed9(0xde)](_0x2ddd23){const _0x4bc1b0=_0x5a6ed9,_0x4e6a0d=_0x2ddd23-this[_0x4bc1b0(0x282)];while(this[_0x4bc1b0(0x19c)][_0x4bc1b0(0x177)]&&this[_0x4bc1b0(0x19c)][0x811+0x109c+-0x18ad*0x1]<_0x4e6a0d)this[_0x4bc1b0(0x19c)][_0x4bc1b0(0x301)]();}[_0x5a6ed9(0x260)](_0x44cb57=Date[_0x5a6ed9(0x29d)]()){const _0x3c5ef5=_0x5a6ed9;return this[_0x3c5ef5(0xde)](_0x44cb57),this['timestamps'][_0x3c5ef5(0x177)];}[_0x5a6ed9(0x18a)](_0x479767=Date[_0x5a6ed9(0x29d)]()){const _0xdb3923=_0x5a6ed9;return this['_cleanup'](_0x479767),this[_0xdb3923(0x19c)]['length']<this[_0xdb3923(0x217)];}[_0x5a6ed9(0x117)](_0xcd6746=Date[_0x5a6ed9(0x29d)]()){const _0x30bc5a=_0x5a6ed9;this[_0x30bc5a(0xde)](_0xcd6746),this[_0x30bc5a(0x19c)][_0x30bc5a(0x182)](_0xcd6746);}[_0x5a6ed9(0xd1)+'extAvailab'+'le'](_0x1f5d1f=Date[_0x5a6ed9(0x29d)]()){const _0xe7902e=_0x5a6ed9;this[_0xe7902e(0xde)](_0x1f5d1f);if(this[_0xe7902e(0x19c)][_0xe7902e(0x177)]<this[_0xe7902e(0x217)])return 0x8f2+0xdef+-0x16e1;const _0x3955ee=this[_0xe7902e(0x19c)][0x1bd4*-0x1+0xaf7*0x3+-0x511*0x1];return Math[_0xe7902e(0x205)](-0x2*0x812+-0x16e8+0x270c,_0x3955ee+this[_0xe7902e(0x282)]-_0x1f5d1f);}}const DLQ_PATH=_0x4317ad[_0x5a6ed9(0x208)](process[_0x5a6ed9(0x1b4)](),cfg['DLQ_PATH']||_0x5a6ed9(0x1f1));async function rotateDLQ(){const _0x145498=_0x5a6ed9,_0x544d99=await storeMutex[_0x145498(0x2c5)]();try{for(let _0x4e0eb6=(cfg[_0x145498(0x138)+_0x145498(0x21e)]||0x1ce1+-0xbf6+-0x10e6)-(0x1da*0x5+-0x3*0xb19+-0x11*-0x16a);_0x4e0eb6>=-0x1d57+0x7de+0x1579*0x1;_0x4e0eb6--){const _0x78ef7d=_0x4e0eb6===0x77*0x27+-0x875*0x1+-0x2*0x4d6?DLQ_PATH:DLQ_PATH+'.'+_0x4e0eb6,_0x3364b5=DLQ_PATH+'.'+(_0x4e0eb6+(-0x25*0x83+0x17d5+0x4e5*-0x1));try{await _0x5c426c[_0x145498(0x2c7)](_0x78ef7d),await _0x5c426c['rename'](_0x78ef7d,_0x3364b5);}catch(_0x5d3c3e){}}await _0x5c426c['writeFile'](DLQ_PATH,'',_0x145498(0x244));}catch(_0x4948e2){warn('Failed\x20to\x20'+'rotate\x20DLQ',_0x4948e2);}finally{_0x544d99();}}async function dlqWrite(_0x1627e0){const _0x40829b=_0x5a6ed9;try{try{const _0x4158d5=await _0x5c426c['stat'](DLQ_PATH)[_0x40829b(0x204)](()=>null);_0x4158d5&&_0x4158d5['size']>(cfg[_0x40829b(0x1d2)+'ZE_BYTES']||(-0x1f20+0x1cd0+0x8*0xca)*(-0x438+0x2fe*0x1+-0x1*-0x53a))&&await rotateDLQ();}catch(_0x3fb6f2){}await postTaskToPool({'type':_0x40829b(0x284)+'E','payload':{'filePath':DLQ_PATH,'data':JSON['stringify'](_0x1627e0)+'\x0a'}});}catch(_0x3ec227){warn('DLQ\x20write\x20'+'failed',_0x3ec227);}}async function attemptSendWithRetry(_0x4d73d1,_0x2a8b47=0x1d5*-0xb+0x1ac3+0x41*-0x1a,_0x14759c=0x1*-0x2162+-0x1*-0x2673+0x31d*-0x1,_0x553c3c={}){const _0x2d7f7b=_0x5a6ed9;let _0x463a43=null;for(let _0x5a9374=-0x126b+-0x43*-0x43+0x1*0xe2;_0x5a9374<=_0x2a8b47;_0x5a9374++){try{return await _0x4d73d1();}catch(_0x158c43){_0x463a43=_0x158c43;if(_0x5a9374===_0x2a8b47){try{await dlqWrite({'error':String(_0x158c43),'time':new Date()[_0x2d7f7b(0xfd)+'g'](),'attempts':_0x2a8b47,'hint':_0x553c3c});}catch(_0xbf095e){warn(_0x2d7f7b(0x1a0)+_0x2d7f7b(0x2f7),_0xbf095e);}throw _0x158c43;}await new Promise(_0x16832a=>setTimeout(_0x16832a,_0x14759c*Math[_0x2d7f7b(0x1e8)](-0x79f+0xe3*-0x1+0x884,_0x5a9374)));}}throw _0x463a43;}class OutgoingSendQueue{constructor(_0x1bd58a,_0x4943b4={}){const _0x21cf91=_0x5a6ed9;this[_0x21cf91(0x1b0)]=[],this[_0x21cf91(0x237)+'r']=_0x1bd58a,this[_0x21cf91(0x119)]=![],this[_0x21cf91(0x1fa)]=null,this[_0x21cf91(0x34a)]=_0x4943b4['maxQueue']||cfg[_0x21cf91(0x219)+_0x21cf91(0x10e)]||-0x2136+-0x25c8+0x4ece,this[_0x21cf91(0x11d)+_0x21cf91(0x2fe)]=_0x4943b4['warnThresh'+_0x21cf91(0x2fe)]||Math[_0x21cf91(0x174)](this[_0x21cf91(0x34a)]*(-0x92d+-0x8bd*0x4+0x1*0x2c21+0.75));}[_0x5a6ed9(0x2c8)](_0x179b9d,_0x43aec0={}){const _0x5d3d3e=_0x5a6ed9,_0x4da889=typeof _0x43aec0[_0x5d3d3e(0x198)]===_0x5d3d3e(0x14a)?_0x43aec0[_0x5d3d3e(0x198)]:0x236f+0xfec+-0x1*0x335b;return new Promise((_0x320475,_0x1e7704)=>{const _0x358603=_0x5d3d3e;if(this[_0x358603(0x1b0)]['length']>=this[_0x358603(0x34a)]){let _0x4a8c8b=-(-0x47*0x3+-0x69f+0x53*0x17);for(let _0x578c3d=-0x4d1*-0x1+-0x738+0x7b*0x5;_0x578c3d<this[_0x358603(0x1b0)]['length'];_0x578c3d++){if((this[_0x358603(0x1b0)][_0x578c3d][_0x358603(0x198)]||-0x12eb+0x11a8*0x2+-0x1065)<_0x4da889){_0x4a8c8b=_0x578c3d;break;}}if(_0x4a8c8b===-(-0x9ab+0x1251+-0x8a5))_0x4a8c8b=-0xf48+-0x1105+0x204d;const _0x1dc48d=this[_0x358603(0x1b0)][_0x358603(0x241)](_0x4a8c8b,-0x714+0x1*-0x407+0xb1c)[-0xe*0x12+0x1*0x8da+-0x7de];try{_0x1dc48d[_0x358603(0x118)]&&_0x1dc48d['reject'](new Error(_0x358603(0xd3)+_0x358603(0x15f)+'g\x20queue\x20du'+_0x358603(0x132)+_0x358603(0x26e)+_0x358603(0x2c2)));}catch(_0x3970c7){debug(_0x358603(0xeb)+_0x358603(0x2af)+_0x358603(0x36d),_0x3970c7[_0x358603(0x227)]);}warn(_0x358603(0x2ad)+_0x358603(0x209)+'ropped\x20que'+_0x358603(0x378)+_0x358603(0x1ef)+(_0x1dc48d[_0x358603(0x198)]||-0x1d*0xaa+0x2*-0x90b+0x2558)+(_0x358603(0x296)+'room\x20(inco'+_0x358603(0x2f2)+'ity=')+_0x4da889+')');}this[_0x358603(0x1b0)][_0x358603(0x182)]({'fn':_0x179b9d,'resolve':_0x320475,'reject':_0x1e7704,'priority':_0x4da889});if(this[_0x358603(0x1b0)][_0x358603(0x177)]>=this[_0x358603(0x11d)+_0x358603(0x2fe)])warn(_0x358603(0x2ad)+'ndQueue\x20le'+_0x358603(0x30d)+'\x20'+this['queue'][_0x358603(0x177)]+'/'+this[_0x358603(0x34a)]);this['_tryProces'+'s']();});}[_0x5a6ed9(0x2b8)+'s'](){const _0x509e0e=_0x5a6ed9;if(this[_0x509e0e(0x119)])return;this[_0x509e0e(0x119)]=!![];const _0x42aa55=async()=>{const _0x3ec230=_0x509e0e;this['nextTimer']&&(clearTimeout(this[_0x3ec230(0x1fa)]),this['nextTimer']=null);const _0x19d1f7=Date[_0x3ec230(0x29d)]();let _0x11c93d=Math[_0x3ec230(0x205)](0x3e1+0x1b5c+-0x1f3d*0x1,this[_0x3ec230(0x237)+'r'][_0x3ec230(0x217)]-this[_0x3ec230(0x237)+'r']['count'](_0x19d1f7));if(_0x11c93d<=0x5f1+-0x106*0x15+0x3*0x52f||this[_0x3ec230(0x1b0)][_0x3ec230(0x177)]===0x3*0x6ff+0xa0b+-0x1f08){const _0x16e70f=this[_0x3ec230(0x237)+'r'][_0x3ec230(0xd1)+'extAvailab'+'le'](_0x19d1f7);if(this[_0x3ec230(0x1b0)][_0x3ec230(0x177)]>0x3ef+0x1a*-0x167+0x2087*0x1)this[_0x3ec230(0x1fa)]=setTimeout(()=>{const _0x33e09a=_0x3ec230;this[_0x33e09a(0x119)]=![],this[_0x33e09a(0x2b8)+'s']();},_0x16e70f+(0xeac+0x49*-0x7a+-0x141f*-0x1));else this[_0x3ec230(0x119)]=![];return;}const _0x199a78=[];for(let _0x62d0fa=0x1cd*-0x8+-0x1*0x231b+0x3183;_0x62d0fa<_0x11c93d&&this[_0x3ec230(0x1b0)][_0x3ec230(0x177)]>-0x2eb+-0xb2*0x20+-0x192b*-0x1;_0x62d0fa++){let _0x520f2d=0x249f+-0x26f0+0x251,_0x3799cd=this[_0x3ec230(0x1b0)][0x25*0x47+-0x54a+0x13*-0x43][_0x3ec230(0x198)]||-0xd5+0x1*0x2a1+-0x1cc;for(let _0x50903a=-0x1c19+-0x2631*0x1+-0x424b*-0x1;_0x50903a<this[_0x3ec230(0x1b0)][_0x3ec230(0x177)];_0x50903a++){const _0x2ec19a=this[_0x3ec230(0x1b0)][_0x50903a]['priority']||0x2*-0xcca+-0x23cf+0x3d63;_0x2ec19a>_0x3799cd&&(_0x3799cd=_0x2ec19a,_0x520f2d=_0x50903a);}const _0x354e1b=this[_0x3ec230(0x1b0)][_0x3ec230(0x241)](_0x520f2d,0xfa0+-0x5*0x315+0x36*-0x1)[-0x1b98+0x3cd*0x2+0x6*0x355];_0x199a78['push'](_0x354e1b);}if(_0x199a78[_0x3ec230(0x177)]>-0x1462+-0x1665+0x2ac7)for(const _0x339fca of _0x199a78){this['rateLimite'+'r']['recordSend'](_0x19d1f7);const _0x3e1ccf={'priority':_0x339fca[_0x3ec230(0x198)]||0x3*-0x226+0xa70+-0x3fe,'fnSnippet':String(_0x339fca['fn'])[_0x3ec230(0x168)](0xbd*0x20+0x22b4+-0xe95*0x4,-0xd41+-0x1c60+0x2a69)};try{const _0x3e06ea=attemptSendWithRetry(_0x339fca['fn'],cfg[_0x3ec230(0x330)+'_ATTEMPTS']||-0x3*-0xce8+0x16ba+-0x3d70,cfg[_0x3ec230(0x330)+_0x3ec230(0x23c)]||0x2cc*-0x5+0x1*-0x1f69+-0x1f*-0x187,_0x3e1ccf);_0x3e06ea[_0x3ec230(0x169)](_0x3e9c10=>_0x339fca[_0x3ec230(0x208)](_0x3e9c10))[_0x3ec230(0x204)](_0x3702ee=>_0x339fca[_0x3ec230(0x118)](_0x3702ee));}catch(_0x4a63b9){_0x339fca[_0x3ec230(0x118)](_0x4a63b9);}}if(this[_0x3ec230(0x1b0)][_0x3ec230(0x177)]>0x1749+-0x94*0x1+-0x16b5){const _0x59e4f8=this[_0x3ec230(0x237)+'r']['timeUntilN'+_0x3ec230(0x139)+'le'](Date[_0x3ec230(0x29d)]());this[_0x3ec230(0x1fa)]=setTimeout(()=>{const _0x52b257=_0x3ec230;this[_0x52b257(0x119)]=![],this[_0x52b257(0x2b8)+'s']();},_0x59e4f8+(0x1de0+0x1fa3+-0x1ec1*0x2));}else this[_0x3ec230(0x119)]=![];};try{_0x42aa55();}catch(_0x1613c3){this['processing']=![],error(_0x1613c3,_0x509e0e(0x2ad)+_0x509e0e(0x259)+_0x509e0e(0x1ee)+_0x509e0e(0x22b));}}}class BotAPI extends _0x38c42d{constructor(){const _0x4e29db=_0x5a6ed9;super(),this[_0x4e29db(0x221)]=new SimpleCache(),this[_0x4e29db(0x262)]=store,this[_0x4e29db(0x28c)]=proto;}async[_0x5a6ed9(0x12a)+'dia'](_0x27ee59,_0x38fdba={}){const _0x4eb6b8=_0x5a6ed9;try{return await downloadMediaMessage(_0x27ee59,_0x4eb6b8(0x186),{},{'logger':baileysPinoLogger,..._0x38fdba});}catch(_0x28ba4b){error(_0x28ba4b,'Failed\x20to\x20'+_0x4eb6b8(0x361)+'edia');throw _0x28ba4b;}}[_0x5a6ed9(0x30e)](_0x422abd){return isJidGroup(_0x422abd);}[_0x5a6ed9(0x2e7)](_0x224539){const _0x507464=_0x5a6ed9;try{if(!_0x224539||typeof _0x224539!==_0x507464(0x281))return![];if(isJidGroup(_0x224539))return![];if(isJidBroadcast(_0x224539))return![];if(isJidStatusBroadcast(_0x224539))return![];return _0x224539[_0x507464(0x321)]('@');}catch(_0x29b1c2){return debug(_0x507464(0x17b)+_0x507464(0x1d4),_0x29b1c2?.[_0x507464(0x227)]||_0x29b1c2),![];}}[_0x5a6ed9(0x9a)+'t'](_0x5640e9){return isJidBroadcast(_0x5640e9);}['areJidsSam'+_0x5a6ed9(0x2be)](_0x3f6a06,_0x2e0ad9){return areJidsSameUser(_0x3f6a06,_0x2e0ad9);}['isStatusBr'+'oadcast'](_0x28dded){const _0x1f1df7=_0x5a6ed9;try{return isJidStatusBroadcast(_0x28dded);}catch(_0x19bb50){return debug('isStatusBr'+_0x1f1df7(0x1b2)+_0x1f1df7(0x1bd)+':',_0x19bb50[_0x1f1df7(0x227)]),![];}}['isNewslett'+_0x5a6ed9(0x299)](_0x3e3be1){const _0x160bd5=_0x5a6ed9;try{return isJidNewsletter(_0x3e3be1);}catch(_0x587a8a){return debug('isNewslett'+_0x160bd5(0x32e)+_0x160bd5(0x232),_0x587a8a[_0x160bd5(0x227)]),![];}}[_0x5a6ed9(0x190)+_0x5a6ed9(0xf0)]({id:_0x45a6cb,participant:_0x2744a2,body:_0x57352f,timestamp:_0x201526}){const _0x2d2dd1=_0x5a6ed9;return{'key':{'id':_0x45a6cb,'remoteJid':_0x2d2dd1(0x331)+_0x2d2dd1(0x314),'participant':_0x2744a2,'fromMe':![]},'message':{'conversation':_0x57352f},'messageTimestamp':Math['floor']((_0x201526||Date[_0x2d2dd1(0x29d)]())/(-0x5e7*0x5+-0xa95+0x2c00))};}async['getPollRes'+_0x5a6ed9(0xb3)](_0x2b4e6e){const _0x54c907=_0x5a6ed9;try{if(_0x2b4e6e['message']?.[_0x54c907(0x1b6)+_0x54c907(0x2d7)])return getAggregateVotesInPollMessage({'message':_0x2b4e6e[_0x54c907(0x227)],'pollCreationMessage':_0x2b4e6e['message'][_0x54c907(0x1b6)+'onMessage']});return null;}catch(_0x59cb0a){return error(_0x59cb0a,_0x54c907(0xeb)+_0x54c907(0xff)+_0x54c907(0xee)),null;}}}const bot=new BotAPI();let sock=null,botJid=null,restartAttempts=0x18a9+-0x1154+-0x755;const MAX_BACKOFF=(0xc7c+0x1c9e+0x1*-0x2915)*(-0x17e9+0x2*0xbb1+-0x41*-0x3)*(0x2299+0x1773+-0x3624);let outgoingQueueGlobal=null,detachAllHandlers=null,registeredModules=new Set();const messageProcessingQueues=new Map(),perJidChains=new Map();function normalizeJidForQueue(_0x29cd77){const _0x51a699=_0x5a6ed9;try{return jidNormalizedUser(_0x29cd77||'');}catch(_0x5c0894){return error('Failed\x20to\x20'+'normalize\x20'+_0x51a699(0x33b)+_0x51a699(0x229),_0x5c0894),String(_0x29cd77||'');}}function _0x19a9(_0x2befd8,_0x4f860f){const _0x3891fd=_0x300f();return _0x19a9=function(_0x2bbe14,_0x1fb7cf){_0x2bbe14=_0x2bbe14-(-0x1*-0x26c9+0x26ca+-0x4cff);let _0x1b6b30=_0x3891fd[_0x2bbe14];return _0x1b6b30;},_0x19a9(_0x2befd8,_0x4f860f);}function enqueuePerJid(_0x2b6195,_0x394968){const _0x19d524=_0x5a6ed9,_0x5b7664=normalizeJidForQueue(_0x2b6195),_0x1d9bf2=perJidChains[_0x19d524(0x192)](_0x5b7664)||Promise[_0x19d524(0x208)](),_0x5d67ea=_0x1d9bf2[_0x19d524(0x204)](()=>{})[_0x19d524(0x169)](()=>_0x394968());return perJidChains['set'](_0x5b7664,_0x5d67ea[_0x19d524(0xb4)](()=>{const _0x280c43=_0x19d524;if(perJidChains[_0x280c43(0x192)](_0x5b7664)===_0x5d67ea)perJidChains[_0x280c43(0x2bc)](_0x5b7664);})),_0x5d67ea;}bot[_0x5a6ed9(0x1c6)+_0x5a6ed9(0x1cc)]=_0x35c8a2=>{const _0x1d8302=_0x5a6ed9;registeredModules[_0x1d8302(0x224)](_0x35c8a2);if(_0x35c8a2[_0x1d8302(0xc9)])try{_0x35c8a2['attach'](bot);}catch(_0x33308a){warn(_0x1d8302(0x15a)+'ach\x20failed',_0x33308a);}},bot['unregister'+_0x5a6ed9(0xb6)]=_0x316884=>{const _0x40fa87=_0x5a6ed9;if(registeredModules[_0x40fa87(0xa6)](_0x316884)){if(_0x316884[_0x40fa87(0x19a)])try{_0x316884['detach'](bot);}catch(_0x465a09){warn(_0x40fa87(0x1db)+_0x40fa87(0x24d),_0x465a09);}registeredModules['delete'](_0x316884);}};async function chooseBaileysVersion(){const _0x54dfcb=_0x5a6ed9;if(cfg['BAILEYS_VE'+_0x54dfcb(0xa5)]){if(Array['isArray'](cfg[_0x54dfcb(0x34c)+'RSION']))return{'version':cfg[_0x54dfcb(0x34c)+_0x54dfcb(0xa5)],'isLatest':![]};if(typeof cfg['BAILEYS_VE'+_0x54dfcb(0xa5)]==='string'){const _0xa9caeb=cfg[_0x54dfcb(0x34c)+_0x54dfcb(0xa5)][_0x54dfcb(0x200)]('.')[_0x54dfcb(0xbb)](_0x4518cd=>parseInt(_0x4518cd,0x1*0x1393+-0x130*0x18+0x8f7)||0x1c76+0xb61+-0x27d7);return{'version':_0xa9caeb,'isLatest':![]};}}try{return await fetchLatestBaileysVersion();}catch(_0x4ab571){return debug(_0x54dfcb(0xeb)+_0x54dfcb(0x2a2)+_0x54dfcb(0x341)+_0x54dfcb(0x14c)+_0x54dfcb(0x36e)+'ck\x20to\x20defa'+_0x54dfcb(0x2b9),_0x4ab571?.[_0x54dfcb(0x227)]||_0x4ab571),{'version':[-0xb71+-0x1*-0x11ef+0x1*-0x677,0x452+0x364+-0x8d*0xe,-0xb92*0x1+0x1230+-0x69e],'isLatest':![]};}}function scheduleRestart(_0xbc9728){const _0x2ef5e9=_0x5a6ed9;restartAttempts++;const _0x316cd9=Math['min'](MAX_BACKOFF,(0x4d2+-0x2469+0x331f)*Math[_0x2ef5e9(0x1e8)](-0x3e2+0x5*-0x12a+0x9b6,Math['max'](0x4b4+-0xf83+0x1*0xacf,restartAttempts-(-0x245e+0x1afc+0x963))));info(_0x2ef5e9(0x107)+_0x2ef5e9(0x2dd)+_0x2ef5e9(0xd4)+restartAttempts+_0x2ef5e9(0x210)+_0x316cd9/(-0x19*-0xb7+-0x1*-0x1c25+-0x5*0x86c)+_0x2ef5e9(0x2e2)+_0xbc9728),setTimeout(async()=>{const _0x3c51a3=_0x2ef5e9;info('Attempting'+'\x20restart\x20n'+_0x3c51a3(0x291));try{if(detachAllHandlers){try{detachAllHandlers();}catch(_0x2bdc9a){debug(_0x3c51a3(0x1d9)+_0x3c51a3(0x1c9)+_0x3c51a3(0x243)+_0x3c51a3(0xa0)+'t:',_0x2bdc9a[_0x3c51a3(0x227)]);}detachAllHandlers=null;}if(sock){try{sock[_0x3c51a3(0x365)](new Error(_0x3c51a3(0x25e)+_0x3c51a3(0x2c3)));}catch(_0x1d5b03){}try{sock['ev'][_0x3c51a3(0x147)+_0x3c51a3(0x214)]?.();}catch(_0x49e446){}sock=null;}if(outgoingQueueGlobal){try{outgoingQueueGlobal[_0x3c51a3(0x1fa)]&&clearTimeout(outgoingQueueGlobal[_0x3c51a3(0x1fa)]);}catch(_0x28b690){}outgoingQueueGlobal=null;}await startBot(),restartAttempts=0x1*0x104b+0x2*-0x621+-0x409*0x1;}catch(_0x2513a5){error(_0x2513a5,_0x3c51a3(0xc6)+'tempt\x20fail'+_0x3c51a3(0x10d)+_0x3c51a3(0x36a)+_0x3c51a3(0xe3)+_0x3c51a3(0xc4)),scheduleRestart(_0xbc9728);}},_0x316cd9);}async function cleanupTempFiles(_0x54833a){const _0x396e84=_0x5a6ed9;info(_0x396e84(0x16c)+_0x396e84(0x1fc)+_0x396e84(0xb0)+_0x396e84(0x17d)+_0x54833a+'...');try{const _0x9b830a=await _0x5c426c[_0x396e84(0x310)](_0x54833a);let _0x45cec3=-0x1978+-0x5*-0x703+0x1*-0x997;for(const _0x2eb09 of _0x9b830a){if(_0x2eb09[_0x396e84(0x17f)](_0x396e84(0x226))){const _0x49c52f=_0x4317ad[_0x396e84(0x10b)](_0x54833a,_0x2eb09);try{await _0x5c426c[_0x396e84(0x345)](_0x49c52f),debug(_0x396e84(0x23f)+_0x396e84(0x33a)+_0x396e84(0x371)+_0x49c52f),_0x45cec3++;}catch(_0x4f1bdb){warn(_0x396e84(0xeb)+_0x396e84(0x336)+_0x396e84(0x316)+_0x49c52f+':',_0x4f1bdb);}}}_0x45cec3>-0xa2*0xf+-0x12ba+0x1c38?info(_0x396e84(0x189)+'mplete.\x20De'+_0x396e84(0x29e)+_0x45cec3+(_0x396e84(0x203)+'\x20file(s).')):info('No\x20tempora'+_0x396e84(0x17a)+_0x396e84(0x2d2)+_0x396e84(0x20d));}catch(_0x4768df){_0x4768df[_0x396e84(0xdf)]==='ENOENT'?info(_0x396e84(0x1ad)+_0x396e84(0x1c4)+_0x54833a+('\x20does\x20not\x20'+'exist,\x20ski'+'pping\x20temp'+_0x396e84(0xec)+_0x396e84(0xc3))):warn(_0x396e84(0x1d9)+'ng\x20tempora'+_0x396e84(0x23e)+_0x396e84(0x338)+_0x54833a+':',_0x4768df);}}async function validateCreds(_0xec1fa9,_0x267a85){return new Promise((_0x402b86,_0x5e1e14)=>{const _0x1b7d30=_0x19a9,{state:_0x521ef4}=_0xec1fa9,_0x35203d=makeCacheableSignalKeyStore(_0x521ef4[_0x1b7d30(0x9f)],_0xb4e2ad({'level':'silent'})),_0x1853b7=_0xb4e2ad({'level':_0x1b7d30(0xfa)}),_0x489da0=makeWASocket({'version':_0x267a85,'auth':{'creds':_0x521ef4[_0x1b7d30(0x1c5)],'keys':_0x35203d},'logger':_0x1853b7,'browser':cfg[_0x1b7d30(0x99)+_0x1b7d30(0x1b1)]}),_0x4efeec=setTimeout(()=>{const _0x6859d1=_0x1b7d30;_0x863137(),_0x5e1e14(new Error(_0x6859d1(0x304)+_0x6859d1(0x1cf)+_0x6859d1(0x113)+_0x6859d1(0x2a6)+_0x6859d1(0x2cd)));},-0x1555*0x3+-0x2*-0x2ea+0x9bd3),_0x863137=()=>{const _0x1364f0=_0x1b7d30;clearTimeout(_0x4efeec);try{_0x489da0['ev']['removeAllL'+_0x1364f0(0x214)]('connection'+_0x1364f0(0x1ff)),_0x489da0['ws']&&_0x489da0['ws'][_0x1364f0(0x376)]!==-0x22ec+0x3*-0xb07+0x4403&&_0x489da0['ws']['readyState']!==-0xb*-0x25+0x281*-0x1+0xed&&_0x489da0[_0x1364f0(0x365)]();}catch(_0x2266cb){}};_0x489da0['ev']['on']('connection'+_0x1b7d30(0x1ff),({connection:_0x25e79d,lastDisconnect:_0x7db99e})=>{const _0x1bed1a=_0x1b7d30;if(_0x25e79d===_0x1bed1a(0x346))_0x863137(),_0x402b86();else{if(_0x25e79d===_0x1bed1a(0x1cb)){const _0x5d8d0c=_0x7db99e?.[_0x1bed1a(0x347)]?.[_0x1bed1a(0x352)]?.[_0x1bed1a(0x31e)],_0x1663d8=[DisconnectReason[_0x1bed1a(0x332)],DisconnectReason['connection'+_0x1bed1a(0x312)],DisconnectReason[_0x1bed1a(0x275)]]['includes'](_0x5d8d0c);if(_0x1663d8)_0x863137(),_0x5e1e14(new Error(_0x1bed1a(0x31a)+'\x20('+(DisconnectReason[_0x5d8d0c]||_0x5d8d0c)+')'));else _0x5d8d0c&&(_0x863137(),_0x5e1e14(_0x7db99e[_0x1bed1a(0x347)]||new Error(_0x1bed1a(0x304)+_0x1bed1a(0x233)+_0x1bed1a(0x11b)+_0x1bed1a(0x1bc)+_0x5d8d0c)));}}});});}async function startBot(){const _0x594432=_0x5a6ed9;try{const _0x18e398=cfg[_0x594432(0x2d3)+_0x594432(0x2f8)]||_0x594432(0x2f0),{version:_0x446354,isLatest:_0x562bd5}=await chooseBaileysVersion();await cleanupTempFiles(_0x18e398),initializeWorkerPool();try{const _0xc10ac=await import('./utils/database.js');_0xc10ac[_0x594432(0x1e3)+_0x594432(0x1ec)]&&(await _0xc10ac['initialize'+_0x594432(0x1ec)](),info(_0x594432(0x14b)+'nitialized'+'\x20successfu'+_0x594432(0x1da)));}catch(_0x479d41){info(_0x594432(0x14b)+'nitializat'+_0x594432(0x2a9)+_0x594432(0x1a3)+'d.');}const _0x226e2a=async()=>{const _0x541946=_0x594432;let _0x4f6875=await loadLocalCredsFileStartup(_0x18e398);if(looksLikeCreds(_0x4f6875)){info(_0x541946(0xdb)+_0x541946(0x121)+_0x541946(0x293)+_0x541946(0x358));try{const _0x2af15b=await ensureAuth({'authDir':_0x18e398,'creds':_0x4f6875,'_isValidation':!![]});return await validateCreds(_0x2af15b,_0x446354),info(_0x541946(0x129)+_0x541946(0x1df)+_0x541946(0x1fd)),_0x2af15b;}catch(_0x520440){warn('Local\x20sess'+'ion\x20is\x20inv'+_0x541946(0x33d)+_0x520440[_0x541946(0x227)]+(_0x541946(0x292)+_0x541946(0xd6)+_0x541946(0x1a2)+_0x541946(0x2b3))),await _0x5c426c['rm'](_0x18e398,{'recursive':!![],'force':!![]})['catch'](_0x231587=>error(_0x541946(0xeb)+_0x541946(0x348)+_0x541946(0x152)+_0x541946(0x34b),_0x231587));}}if(SESSION_ID){info(_0x541946(0xda)+'\x20remote\x20cr'+_0x541946(0xf5)+_0x541946(0x267));try{const _0x2b8dfa=await fetchRemoteCredsAxios(SESSION_ID);if(looksLikeCreds(_0x2b8dfa))return info(_0x541946(0x114)+'reds\x20fetch'+_0x541946(0x106)+_0x541946(0x1a7)),await writeLocalCredsFile(_0x2b8dfa,_0x18e398),await ensureAuth({'authDir':_0x18e398,'creds':_0x2b8dfa,'browser':cfg[_0x541946(0x99)+_0x541946(0x1b1)]});else warn(_0x541946(0xdc)+'\x20returned\x20'+_0x541946(0x1c7)+_0x541946(0x295)+'g\x20back\x20to\x20'+'QR.');}catch(_0x2e3593){warn(_0x541946(0x258)+_0x541946(0x158)+_0x541946(0x207)+_0x2e3593[_0x541946(0x227)]+(_0x541946(0x228)+_0x541946(0x9c)+'.'));}}info('A\x20new\x20logi'+_0x541946(0x9d)+_0x541946(0x1f4)+_0x541946(0x2ed)+_0x541946(0x133));try{return await ensureAuth({'authDir':_0x18e398,'creds':null,'browser':cfg['BAILEYS_BR'+_0x541946(0x1b1)]});}catch(_0x2f5cb6){return error(_0x541946(0x249)+_0x541946(0x160)+_0x541946(0xe2),_0x2f5cb6),null;}},_0x39baca=await _0x226e2a();if(!_0x39baca){scheduleRestart(_0x594432(0xeb)+'obtain\x20any'+_0x594432(0x364)+'dentials.');return;}const {state:_0x5be808}=_0x39baca;registerAuthStateForFlush({'state':_0x5be808,'authDir':_0x18e398});const _0x610ef1=makeCacheableSignalKeyStore(_0x5be808[_0x594432(0x9f)],baileysPinoLogger);try{if(typeof _0x610ef1[_0x594432(0x120)]===_0x594432(0x194)){const _0x48476d=_0x610ef1['set'][_0x594432(0x10c)](_0x610ef1);_0x610ef1[_0x594432(0x120)]=(..._0x4707ae)=>{const _0x1927a3=_0x594432,_0x31243c=_0x48476d(..._0x4707ae);try{scheduleAuthFlush({'type':_0x1927a3(0x30b),'payload':_0x4707ae});}catch(_0xa830cd){debug(_0x1927a3(0x1e2)+'thFlush\x20af'+_0x1927a3(0x2d8)+_0x1927a3(0x1f8),_0xa830cd?.['message']||_0xa830cd);}return _0x31243c;};}if(typeof _0x610ef1[_0x594432(0x163)]===_0x594432(0x194)){const _0x36e46c=_0x610ef1[_0x594432(0x163)][_0x594432(0x10c)](_0x610ef1);_0x610ef1[_0x594432(0x163)]=(..._0x141f1a)=>{const _0x3a0409=_0x594432,_0x126fe1=_0x36e46c(..._0x141f1a);try{scheduleAuthFlush({'type':'keys.remov'+'e','payload':_0x141f1a});}catch(_0x1f59c8){debug(_0x3a0409(0x1e2)+_0x3a0409(0x1ab)+_0x3a0409(0x31f)+_0x3a0409(0x183)+'ed',_0x1f59c8?.[_0x3a0409(0x227)]||_0x1f59c8);}return _0x126fe1;};}}catch(_0x5035e8){debug(_0x594432(0x1f3)+_0x594432(0x344)+_0x594432(0x2f7),_0x5035e8?.[_0x594432(0x227)]||_0x5035e8);}const _0x313e8d=new SlidingWindowRateLimiter(cfg['RATE_LIMIT'][_0x594432(0x36f)]||0x2e*0x1+-0x143*-0x11+0x1*-0x11b9,cfg[_0x594432(0x367)]['limit']||-0x2*-0x601+0x9e1+-0x15de),_0x51b296=new OutgoingSendQueue(_0x313e8d,{'maxQueue':cfg['OUTGOING_M'+_0x594432(0x10e)]});outgoingQueueGlobal=_0x51b296,info(_0x594432(0x96)+_0x594432(0x128)+'n\x20'+_0x446354[_0x594432(0x10b)]('.')+(',\x20isLatest'+'=')+_0x562bd5);const _0x91e6f=[{'stream':baileysLogInterceptor,'level':'trace'},{'stream':process['stderr'],'level':baileysPinoLevel}];baileysPinoLogger=_0xb4e2ad({'level':_0x594432(0x188)},_0xb4e2ad[_0x594432(0xaa)+'m'](_0x91e6f)),sock=makeWASocket({'version':_0x446354,'auth':{'creds':_0x5be808[_0x594432(0x1c5)],'keys':_0x610ef1},'logger':baileysPinoLogger,'browser':cfg['BAILEYS_BR'+_0x594432(0x1b1)],'shouldIgnoreJid':_0xfdaa64=>typeof _0xfdaa64==='string'&&_0xfdaa64['includes']('@broadcast')&&!isJidStatusBroadcast(_0xfdaa64),'generateHighQualityLinkPreview':cfg[_0x594432(0x175)+_0x594432(0x2b1)+'Y_LINK_PRE'+'VIEW']}),store[_0x594432(0x10c)](sock['ev']),sock['ev']['on'](_0x594432(0x366)+'te',_0x1b8bb8=>{const _0x159e5b=_0x594432;try{_0x1b8bb8&&(Object[_0x159e5b(0x2f9)](_0x5be808[_0x159e5b(0x1c5)],_0x1b8bb8),scheduleAuthFlush({'type':_0x159e5b(0x1c5),'payload':_0x1b8bb8}));}catch(_0x48cea5){debug(_0x159e5b(0x366)+'te\x20handler'+_0x159e5b(0x196),_0x48cea5?.[_0x159e5b(0x227)]||_0x48cea5);}});const _0x236ffc=sock[_0x594432(0x362)+'e'][_0x594432(0x10c)](sock);sock['sendMessag'+'e']=async(_0x54117b,_0x483bf9={},_0x3620e8={})=>{const _0x51e131=_0x594432;let _0x21bb69=_0x483bf9;try{if(_0x21bb69&&typeof _0x21bb69===_0x51e131(0x2d5)&&typeof _0x21bb69[_0x51e131(0x202)]==='string'&&!_0x21bb69[_0x51e131(0xef)+'w']){const _0x521619=await _0x92c2f4(_0x21bb69[_0x51e131(0x202)]);if(_0x521619)_0x21bb69={..._0x21bb69,'linkPreview':_0x521619};}}catch(_0x35f1dc){warn('Link\x20previ'+_0x51e131(0x320)+'ion\x20failed',_0x35f1dc);}const _0x13ad73=()=>_0x51b296[_0x51e131(0x2c8)](()=>_0x236ffc(_0x54117b,_0x21bb69,_0x3620e8),{'priority':_0x3620e8&&typeof _0x3620e8[_0x51e131(0x198)]===_0x51e131(0x14a)?_0x3620e8[_0x51e131(0x198)]:0x1f60+-0x2506+-0x2*-0x2d3});return enqueuePerJid(_0x54117b,_0x13ad73);};async function _0x92c2f4(_0x436f08,_0x1e1419=-0x8b*0x24+0x1df+0x11af,_0x48ae57=-0x23c0+-0x11ce+0x4146){const _0x248f50=_0x594432;if(!_0x436f08||typeof _0x436f08!==_0x248f50(0x281))return null;const _0x4ea40f=_0x436f08[_0x248f50(0x10a)](/https?:\/\/[^\s]+/i);if(!_0x4ea40f)return null;const _0x47b19d=_0x4ea40f[-0x298*0x6+0xa21+0x56f];try{const _0x423e9a=new URL(_0x47b19d);if(cfg[_0x248f50(0x315)+'LOWLIST']&&Array[_0x248f50(0x21d)](cfg[_0x248f50(0x315)+_0x248f50(0x305)])&&!cfg[_0x248f50(0x315)+_0x248f50(0x305)][_0x248f50(0x321)](_0x423e9a['hostname']))return null;if((cfg[_0x248f50(0x170)+_0x248f50(0x327)]||[])[_0x248f50(0x321)](_0x423e9a[_0x248f50(0x1d7)]))return null;}catch(_0x44a958){return debug(_0x248f50(0xeb)+'parse\x20prev'+_0x248f50(0x167),_0x44a958),null;}const _0x300f24=_0x248f50(0x1f6)+_0x47b19d,_0x535fe3=bot[_0x248f50(0x221)][_0x248f50(0x192)](_0x300f24);if(_0x535fe3)return _0x535fe3;let _0x11a20c=0x188c+0x161*0x19+-0x3a0b;for(let _0x404702=0xa99+0x14*-0xd4+0x5f7*0x1;_0x404702<=_0x1e1419;_0x404702++){try{const _0x43b11f=await new Promise((_0x48931c,_0x1909bf)=>{const _0xec1163=_0x248f50;let _0x25f700=![];generateLinkPreviewIfRequired(_0x436f08,getUrlInfo,baileysPinoLogger)[_0xec1163(0x169)](_0x6994a2=>{_0x25f700=!![],_0x48931c(_0x6994a2);})[_0xec1163(0x204)](_0x2940f4=>{if(!_0x25f700)_0x1909bf(_0x2940f4);}),setTimeout(()=>{const _0x520c2a=_0xec1163;if(!_0x25f700)_0x1909bf(new Error(_0x520c2a(0x2dc)));},_0x48ae57);});if(_0x43b11f)bot[_0x248f50(0x221)][_0x248f50(0x120)](_0x300f24,_0x43b11f,cfg[_0x248f50(0x372)+_0x248f50(0x155)]||(-0x1001+-0x1d*-0xa1+0x200*-0x1)*(-0x35*0x61+0xa5*-0x3b+0xe96*0x4)*(-0x13ed+0x18f3+0xb*-0x1a));return _0x43b11f;}catch(_0xa289d0){if(_0x404702===_0x1e1419)return warn(_0x248f50(0x2e0)+_0x248f50(0x289)+_0x248f50(0x247),_0xa289d0),null;await new Promise(_0x35e85b=>setTimeout(_0x35e85b,_0x11a20c)),_0x11a20c*=-0x1*-0x22e7+0x74*0x1f+-0x43*0xbb;}}return null;}const _0x4908a5=[],_0x350766=(_0xf99af5,_0x470f2b)=>{const _0x1bc16a=_0x594432;sock['ev']['on'](_0xf99af5,_0x470f2b),_0x4908a5[_0x1bc16a(0x182)]({'event':_0xf99af5,'handler':_0x470f2b});};detachAllHandlers=()=>{const _0x4f16b7=_0x594432;for(const {event:_0x57cc51,handler:_0x105d68}of _0x4908a5){try{sock['ev']['off'](_0x57cc51,_0x105d68);}catch(_0x558f26){}}_0x4908a5[_0x4f16b7(0x177)]=-0x2705+-0xa*0x1a9+0x1eb*0x1d;};const _0x27a524=async _0x39c3db=>{const _0x175b5f=_0x594432,{connection:_0x1ab8df,lastDisconnect:_0x410845,qr:_0x4352e6}=_0x39c3db;if(_0x4352e6){info(_0x175b5f(0x324)+_0x175b5f(0x35a));try{_0x32e7bb['generate'](_0x4352e6,{'small':!![]});}catch(_0x224f88){}}if(_0x1ab8df===_0x175b5f(0x1cb)){const _0x236740=_0x410845?.[_0x175b5f(0x347)],_0x365b39=_0x236740?.[_0x175b5f(0x352)]?.['statusCode'];if(_0x236740?.['message']?.[_0x175b5f(0x321)](_0x175b5f(0xf2))){info(_0x175b5f(0x250)+_0x175b5f(0xe4)+_0x175b5f(0x1c1)),scheduleRestart(_0x175b5f(0xf2));return;}const _0x161109=[DisconnectReason['loggedOut'],DisconnectReason['connection'+_0x175b5f(0x312)],DisconnectReason['badSession']][_0x175b5f(0x321)](_0x365b39);if(_0x161109){error(_0x175b5f(0x1b8)+_0x175b5f(0x1f2)+'\x20'+(DisconnectReason[_0x365b39]||_0x175b5f(0x230))+(_0x175b5f(0x292)+_0x175b5f(0x309)+_0x175b5f(0x20c)+_0x175b5f(0x335)));const _0x10cad0=cfg[_0x175b5f(0x2d3)+'_DIR']||'.auth';try{await _0x5c426c['rm'](_0x10cad0,{'recursive':!![],'force':!![]}),info('Deleted\x20au'+_0x175b5f(0x2a8)+'ry\x20due\x20to\x20'+_0x175b5f(0x26c));}catch(_0x5466de){error(_0x175b5f(0xeb)+_0x175b5f(0x2d9)+'h\x20director'+'y.',_0x5466de);}scheduleRestart(DisconnectReason[_0x365b39]||_0x175b5f(0x246)+_0x365b39);}else info('Connection'+_0x175b5f(0x162)+_0x175b5f(0x26b)+_0x175b5f(0x2bd)),scheduleRestart(String(_0x236740||_0x175b5f(0x28a)));}else{if(_0x1ab8df===_0x175b5f(0x346)){restartAttempts=0x1*0x1463+0x1249*-0x1+-0x21a,botJid=sock[_0x175b5f(0xcc)]?.['id'],info('\x20Connecti'+'on\x20opened\x20'+_0x175b5f(0x1ea)+jidNormalizedUser(botJid)),bot['sendMessag'+'e']=sock[_0x175b5f(0x362)+'e'],bot['sock']=sock,bot[_0x175b5f(0x115)+_0x175b5f(0x1b3)]=_0x92c2f4,bot[_0x175b5f(0xc5)]=_0x3a12d9=>bot[_0x175b5f(0x221)][_0x175b5f(0x192)](_0x175b5f(0x1cd)+_0x3a12d9)||null,initBotState(bot);try{const _0x2e605e=await import('./utils/loader.js');if(_0x2e605e[_0x175b5f(0x1e3)+_0x175b5f(0x2df)])await withTimeout(_0x2e605e[_0x175b5f(0x1e3)+_0x175b5f(0x2df)](bot),-0x2*0x173c+-0x470b+0x9c93,_0x175b5f(0x206)+_0x175b5f(0xae)+'ules');}catch(_0x345d07){warn(_0x175b5f(0xeb)+_0x175b5f(0x18d)+_0x175b5f(0x317)+_0x175b5f(0x326)+'e',_0x345d07?.[_0x175b5f(0x227)]||_0x345d07);}}}};_0x350766(_0x594432(0xf9)+_0x594432(0x1ff),_0x27a524);const _0x27e6e0=async({messages:_0x198508,type:_0x1d882c})=>{const _0x121780=_0x594432;if(_0x1d882c==='notify')for(const _0x5dacad of _0x198508){if(_0x5dacad['key']&&_0x5dacad['message']&&_0x5dacad['message'][_0x121780(0x354)+'on']){const _0x17a2d6=_0x5dacad[_0x121780(0x231)]['id'];messageEditCache[_0x121780(0x120)](_0x17a2d6,_0x5dacad[_0x121780(0x227)][_0x121780(0x354)+'on']),setTimeout(()=>{const _0x3445ba=_0x121780;messageEditCache[_0x3445ba(0xa6)](_0x17a2d6)&&messageEditCache[_0x3445ba(0x2bc)](_0x17a2d6);},MESSAGE_CACHE_TTL_MS);}}if(!_0x198508||!_0x198508[_0x121780(0x177)])return;if(_0x1d882c==='notify')for(const _0x1d7607 of _0x198508){try{store[_0x121780(0x370)+'x'](_0x1d7607[_0x121780(0x231)]?.[_0x121780(0x26f)]||_0x121780(0x28a))['upsert'](_0x1d7607,_0x121780(0x303));}catch(_0x45edc1){}}for(const _0x3a42ce of _0x198508){const _0x10bbac=_0x3a42ce['key']?.[_0x121780(0x26f)]||_0x121780(0x24b)+'at';!messageProcessingQueues['has'](_0x10bbac)&&messageProcessingQueues[_0x121780(0x120)](_0x10bbac,new _0x51895b({'concurrency':0x1})),messageProcessingQueues[_0x121780(0x192)](_0x10bbac)[_0x121780(0x224)](()=>_0x532c7f(_0x3a42ce))['catch'](_0xc17189=>{const _0x516de4=_0x121780;error(_0xc17189,_0x516de4(0x1c3)+_0x516de4(0x1e7)+_0x516de4(0x151)+_0x3a42ce['key']['id']);});}};function _0x301581(_0x52c1fc){const _0xbc3048=_0x594432;if(!_0x52c1fc)return'';return _0x52c1fc[_0xbc3048(0x354)+'on']||_0x52c1fc[_0xbc3048(0xa1)+_0xbc3048(0xe8)]?.[_0xbc3048(0x202)]||_0x52c1fc['imageMessa'+'ge']?.[_0xbc3048(0x216)]||_0x52c1fc[_0xbc3048(0x1b9)+'ge']?.[_0xbc3048(0x216)]||_0x52c1fc[_0xbc3048(0x2b6)+_0xbc3048(0x1f0)]?.[_0xbc3048(0x202)]||_0x52c1fc[_0xbc3048(0x307)+_0xbc3048(0x150)+'ge']?.[_0xbc3048(0x285)+'splayText']||_0x52c1fc[_0xbc3048(0x2db)+_0xbc3048(0x297)]?.[_0xbc3048(0xa7)+_0xbc3048(0x16e)]?.[_0xbc3048(0x285)+_0xbc3048(0x242)]||'';}async function _0x532c7f(_0x47e16c){const _0x3363ec=_0x594432;let _0x28624c=new Set();try{const loader=await import('./utils/loader.js');if(loader[_0x3363ec(0x24f)+'Names'])_0x28624c=loader[_0x3363ec(0x24f)+'Names']();}catch(_0x52dbe3){}try{bot['emit'](_0x3363ec(0xf1)+'e',_0x47e16c);if(!_0x47e16c['message'])return;const _0x131f21=Array[_0x3363ec(0x21d)](cfg[_0x3363ec(0x2b4)+_0x3363ec(0x31d)])?cfg[_0x3363ec(0x2b4)+_0x3363ec(0x31d)][_0x3363ec(0x168)]()[_0x3363ec(0x2c9)]((_0x5dc086,_0x48f1e7)=>_0x48f1e7[_0x3363ec(0x177)]-_0x5dc086['length']):typeof cfg[_0x3363ec(0x2b4)+_0x3363ec(0x31d)]===_0x3363ec(0x281)?[cfg['COMMAND_PR'+'EFIX']]:null,_0x362b66=_0x301581(_0x47e16c[_0x3363ec(0x227)]);let _0x5ae111=_0x362b66,_0x3bb30a=![];if(_0x131f21===null){const _0x1388c6=_0x362b66['trim']()[_0x3363ec(0x200)](/ +/)[_0x3363ec(0x301)]()?.[_0x3363ec(0xf8)+'e']();_0x1388c6&&_0x28624c[_0x3363ec(0xa6)](_0x1388c6)&&(_0x3bb30a=!![]);}else{const _0x2719ab=_0x131f21[_0x3363ec(0x1bf)](_0x278069=>_0x362b66[_0x3363ec(0x1f5)](_0x278069));if(_0x2719ab){const _0x558603=_0x362b66['slice'](_0x2719ab[_0x3363ec(0x177)])[_0x3363ec(0x146)]();_0x558603&&(_0x3bb30a=!![],_0x5ae111=_0x558603);}}const _0x2e80cd=_0x47e16c[_0x3363ec(0x231)]?.[_0x3363ec(0x26f)],_0x33b310=!!(_0x2e80cd&&isJidStatusBroadcast(_0x2e80cd)),_0x36ee4d=_0x47e16c['key'][_0x3363ec(0x1a9)+'t']||_0x47e16c['key']['remoteJid'],_0xe246ea={'message':_0x47e16c[_0x3363ec(0x227)],'key':_0x47e16c[_0x3363ec(0x231)],'pushName':_0x47e16c[_0x3363ec(0x20a)],'remoteJid':_0x2e80cd,'sender':_0x36ee4d,'fromMe':_0x47e16c[_0x3363ec(0x231)][_0x3363ec(0x349)],'messageTimestamp':_0x47e16c[_0x3363ec(0x22e)+_0x3363ec(0x342)],'rawText':_0x362b66,'text':_0x5ae111,'isCommand':_0x3bb30a,'isStatus':_0x33b310,'proto':proto,'reply':_0x2c9e89=>{const _0x2eca6d=_0x3363ec,_0x2a6b18=_0x33b310?_0x36ee4d:_0x2e80cd;if(!_0x2a6b18)return warn(_0x2eca6d(0x18f)+_0x2eca6d(0x11e)+_0x2eca6d(0x34d)+'ine\x20target'+_0x2eca6d(0x32f)),Promise[_0x2eca6d(0x118)](new Error(_0x2eca6d(0x20b)+_0x2eca6d(0x157)+'ply.'));return sock[_0x2eca6d(0x362)+'e'](_0x2a6b18,_0x2c9e89,{'quoted':_0x47e16c});}};if(isJidGroup(_0x2e80cd))try{await isadmin(bot,_0xe246ea)&&await _0x53764c[_0x3363ec(0x2ae)+_0x3363ec(0x2ba)+'r'](_0xe246ea[_0x3363ec(0x1e1)],_0xe246ea[_0x3363ec(0x26f)]);}catch(_0x5c585c){}if(_0x33b310)bot['emit'](_0x3363ec(0x32d),_0xe246ea);bot[_0x3363ec(0x2b0)](_0x3363ec(0x227),_0xe246ea);}catch(_0x5598fc){error(_0x5598fc,_0x3363ec(0xeb)+'process\x20me'+'ssage:\x20'+_0x47e16c[_0x3363ec(0x231)]?.['id']);}}_0x350766('messages.u'+_0x594432(0x35e),_0x27e6e0);const _0x478321=_0x1cce30=>{const _0x1057aa=_0x594432;for(const _0x4e9f7d of _0x1cce30){if(_0x4e9f7d['update']?.['message']?.[_0x1057aa(0x35c)+_0x1057aa(0x1e5)]){const _0x546876=_0x4e9f7d['key']['id'],_0x43a3df=messageEditCache[_0x1057aa(0x192)](_0x546876)||_0x1057aa(0xad)+_0x1057aa(0x30c)+_0x1057aa(0xb2)+']',_0x261d3b={'event':_0x1057aa(0xc7)+'it','chatId':_0x4e9f7d['key'][_0x1057aa(0x26f)],'fromMe':_0x4e9f7d[_0x1057aa(0x231)][_0x1057aa(0x349)],'originalMessageId':_0x546876,'oldText':_0x43a3df,'newText':_0x4e9f7d['update']['message'][_0x1057aa(0x35c)+_0x1057aa(0x1e5)][_0x1057aa(0x227)]?.['conversati'+'on'],'timestamp':new Date((_0x4e9f7d[_0x1057aa(0xa4)][_0x1057aa(0x22e)+'estamp']||Date['now']()/(-0x175d+-0xa8d+0x25d2))*(0x19d+-0x26a3+-0x1*-0x28ee))[_0x1057aa(0xfd)+'g']()};bot[_0x1057aa(0x2b0)]('message.ed'+'it',_0x261d3b),messageEditCache['has'](_0x546876)&&messageEditCache['delete'](_0x546876);}}};_0x350766(_0x594432(0x2f4)+_0x594432(0x277),_0x478321);const _0x3ddf7d=_0x5e2127=>{const _0x46d846=_0x594432,{id:_0x2c0ca4,action:_0x3bf426,author:_0x28d720,participants:_0x5b496c}=_0x5e2127;_0x3bf426==='remove'&&_0x28d720&&_0x5b496c?.['length']===0x29*0xe+0x2*0x8fb+-0x1433&&_0x28d720===_0x5b496c[0x9bd*-0x1+-0x7*-0x41+0x3fb*0x2]&&(voluntaryLeaverStore[_0x46d846(0x120)](_0x28d720,{'groupId':_0x2c0ca4}),setTimeout(()=>{voluntaryLeaverStore['delete'](_0x28d720);},-0x29e*-0x9+-0x6*-0x3f7+-0x1bd0));};_0x350766('group-part'+_0x594432(0x1d8)+_0x594432(0x277),_0x3ddf7d);const _0xa92371=[_0x594432(0x2f3)+'elete',_0x594432(0x178)+_0x594432(0x30a),'message-re'+_0x594432(0x2f6)+'te',_0x594432(0xe6)+_0x594432(0x1dd)+'e',_0x594432(0x350)+_0x594432(0x277),_0x594432(0x137)+'psert',_0x594432(0x137)+_0x594432(0x277),_0x594432(0x14e)+'rt',_0x594432(0x176)+'te',_0x594432(0xcd)+'te',_0x594432(0xc2)+_0x594432(0x2de),_0x594432(0x35f)+_0x594432(0x269),'group.join'+'-request',_0x594432(0x2e8),'blocklist.'+'set',_0x594432(0x21a)+_0x594432(0xa4),_0x594432(0xfb)+'t',_0x594432(0xdd)+'ociation',_0x594432(0x333)+'history.se'+'t',_0x594432(0x2cb)+_0x594432(0xbc)+_0x594432(0x141)];for(const _0x163455 of _0xa92371){_0x163455!==_0x594432(0x2f4)+_0x594432(0x277)&&_0x350766(_0x163455,_0x3c0761=>bot[_0x594432(0x2b0)](_0x163455,_0x3c0761));}}catch(_0x2666a1){error(_0x2666a1,_0x594432(0xeb)+'start\x20bot'),scheduleRestart(_0x594432(0x28e)+_0x594432(0x11f));}}let shuttingDown=![];async function persistQueueToDLQ(_0x237dca){const _0x598de5=_0x5a6ed9;try{for(const _0x523f91 of _0x237dca){await dlqWrite({'queuedAt':Date[_0x598de5(0x29d)](),'hint':String(_0x523f91['fn'])[_0x598de5(0x168)](-0x1*0x1007+-0x186f+0x2876*0x1,-0x1*-0x9c4+0x1896+-0x2*0x10c9),'priority':_0x523f91[_0x598de5(0x198)]||0xdc+0x1f*0xed+-0x439*0x7});}}catch(_0x382f17){warn(_0x598de5(0xeb)+_0x598de5(0x2b5)+_0x598de5(0x1ae)+_0x598de5(0x1c2)+_0x598de5(0x112)+'n',_0x382f17);}}async function shutdown(_0x119008){const _0x3eb67e=_0x5a6ed9;if(shuttingDown)return;shuttingDown=!![],info(_0x3eb67e(0x245)+_0x3eb67e(0x172)+'l='+_0x119008+_0x3eb67e(0x373));try{outgoingQueueGlobal&&(outgoingQueueGlobal[_0x3eb67e(0x2c8)]=()=>Promise[_0x3eb67e(0x118)](new Error('Shutting\x20d'+_0x3eb67e(0x1d1))));await Promise[_0x3eb67e(0x2e9)](Array[_0x3eb67e(0x36c)](messageProcessingQueues[_0x3eb67e(0xc0)]())[_0x3eb67e(0xbb)](_0x10fedc=>_0x10fedc[_0x3eb67e(0x298)]())),info(_0x3eb67e(0x212)+_0x3eb67e(0x2ef)+'ed.'),await flushAuthToDisk(),debug(_0x3eb67e(0x24a)+'\x20flush\x20on\x20'+_0x3eb67e(0x35d));store&&store['writeToFil'+'e']&&(await store['writeToFil'+'e'](_0x4317ad[_0x3eb67e(0x10b)](cfg[_0x3eb67e(0x2d3)+_0x3eb67e(0x2f8)]||_0x3eb67e(0x2f0),_0x3eb67e(0x220))),info('Store\x20save'+'d.'));outgoingQueueGlobal?.[_0x3eb67e(0x1b0)]?.['length']&&(info('Persisting'+'\x20'+outgoingQueueGlobal[_0x3eb67e(0x1b0)]['length']+('\x20unsent\x20me'+_0x3eb67e(0x360)+'DLQ...')),await persistQueueToDLQ(outgoingQueueGlobal['queue']));if(detachAllHandlers)detachAllHandlers();if(sock)sock[_0x3eb67e(0x365)](new Error('Graceful\x20s'+_0x3eb67e(0x276)+'\x20'+_0x119008));bot[_0x3eb67e(0x221)]?.[_0x3eb67e(0x1cb)]?.(),workerPool[_0x3eb67e(0x177)]>0x2084+0x8dc+0x52c*-0x8&&(await Promise[_0x3eb67e(0x2e9)](workerPool[_0x3eb67e(0xbb)](_0x518264=>_0x518264[_0x3eb67e(0x32c)]())),info(_0x3eb67e(0x1e9)+'\x20pool\x20term'+_0x3eb67e(0x377)));}catch(_0x4e366a){error(_0x4e366a,_0x3eb67e(0x1d9)+'ng\x20shutdow'+'n');}finally{info(_0x3eb67e(0x2ec)+_0x3eb67e(0x264)),process[_0x3eb67e(0x101)](-0x8*-0x1c9+0x14d1+-0x2319);}}process['on'](_0x5a6ed9(0x356),()=>shutdown(_0x5a6ed9(0x356))),process['on'](_0x5a6ed9(0x30f),()=>shutdown(_0x5a6ed9(0x30f))),process['on']('uncaughtEx'+_0x5a6ed9(0x20e),_0x83dec2=>{const _0x5f241c=_0x5a6ed9;fatal(_0x5f241c(0x1b5)+'ception',_0x83dec2);}),process['on']('unhandledR'+'ejection',_0x3dd0d4=>{const _0x3b9129=_0x5a6ed9;fatal(_0x3b9129(0x2eb)+'ejection',_0x3dd0d4);}),startBot()['catch'](_0x5af601=>{const _0x12ef3a=_0x5a6ed9;error(_0x5af601,_0x12ef3a(0xeb)+'start\x20bot'),scheduleRestart('Initial\x20st'+_0x12ef3a(0x11f));});function _0x300f(){const _0x5642c8=['.\x20Falling\x20','eue:','tmp','ailed','\x20file\x20work','ter-hook.j','messageTim','env','Unknown','key','k\x20failed:','\x20failed\x20wi','l\x20state\x20re','BAILEYS_PI','read.','rateLimite','not\x20be\x20res','file:\x20','rune\x20volun','OPEN','_BASE_MS','\x20I/O\x20work','ry\x20file\x20cl','Deleted\x20le','[CACHE]\x20Ev','splice','splayText','llHandlers','utf8','Shutting\x20d','status:','failure','operations','FATAL:\x20QR\x20','Final\x20auth','unknown_ch','ch\x20until\x20','ach\x20failed','\x20failed:\x20','getCommand','Bad\x20MAC\x20\x20','rcuit\x20is\x20o','expiry','using\x20defa','\x20updates\x20f','Saved\x20upda','bytes','uit\x20for\x205\x20','Remote\x20rec','ndQueue\x20pr','ytes','192267wIpqoh','load\x20confi','rote\x20full\x20','Restarting','rom\x20WAL.','count','AX_LINES','store','remote\x20fet','omplete.','r\x20#','ession\x20for','ecovery...','redsFileSt','ert','th.thebook','cheduling\x20','logout.','rom\x20file','ity/priori','remoteJid','thread\x20for','\x20Loaded\x20','FAILURE_TH','_sweepTime','g\x20to\x20HALF_','badSession','hutdown\x20on','pdate','registrati','on\x20the\x20mai','handler\x20fo','REAKER]\x20Ci','iebasher.w','ations\x20wil','\x20(changed\x20','[STORE]\x20St','next','string','windowMs','nextAttemp','APPEND_FIL','selectedDi','write\x20or\x20p','\x20items\x20fro','\x20in\x20favor\x20','tch\x20final\x20','unknown','Skipping\x20m','proto','mote-impor','Initial\x20st','unshift','successes','ow...','.\x20Deleting','alidating\x20','AUTH_WAL_R','ta.\x20Fallin',')\x20to\x20make\x20','seMessage','onIdle','erJid','\x22\x20(ID:\x20','unref','url','now','leted\x20','ucceeded.','ttempt\x20fai','authDir','fetch\x20late','appendFile','write.','with\x20','t\x20after\x2025','s\x20makeInMe','th\x20directo','ion\x20skippe','operation','.log','_FILE','OutgoingSe','setActiveG','reject\x20dro','emit','IGH_QUALIT','creds.wal','xt\x20method.','COMMAND_PR','persist\x20ou','statusText','ale\x20open\x20s','_tryProces','ult','roupForUse','ask\x20type\x20\x22','delete','restart.','eUser','artup\x20fail','Could\x20not\x20','\x20timed\x20out','tization','\x20bot','SUCCESS_TH','acquire','contacts','access','enqueue','sort','pawned.','newsletter','tityKey','\x20seconds','WRITE_ATOM','_sweep','filter','reverse','ound\x20to\x20cl','AUTH_STATE','\x20file:\x20','object','ening\x20circ','onMessage','ter\x20keys.s','delete\x20aut','readFile','listRespon','timeout','\x20restart\x20a','ate','Modules','Preview\x20fe','stderr','s\x20due\x20to:\x20','\x20any\x20known','AUTH_WAL_M','essionEntr','2867184OTFZxN','isUser','call','all','mote\x20creds','unhandledR','Shutdown\x20c','e\x20scan\x20the','entries','eues\x20drain','.auth','decrypt\x20me','ming\x20prior','messages.d','messages.u','[STORE]\x20Re','ceipt.upda','failed','_DIR','assign','signedIden','\x20Persisted','no\x20session','ttl','old','No\x20direct\x20','mory\x20store','shift','\x20stopped\x20w','append','Validation','LOWLIST','mapById','buttonsRes','writeFile','\x20local\x20aut','eaction','keys.set','message\x20no','ngth\x20high:','isGroup','SIGTERM','readdir','array','Replaced','_evictIfNe','adcast','PREVIEW_AL','p\x20file\x20','tialize\x20lo','msgbox:','chats','Logged\x20out','ssage','meString','EFIX','statusCode','ter\x20keys.r','ew\x20generat','includes','\x20Initializ','moryStore)','QR\x20Code\x20re','RESHOLD','ader\x20modul','OCKLIST','...','557259LaxyGp','meout\x20elap','No\x20prior\x20s','terminate','status','erJid\x20chec','\x20JID.','SEND_RETRY','status@bro','loggedOut','messaging-','.\x20I/O\x20oper','arting.','delete\x20tem','RE_MAX_BYT','eanup\x20in\x20','Replayed\x20','ftover\x20tem','JID\x20for\x20qu','Closing\x20st','alid:\x20','toJSON','stdout','voluntary_','st\x20Baileys','estamp','eKey\x20ID','eys\x20store\x20','unlink','open','error','delete\x20inv','fromMe','maxQueue','dir','BAILEYS_VE','not\x20determ','er\x20pool.\x20F','\x20id\x20provid','presence.u','groupId','output','type','conversati','Forcing\x20fu','SIGINT','alformed\x20W','session...','42324xsmrhk','ceived','ds\x20fetch\x20a','editedMess','shutdown.','psert','groups.ups','ssages\x20to\x20','download\x20m','sendMessag','\x20CPU\x20cores','\x20valid\x20cre','end','creds.upda','RATE_LIMIT','https://au','attrs','chedule\x20an','essing\x20WAL','from','pped\x20item:','falling\x20ba','window','_makeMsgBo','p\x20file:\x20','PREVIEW_CA',')...','_queue','lwskky','readyState','inated.','ued\x20item\x20(','19.1.0','eds.json\x22','Using\x20Bail','re\x20readFro','undle','BAILEYS_BR','isBroadcas','/creds','back\x20to\x20QR','n\x20is\x20requi','auth\x20state','keys','\x20on\x20restar','extendedTe','creds.json','en\x20session','update','RSION','has','singleSele','\x20crashed.','toString','multistrea','groupMetad','Closing\x20op','[Original\x20','tializeMod','_release','temporary\x20','NO_LEVEL','t\x20in\x20cache','ults','finally','ADMIN_TOKE','Module','ad\x20or\x20fail','persist\x20me','\x20detected.','ror:Error:','map','.join-requ','Single\x20CPU','k\x20to\x20main\x20','HALF_OPEN','values','value','groups.upd','nup.','mpt','getContact','Restart\x20at','message-ed','\x20will\x20run\x20','attach','ults.','ound\x20at\x20','user','chats.dele','dirname','\x20I/O.','ly\x20with\x20','timeUntilN','writeToFil','Dropped\x20fr','ttempt\x20#','sent\x20ack','\x20creds\x20and','prepend','to\x20disk','r\x20from\x20uti','Attempting','Local\x20cred','Remote\x20API','labels.ass','_cleanup','code','ata','onId','failed.','other\x20atte','scheduling','recv','messages.m','rename','xtMessage','Using\x20manu','state','Failed\x20to\x20','\x20file\x20clea','OPEN\x20state','esults','linkPrevie','WebMessage','raw.messag','Bad\x20MAC','ad\x20store\x20f','keys:\x20','edential\x20r','filePath','n\x20thread.','toLowerCas','connection','silent','labels.edi','indexOf','toISOStrin','lastAccess','get\x20poll\x20r','\x20found\x20to\x20','exit','tialized\x20(','tore\x20file\x20','parse','ttempt\x20(st','ed\x20success','Scheduling','_locked','msg','match','join','bind','ed,\x20will\x20s','AX_QUEUE','n\x20to\x20file','WAL\x20file\x20f','totalBytes','on\x20shutdow','n\x20timed\x20ou','\x20Remote\x20c','generatePr','random','recordSend','reject','processing','payload','th\x20status\x20','ize\x20limit\x20','warnThresh','ed:\x20could\x20','art\x20failed','set','s\x20found.\x20V','sed.\x20Movin','to\x20read\x20it','clear','write','r.js','t_pn','eys\x20versio','\x20Local\x20se','downloadMe','MEMORY_STO','ey=','ory\x20store\x20','Chrome','WAL\x20line\x20c','successful','noiseKey','e\x20to\x20capac','\x20QR\x20code.','postMessag','mFile:\x20not','eded','contacts.u','DLQ_MAX_FI','extAvailab','Memory\x20sto','byteLength','del','ore\x20writte','[MEMSTORE]','file-worke','some','est','ls/logger.','tary\x20leave','hotReloadC','\x20API\x20is\x20st','trim','removeAllL','json','CACHE_TTL_','number','Database\x20i','\x20version,\x20','\x22\x20.auth/cr','chats.upse','CLOSED','ponseMessa','sage\x20','alid\x20auth\x20','size','orcing\x20ful','CHE_TTL_MS','toLocaleTi','JID\x20for\x20re','overy\x20fail','12aetIyx','module.att','getConfig','\x20to\x20disk.','ssage\x20with','cal\x20error:','om\x20outgoin','scan\x20flow\x20','ed\x20a\x20criti','\x20closed.\x20S','remove','itialized\x20',')\x20timed\x20ou','defaultTtl','iew\x20URL','slice','then','er\x20pool\x20in','Session\x20er','Running\x20cl','File\x20worke','ctReply','\x20after\x20','PREVIEW_BL','\x20core\x20dete','own\x20(signa','SESSION_ID','floor','GENERATE_H','chats.upda','length','messages.r','ZE_KB','ry\x20files\x20f','isUser\x20che','Remote\x20cre','files\x20in\x20','timeoutMs','endsWith','icted\x20','leave','push','emove\x20fail','messages','\x20API\x20faile','buffer','thread.','trace','Cleanup\x20co','canSend','ing\x20config','ted\x20creds\x20','import/ini','items','Reply\x20fail','makeStatus','data','get','maxBytes','function','\x20size=','\x20error','_touch','priority','\x20pool\x20init','detach','REAKER]\x20Re','timestamps','\x20store\x20to\x20','alling\x20bac','onfig','DLQ\x20write\x20','ges...','\x20trying\x20ne','d\x20or\x20faile','AL\x20entry.','ll\x20state\x20r','upsert','fully.','No\x20session','participan','utils/logg','thFlush\x20af','Decrypted\x20','Auth\x20direc','tgoing\x20que','[CIRCUIT_B','queue','OWSER','oadcast\x20ch','eview','cwd','uncaughtEx','pollCreati','message\x20wi','Unrecovera','videoMessa','\x20log\x20file:','332015ZHHwrF','code\x20','eck\x20failed','ialization','find','creds\x20file','\x20restart','ue\x20to\x20DLQ\x20','Error\x20proc','tory\x20','creds','registerMo','invalid\x20da','ith\x20exit\x20c','ng\x20detachA','createdAt','close','dule','contact:','minutes.','\x20connectio','./utils/re','own','DLQ_MAX_SI','failures','ck\x20failed','\x20bundle','mkdir','hostname','icipants.u','Error\x20duri','lly.','module.det','ate=','edia-updat','\x20session','ssion\x20is\x20v','65526BrIbSj','sender','scheduleAu','initialize','stringify','age','aying\x20chan','essing\x20mes','pow','I/O\x20worker','for\x20','pen.\x20Not\x20a','Database','379708TNaPUl','ocessing\x20f','priority=','Message','.dlq','ble\x20error:','patching\x20k','red.\x20Pleas','startsWith','preview:','ing\x20circui','et\x20failed','ewrite.','nextTimer','notify','eanup\x20for\x20','alid.','flushAuthT','.update','split','th\x20closed\x20','text','\x20temporary','catch','max','loader.ini','ed:\x20','resolve','ndQueue:\x20d','pushName','No\x20target\x20','h\x20and\x20rest','ean\x20up.','ception','race','\x20in\x20','Invalid\x20Pr','Message\x20qu','stat','isteners','Worker\x20tas','caption','limit','\x20encounter','OUTGOING_M','blocklist.','clear\x20WAL\x20','[AUTH]\x20Rew','isArray','LES','SIZE_BYTES','store.json','cache','\x20Bad\x20MAC','WAL\x20file\x20s','add','_estimateB','.tmp','message'];_0x300f=function(){return _0x5642c8;};return _0x300f();}export default bot;