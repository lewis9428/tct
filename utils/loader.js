const _0x57ec0f=_0x2086;(function(_0x1d563b,_0x46dad3){const _0x1c58b8=_0x2086,_0x61e96f=_0x1d563b();while(!![]){try{const _0x392ad1=-parseInt(_0x1c58b8(0x308))/(0x3d0*-0x2+0x6c7+0xda)+-parseInt(_0x1c58b8(0x13a))/(0x1*-0x9d9+-0xa51+0x4*0x50b)+-parseInt(_0x1c58b8(0x274))/(0x17e*0x19+0x74e+0x1*-0x2c99)*(-parseInt(_0x1c58b8(0x2f1))/(-0x8bd*0x2+0x1545+0x3c7*-0x1))+parseInt(_0x1c58b8(0x17d))/(-0xdb*-0x9+0x2522+-0x2cd0)+-parseInt(_0x1c58b8(0x251))/(-0x235c*0x1+0x4bf+0xfd*0x1f)+-parseInt(_0x1c58b8(0x339))/(-0x4*-0x901+0x1c*-0x98+-0x1*0x135d)*(-parseInt(_0x1c58b8(0x12f))/(0x53d+0x1bb9+0x1*-0x20ee))+parseInt(_0x1c58b8(0x35c))/(-0xba0+0x2f*0xbb+-0xb56*0x2);if(_0x392ad1===_0x46dad3)break;else _0x61e96f['push'](_0x61e96f['shift']());}catch(_0x1ddf34){_0x61e96f['push'](_0x61e96f['shift']());}}}(_0x2df3,0x279e1+-0xeedd+0xc2f*0x23));import{EventEmitter}from'events';EventEmitter[_0x57ec0f(0x14b)+_0x57ec0f(0x215)]=-0x1e20+-0x52*0x13+0x2454;import{readdir,stat,readFile}from'fs/promises';import _0x47a24c from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x34d8c8 from'p-limit';import _0x2103e5 from'crypto';import{performance,PerformanceObserver}from'perf_hooks';import{info,warn,error,debug,trace}from'./logger.js';import{hotReloadConfig,getConfig,PROJECT_ROOT}from'./config.js';const __dirname=_0x47a24c['dirname'](fileURLToPath(import.meta[_0x57ec0f(0x36f)])),MAX_INTERVAL_MS=0x18e51e08+0x1*-0x9184e395+0xf89fc58c,isProduction=process[_0x57ec0f(0x207)][_0x57ec0f(0x146)]===_0x57ec0f(0x16f)||process[_0x57ec0f(0x203)][_0x57ec0f(0x290)](_0x57ec0f(0x31d));let chokidar=null;const DEPENDENCY_GRAPH=new Map(),CONFIG_DEPENDENCY_MAP=new Map(),modules=new Map();let messageHandlers=[],callbackHandlers=[],isReloading=![],moduleLoadStats={'totalLoads':0x0,'totalFailures':0x0,'lastError':null,'avgLoadTime':0x0,'maxLoadTime':0x0};const allCommandNames=new Set();let concurrencyLimiter=_0x34d8c8(getConfig()['MODULE_CON'+_0x57ec0f(0x364)+'IMIT']||-0x3*0xa93+0x1*0x1ff9+-0x3b*0x1);const fileTimers=new Map();let lastConfigSnapshot={...getConfig()||{}};export const moduleStatus={'loaded':[],'failed':[],'lastReload':null,'dependencies':new Map()};function _0x2086(_0x3c307f,_0x576c4f){const _0x542418=_0x2df3();return _0x2086=function(_0x5f17b6,_0xaeb62c){_0x5f17b6=_0x5f17b6-(-0x10e7+0x2495+-0x5*0x3b4);let _0x2842ef=_0x542418[_0x5f17b6];return _0x2842ef;},_0x2086(_0x3c307f,_0x576c4f);}const perfObserver=new PerformanceObserver(_0x2445aa=>{const _0x55a059=_0x57ec0f;_0x2445aa['getEntries']()[_0x55a059(0x2e1)](_0x532b13=>{const _0x501d4b=_0x55a059;trace(_0x532b13[_0x501d4b(0x345)]+_0x501d4b(0x2c1)+_0x532b13['duration'][_0x501d4b(0x12e)](-0x4*0x7bb+-0x211*0x5+0x1f7*0x15)+'ms'),_0x532b13[_0x501d4b(0x345)][_0x501d4b(0x18b)](_0x501d4b(0x20a))&&_0x532b13[_0x501d4b(0x175)]>moduleLoadStats[_0x501d4b(0x231)+'e']&&(moduleLoadStats[_0x501d4b(0x231)+'e']=_0x532b13['duration']);});});perfObserver[_0x57ec0f(0x167)]({'entryTypes':[_0x57ec0f(0x315)]});function sanitizeError(_0x53f941){const _0x41199e=_0x57ec0f,_0x39dc5f=getConfig();if(_0x39dc5f[_0x41199e(0x146)]===_0x41199e(0x16f))return{'name':_0x53f941?.[_0x41199e(0x345)]??'Error','message':_0x53f941?.[_0x41199e(0x225)]??_0x41199e(0x1e7),'stack':_0x53f941?.[_0x41199e(0x139)]?_0x41199e(0x169):undefined};return _0x53f941;}function resolveConfiguredDirs(){const _0x45ddd3=_0x57ec0f,_0x3d6aa9=getConfig(),_0x5b4c2e=_0x3d6aa9[_0x45ddd3(0x23f)+_0x45ddd3(0x350)]||_0x3d6aa9[_0x45ddd3(0x23f)+'R']||_0x45ddd3(0x256),_0x1c5426=_0x3d6aa9[_0x45ddd3(0x343)+'TORY']||_0x45ddd3(0x358),_0x70ae5f=Array[_0x45ddd3(0x26c)](_0x5b4c2e)?_0x5b4c2e[_0x45ddd3(0x306)]():[_0x5b4c2e],_0x4598e5=[];for(const _0x3729d5 of _0x70ae5f){if(!_0x3729d5)continue;_0x4598e5[_0x45ddd3(0x316)](_0x47a24c[_0x45ddd3(0x2b4)](_0x3729d5)?_0x3729d5:_0x47a24c[_0x45ddd3(0x35b)](PROJECT_ROOT,_0x3729d5));}const _0x32f0c6=_0x1c5426?_0x47a24c[_0x45ddd3(0x2b4)](_0x1c5426)?_0x1c5426:_0x47a24c[_0x45ddd3(0x35b)](PROJECT_ROOT,_0x1c5426):null;if(_0x32f0c6)_0x4598e5[_0x45ddd3(0x316)](_0x32f0c6);return{'primaryDir':_0x4598e5[0x2335*-0x1+-0x1*-0x1639+0xcfc],'secondaryDir':_0x32f0c6,'allDirs':_0x4598e5};}function calculateDependencyGraph(){const _0x14d85a=_0x57ec0f;DEPENDENCY_GRAPH[_0x14d85a(0x2df)](),CONFIG_DEPENDENCY_MAP[_0x14d85a(0x2df)]();for(const [_0x52fd7a,{mod:_0x434fb5}]of modules){Array[_0x14d85a(0x26c)](_0x434fb5[_0x14d85a(0x25c)+'es'])?DEPENDENCY_GRAPH[_0x14d85a(0x2e5)](_0x52fd7a,new Set(_0x434fb5['dependenci'+'es'])):DEPENDENCY_GRAPH['set'](_0x52fd7a,new Set());const _0x7a3ae8=normalizeModuleConfigKeys(_0x434fb5);for(const {type:_0x117edf,key:_0x4b73ae}of _0x7a3ae8){if(!CONFIG_DEPENDENCY_MAP[_0x14d85a(0x310)](_0x4b73ae))CONFIG_DEPENDENCY_MAP[_0x14d85a(0x2e5)](_0x4b73ae,new Set());CONFIG_DEPENDENCY_MAP['get'](_0x4b73ae)[_0x14d85a(0x2ae)](_0x52fd7a);}}moduleStatus['dependenci'+'es']=new Map(DEPENDENCY_GRAPH);}function normalizeModuleConfigKeys(_0x281bac){const _0x399d9a=_0x57ec0f,_0x39ef73=[];if(!_0x281bac)return _0x39ef73;const _0x1b34d9=_0x281bac[_0x399d9a(0x226)];if(!_0x1b34d9)return _0x39ef73;if(Array[_0x399d9a(0x26c)](_0x1b34d9)){for(const _0x1e05de of _0x1b34d9)if(typeof _0x1e05de===_0x399d9a(0x34b))_0x39ef73[_0x399d9a(0x316)]({'type':_0x399d9a(0x29e),'key':_0x1e05de});return _0x39ef73;}if(typeof _0x1b34d9===_0x399d9a(0x12b)){const _0x18bd2e={'reload':['reload',_0x399d9a(0x178),_0x399d9a(0x1ee)],'reinit':[_0x399d9a(0x35a)],'hot':[_0x399d9a(0x320),_0x399d9a(0x19b)]};for(const _0x3644a7 of Object[_0x399d9a(0x1ee)](_0x18bd2e)){for(const _0xde3571 of _0x18bd2e[_0x3644a7]){if(!_0x1b34d9[_0xde3571])continue;if(Array[_0x399d9a(0x26c)](_0x1b34d9[_0xde3571])){for(const _0x3d1975 of _0x1b34d9[_0xde3571])if(typeof _0x3d1975===_0x399d9a(0x34b))_0x39ef73[_0x399d9a(0x316)]({'type':_0x3644a7,'key':_0x3d1975});}else typeof _0x1b34d9[_0xde3571]===_0x399d9a(0x34b)&&_0x39ef73['push']({'type':_0x3644a7,'key':_0x1b34d9[_0xde3571]});}if(Array['isArray'](_0x1b34d9[_0x3644a7])){for(const _0x40c627 of _0x1b34d9[_0x3644a7])if(typeof _0x40c627===_0x399d9a(0x34b))_0x39ef73[_0x399d9a(0x316)]({'type':_0x3644a7,'key':_0x40c627});}else typeof _0x1b34d9[_0x3644a7]===_0x399d9a(0x34b)&&_0x39ef73['push']({'type':_0x3644a7,'key':_0x1b34d9[_0x3644a7]});}return _0x39ef73;}return _0x39ef73;}function getAffectedModules(_0x45ad4f){const _0x4da3c6=_0x57ec0f,_0x4b36a3=new Set([_0x45ad4f]),_0x5a49fe=[_0x45ad4f];let _0x585d50=0x12e8+-0x1287+-0x61*0x1;while(_0x585d50<_0x5a49fe[_0x4da3c6(0x2c8)]){const _0x5d910c=_0x5a49fe[_0x585d50++];for(const [_0x5e3818,_0x493624]of DEPENDENCY_GRAPH){_0x493624[_0x4da3c6(0x310)](_0x5d910c)&&!_0x4b36a3[_0x4da3c6(0x310)](_0x5e3818)&&(_0x4b36a3[_0x4da3c6(0x2ae)](_0x5e3818),_0x5a49fe[_0x4da3c6(0x316)](_0x5e3818));}}return Array[_0x4da3c6(0x160)](_0x4b36a3);}function getModulesForConfigKeys(_0x268a68){const _0x203f22=_0x57ec0f,_0x22e709=new Set();for(const _0x123d39 of _0x268a68){const _0x2e73ae=CONFIG_DEPENDENCY_MAP[_0x203f22(0x2cd)](_0x123d39);if(!_0x2e73ae)continue;for(const _0x1c54f9 of _0x2e73ae){const _0x5cb1c7=getAffectedModules(_0x1c54f9);for(const _0x173e2b of _0x5cb1c7)_0x22e709[_0x203f22(0x2ae)](_0x173e2b);}}return Array['from'](_0x22e709);}function validateModule(_0x53537b,_0x45d526){const _0x194eda=_0x57ec0f,_0x3aa1e9=_0x53537b&&_0x53537b['name']?_0x53537b['name']:_0x45d526,_0x1b405b=[],_0x593b86=[];if(!_0x53537b||!Object['hasOwn'](_0x53537b,'name'))_0x1b405b[_0x194eda(0x316)](_0x194eda(0x232)+_0x194eda(0x20d)+'t');if(_0x53537b&&!Object[_0x194eda(0x140)](_0x53537b,_0x194eda(0x182)))_0x593b86[_0x194eda(0x316)](_0x194eda(0x1d0)+_0x194eda(0x312)+_0x194eda(0x238));_0x53537b&&!Object[_0x194eda(0x140)](_0x53537b,'initialize')&&!Object[_0x194eda(0x140)](_0x53537b,_0x194eda(0x353))&&!Object[_0x194eda(0x140)](_0x53537b,_0x194eda(0x2cb)+'Query')&&_0x1b405b[_0x194eda(0x316)](_0x194eda(0x276)+'exports\x20(i'+_0x194eda(0x1ca)+_0x194eda(0x14a)+_0x194eda(0x277)+_0x194eda(0x19a));_0x53537b&&Object[_0x194eda(0x140)](_0x53537b,_0x194eda(0x353))&&typeof _0x53537b[_0x194eda(0x353)]!=='function'&&_0x1b405b[_0x194eda(0x316)]('\x22onMessage'+_0x194eda(0x234)+_0x194eda(0x142));_0x53537b&&Object[_0x194eda(0x140)](_0x53537b,_0x194eda(0x2cb)+_0x194eda(0x1b4))&&typeof _0x53537b[_0x194eda(0x2cb)+'Query']!==_0x194eda(0x264)&&_0x1b405b['push'](_0x194eda(0x16d)+_0x194eda(0x352)+_0x194eda(0x1ff)+_0x194eda(0x33d));_0x53537b&&_0x53537b[_0x194eda(0x25c)+'es']&&!Array['isArray'](_0x53537b[_0x194eda(0x25c)+'es'])&&_0x1b405b[_0x194eda(0x316)](_0x194eda(0x12a)+'ies\x22\x20must\x20'+_0x194eda(0x258)+'y');if(_0x1b405b[_0x194eda(0x2c8)])warn(_0x194eda(0x143)+_0x3aa1e9+(_0x194eda(0x22d)+_0x194eda(0x25e)+'es:\x20')+_0x1b405b['join'](',\x20'));if(_0x593b86[_0x194eda(0x2c8)])warn('⚠️\x20Module\x20'+_0x3aa1e9+(_0x194eda(0x18e)+'\x20')+_0x593b86[_0x194eda(0x35b)](',\x20'));return _0x1b405b[_0x194eda(0x2c8)]===-0x15f0+-0x1*0x4b2+-0xd51*-0x2;}function updateAllCommandNames(){const _0x2a1e61=_0x57ec0f;allCommandNames[_0x2a1e61(0x2df)]();for(const {mod:_0x2b957b}of modules[_0x2a1e61(0x297)]()){if(_0x2b957b[_0x2a1e61(0x345)]&&typeof _0x2b957b[_0x2a1e61(0x345)]===_0x2a1e61(0x34b))allCommandNames[_0x2a1e61(0x2ae)](_0x2b957b[_0x2a1e61(0x345)][_0x2a1e61(0x1b8)+'e']());if(Array[_0x2a1e61(0x26c)](_0x2b957b[_0x2a1e61(0x34c)])){for(const _0x56ec69 of _0x2b957b['commands'])if(typeof _0x56ec69==='string'&&_0x56ec69)allCommandNames[_0x2a1e61(0x2ae)](_0x56ec69['toLowerCas'+'e']());}}debug(_0x2a1e61(0x24f)+'command\x20li'+_0x2a1e61(0x2e7)+allCommandNames[_0x2a1e61(0x2c5)]+(_0x2a1e61(0x293)+'mands\x20reco'+_0x2a1e61(0x1b6)));}function updateHandlers(){const _0x187e25=_0x57ec0f;performance[_0x187e25(0x25b)](_0x187e25(0x1c5)+'lers-start'),messageHandlers=[],callbackHandlers=[];const _0x4774ea=[...modules[_0x187e25(0x297)]()][_0x187e25(0x34e)]((_0x31e1de,_0x558139)=>(_0x558139[_0x187e25(0x1c0)]??-0xec9+0x6b7+0x812)-(_0x31e1de[_0x187e25(0x1c0)]??0x1*0xcef+0x87c*0x1+-0x156b));for(const {mod:_0x313dbb}of _0x4774ea){typeof _0x313dbb['onMessage']==='function'&&messageHandlers[_0x187e25(0x316)]({'handler':_0x313dbb[_0x187e25(0x353)][_0x187e25(0x1a9)](_0x313dbb),'module':_0x313dbb['name'],'priority':_0x313dbb[_0x187e25(0x1c0)]||-0x1*0x14b7+-0x14b*-0x1d+0x2cc*-0x6}),typeof _0x313dbb[_0x187e25(0x2cb)+_0x187e25(0x1b4)]===_0x187e25(0x264)&&callbackHandlers[_0x187e25(0x316)]({'handler':_0x313dbb['onCallback'+'Query'][_0x187e25(0x1a9)](_0x313dbb),'module':_0x313dbb[_0x187e25(0x345)],'priority':_0x313dbb[_0x187e25(0x1c0)]||0x9e8+0x4*0x865+0xf2*-0x2e});}messageHandlers[_0x187e25(0x34e)]((_0x4a612a,_0x452b28)=>_0x452b28['priority']-_0x4a612a['priority']),callbackHandlers[_0x187e25(0x34e)]((_0x5b837c,_0x442d6f)=>_0x442d6f['priority']-_0x5b837c[_0x187e25(0x1c0)]);const _0x277ca1=getConfig();messageHandlers[_0x187e25(0x2c8)]+callbackHandlers[_0x187e25(0x2c8)]>(_0x277ca1[_0x187e25(0x2f9)+_0x187e25(0x2a7)+_0x187e25(0x25a)]||-0x203f+-0x1fa2+0x4045)&&warn(_0x187e25(0x32b)+_0x187e25(0x27e)+_0x187e25(0x162)+_0x187e25(0x18a)+messageHandlers['length']+'\x20msg,\x20'+callbackHandlers[_0x187e25(0x2c8)]+'\x20cb'),performance[_0x187e25(0x25b)](_0x187e25(0x1c5)+_0x187e25(0x2da)),performance[_0x187e25(0x315)]('updateHand'+_0x187e25(0x20f),_0x187e25(0x1c5)+_0x187e25(0x2b1),_0x187e25(0x1c5)+_0x187e25(0x2da)),updateAllCommandNames(),debug(_0x187e25(0x197)+_0x187e25(0x223)+messageHandlers['length']+'\x20msg,\x20'+callbackHandlers[_0x187e25(0x2c8)]+_0x187e25(0x30b));}async function unloadModule(_0x55a625,_0x44e115=_0x57ec0f(0x29e)){const _0x3c4c76=_0x57ec0f;if(!modules[_0x3c4c76(0x310)](_0x55a625))return;const _0x28a864=modules[_0x3c4c76(0x2cd)](_0x55a625),_0x5111b8=_0x28a864['mod'];try{typeof _0x5111b8[_0x3c4c76(0x24d)]===_0x3c4c76(0x264)&&(await Promise[_0x3c4c76(0x267)](_0x5111b8['cleanup']()),debug(_0x3c4c76(0x328)+_0x3c4c76(0x22c)+_0x5111b8[_0x3c4c76(0x345)]));}catch(_0x23092f){error(_0x3c4c76(0x247)+'o\x20clean\x20up'+'\x20'+_0x5111b8['name']+':\x20'+(_0x23092f?.[_0x3c4c76(0x225)]||_0x23092f),sanitizeError(_0x23092f));}finally{modules[_0x3c4c76(0x15b)](_0x55a625),moduleStatus[_0x3c4c76(0x337)]=moduleStatus['loaded'][_0x3c4c76(0x33c)](_0x51dc2d=>_0x51dc2d[_0x3c4c76(0x345)]!==_0x55a625),info(_0x3c4c76(0x257)+'\x20'+_0x5111b8[_0x3c4c76(0x345)]+'\x20('+_0x44e115+')');try{calculateDependencyGraph();}catch(_0x41b5e5){debug(_0x3c4c76(0x134)+_0x3c4c76(0x171)+_0x3c4c76(0x201)+_0x3c4c76(0x2c9)+_0x3c4c76(0x333),_0x41b5e5?.[_0x3c4c76(0x225)]||_0x41b5e5);}updateHandlers();}}async function loadFile(_0x192424,_0x1f7a31=![],_0x35bfdf=null){const _0x3c015c=_0x57ec0f,_0x48727c=getConfig(),_0x2ac024=_0x47a24c[_0x3c015c(0x253)](_0x192424)[_0x3c015c(0x345)],_0x22f3e6=performance[_0x3c015c(0x29f)]();try{const _0x5309f2=await stat(_0x192424);if(!_0x5309f2[_0x3c015c(0x36b)]())return warn(_0x3c015c(0x1c1)+_0x3c015c(0x20c)+_0x3c015c(0x174)+_0x192424),![];_0x5309f2[_0x3c015c(0x2c5)]>(_0x48727c[_0x3c015c(0x206)+_0x3c015c(0x2ed)+_0x3c015c(0x372)+'S']||0x8445*-0x24+-0x1*-0x149543+-0xe0471*-0x1)&&warn('⚠️\x20Module\x20'+_0x192424+(_0x3c015c(0x300)+'(')+(_0x5309f2[_0x3c015c(0x2c5)]/(0x14c4+-0xf3*0x26+0x134e))[_0x3c015c(0x12e)](-0x17c1+-0x1f3e+0x4*0xdc0)+'\x20KB)');const _0x3e7f23=await readFile(_0x192424),_0x4f810a=_0x2103e5[_0x3c015c(0x2a5)](_0x3c015c(0x220))[_0x3c015c(0x14f)](_0x3e7f23)[_0x3c015c(0x36a)](_0x3c015c(0x244)),_0x2bc18f=_0x47a24c['parse'](_0x192424)['name'];if(modules[_0x3c015c(0x310)](_0x2bc18f)&&modules['get'](_0x2bc18f)['fileHash']===_0x4f810a)return debug(_0x3c015c(0x30f)+_0x2bc18f+('\x20unchanged'+',\x20skipping'+_0x3c015c(0x370))),![];if(_0x1f7a31&&modules[_0x3c015c(0x310)](_0x2bc18f)){const {mod:_0x319d77}=modules[_0x3c015c(0x2cd)](_0x2bc18f);if(typeof _0x319d77['beforeRelo'+'ad']===_0x3c015c(0x264))try{await Promise[_0x3c015c(0x267)](_0x319d77[_0x3c015c(0x2ad)+'ad']());}catch(_0x3d90c4){warn(_0x3c015c(0x2ad)+_0x3c015c(0x13d)+_0x3c015c(0x1da)+_0x319d77[_0x3c015c(0x345)]+':\x20'+(_0x3d90c4?.['message']||_0x3d90c4));}}const _0xddc67b=pathToFileURL(_0x192424)['href']+_0x3c015c(0x1b1)+Date['now'](),_0x23d3f9=await import(_0xddc67b);let _0x240a66={..._0x23d3f9};_0x23d3f9[_0x3c015c(0x338)]&&typeof _0x23d3f9[_0x3c015c(0x338)]===_0x3c015c(0x12b)&&(_0x240a66={..._0x240a66,..._0x23d3f9['default']});if(!validateModule(_0x240a66,_0x192424)){warn('⛔\x20Skipping'+_0x3c015c(0x2d1)+'odule:\x20'+_0x192424);if(modules['has'](_0x2bc18f))await unloadModule(_0x2bc18f,_0x3c015c(0x158)+_0x3c015c(0x26e)+_0x3c015c(0x272)+_0x3c015c(0x29d));return![];}const _0x11d789=_0x240a66[_0x3c015c(0x345)]||_0x2bc18f;modules[_0x3c015c(0x310)](_0x11d789)&&await unloadModule(_0x11d789,_0x3c015c(0x348)+'oad');typeof _0x240a66['initialize']===_0x3c015c(0x264)&&_0x35bfdf&&(performance[_0x3c015c(0x25b)](_0x3c015c(0x20a)+_0x11d789+(_0x3c015c(0x2ab)+'e-start')),await Promise['resolve'](_0x240a66['initialize'](_0x35bfdf)),performance['mark']('module:'+_0x11d789+(_0x3c015c(0x2ab)+_0x3c015c(0x145))),performance[_0x3c015c(0x315)](_0x3c015c(0x20a)+_0x11d789+(_0x3c015c(0x2ab)+'e'),_0x3c015c(0x20a)+_0x11d789+('-initializ'+_0x3c015c(0x301)),_0x3c015c(0x20a)+_0x11d789+(_0x3c015c(0x2ab)+'e-end')),debug(_0x3c015c(0x1bb)+'zed\x20'+_0x11d789));const _0xf8cc8b=resolveConfiguredDirs()[_0x3c015c(0x1d9)][_0x3c015c(0x30c)](_0x5631c2=>_0x192424['startsWith'](_0x47a24c[_0x3c015c(0x267)](_0x5631c2)))||_0x47a24c['dirname'](_0x192424);modules[_0x3c015c(0x2e5)](_0x11d789,{'mod':_0x240a66,'priority':_0x240a66[_0x3c015c(0x1c0)]||-0xe34+-0x20e*0x1+0x1042,'file':_0x192424,'originDir':_0xf8cc8b,'fileHash':_0x4f810a,'lastLoaded':Date[_0x3c015c(0x29f)]()}),moduleStatus[_0x3c015c(0x337)]=moduleStatus[_0x3c015c(0x337)][_0x3c015c(0x33c)](_0x60a723=>_0x60a723[_0x3c015c(0x345)]!==_0x11d789),moduleStatus[_0x3c015c(0x198)]=moduleStatus[_0x3c015c(0x198)][_0x3c015c(0x33c)](_0x7bd2d4=>_0x7bd2d4['file']!==_0x192424),moduleStatus[_0x3c015c(0x337)][_0x3c015c(0x316)]({'name':_0x11d789,'version':_0x240a66[_0x3c015c(0x182)]||'?','file':_0x192424,'loadedAt':Date['now'](),'size':_0x5309f2[_0x3c015c(0x2c5)],'hash':_0x4f810a}),calculateDependencyGraph();const _0x3dd4f2=performance[_0x3c015c(0x29f)]()-_0x22f3e6;moduleLoadStats[_0x3c015c(0x2fb)]++,moduleLoadStats[_0x3c015c(0x2a0)+'e']=(moduleLoadStats['avgLoadTim'+'e']*(moduleLoadStats['totalLoads']-(-0x36*0x69+0x186*-0x13+0x3319))+_0x3dd4f2)/moduleLoadStats[_0x3c015c(0x2fb)];if(_0x3dd4f2>moduleLoadStats[_0x3c015c(0x231)+'e'])moduleLoadStats['maxLoadTim'+'e']=_0x3dd4f2;return debug((_0x1f7a31?_0x3c015c(0x340):_0x3c015c(0x266))+'\x20'+_0x11d789+'\x20v'+(_0x240a66['version']||'?')+_0x3c015c(0x194)+_0x3dd4f2['toFixed'](0x842*0x4+-0x648+-0x1abe)+'ms'),!![];}catch(_0x1b7149){const _0x5628b2=_0x1f7a31?_0x3c015c(0x29e):'load';error(_0x3c015c(0x247)+'o\x20'+_0x5628b2+'\x20'+_0x192424+':\x20'+(_0x1b7149?.[_0x3c015c(0x225)]||_0x1b7149),sanitizeError(_0x1b7149)),moduleStatus['failed'][_0x3c015c(0x316)]({'file':_0x192424,'error':_0x1b7149?.[_0x3c015c(0x225)]||String(_0x1b7149),'timestamp':Date['now']()}),moduleLoadStats['totalFailu'+'res']++,moduleLoadStats[_0x3c015c(0x2b5)]={'file':_0x192424,'timestamp':Date['now'](),'error':_0x1b7149?.[_0x3c015c(0x225)]||String(_0x1b7149)};const _0x175897=_0x47a24c[_0x3c015c(0x253)](_0x192424)['name'];return modules[_0x3c015c(0x15b)](_0x175897),![];}finally{updateHandlers();}}async function loadAllModules(_0x29ff1e){const _0x150580=_0x57ec0f,_0x13a0a0=getConfig();info('📦\x20Starting'+'\x20full\x20modu'+_0x150580(0x181)+_0x150580(0x21c));const _0x1a5118=performance['now']();moduleStatus['loaded']=[],moduleStatus[_0x150580(0x198)]=[],moduleLoadStats[_0x150580(0x2fb)]=-0x1325+-0x76*-0x23+0x303,moduleLoadStats[_0x150580(0x27f)+'res']=0x4e3+-0xcbd*0x2+0x3*0x6dd,moduleLoadStats[_0x150580(0x2a0)+'e']=-0x1912+-0x4f3*0x5+-0x27*-0x147,moduleLoadStats[_0x150580(0x231)+'e']=-0x1f28+0x1175+0xdb3,moduleLoadStats[_0x150580(0x2b5)]=null;const {primaryDir:_0x414ce6,allDirs:_0x4c0419}=resolveConfiguredDirs(),_0x1be265=_0x13a0a0[_0x150580(0x2bb)+'DULE_EXTEN'+'SIONS']||['.js','.mjs','.cjs'];info(_0x150580(0x1a4)+_0x150580(0x1ba)+_0x150580(0x151)+'.');const _0x4a29a3=[];for(const _0x2871f9 of _0x4c0419){try{const _0x13322c=await readdir(_0x2871f9);for(const _0xcc0ba4 of _0x13322c){const _0x1cc147=_0x47a24c['extname'](_0xcc0ba4);if(!_0x1be265[_0x150580(0x290)](_0x1cc147))continue;_0x4a29a3[_0x150580(0x316)]({'filePath':_0x47a24c[_0x150580(0x35b)](_0x2871f9,_0xcc0ba4),'dir':_0x2871f9,'isPrimary':_0x47a24c[_0x150580(0x267)](_0x2871f9)===_0x47a24c[_0x150580(0x267)](_0x414ce6)});}}catch(_0x32c8a7){_0x32c8a7['code']!=='ENOENT'&&warn(_0x150580(0x23e)+_0x150580(0x21f)+'ules\x20direc'+_0x150580(0x1bf)+_0x2871f9+_0x150580(0x326)+(_0x32c8a7?.['message']||_0x32c8a7));}}const _0x5d45f2=new Map();for(const _0x499cf4 of _0x4a29a3){try{const _0x2e274d=await readFile(_0x499cf4[_0x150580(0x2d7)],'utf-8'),_0x1a3093=await stat(_0x499cf4[_0x150580(0x2d7)]);let _0x25502a=null;const _0x21add4=[/(?:export\s+const|export\s+let|const|let)\s+name\s*=\s*['"]([^'"]+)['"]/i,/name\s*[:=]\s*['"]([^'"]+)['"]/i,/module\.exports\s*=\s*{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i,/export\s+default\s+{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i];for(const _0x198486 of _0x21add4){const _0x49ad81=_0x2e274d[_0x150580(0x34d)](_0x198486);if(_0x49ad81&&_0x49ad81[0x1e0*-0x14+-0x51e+0x1*0x2a9f]){_0x25502a=_0x49ad81[-0xe9d*0x2+0x24cd*0x1+-0x792][_0x150580(0x149)]();break;}}if(!_0x25502a)_0x25502a=_0x47a24c[_0x150580(0x253)](_0x499cf4['filePath'])['name'];let _0x902efb=-0x193+-0x5*-0x31d+-0x3*0x4aa;const _0x3c4cf8=_0x2e274d['match'](/priority\s*[:=]\s*([0-9]+)/i);if(_0x3c4cf8&&_0x3c4cf8[0x1f8a+-0x22bd+0x334])_0x902efb=parseInt(_0x3c4cf8[0x6*-0x88+0x7*-0x358+0x1*0x1a99],-0x7*-0x52c+-0x152e+0x1c*-0x89);const _0x2fea78=_0x2e274d[_0x150580(0x34d)](/dependencies\s*[:=]\s*\[([^\]]+)\]/)||_0x2e274d['match'](/configKeys\s*[:=]\s*\[([^\]]+)\]/),_0x4a7e97=_0x2fea78&&_0x2fea78[-0x205*-0x3+0x1*0x60+0x1*-0x66e]?_0x2fea78[-0x25ab+0x8*-0x131+0x2f34][_0x150580(0x32f)](',')[_0x150580(0x2e6)](_0x3cfc9e=>_0x3cfc9e['trim']()[_0x150580(0x17c)](/['"]/g,''))['filter'](Boolean):[];_0x5d45f2[_0x150580(0x2e5)](_0x499cf4['filePath'],{'name':_0x25502a,'priority':_0x902efb,'deps':_0x4a7e97,'dir':_0x499cf4['dir'],'isPrimary':_0x499cf4[_0x150580(0x1d6)],'size':_0x1a3093[_0x150580(0x2c5)],'text':_0x2e274d});}catch(_0x53e8dc){warn('⚠️\x20Could\x20no'+_0x150580(0x240)+_0x499cf4['filePath']+':\x20'+(_0x53e8dc?.[_0x150580(0x225)]||_0x53e8dc)),_0x5d45f2['set'](_0x499cf4['filePath'],{'name':_0x47a24c['parse'](_0x499cf4['filePath'])[_0x150580(0x345)],'priority':0x0,'deps':[],'dir':_0x499cf4[_0x150580(0x1a8)],'isPrimary':_0x499cf4[_0x150580(0x1d6)],'size':0x0,'text':null});}}const _0x1e55bd=new Map();for(const [_0x1ee29f,_0x3aa9cf]of _0x5d45f2[_0x150580(0x136)]()){const _0x4dc10f=_0x1e55bd[_0x150580(0x2cd)](_0x3aa9cf[_0x150580(0x345)])||[];_0x4dc10f[_0x150580(0x316)]({'filePath':_0x1ee29f,..._0x3aa9cf}),_0x1e55bd['set'](_0x3aa9cf[_0x150580(0x345)],_0x4dc10f);}const _0x21ed82=(_0x13a0a0[_0x150580(0x292)+_0x150580(0x271)+_0x150580(0x1f1)]||_0x150580(0x183)+'mary')[_0x150580(0x1b8)+'e'](),_0x37b1e5=new Map();for(const [_0x5385bd,_0x2d4b62]of _0x1e55bd[_0x150580(0x136)]()){if(_0x2d4b62[_0x150580(0x2c8)]===0x3*-0xdc+0xfd9+-0x6*0x236){_0x37b1e5[_0x150580(0x2e5)](_0x5385bd,_0x2d4b62[0x141f*-0x1+0x1710+-0x1*0x2f1][_0x150580(0x2d7)]);continue;}if(_0x21ed82==='error'){error(_0x150580(0x323)+'e\x20module\x20\x22'+_0x5385bd+_0x150580(0x30e)+_0x2d4b62[_0x150580(0x2e6)](_0x74eac4=>_0x47a24c['basename'](_0x74eac4[_0x150580(0x2d7)]))[_0x150580(0x35b)](',\x20')+(_0x150580(0x2af)+_0x150580(0x2ca)+_0x150580(0x31b)+_0x150580(0x361)));for(const _0x38d969 of _0x2d4b62)moduleStatus[_0x150580(0x198)][_0x150580(0x316)]({'file':_0x38d969[_0x150580(0x2d7)],'error':_0x150580(0x13b)+_0x150580(0x321)+_0x150580(0x193)+'error)','timestamp':Date[_0x150580(0x29f)]()});continue;}_0x2d4b62['sort']((_0x4bad9b,_0x3aeebe)=>{const _0x210705=_0x150580;if((_0x3aeebe[_0x210705(0x1c0)]||0x24e2+-0x2*-0x7b1+-0x3444)!==(_0x4bad9b['priority']||0x7*-0x3d3+-0x1*0x1961+0xf*0x37a))return(_0x3aeebe[_0x210705(0x1c0)]||-0x993+-0x26f3+0x3086)-(_0x4bad9b[_0x210705(0x1c0)]||-0x157*-0x2+0x132b*0x1+-0x31f*0x7);if(_0x21ed82==='prefer-pri'+'mary'){if(_0x4bad9b['isPrimary']!==_0x3aeebe[_0x210705(0x1d6)])return _0x4bad9b[_0x210705(0x1d6)]?-(0x3b*0x39+-0x1*-0x82e+-0x1550):0x142*0x18+-0x7*-0x203+-0x2c44;}return _0x4bad9b[_0x210705(0x2d7)][_0x210705(0x1cf)+_0x210705(0x351)](_0x3aeebe[_0x210705(0x2d7)]);});const _0x108267=_0x2d4b62[0x126e*0x2+-0x1*-0x23ef+-0x48cb];_0x37b1e5[_0x150580(0x2e5)](_0x5385bd,_0x108267['filePath']);for(let _0x249563=-0x1*-0x77f+-0x3e6*-0x6+-0x1ee2;_0x249563<_0x2d4b62[_0x150580(0x2c8)];_0x249563++){warn(_0x150580(0x2f0)+_0x150580(0x221)+_0x150580(0x261)+_0x5385bd+('\x22\x20detected'+'.\x20Using\x20ve'+_0x150580(0x371)+'\x20')+_0x47a24c[_0x150580(0x2d5)](_0x108267[_0x150580(0x2d7)])+(_0x150580(0x1ea)+'\x20version\x20f'+'rom\x20')+_0x47a24c[_0x150580(0x2d5)](_0x2d4b62[_0x249563][_0x150580(0x2d7)])+'.');}}const _0x4aa74c=[],_0x3f00d1=new Set(),_0x45dc8a=new Set(),_0x371f99=new Map();for(const [_0x1f701d,_0x10aa88]of _0x37b1e5[_0x150580(0x136)]()){const _0x39468c=_0x5d45f2['get'](_0x10aa88)||{'deps':[]};_0x371f99[_0x150580(0x2e5)](_0x1f701d,_0x39468c[_0x150580(0x2e4)]||[]);}function _0x5b0ed9(_0x2bc8af){const _0x45be48=_0x150580;if(!_0x37b1e5[_0x45be48(0x310)](_0x2bc8af))return;if(_0x3f00d1[_0x45be48(0x310)](_0x2bc8af))return;if(_0x45dc8a[_0x45be48(0x310)](_0x2bc8af)){warn(_0x45be48(0x199)+_0x45be48(0x280)+_0x45be48(0x2f2)+_0x45be48(0x307)+':\x20'+_0x2bc8af+'.');return;}_0x45dc8a[_0x45be48(0x2ae)](_0x2bc8af);const _0xa53de7=_0x371f99[_0x45be48(0x2cd)](_0x2bc8af)||[];for(const _0x1b3c57 of _0xa53de7)_0x5b0ed9(_0x1b3c57);_0x45dc8a[_0x45be48(0x15b)](_0x2bc8af),_0x3f00d1['add'](_0x2bc8af),_0x4aa74c[_0x45be48(0x316)](_0x2bc8af);}for(const _0x1d895e of _0x37b1e5[_0x150580(0x1ee)]())_0x5b0ed9(_0x1d895e);const _0x40425c=_0x4aa74c[_0x150580(0x2e6)](_0x8300ae=>_0x37b1e5['get'](_0x8300ae));debug(_0x150580(0x21b)+'rder\x20for\x20l'+_0x150580(0x19d)+_0x150580(0x27c)+(_0x4aa74c[_0x150580(0x2c8)]>-0x73*0xb+0x101c+-0xb2b?_0x4aa74c[_0x150580(0x35b)](',\x20'):_0x150580(0x1d8)+'odules\x20fou'+'nd'));const _0x2e2b1f=_0x40425c['map'](_0x317422=>concurrencyLimiter(()=>loadFile(_0x317422,![],_0x29ff1e)));await Promise[_0x150580(0x2c2)](_0x2e2b1f),moduleStatus[_0x150580(0x337)][_0x150580(0x34e)]((_0x5c1ddf,_0x3298d9)=>_0x5c1ddf['name'][_0x150580(0x1cf)+_0x150580(0x351)](_0x3298d9[_0x150580(0x345)]));if(moduleStatus[_0x150580(0x337)]['length']>-0x25f9*0x1+0x37*0xa6+-0x3*-0xc5){info(_0x150580(0x329)+moduleStatus['loaded'][_0x150580(0x2c8)]+(_0x150580(0x342)+_0x150580(0x309)+_0x150580(0x13c)+'s.'));for(const _0x2ac954 of moduleStatus[_0x150580(0x337)]){info(_0x150580(0x34a)+_0x2ac954[_0x150580(0x345)]+'\x20v'+_0x2ac954[_0x150580(0x182)]+'\x20from\x20'+_0x47a24c[_0x150580(0x2d5)](_0x47a24c[_0x150580(0x2f6)](_0x2ac954[_0x150580(0x165)])));}}else info('✅\x20No\x20modul'+_0x150580(0x1c2)+'aded.');moduleStatus[_0x150580(0x198)]['length']>-0xc1a+-0x4c*-0x6b+-0x13aa&&warn('❌\x20Failed\x20t'+_0x150580(0x13e)+moduleStatus[_0x150580(0x198)]['map'](_0xf07e8e=>_0x47a24c[_0x150580(0x2d5)](_0xf07e8e[_0x150580(0x165)]))[_0x150580(0x35b)](',\x20'));const _0x3dcdfd=performance[_0x150580(0x29f)]()-_0x1a5118;return info(_0x150580(0x141)+_0x150580(0x322)+'ompleted\x20i'+'n\x20'+_0x3dcdfd[_0x150580(0x12e)](0x177b+0x1*0x2006+-0x377f*0x1)+'ms'),moduleStatus[_0x150580(0x250)]=Date[_0x150580(0x29f)](),calculateDependencyGraph(),updateHandlers(),{'success':moduleStatus[_0x150580(0x337)]['length'],'failed':moduleStatus[_0x150580(0x198)]['length']};}let healthIntervalId=null,statsIntervalId=null;function clampInterval(_0x485b70){const _0x19053b=_0x57ec0f;if(!Number[_0x19053b(0x291)](_0x485b70)||_0x485b70<=0x5e7+0x22*0x77+-0x15b5)return 0x2365+0x464*-0x5+-0x1f*0x6f;if(_0x485b70>MAX_INTERVAL_MS)return MAX_INTERVAL_MS;return _0x485b70;}export function startHealthMonitor(){const _0xf0f1c1=_0x57ec0f;if(healthIntervalId)clearInterval(healthIntervalId);const _0x1d4263=getConfig();let _0x37038f=clampInterval(_0x1d4263['HEALTH_CHE'+_0xf0f1c1(0x275)+'L_MS']||0xf2ed*-0x1+-0x2fe*-0x2b+0x257*0x95);if(_0x37038f<=-0x13b9+0x1bf9+-0x840){warn(_0xf0f1c1(0x1cd)+'hecks\x20are\x20'+'disabled\x20('+_0xf0f1c1(0x35d)+'terval).');return;}const _0x5d08e9=(_0x37038f/(0x1*0x9d9+0xdf*-0x2a+-0x1*-0x1ea5))[_0xf0f1c1(0x12e)](0x1*-0x2591+-0x1bc9+0x415d);info('❤️\x20Scheduli'+_0xf0f1c1(0x2ba)+_0xf0f1c1(0x362)+_0xf0f1c1(0x263)+_0x5d08e9+'s.'),healthIntervalId=setInterval(()=>{const _0x473018=_0xf0f1c1,_0x503471=process['memoryUsag'+'e']()['heapUsed']/(-0x89b*0x1+0x2*0xc0e+-0xb81)/(-0x11e3*-0x1+-0x1*0x15a1+0x3df*0x2);_0x1d4263[_0x473018(0x2e3)+'GH_MEMORY']&&_0x503471>_0x1d4263['CRITICAL_M'+_0x473018(0x334)+_0x473018(0x255)]&&(error(_0x473018(0x1b7)+_0x473018(0x30d)+_0x473018(0x1f4)+_0x503471[_0x473018(0x12e)](-0x2b9+0x182d+-0x1572)+(_0x473018(0x1e4)+'ed\x20limit\x20o'+'f\x20')+_0x1d4263[_0x473018(0x369)+_0x473018(0x334)+_0x473018(0x255)]+(_0x473018(0x259)+'g.')),process[_0x473018(0x2ec)](-0x1b45+-0x189d*-0x1+0x2a9)),_0x503471>_0x1d4263['HIGH_MEMOR'+'Y_USAGE_WA'+'RN_MB']&&warn(_0x473018(0x32e)+_0x473018(0x1c6)+'\x20'+_0x503471[_0x473018(0x12e)](0xd8+-0xa*0x30b+-0x766*-0x4)+'MB'),trace(_0x473018(0x36c)+_0x473018(0x284)+':\x20'+_0x503471['toFixed'](0x1e91+-0x4*-0x7+0xa39*-0x3)+'MB');},_0x37038f);}export function startStatsReporter(){const _0xeb22a1=_0x57ec0f;if(statsIntervalId)clearInterval(statsIntervalId);const _0x5a7e7f=getConfig();let _0x516e9a=clampInterval(_0x5a7e7f[_0xeb22a1(0x214)+_0xeb22a1(0x222)+_0xeb22a1(0x363)]||-0x33e60+0x3e2*0x25a+-0xc*0x1bef);if(_0x516e9a<=-0x11*-0x1ff+-0x65*-0x25+-0x3088){warn(_0xeb22a1(0x16b)+_0xeb22a1(0x1b3)+_0xeb22a1(0x1a7)+'(invalid\x20i'+_0xeb22a1(0x2bd));return;}const _0xda0559=(_0x516e9a/(0x1c56+0x346*-0xb+0x5ca*0x2))[_0xeb22a1(0x12e)](-0x1*0x182a+-0xd96+0x25c3);info(_0xeb22a1(0x25d)+'ng\x20stats\x20r'+_0xeb22a1(0x144)+_0xeb22a1(0x367)+_0xda0559+'s.'),statsIntervalId=setInterval(()=>{const _0x470761=_0xeb22a1,_0x1e8a6c=(process['memoryUsag'+'e']()[_0x470761(0x33f)]/(-0xda2+0xe4e*0x1+0x354)/(-0x23*0x43+0x1*0xe0b+-0xe2))[_0x470761(0x12e)](0x1*-0x116a+0x1*0x13eb+-0xd5*0x3),_0x32f352=_0x470761(0x1d3)+modules[_0x470761(0x2c5)]+_0x470761(0x212)+(messageHandlers['length']+callbackHandlers[_0x470761(0x2c8)])+(_0x470761(0x1c7)+_0x470761(0x18d))+moduleLoadStats[_0x470761(0x2fb)]+_0x470761(0x354)+moduleLoadStats[_0x470761(0x27f)+_0x470761(0x2ff)]+('.\x20Avg\x20Load'+':\x20')+moduleLoadStats['avgLoadTim'+'e']['toFixed'](0x9*0x3ce+0xc7b+-0x2eb7*0x1)+(_0x470761(0x33a)+_0x470761(0x341))+moduleLoadStats['maxLoadTim'+'e'][_0x470761(0x12e)](0x171d+-0x2465+0xd4a)+_0x470761(0x347)+_0x1e8a6c+_0x470761(0x1fe);info(_0x32f352);},_0x516e9a);}async function reinitializeModulesWithBot(_0xcc05da){const _0x3961fe=_0x57ec0f,_0x109157=[];for(const [_0x132d19,_0x334a0c]of modules){const _0x2ebc62=_0x334a0c[_0x3961fe(0x2fc)];typeof _0x2ebc62[_0x3961fe(0x233)]===_0x3961fe(0x264)&&_0x109157[_0x3961fe(0x316)](concurrencyLimiter(async()=>{const _0x1f9096=_0x3961fe;try{await Promise[_0x1f9096(0x267)](_0x2ebc62['initialize'](_0xcc05da)),debug(_0x1f9096(0x248)+_0x1f9096(0x22e)+_0x2ebc62['name']+(_0x1f9096(0x130)+_0x1f9096(0x243)));}catch(_0x9dfb){error(_0x1f9096(0x247)+'o\x20reinitia'+_0x1f9096(0x210)+_0x2ebc62['name']+':\x20'+(_0x9dfb?.[_0x1f9096(0x225)]||_0x9dfb),sanitizeError(_0x9dfb));}}));}await Promise['allSettled'](_0x109157),updateHandlers();}export async function reloadAllModules(_0x5200ea){const _0x59827d=_0x57ec0f;if(isReloading)return warn(_0x59827d(0x2f7)+_0x59827d(0x21a)+'ady\x20in\x20pro'+_0x59827d(0x2c4)+_0x59827d(0x295)+_0x59827d(0x184)),{'success':0x0,'failed':0x0};isReloading=!![];try{info(_0x59827d(0x1bd)+'\x20full\x20modu'+_0x59827d(0x1ef)+'..');const _0x4af5ad=[...modules[_0x59827d(0x1ee)]()];await Promise[_0x59827d(0x2c2)](_0x4af5ad['map'](_0xb2e214=>unloadModule(_0xb2e214,_0x59827d(0x1f0)+'d')));const _0x27f292=await loadAllModules(_0x5200ea);return lastConfigSnapshot={...getConfig()||{}},_0x27f292;}catch(_0x1a415a){error('🔥\x20Critical'+_0x59827d(0x269)+_0x59827d(0x1a2)+_0x59827d(0x252),sanitizeError(_0x1a415a));throw _0x1a415a;}finally{isReloading=![];}}async function parseFileMeta(_0x15c989){const _0x425816=_0x57ec0f;try{const _0x254dea=await readFile(_0x15c989,_0x425816(0x235)),_0x595fab=await stat(_0x15c989);let _0x42bbc0=null;const _0x14b25f=[/(?:export\s+const|export\s+let|const|let)\s+name\s*=\s*['"]([^'"]+)['"]/i,/name\s*[:=]\s*['"]([^'"]+)['"]/i,/module\.exports\s*=\s*{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i,/export\s+default\s+{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i];for(const _0x486b20 of _0x14b25f){const _0xbee789=_0x254dea[_0x425816(0x34d)](_0x486b20);if(_0xbee789&&_0xbee789[-0x5*-0x41f+0x22fe+0x8*-0x6f3]){_0x42bbc0=_0xbee789[-0x19ba+-0x145a+0x2e15][_0x425816(0x149)]();break;}}if(!_0x42bbc0)_0x42bbc0=_0x47a24c[_0x425816(0x253)](_0x15c989)[_0x425816(0x345)];let _0x490537=0x5*0x74a+-0x1644+-0x2d6*0x5;const _0x21dbd5=_0x254dea['match'](/priority\s*[:=]\s*([0-9]+)/i);if(_0x21dbd5&&_0x21dbd5[-0x3a*-0x19+0x1*0x25e6+-0x2b8f])_0x490537=parseInt(_0x21dbd5[0x2*-0xdf8+0x138e+0x863],-0x44*0x6b+-0xf60+0x2bd6);const _0x3e3932=_0x254dea[_0x425816(0x34d)](/dependencies\s*[:=]\s*\[([^\]]+)\]/)||_0x254dea[_0x425816(0x34d)](/configKeys\s*[:=]\s*\[([^\]]+)\]/),_0x51ff55=_0x3e3932&&_0x3e3932[-0xb9*0x5+-0x2*0x1037+0x240c]?_0x3e3932[-0x26cd+0x1fd4+0x6fa][_0x425816(0x32f)](',')['map'](_0x6e561b=>_0x6e561b[_0x425816(0x149)]()[_0x425816(0x17c)](/['"]/g,''))[_0x425816(0x33c)](Boolean):[],{primaryDir:_0x33ed62,allDirs:_0x39d2d5}=resolveConfiguredDirs(),_0x4a65c2=_0x39d2d5[_0x425816(0x30c)](_0x57a279=>_0x47a24c[_0x425816(0x267)](_0x15c989)[_0x425816(0x18b)](_0x47a24c['resolve'](_0x57a279)))||_0x47a24c[_0x425816(0x2f6)](_0x15c989),_0x206205=_0x47a24c[_0x425816(0x267)](_0x4a65c2)===_0x47a24c[_0x425816(0x267)](_0x33ed62);return{'name':_0x42bbc0,'priority':_0x490537,'deps':_0x51ff55,'isPrimary':_0x206205,'dir':_0x4a65c2,'text':_0x254dea,'size':_0x595fab[_0x425816(0x2c5)],'filePath':_0x15c989};}catch(_0x542e24){return warn('⚠️\x20parseFil'+'eMeta\x20fail'+_0x425816(0x2cc)+_0x15c989+':\x20'+(_0x542e24?.['message']||_0x542e24)),null;}}async function scanDirsForName(_0x39f5a8){const _0x1050d9=_0x57ec0f,_0x2875e7=getConfig(),{allDirs:_0x18c7f4}=resolveConfiguredDirs(),_0x19446c=_0x2875e7['ALLOWED_MO'+'DULE_EXTEN'+_0x1050d9(0x241)]||['.js',_0x1050d9(0x1aa),_0x1050d9(0x32d)],_0x18ed7f=[];for(const _0x2f6265 of _0x18c7f4){try{const _0x4d7cdf=await readdir(_0x2f6265);for(const _0x4bb5c8 of _0x4d7cdf){const _0x409661=_0x47a24c[_0x1050d9(0x2be)](_0x4bb5c8);if(!_0x19446c['includes'](_0x409661))continue;const _0x4d2a57=_0x47a24c['join'](_0x2f6265,_0x4bb5c8),_0x406da5=await parseFileMeta(_0x4d2a57);if(!_0x406da5)continue;if(_0x406da5[_0x1050d9(0x345)]===_0x39f5a8)_0x18ed7f[_0x1050d9(0x316)](_0x406da5);}}catch(_0x2d8f59){debug('scanDirsFo'+_0x1050d9(0x1e9)+_0x1050d9(0x179)+_0x2f6265+':\x20'+(_0x2d8f59?.[_0x1050d9(0x225)]||_0x2d8f59));}}return _0x18ed7f;}function decideWinnerForCandidates(_0x195ff3){const _0x2dd89d=_0x57ec0f;if(!_0x195ff3||_0x195ff3[_0x2dd89d(0x2c8)]===0x2051*-0x1+-0xf*-0x109+0x10ca)return null;if(_0x195ff3[_0x2dd89d(0x2c8)]===-0xe8b+0x2ee+0x5cf*0x2)return _0x195ff3[0x1bc3+-0x2117*-0x1+-0x2*0x1e6d];const _0x38dcea=getConfig(),_0x3eab3e=(_0x38dcea[_0x2dd89d(0x292)+'LICATE_POL'+_0x2dd89d(0x1f1)]||_0x2dd89d(0x183)+_0x2dd89d(0x1c3))[_0x2dd89d(0x1b8)+'e']();if(_0x3eab3e==='error')return error(_0x2dd89d(0x323)+_0x2dd89d(0x168)+_0x2dd89d(0x2f3)+_0x2dd89d(0x21d)+_0x195ff3[0x1de5+0xfc+0xa4b*-0x3]['name']+_0x2dd89d(0x30e)+_0x195ff3[_0x2dd89d(0x2e6)](_0x3eed77=>_0x47a24c['basename'](_0x3eed77['filePath']))[_0x2dd89d(0x35b)](',\x20')+(_0x2dd89d(0x2b2)+_0x2dd89d(0x2d0)+_0x2dd89d(0x23a)+_0x2dd89d(0x265))),null;return _0x195ff3[_0x2dd89d(0x34e)]((_0x4dbe8f,_0x51378b)=>{const _0x1a4735=_0x2dd89d;if((_0x51378b[_0x1a4735(0x1c0)]||-0x2557+0x7*-0xa3+0x29cc)!==(_0x4dbe8f['priority']||0x1*0x1c06+0xb2a*-0x1+-0x2*0x86e))return(_0x51378b[_0x1a4735(0x1c0)]||-0x1d1e+0x98e+0x1390)-(_0x4dbe8f[_0x1a4735(0x1c0)]||0x4*0x876+-0x4c7*-0x1+0x269f*-0x1);if(_0x3eab3e===_0x1a4735(0x183)+'mary'){if(_0x4dbe8f[_0x1a4735(0x1d6)]!==_0x51378b[_0x1a4735(0x1d6)])return _0x4dbe8f[_0x1a4735(0x1d6)]?-(-0x11fb*0x1+-0x151d+0x2719):0xfff*0x2+0x26ac+-0x46a9*0x1;}return _0x4dbe8f[_0x1a4735(0x2d7)]['localeComp'+_0x1a4735(0x351)](_0x51378b[_0x1a4735(0x2d7)]);}),_0x195ff3[-0x2660+0x1a56+-0x1*-0xc0a];}async function handleFileEvent(_0x4ea0c4,_0x1836dc,_0xda9eb){const _0x530143=_0x57ec0f;try{const _0x4e7a61=getConfig();if(!_0x4e7a61['ALLOWED_MO'+_0x530143(0x2e8)+_0x530143(0x241)]['includes'](_0x47a24c['extname'](_0x1836dc)))return;let _0x450f77=null;if(_0x4ea0c4===_0x530143(0x375)){for(const [_0xeef270,_0x8c258c]of modules[_0x530143(0x136)]()){if(_0x8c258c[_0x530143(0x165)]&&_0x47a24c[_0x530143(0x267)](_0x8c258c[_0x530143(0x165)])===_0x47a24c[_0x530143(0x267)](_0x1836dc)){_0x450f77=_0xeef270;break;}}if(!_0x450f77)_0x450f77=_0x47a24c['parse'](_0x1836dc)[_0x530143(0x345)];}else{const _0x5a9658=await parseFileMeta(_0x1836dc);if(!_0x5a9658){debug(_0x530143(0x1ec)+_0x530143(0x1ad)+'ldn\x27t\x20pars'+'e\x20'+_0x1836dc+_0x530143(0x288));return;}_0x450f77=_0x5a9658[_0x530143(0x345)];}if(!_0x450f77){debug('handleFile'+_0x530143(0x254)+_0x530143(0x31a)+_0x530143(0x2d6)+_0x1836dc);return;}const _0x11c088=await scanDirsForName(_0x450f77),_0x24c6c8=decideWinnerForCandidates(_0x11c088);if(!_0x24c6c8&&_0x11c088[_0x530143(0x2c8)]>0x1*0x12a+-0x43*0x27+0xc1*0xc&&(getConfig()[_0x530143(0x292)+'LICATE_POL'+'ICY']||_0x530143(0x183)+_0x530143(0x1c3))[_0x530143(0x1b8)+'e']()===_0x530143(0x1b5)){modules[_0x530143(0x310)](_0x450f77)&&await unloadModule(_0x450f77,'duplicate\x20'+_0x530143(0x2a3)+'or\x20-\x20unloa'+'d');return;}if(!_0x24c6c8){modules[_0x530143(0x310)](_0x450f77)?(info('No\x20candida'+'tes\x20remain'+_0x530143(0x15e)+_0x530143(0x268)+_0x450f77+(_0x530143(0x1fd)+_0x530143(0x2d2))),await unloadModule(_0x450f77,_0x530143(0x185)+'ed\x20-\x20no\x20ca'+_0x530143(0x196)+_0x530143(0x332))):debug('No\x20candida'+_0x530143(0x2a4)+_0x450f77+(_0x530143(0x29b)+_0x530143(0x305)+_0x530143(0x283)+_0x530143(0x34f)));return;}const _0x4a109c=_0x47a24c[_0x530143(0x267)](_0x24c6c8[_0x530143(0x2d7)]),_0x510bcd=modules[_0x530143(0x2cd)](_0x450f77);if(_0x47a24c[_0x530143(0x267)](_0x1836dc)===_0x4a109c){info((_0x4ea0c4==='add'?_0x530143(0x374):_0x4ea0c4===_0x530143(0x287)?_0x530143(0x227):_0x530143(0x2bc))+':\x20'+_0x1836dc+(_0x530143(0x18c)+_0x530143(0x187))+_0x450f77+(_0x530143(0x331)+_0x530143(0x25f)+'.')),await loadFile(_0x4a109c,!![],_0xda9eb);return;}if(!_0x510bcd){info('Module\x20\x22'+_0x450f77+(_0x530143(0x14c)+_0x530143(0x1a3)+_0x530143(0x2cf)+'ner\x20')+_0x4a109c+(_0x530143(0x24a)+'loading\x20wi'+_0x530143(0x262))),await loadFile(_0x4a109c,![],_0xda9eb);return;}if(_0x47a24c['resolve'](_0x510bcd[_0x530143(0x165)])!==_0x4a109c){info(_0x530143(0x224)+'\x20\x22'+_0x450f77+(_0x530143(0x173)+_0x530143(0x208))+_0x47a24c['basename'](_0x510bcd[_0x530143(0x165)])+_0x530143(0x26a)+_0x47a24c[_0x530143(0x2d5)](_0x4a109c)+(_0x530143(0x23b)+'g.')),await loadFile(_0x4a109c,![],_0xda9eb),await unloadModule(_0x450f77,_0x530143(0x213)+_0x530143(0x229)+'er');return;}debug(_0x530143(0x1ec)+_0x530143(0x237)+_0x530143(0x1fc)+_0x1836dc+(_0x530143(0x200)+_0x530143(0x26b)+_0x530143(0x285)+_0x530143(0x268))+_0x450f77+('\x22\x20(winner\x20'+_0x530143(0x205)+'.'));}catch(_0x364c48){error(_0x530143(0x2ef)+_0x530143(0x2ea)+_0x530143(0x24e)+_0x1836dc+':\x20'+(_0x364c48?.[_0x530143(0x225)]||_0x364c48),sanitizeError(_0x364c48));}}export function setupWatchers(_0x5257d5){const _0x132f9a=_0x57ec0f;if(!chokidar)return;const _0x281b38=getConfig(),{allDirs:_0x31f853}=resolveConfiguredDirs();if(!_0x31f853||_0x31f853[_0x132f9a(0x2c8)]===-0x15e7*0x1+-0x625+0x14*0x167){warn('👀\x20No\x20local'+_0x132f9a(0x2dd)+'rectories\x20'+'configured'+_0x132f9a(0x23d));return;}info(_0x132f9a(0x239)+'\x20for\x20modul'+_0x132f9a(0x24b)+_0x132f9a(0x357)+_0x31f853['join'](',\x20'));const _0x5c91e6=chokidar['watch'](_0x31f853,{'ignoreInitial':!![],'persistent':!![],'atomic':0xc8,'awaitWriteFinish':{'stabilityThreshold':0xc8,'pollInterval':0x64}}),_0x3d267b=new Map(),_0x59f5e9=_0x281b38['MODULE_REL'+_0x132f9a(0x2b3)+_0x132f9a(0x1db)]||0x16f7+-0x329+0xa*-0x1dd,_0x1803d8=['add',_0x132f9a(0x287),_0x132f9a(0x375)];_0x5c91e6['on'](_0x132f9a(0x2b7),(_0x53c382,_0x492a3b)=>{const _0x19fadd=_0x132f9a;try{if(!_0x1803d8[_0x19fadd(0x290)](_0x53c382))return;const _0x401ac0=_0x47a24c['extname'](_0x492a3b);if(!getConfig()[_0x19fadd(0x2bb)+_0x19fadd(0x2e8)+_0x19fadd(0x241)][_0x19fadd(0x290)](_0x401ac0))return;if(_0x3d267b[_0x19fadd(0x310)](_0x492a3b))clearTimeout(_0x3d267b[_0x19fadd(0x2cd)](_0x492a3b));_0x3d267b['set'](_0x492a3b,setTimeout(async()=>{const _0x49be54=_0x19fadd;_0x3d267b[_0x49be54(0x15b)](_0x492a3b),await handleFileEvent(_0x53c382,_0x492a3b,_0x5257d5);},_0x59f5e9));}catch(_0x20b5f2){error(_0x19fadd(0x27b)+_0x19fadd(0x148)+(_0x20b5f2?.[_0x19fadd(0x225)]||_0x20b5f2),sanitizeError(_0x20b5f2));}}),hotReloadConfig(async(..._0x1b0895)=>{const _0x4c521a=_0x132f9a;try{const _0x4ca32e=Array[_0x4c521a(0x26c)](_0x1b0895[-0x9*-0x255+-0xeff+-0x5fe])?_0x1b0895[-0x1*-0x221d+0x1*0x1e97+-0x40b4]:[],_0x56978b=_0x1b0895[0x34b*0x2+-0x15f+-0x3a*0x17]||lastConfigSnapshot||{},_0x4cff30=_0x1b0895[0x269b+0x576+-0x2c0f]||getConfig()||{};info(_0x4c521a(0x33e)+'hange\x20dete'+_0x4c521a(0x373)+_0x4c521a(0x16e)+':\x20'+_0x4ca32e['join'](',\x20')),concurrencyLimiter=_0x34d8c8(getConfig()[_0x4c521a(0x298)+_0x4c521a(0x364)+_0x4c521a(0x1de)]||-0x20fe+-0x223d+-0x1*-0x4340);const _0x4849d0=[],_0x483e94=_0x4ca32e[_0x4c521a(0x2c8)]>-0x1932+-0x9bb*0x3+0x3663?_0x4ca32e:Object[_0x4c521a(0x1ee)](_0x4cff30);for(const _0x1f65df of _0x483e94){const _0x250210=_0x56978b&&Object[_0x4c521a(0x2d3)][_0x4c521a(0x17b)+_0x4c521a(0x30a)]['call'](_0x56978b,_0x1f65df)?_0x56978b[_0x1f65df]:undefined,_0x5e80b4=_0x4cff30&&Object['prototype'][_0x4c521a(0x17b)+'erty'][_0x4c521a(0x133)](_0x4cff30,_0x1f65df)?_0x4cff30[_0x1f65df]:undefined,_0x4da569=_0x250210===_0x5e80b4||typeof _0x250210===_0x4c521a(0x12b)&&typeof _0x5e80b4==='object'&&JSON[_0x4c521a(0x21e)](_0x250210)===JSON[_0x4c521a(0x21e)](_0x5e80b4);if(!_0x4da569)_0x4849d0[_0x4c521a(0x316)](_0x1f65df);}if(_0x4849d0[_0x4c521a(0x2c8)]===-0xaa2+-0x1ba9+-0x1*-0x264b){debug(_0x4c521a(0x1bc)+_0x4c521a(0x1b9)+'o\x20effectiv'+'e\x20key-valu'+_0x4c521a(0x24b)+'detected\x20—'+'\x20skipping.'),lastConfigSnapshot={..._0x4cff30};return;}info(_0x4c521a(0x346)+_0x4c521a(0x28d)+_0x4c521a(0x29a)+_0x4c521a(0x18a)+_0x4849d0[_0x4c521a(0x35b)](',\x20'));const _0x4c0435=[_0x4c521a(0x23f)+_0x4c521a(0x350),'CARL_DIREC'+_0x4c521a(0x1fb),_0x4c521a(0x292)+_0x4c521a(0x271)+_0x4c521a(0x1f1)];if(_0x4849d0[_0x4c521a(0x195)](_0x54e840=>_0x4c0435[_0x4c521a(0x290)](_0x54e840))){warn(_0x4c521a(0x154)+_0x4c521a(0x314)+_0x4c521a(0x242)+_0x4c521a(0x2fe)+_0x4c521a(0x2fa)+_0x4c521a(0x31f)+_0x4c521a(0x1e1)+'\x20full\x20relo'+'ad\x20for\x20cor'+'rectness.');try{await reloadAllModules(_0x5257d5);}catch(_0x2cdcc3){error('Config-hot'+_0x4c521a(0x157)+_0x4c521a(0x35f)+_0x4c521a(0x198),sanitizeError(_0x2cdcc3));}finally{lastConfigSnapshot={..._0x4cff30};}return;}calculateDependencyGraph();const _0x340a23=getModulesForConfigKeys(_0x4849d0);if(_0x340a23[_0x4c521a(0x2c8)]===-0x419*0x5+0x14cf+-0x52*0x1){info(_0x4c521a(0x279)+'\x20declare\x20t'+_0x4c521a(0x325)+_0x4c521a(0x2eb)+_0x4c521a(0x2a6)+_0x4c521a(0x34f)),lastConfigSnapshot={..._0x4cff30};return;}info(_0x4c521a(0x2f8)+'fected\x20by\x20'+_0x4c521a(0x2bf)+_0x4c521a(0x2e2)+_0x340a23[_0x4c521a(0x35b)](',\x20'));const _0x1801c3=[];for(const _0x33fbd of _0x340a23){if(!modules['has'](_0x33fbd))continue;const _0x3799be=modules['get'](_0x33fbd),_0x2b06e8=_0x3799be[_0x4c521a(0x2fc)],_0x280cac=_0x3799be[_0x4c521a(0x165)],_0x452733=normalizeModuleConfigKeys(_0x2b06e8),_0x2be193=new Set();for(const _0x4a05cc of _0x452733){if(_0x4849d0[_0x4c521a(0x290)](_0x4a05cc[_0x4c521a(0x2ce)]))_0x2be193['add'](_0x4a05cc['type']);}try{if(_0x2be193[_0x4c521a(0x310)](_0x4c521a(0x35a))){if(typeof _0x2b06e8[_0x4c521a(0x233)]===_0x4c521a(0x264)){info(_0x4c521a(0x164)+'alizing\x20'+_0x33fbd+(_0x4c521a(0x1be)+_0x4c521a(0x13f)+_0x4c521a(0x20b)));try{await Promise[_0x4c521a(0x267)](_0x2b06e8[_0x4c521a(0x233)](_0x5257d5));}catch(_0xff1ca8){error(_0x4c521a(0x163)+_0x4c521a(0x36d)+_0x33fbd+':\x20'+(_0xff1ca8?.[_0x4c521a(0x225)]||_0xff1ca8),sanitizeError(_0xff1ca8));}}else info(_0x4c521a(0x317)+_0x33fbd+(_0x4c521a(0x2b9)+_0x4c521a(0x161)+_0x4c521a(0x1d5)+'lize()\x20pre'+_0x4c521a(0x319)+_0x4c521a(0x1c8)+_0x4c521a(0x131))),_0x1801c3[_0x4c521a(0x316)](concurrencyLimiter(()=>loadFile(_0x280cac,!![],_0x5257d5)));}else{if(_0x2be193[_0x4c521a(0x310)](_0x4c521a(0x320))){if(typeof _0x2b06e8[_0x4c521a(0x228)+'g']===_0x4c521a(0x264)){info('→\x20Applying'+'\x20config\x20to'+'\x20'+_0x33fbd+('\x20via\x20apply'+_0x4c521a(0x303)));try{await Promise[_0x4c521a(0x267)](_0x2b06e8[_0x4c521a(0x228)+'g'](_0x4cff30));}catch(_0x3db1d4){error(_0x4c521a(0x29c)+_0x4c521a(0x302)+_0x4c521a(0x1e5)+_0x33fbd+':\x20'+(_0x3db1d4?.[_0x4c521a(0x225)]||_0x3db1d4),sanitizeError(_0x3db1d4)),_0x1801c3[_0x4c521a(0x316)](concurrencyLimiter(()=>loadFile(_0x280cac,!![],_0x5257d5)));}}else{if(typeof _0x2b06e8[_0x4c521a(0x2db)+_0x4c521a(0x17f)]===_0x4c521a(0x264)){info(_0x4c521a(0x1f3)+_0x4c521a(0x2db)+'ange\x20on\x20'+_0x33fbd+'.');try{await Promise[_0x4c521a(0x267)](_0x2b06e8[_0x4c521a(0x2db)+_0x4c521a(0x17f)](_0x4cff30));}catch(_0x47d3d0){error(_0x4c521a(0x192)+_0x4c521a(0x15d)+'led\x20for\x20'+_0x33fbd+':\x20'+(_0x47d3d0?.[_0x4c521a(0x225)]||_0x47d3d0),sanitizeError(_0x47d3d0)),_0x1801c3['push'](concurrencyLimiter(()=>loadFile(_0x280cac,!![],_0x5257d5)));}}else debug(_0x4c521a(0x317)+_0x33fbd+(_0x4c521a(0x2b9)+'hot\x20keys\x20b'+_0x4c521a(0x27d)+_0x4c521a(0x35e)+_0x4c521a(0x189)+'hange\x20—\x20sc'+_0x4c521a(0x1ed)+_0x4c521a(0x28e))),_0x1801c3[_0x4c521a(0x316)](concurrencyLimiter(()=>loadFile(_0x280cac,!![],_0x5257d5)));}}else info(_0x4c521a(0x2e9)+'g\x20'+_0x33fbd+(_0x4c521a(0x150)+_0x4c521a(0x1fa)+'e.')),_0x1801c3['push'](concurrencyLimiter(()=>loadFile(_0x280cac,!![],_0x5257d5)));}}catch(_0x35e5b2){warn(_0x4c521a(0x186)+_0x4c521a(0x138)+'ion\x20for\x20'+_0x33fbd+':\x20'+(_0x35e5b2?.[_0x4c521a(0x225)]||_0x35e5b2));}}const _0x238cf3=await Promise[_0x4c521a(0x2c2)](_0x1801c3);_0x238cf3[_0x4c521a(0x2e1)](_0x2f2a6e=>{const _0x2ad93a=_0x4c521a;_0x2f2a6e[_0x2ad93a(0x17a)]===_0x2ad93a(0x191)&&error(_0x2ad93a(0x344)+_0x2ad93a(0x246)+_0x2ad93a(0x299)+_0x2ad93a(0x2ee)+'hange:\x20'+_0x2f2a6e[_0x2ad93a(0x22a)]);}),info(_0x4c521a(0x188)+'ig-related'+_0x4c521a(0x155)+_0x4c521a(0x2aa)+_0x4c521a(0x2b6)+_0x4c521a(0x1a0)),lastConfigSnapshot={..._0x4cff30};}catch(_0x1d7ab6){error(_0x4c521a(0x313)+_0x4c521a(0x1e2)+'ler\x20failed',sanitizeError(_0x1d7ab6));}});}const groupParticipantsCache=new Map(),GROUP_PARTIPANTS_CACHE_TTL_MS=(-0x2*0x43f+0x1*-0xeb9+0x1755)*(0x2469+-0xd*-0x161+-0x326e);async function resolveGroupParticipants(_0x230448,_0x3c4cea){const _0x204467=_0x57ec0f;if(!_0x3c4cea)return[];try{const _0x1464f7=Date['now'](),_0x5d8087=groupParticipantsCache[_0x204467(0x2cd)](_0x3c4cea);if(_0x5d8087&&_0x5d8087[_0x204467(0x2c6)]>_0x1464f7)return _0x5d8087['participan'+'ts'];const _0x8f0e3d=_0x5b466f=>{const _0x48cad8=_0x204467;if(!_0x5b466f)return null;if(typeof _0x5b466f===_0x48cad8(0x34b))return{'id':_0x5b466f,'raw':_0x5b466f};if(typeof _0x5b466f['id']==='string')return{'id':_0x5b466f['id'],'raw':_0x5b466f};if(typeof _0x5b466f[_0x48cad8(0x335)]===_0x48cad8(0x34b))return{'id':_0x5b466f[_0x48cad8(0x335)],'raw':_0x5b466f};if(typeof _0x5b466f[_0x48cad8(0x132)+'t']===_0x48cad8(0x34b))return{'id':_0x5b466f[_0x48cad8(0x132)+'t'],'raw':_0x5b466f};if(_0x5b466f['id']&&typeof _0x5b466f['id']===_0x48cad8(0x12b)&&(_0x5b466f['id'][_0x48cad8(0x366)]||_0x5b466f['id']['server'])){const _0x3bffb9=_0x5b466f['id']['user']||(typeof _0x5b466f['id']===_0x48cad8(0x34b)?_0x5b466f['id']:null),_0x56df96=_0x5b466f['id'][_0x48cad8(0x152)]||_0x48cad8(0x356)+'.net';if(_0x3bffb9)return{'id':_0x3bffb9+'@'+_0x56df96,'raw':_0x5b466f};}if((_0x5b466f['user']||_0x5b466f['userid'])&&(_0x5b466f[_0x48cad8(0x152)]||_0x5b466f[_0x48cad8(0x2ac)]||_0x5b466f['servername'])){const _0x2d1aea=_0x5b466f[_0x48cad8(0x366)]||_0x5b466f[_0x48cad8(0x1ae)],_0xfab884=_0x5b466f[_0x48cad8(0x152)]||_0x5b466f['serverJid']||_0x5b466f[_0x48cad8(0x1cc)]||_0x48cad8(0x356)+_0x48cad8(0x23c);return{'id':_0x2d1aea+'@'+_0xfab884,'raw':_0x5b466f};}if(_0x5b466f['id']&&typeof _0x5b466f['id']===_0x48cad8(0x12b)&&typeof _0x5b466f['id'][_0x48cad8(0x132)+'t']===_0x48cad8(0x34b))return{'id':_0x5b466f['id'][_0x48cad8(0x132)+'t'],'raw':_0x5b466f};try{const _0x1fd942=JSON[_0x48cad8(0x21e)](_0x5b466f),_0x431221=_0x1fd942[_0x48cad8(0x34d)](/"(\d+@[^"]+)"/);if(_0x431221)return{'id':_0x431221[0x1*0x81+0x49+-0xc9],'raw':_0x5b466f};}catch(_0x7ec244){}return null;};try{if(_0x230448?.[_0x204467(0x1cb)]){const _0x191bd0=_0x230448[_0x204467(0x1cb)]['groupMetad'+_0x204467(0x22b)]?.[_0x3c4cea]||_0x230448[_0x204467(0x1cb)][_0x204467(0x2f5)+_0x204467(0x22b)]&&typeof _0x230448[_0x204467(0x1cb)][_0x204467(0x2f5)+'ata'][_0x204467(0x2cd)]===_0x204467(0x264)&&_0x230448['store'][_0x204467(0x2f5)+'ata'][_0x204467(0x2cd)](_0x3c4cea)||_0x230448[_0x204467(0x1cb)][_0x204467(0x12d)]?.[_0x3c4cea]||_0x230448[_0x204467(0x1cb)][_0x204467(0x12d)]&&typeof _0x230448[_0x204467(0x1cb)][_0x204467(0x12d)][_0x204467(0x2cd)]===_0x204467(0x264)&&_0x230448[_0x204467(0x1cb)]['chats']['get'](_0x3c4cea);if(_0x191bd0){const _0xbdc413=Array[_0x204467(0x26c)](_0x191bd0[_0x204467(0x132)+'ts'])?_0x191bd0['participan'+'ts']:Array[_0x204467(0x26c)](_0x191bd0[_0x204467(0x132)+'ts'])?_0x191bd0['participan'+'ts']:[];if(_0xbdc413&&_0xbdc413['length']>0x29*0xd3+0x20be+0x4289*-0x1){const _0x572f6d=_0xbdc413['map'](_0x8f0e3d)[_0x204467(0x33c)](Boolean),_0x3fb145=_0x572f6d[_0x204467(0x2e6)](_0x5147b0=>_0x5147b0['id']?{'id':_0x5147b0['id'],'raw':_0x5147b0[_0x204467(0x209)]}:null)['filter'](Boolean);return groupParticipantsCache[_0x204467(0x2e5)](_0x3c4cea,{'participants':_0x3fb145,'expiresAt':_0x1464f7+GROUP_PARTIPANTS_CACHE_TTL_MS}),_0x3fb145;}}}}catch(_0x598e8d){debug(_0x204467(0x1dd)+'upParticip'+_0x204467(0x33b)+_0x204467(0x204)+'ailed\x20for\x20'+_0x3c4cea+':\x20'+(_0x598e8d?.[_0x204467(0x225)]||_0x598e8d));}const _0x123d26=[_0x215e83=>typeof _0x230448[_0x204467(0x2f5)+_0x204467(0x22b)]===_0x204467(0x264)?_0x230448[_0x204467(0x2f5)+'ata'](_0x215e83):null,_0x2e1d4e=>_0x230448[_0x204467(0x327)]&&typeof _0x230448[_0x204467(0x327)][_0x204467(0x2f5)+'ata']===_0x204467(0x264)?_0x230448[_0x204467(0x327)][_0x204467(0x2f5)+'ata'](_0x2e1d4e):null,_0x50a7e0=>_0x230448['sock']&&typeof _0x230448[_0x204467(0x327)][_0x204467(0x153)+_0x204467(0x26d)]===_0x204467(0x264)?_0x230448[_0x204467(0x327)][_0x204467(0x153)+_0x204467(0x26d)](_0x50a7e0):null,_0x13e90a=>typeof _0x230448[_0x204467(0x153)+_0x204467(0x26d)]===_0x204467(0x264)?_0x230448['fetchGroup'+_0x204467(0x26d)](_0x13e90a):null,_0x32e4c6=>typeof _0x230448['getGroupMe'+'tadata']===_0x204467(0x264)?_0x230448[_0x204467(0x17e)+_0x204467(0x360)](_0x32e4c6):null];for(const _0x1d38c7 of _0x123d26){try{const _0x1481f8=await Promise[_0x204467(0x267)](_0x1d38c7(_0x3c4cea))['catch'](_0x401bae=>{const _0xa46a45=_0x204467;return debug('resolveGro'+'upParticip'+_0xa46a45(0x1d7)+_0xa46a45(0x159)+_0xa46a45(0x198),_0x401bae?.[_0xa46a45(0x225)]||_0x401bae),null;});if(!_0x1481f8)continue;let _0x443809=null;if(Array[_0x204467(0x26c)](_0x1481f8))_0x443809=_0x1481f8;else{if(Array['isArray'](_0x1481f8['participan'+'ts']))_0x443809=_0x1481f8[_0x204467(0x132)+'ts'];else{if(Array['isArray'](_0x1481f8['memberList']))_0x443809=_0x1481f8[_0x204467(0x20e)];else{if(Array[_0x204467(0x26c)](_0x1481f8[_0x204467(0x1ac)]?.[_0x204467(0x132)+'ts']))_0x443809=_0x1481f8[_0x204467(0x1ac)][_0x204467(0x132)+'ts'];else{if(Array['isArray'](_0x1481f8?.[_0x204467(0x132)+'ts']?.[_0x204467(0x132)+'ts']))_0x443809=_0x1481f8[_0x204467(0x132)+'ts'][_0x204467(0x132)+'ts'];}}}}if(!_0x443809||_0x443809[_0x204467(0x2c8)]===-0xda1+0x6ed*0x5+-0x1500){const _0x3f552c=_0x1481f8[_0x204467(0x132)+'ts']||_0x1481f8[_0x204467(0x1ac)]||_0x1481f8;if(Array[_0x204467(0x26c)](_0x3f552c))_0x443809=_0x3f552c;}if(_0x443809&&_0x443809['length']>0x4d*0xf+0x9c*-0x13+-0x43*-0x1b){const _0x1d6188=_0x443809[_0x204467(0x2e6)](_0x8f0e3d)[_0x204467(0x33c)](Boolean),_0x2449e7=_0x1d6188[_0x204467(0x2e6)](_0x487451=>_0x487451['id']?{'id':_0x487451['id'],'raw':_0x487451[_0x204467(0x209)]}:null)[_0x204467(0x33c)](Boolean);return groupParticipantsCache[_0x204467(0x2e5)](_0x3c4cea,{'participants':_0x2449e7,'expiresAt':_0x1464f7+GROUP_PARTIPANTS_CACHE_TTL_MS}),debug(_0x204467(0x1dd)+'upParticip'+'ants:\x20fetc'+'hed\x20'+_0x2449e7[_0x204467(0x2c8)]+('\x20participa'+_0x204467(0x2c3))+_0x3c4cea+(_0x204467(0x355)+_0x204467(0x318))),_0x2449e7;}const _0xbdc080=[];for(const _0x1aeea8 of['participan'+'ts',_0x204467(0x20e),_0x204467(0x1ac)]){const _0x3c45a6=_0x1481f8[_0x1aeea8];Array[_0x204467(0x26c)](_0x3c45a6)&&_0x3c45a6[_0x204467(0x2c8)]&&_0xbdc080[_0x204467(0x316)](..._0x3c45a6);}if(_0xbdc080[_0x204467(0x2c8)]>0x50e+-0x13ca+0x4*0x3af){const _0x578a21=_0xbdc080[_0x204467(0x2e6)](_0x8f0e3d)[_0x204467(0x33c)](Boolean),_0xec718b=_0x578a21[_0x204467(0x2e6)](_0x3a8350=>_0x3a8350['id']?{'id':_0x3a8350['id'],'raw':_0x3a8350[_0x204467(0x209)]}:null)[_0x204467(0x33c)](Boolean);return groupParticipantsCache[_0x204467(0x2e5)](_0x3c4cea,{'participants':_0xec718b,'expiresAt':_0x1464f7+GROUP_PARTIPANTS_CACHE_TTL_MS}),_0xec718b;}}catch(_0x39b19e){debug('resolveGro'+_0x204467(0x296)+_0x204467(0x1d7)+_0x204467(0x159)+_0x204467(0x19c)+_0x3c4cea+':\x20'+(_0x39b19e?.['message']||_0x39b19e));}}return groupParticipantsCache[_0x204467(0x2e5)](_0x3c4cea,{'participants':[],'expiresAt':_0x1464f7+GROUP_PARTIPANTS_CACHE_TTL_MS}),[];}catch(_0x577e65){return debug(_0x204467(0x1dd)+_0x204467(0x296)+_0x204467(0x156)+'\x20error',_0x577e65?.[_0x204467(0x225)]||_0x577e65),[];}}export async function initializeModules(_0x248990){const _0x56b05c=_0x57ec0f;if(!_0x248990)throw new Error(_0x56b05c(0x233)+_0x56b05c(0x359)+_0x56b05c(0x1f7)+_0x56b05c(0x1b0));if(!isProduction)try{chokidar=(await import('chokidar'))[_0x56b05c(0x338)],info(_0x56b05c(0x1b2)+_0x56b05c(0x1af)+_0x56b05c(0x2c7)+_0x56b05c(0x137)+_0x56b05c(0x1ce));}catch(_0x4e4959){warn(_0x56b05c(0x2d8)+'load\x20optio'+_0x56b05c(0x336)+_0x56b05c(0x1a1)+_0x56b05c(0x211)+_0x56b05c(0x2c0)+_0x56b05c(0x1c4)+_0x56b05c(0x14e)+_0x56b05c(0x32c)+'stall\x20chok'+_0x56b05c(0x260)+'nable\x20it\x20i'+_0x56b05c(0x2a8)+'.'),chokidar=null;}else info('PRODUCTION'+'\x20MODE:\x20Hot'+_0x56b05c(0x2c0)+_0x56b05c(0x19f)+_0x56b05c(0x184));const _0x5d5297=getConfig(),_0x96b38f=Symbol[_0x56b05c(0x28a)](_0x5d5297[_0x56b05c(0x245)+'KEY_SYMBOL']||_0x56b05c(0x1a5)+_0x56b05c(0x1e8));try{if(typeof _0x248990[_0x56b05c(0x219)+_0x56b05c(0x15a)]===_0x56b05c(0x264)){const _0x2e6307=typeof _0x248990[_0x56b05c(0x1f6)+_0x56b05c(0x15a)]===_0x56b05c(0x264)?_0x248990[_0x56b05c(0x1f6)+_0x56b05c(0x15a)]():0x2132*-0x1+-0x1d5b+0x3e97,_0x8f1660=Math['max'](_0x2e6307,0x8*0x2+0xf7e+0x4*-0x3d7);_0x248990[_0x56b05c(0x219)+_0x56b05c(0x15a)](_0x8f1660),debug(_0x56b05c(0x2e0)+_0x56b05c(0x1e3)+_0x56b05c(0x1d2)+_0x8f1660+('\x20to\x20avoid\x20'+_0x56b05c(0x218)));}}catch(_0x2ec756){debug(_0x56b05c(0x2d8)+_0x56b05c(0x219)+_0x56b05c(0x368)+'ot',_0x2ec756?.[_0x56b05c(0x225)]||_0x2ec756);}!_0x248990[_0x96b38f]?(_0x248990['on'](_0x56b05c(0x225),async _0x19c5a4=>{const _0x4cd2e9=_0x56b05c;try{const _0x3bae1e={};_0x3bae1e[_0x4cd2e9(0x1e6)]=_0x248990?.[_0x4cd2e9(0x327)]&&_0x248990[_0x4cd2e9(0x327)][_0x4cd2e9(0x366)]&&_0x248990['sock'][_0x4cd2e9(0x366)]['id']||null,_0x3bae1e[_0x4cd2e9(0x160)]=_0x19c5a4?.[_0x4cd2e9(0x14d)]||null,_0x3bae1e[_0x4cd2e9(0x24c)]=!!(_0x3bae1e[_0x4cd2e9(0x160)]&&_0x248990&&typeof _0x248990[_0x4cd2e9(0x24c)]==='function'&&_0x248990[_0x4cd2e9(0x24c)](_0x3bae1e[_0x4cd2e9(0x160)])),_0x3bae1e[_0x4cd2e9(0x1a6)]=_0x19c5a4?.[_0x4cd2e9(0x1a6)]??(_0x19c5a4?.[_0x4cd2e9(0x225)]?_0x19c5a4[_0x4cd2e9(0x225)]?.['conversati'+'on']||_0x19c5a4[_0x4cd2e9(0x225)]?.[_0x4cd2e9(0x330)+_0x4cd2e9(0x289)]?.[_0x4cd2e9(0x365)]||_0x19c5a4[_0x4cd2e9(0x225)]?.[_0x4cd2e9(0x281)+'ge']?.[_0x4cd2e9(0x2d4)]||_0x19c5a4[_0x4cd2e9(0x225)]?.['videoMessa'+'ge']?.[_0x4cd2e9(0x2d4)]||_0x19c5a4[_0x4cd2e9(0x225)]?.['statusText'+_0x4cd2e9(0x180)]?.[_0x4cd2e9(0x365)]||'':''),_0x3bae1e[_0x4cd2e9(0x365)]=_0x19c5a4?.['text']??(typeof _0x3bae1e[_0x4cd2e9(0x1a6)]===_0x4cd2e9(0x34b)?_0x3bae1e[_0x4cd2e9(0x1a6)]['trim']():''),_0x3bae1e[_0x4cd2e9(0x12c)]=typeof _0x19c5a4?.[_0x4cd2e9(0x12c)]==='boolean'?_0x19c5a4[_0x4cd2e9(0x12c)]:((()=>{const _0x24d4a0=_0x4cd2e9;if(!_0x3bae1e[_0x24d4a0(0x365)]||!_0x3bae1e[_0x24d4a0(0x365)][_0x24d4a0(0x149)]())return![];const _0x33e915=_0x3bae1e[_0x24d4a0(0x365)]['trim'](),_0x21dba2=_0x5d5297['COMMAND_PR'+_0x24d4a0(0x2a9)];if(_0x21dba2===null||typeof _0x21dba2==='undefined'){const _0x409e18=_0x33e915[_0x24d4a0(0x32f)](/\s+/)['shift']()?.[_0x24d4a0(0x1b8)+'e']();return _0x409e18&&allCommandNames[_0x24d4a0(0x310)](_0x409e18);}else{if(Array[_0x24d4a0(0x26c)](_0x21dba2)){const _0x556127=_0x21dba2['slice']()[_0x24d4a0(0x34e)]((_0x26e3b9,_0x49495c)=>_0x49495c[_0x24d4a0(0x2c8)]-_0x26e3b9['length']),_0x4d3152=_0x556127['find'](_0x803e82=>_0x33e915[_0x24d4a0(0x18b)](_0x803e82));if(!_0x4d3152)return![];const _0x386019=_0x33e915[_0x24d4a0(0x306)](_0x4d3152[_0x24d4a0(0x2c8)])[_0x24d4a0(0x149)](),_0xf0501c=_0x386019['split'](/\s+/)[_0x24d4a0(0x1dc)]()?.[_0x24d4a0(0x1b8)+'e']();return _0xf0501c&&allCommandNames[_0x24d4a0(0x310)](_0xf0501c);}else{if(typeof _0x21dba2===_0x24d4a0(0x34b)){if(!_0x33e915[_0x24d4a0(0x18b)](_0x21dba2))return![];const _0x41398b=_0x33e915['slice'](_0x21dba2[_0x24d4a0(0x2c8)])[_0x24d4a0(0x149)](),_0x2a68cb=_0x41398b[_0x24d4a0(0x32f)](/\s+/)[_0x24d4a0(0x1dc)]()?.[_0x24d4a0(0x1b8)+'e']();return _0x2a68cb&&allCommandNames['has'](_0x2a68cb);}}}return![];})()),_0x3bae1e[_0x4cd2e9(0x190)]=async(_0x3ea231,_0x163a21,_0x3a686a={})=>{const _0x1c509d=_0x4cd2e9;try{if(_0x248990&&typeof _0x248990['sendMessag'+'e']==='function')return await _0x248990[_0x1c509d(0x273)+'e'](_0x3ea231,_0x163a21,_0x3a686a);if(_0x248990&&_0x248990['sock']&&typeof _0x248990[_0x1c509d(0x327)]['sendMessag'+'e']==='function')return await _0x248990[_0x1c509d(0x327)][_0x1c509d(0x273)+'e'](_0x3ea231,_0x163a21,_0x3a686a);throw new Error(_0x1c509d(0x166)+_0x1c509d(0x2d9)+_0x1c509d(0x176)+'t');}catch(_0x4806af){error(_0x1c509d(0x28b)+_0x1c509d(0x1f9)+'o\x20'+_0x3ea231+':\x20'+(_0x4806af?.[_0x1c509d(0x225)]||_0x4806af));throw _0x4806af;}},_0x3bae1e[_0x4cd2e9(0x1f2)]=async _0x549be3=>{const _0x556e45=_0x4cd2e9;try{const _0x294129=_0x3bae1e[_0x556e45(0x160)];if(!_0x294129)throw new Error(_0x556e45(0x147)+_0x556e45(0x249)+'o');const _0x474e1e={};if(_0x19c5a4?.['key'])_0x474e1e[_0x556e45(0x216)]=_0x19c5a4;return await _0x3bae1e['send'](_0x294129,_0x549be3,_0x474e1e);}catch(_0x1e9d59){error('loader.rep'+_0x556e45(0x19e),_0x1e9d59?.[_0x556e45(0x225)]||_0x1e9d59);throw _0x1e9d59;}},_0x3bae1e[_0x4cd2e9(0x132)+'ts']=[],_0x3bae1e[_0x4cd2e9(0x1ab)+_0x4cd2e9(0x1eb)]=async()=>{const _0x2b0d74=_0x4cd2e9;if(!_0x3bae1e[_0x2b0d74(0x24c)]||!_0x3bae1e[_0x2b0d74(0x160)])return[];try{const _0x2d966f=await resolveGroupParticipants(_0x248990,_0x3bae1e[_0x2b0d74(0x160)]);return _0x3bae1e['participan'+'ts']=_0x2d966f,_0x2d966f;}catch(_0x1e039b){return debug(_0x2b0d74(0x16c)+_0x2b0d74(0x1e0)+_0x2b0d74(0x294),_0x1e039b?.[_0x2b0d74(0x225)]||_0x1e039b),[];}};if(_0x3bae1e[_0x4cd2e9(0x24c)]&&_0x3bae1e[_0x4cd2e9(0x160)])try{if(_0x248990?.['store']){const _0x26b0e8=_0x248990['store'][_0x4cd2e9(0x2f5)+_0x4cd2e9(0x22b)]?.[_0x3bae1e[_0x4cd2e9(0x160)]]||_0x248990['store']['groupMetad'+_0x4cd2e9(0x22b)]&&typeof _0x248990['store'][_0x4cd2e9(0x2f5)+_0x4cd2e9(0x22b)][_0x4cd2e9(0x2cd)]==='function'&&_0x248990['store'][_0x4cd2e9(0x2f5)+'ata'][_0x4cd2e9(0x2cd)](_0x3bae1e['from']);if(_0x26b0e8&&Array[_0x4cd2e9(0x26c)](_0x26b0e8[_0x4cd2e9(0x132)+'ts'])&&_0x26b0e8[_0x4cd2e9(0x132)+'ts'][_0x4cd2e9(0x2c8)]>-0x209a+-0x8*0x259+0x19b1*0x2)_0x3bae1e[_0x4cd2e9(0x132)+'ts']=_0x26b0e8[_0x4cd2e9(0x132)+'ts'][_0x4cd2e9(0x2e6)](_0x53fe2a=>({'id':_0x53fe2a['id']||_0x53fe2a}));else{const _0x1ca380=_0x248990[_0x4cd2e9(0x1cb)]['chats']?.[_0x3bae1e[_0x4cd2e9(0x160)]]||_0x248990[_0x4cd2e9(0x1cb)][_0x4cd2e9(0x12d)]&&typeof _0x248990[_0x4cd2e9(0x1cb)][_0x4cd2e9(0x12d)]['get']===_0x4cd2e9(0x264)&&_0x248990[_0x4cd2e9(0x1cb)][_0x4cd2e9(0x12d)]['get'](_0x3bae1e[_0x4cd2e9(0x160)]);_0x1ca380&&Array[_0x4cd2e9(0x26c)](_0x1ca380[_0x4cd2e9(0x132)+'ts'])&&_0x1ca380[_0x4cd2e9(0x132)+'ts'][_0x4cd2e9(0x2c8)]>-0x86+-0xe1d+0xea3&&(_0x3bae1e[_0x4cd2e9(0x132)+'ts']=_0x1ca380[_0x4cd2e9(0x132)+'ts'][_0x4cd2e9(0x2e6)](_0x30f6d4=>({'id':_0x30f6d4['id']||_0x30f6d4})));}}}catch(_0x6aa554){debug('synchronou'+_0x4cd2e9(0x2b0)+_0x4cd2e9(0x2b8)+_0x4cd2e9(0x198),_0x6aa554?.['message']||_0x6aa554);}_0x3bae1e[_0x4cd2e9(0x31c)]=_0x3bae1e[_0x4cd2e9(0x365)],_0x3bae1e['fromMe']=!!_0x19c5a4?.[_0x4cd2e9(0x311)],_0x3bae1e[_0x4cd2e9(0x2dc)]=_0x19c5a4;for(const {handler:_0x1353f5,module:_0x34f158}of messageHandlers){try{await Promise['resolve'](_0x1353f5(_0x19c5a4,_0x3bae1e));}catch(_0x1a43ec){error(_0x4cd2e9(0x27a)+_0x34f158+_0x4cd2e9(0x2a1)+(_0x1a43ec?.['message']||_0x1a43ec),sanitizeError(_0x1a43ec));}}}catch(_0x37af8d){error(_0x4cd2e9(0x36e)+_0x4cd2e9(0x217)+_0x4cd2e9(0x286)+_0x4cd2e9(0x1df),sanitizeError(_0x37af8d));}}),_0x248990['on'](_0x56b05c(0x172)+_0x56b05c(0x28c)+_0x56b05c(0x1d1),_0x2eb171=>{const _0x4ff0b4=_0x56b05c;try{if(!_0x2eb171)return;const _0x4b6a21=_0x2eb171['id']||_0x2eb171[_0x4ff0b4(0x14d)]||null;if(!_0x4b6a21)return;groupParticipantsCache[_0x4ff0b4(0x15b)](_0x4b6a21);if(Array[_0x4ff0b4(0x26c)](_0x2eb171['participan'+'ts'])&&_0x2eb171['participan'+'ts'][_0x4ff0b4(0x2c8)]>-0xb*-0x26e+0x553*-0x6+0x29c*0x2){const _0x105ab3=Date['now'](),_0x311b9e=_0x2eb171['participan'+'ts'][_0x4ff0b4(0x2e6)](_0x129c14=>({'id':_0x129c14}));groupParticipantsCache[_0x4ff0b4(0x2e5)](_0x4b6a21,{'participants':_0x311b9e,'expiresAt':_0x105ab3+GROUP_PARTICIPANTS_CACHE_TTL_MS});}}catch(_0x359425){debug(_0x4ff0b4(0x172)+'icipants.u'+_0x4ff0b4(0x18f)+_0x4ff0b4(0x28f),_0x359425?.['message']||_0x359425);}}),_0x248990['on'](_0x56b05c(0x22f)+_0x56b05c(0x2de),_0x135b5f=>{const _0x3f02a8=_0x56b05c;try{if(!Array[_0x3f02a8(0x26c)](_0x135b5f))return;for(const _0x125c9d of _0x135b5f){if(!_0x125c9d||!_0x125c9d['id'])continue;groupParticipantsCache[_0x3f02a8(0x15b)](_0x125c9d['id']);}}catch(_0x49a8ea){debug(_0x3f02a8(0x22f)+'ate\x20handle'+'r\x20error',_0x49a8ea?.[_0x3f02a8(0x225)]||_0x49a8ea);}}),_0x248990['on'](_0x56b05c(0x282)+_0x56b05c(0x278),async _0x59dfcc=>{const _0x2d0b00=_0x56b05c;try{const _0x3b553a={'botNumber':_0x248990?.['sock']&&_0x248990[_0x2d0b00(0x327)][_0x2d0b00(0x366)]&&_0x248990[_0x2d0b00(0x327)]['user']['id']||null,'from':_0x59dfcc?.[_0x2d0b00(0x14d)]||null,'isGroup':!!(_0x59dfcc?.[_0x2d0b00(0x14d)]&&_0x248990&&typeof _0x248990[_0x2d0b00(0x24c)]===_0x2d0b00(0x264)&&_0x248990[_0x2d0b00(0x24c)](_0x59dfcc[_0x2d0b00(0x14d)])),'ctx':_0x59dfcc};for(const {handler:_0x4a8c4c,module:_0x3f4eff}of callbackHandlers){try{await Promise[_0x2d0b00(0x267)](_0x4a8c4c(_0x59dfcc,_0x3b553a));}catch(_0xc74679){error('Callback\x20h'+_0x2d0b00(0x1f5)+_0x3f4eff+'\x20error:\x20'+(_0xc74679?.[_0x2d0b00(0x225)]||_0xc74679),sanitizeError(_0xc74679));}}}catch(_0x214703){error(_0x2d0b00(0x36e)+_0x2d0b00(0x304)+'lback\x20disp'+_0x2d0b00(0x1d4),sanitizeError(_0x214703));}}),_0x248990[_0x96b38f]=!![],info(_0x56b05c(0x15f)+_0x56b05c(0x31e)+_0x56b05c(0x270)+_0x56b05c(0x202)+'.')):info(_0x56b05c(0x15f)+_0x56b05c(0x31e)+'rs\x20already'+'\x20attached\x20'+_0x56b05c(0x2a2)+_0x56b05c(0x349));try{modules[_0x56b05c(0x2c5)]===-0x199*-0xf+-0x1*-0x1d36+-0x352d?(await loadAllModules(_0x248990),setupWatchers(_0x248990),startHealthMonitor(),startStatsReporter(),info(_0x56b05c(0x26f)+'oader\x20init'+_0x56b05c(0x15c))):(await reinitializeModulesWithBot(_0x248990),info(_0x56b05c(0x170)+'reinitiali'+_0x56b05c(0x32a)+'ew\x20bot\x20ins'+_0x56b05c(0x230)));}catch(_0x4ead1f){error(_0x56b05c(0x2f4)+_0x56b05c(0x236)+_0x56b05c(0x2fd)+'er\x20socket\x20'+_0x56b05c(0x135),sanitizeError(_0x4ead1f));throw _0x4ead1f;}}export function getModuleStatus(){const _0x55dbdb=_0x57ec0f;return{'loadedCount':moduleStatus['loaded'][_0x55dbdb(0x2c8)],'failedCount':moduleStatus['failed'][_0x55dbdb(0x2c8)],'reloadInProgress':isReloading,'stats':moduleLoadStats,'health':'ok','loaded':moduleStatus[_0x55dbdb(0x337)],'failed':moduleStatus[_0x55dbdb(0x198)]};}function _0x2df3(){const _0x176cb7=['hex','BOT_HOOKS_','\x20reload\x20fa','❌\x20Failed\x20t','Re-initial','to\x20reply\x20t','\x20exists\x20—\x20','e\x20changes\x20','isGroup','cleanup','ror\x20for\x20','🔧\x20Updated\x20','lastReload','1596102IufJgs','eload:','parse','Event:\x20no\x20','E_MB','modules','🗑️\x20Unloaded','be\x20an\x20arra','MB.\x20Exitin','_THRESHOLD','mark','dependenci','📈\x20Scheduli','ation\x20issu','/reloading','idar\x22\x20to\x20e','ame\x20\x22','nner.','ry\x20','function','ror','✅\x20Loaded','resolve','e\x20\x22','\x20error\x20dur','\x20to\x20','fecting\x20ac','isArray','Metadata','dule\x20detec','🚀\x20Module\x20l','rs\x20attache','LICATE_POL','ted\x20on\x20rel','sendMessag','24219XdktmT','CK_INTERVA','no\x20usable\x20',',\x20onCallba','uery:data','No\x20modules','Handler\x20','Watcher\x20er','es:\x20','ut\x20lacks\x20a','e\x20handlers','totalFailu','\x20dependenc','imageMessa','callback_q','ed\x20—\x20nothi','heck\x20|\x20Mem','tive\x20modul','sage\x20dispa','change',',\x20skipping','xtMessage','for','loader.sen','icipants.u','e\x20config\x20k','eload.','ler\x20error','includes','isFinite','MODULE_DUP','\x20total\x20com','\x20error','uest\x20ignor','upParticip','values','MODULE_CON','iled\x20durin','eys\x20change','\x20and\x20modul','❌\x20applyCon','oad','reload','now','avgLoadTim','\x20error:\x20','(idempoten','policy=err','tes\x20for\x20','createHash','ys\x20—\x20nothi','RS_WARNING','n\x20dev\x20mode','EFIX','loads/upda','-initializ','serverJid','beforeRelo','add','\x20-\x20loaded\x20','s\x20particip','lers-start','\x20--\x20MODULE','OAD_DEBOUN','isAbsolute','lastError','tes\x20have\x20c','all','ant\x20fetch\x20','\x20declared\x20','ng\x20health\x20','ALLOWED_MO','Event','nterval).','extname','config\x20key','-reloading','\x20took\x20','allSettled','nts\x20for\x20','gress,\x20req','size','expiresAt','ing\x20enable','length','d\x20during\x20u','rejected\x20b','onCallback','ed\x20for\x20','get','key','ed\x20but\x20win','_DUPLICATE','\x20invalid\x20m','ing.','prototype','caption','basename','ame\x20for\x20','filePath','Could\x20not\x20','thod\x20avail','lers-end','onConfigCh','ctx','\x20module\x20di','ate','clear','Set\x20bot\x20ma','forEach','s:\x20','KILL_ON_HI','deps','set','map','st:\x20','DULE_EXTEN','→\x20Reloadin','leEvent\x20er','\x20config\x20ke','exit','_FILE_SIZE','g\x20config\x20c','❌\x20handleFi','⚠️\x20Duplicat','12SbnCyP','y\x20detected','andidates\x20','❌\x20initiali','groupMetad','dirname','⏳\x20Module\x20r','Modules\x20af','MAX_HANDLE','/duplicate','totalLoads','mod','failed\x20aft','irectories','res','\x20is\x20large\x20','e-start','fig\x20failed','Config.','loader\x20cal','e\x20not\x20load','slice','\x20involving','83216WkNLrC','rom\x20local\x20','erty','\x20cb','find',':\x20Memory\x20u','\x22\x20found:\x20','♻️\x20Module\x20','has','fromMe','ersion\x22\x20ex','hotReloadC','nge\x20affect','measure','push','→\x20Module\x20','ork\x20API','sent\x20—\x20sch','probable\x20n','y\x20policy=e','body','--prod','ot\x20listene','\x20policy\x20—\x20','hot','module\x20nam','ule\x20load\x20c','❌\x20Duplicat','\x20not\x20avail','he\x20changed','\x22:\x20','sock','🧹\x20Cleaned\x20','✅\x20Loaded\x20','zed\x20with\x20n','⚠️\x20Excessiv','un\x20\x22npm\x20in','.cjs','⚠️\x20High\x20mem','split','extendedTe','\x22.\x20Loading','eft','nload','EMORY_USAG','jid','nal\x20depend','loaded','default','1568pRpEib','ms.\x20Max\x20Lo','ants:\x20stor','filter','ction','⚡\x20Config\x20c','heapUsed','♻️\x20Reloaded','ad:\x20','\x20modules\x20f','CARL_DIREC','❌\x20A\x20module','name','⚡\x20Effectiv','ms.\x20Mem:\x20','before\x20rel','t).','\x20\x20-\x20','string','commands','match','sort','ng\x20to\x20do.','RECTORY','are','kQuery\x22\x20is','onMessage',',\x20Fails:\x20','\x20from\x20netw','s.whatsapp','in:\x20','carl','Modules\x20re','reinit','join','2704743xcxePb','invalid\x20in','pplyConfig','ll\x20reload\x20','tadata','rror','checks\x20eve','L_MS','CURRENCY_L','text','user','very\x20','eners\x20on\x20b','CRITICAL_M','digest','isFile','📊\x20Health\x20c','ailed\x20for\x20','Top-level\x20','url','\x20reload.','rsion\x20from','_WARN_BYTE','cted\x20(keys','Added','unlink','\x22dependenc','object','isCommand','chats','toFixed','296fmEEdT','\x20with\x20new\x20','load.','participan','call','calculateD','open','entries','d\x20via\x20chok','duling\x20act','stack','357294sAxwjH','duplicate\x20','directorie','ad\x20hook\x20fa','o\x20load:\x20','init\x20confi','hasOwn','🕒\x20Full\x20mod','\x20function','⛔\x20Module\x20','eporting\x20e','e-end','NODE_ENV','No\x20target\x20','ror:\x20','trim','\x20onMessage','defaultMax','\x22\x20not\x20curr','remoteJid','isabled.\x20R','update','\x20due\x20to\x20co','\x20modules..','server','fetchGroup','Config\x20cha','\x20module\x20re','ants\x20fatal','-reload\x20fu','invalid\x20mo','h\x20attempt\x20','eners','delete','ialized.','Change\x20fai','\x20for\x20modul','🔒\x20Global\x20b','from','reinit\x20but','\x20registere','❌\x20Reinit\x20f','→\x20Re-initi','file','No\x20send\x20me','observe','e\x20module\x20c','Redacted','\x20sock\x20or\x20s','📈\x20Stats\x20re','meta.getPa','\x22onCallbac','\x20reported)','production','♻️\x20Modules\x20','ependencyG','group-part','\x22\x20changed\x20','entry:\x20','duration','able\x20on\x20bo','sendMentio','reloadKeys','\x27t\x20read\x20','status','hasOwnProp','replace','2025675aGXxQb','getGroupMe','ange','Message','le\x20load\x20pr','version','prefer-pri','ed.','file\x20remov','Error\x20sche','\x20for\x20\x22','✅\x20All\x20conf','/onConfigC','d:\x20','startsWith','\x20is\x20winner','\x20Loads:\x20','\x20warnings:','pdate\x20hand','send','rejected','❌\x20onConfig','e\x20(policy=','\x20in\x20','some','ndidates\x20l','🔧\x20Handlers','failed','🔄\x20Circular','ckQuery)','hotKeys','threw\x20for\x20','ocal\x20modul','ly\x20failed','\x20is\x20disabl','ompleted.','ency\x20\x22chok','ing\x20full\x20r','ently\x20load','📂\x20Scanning','@@myBotHoo','rawText','\x20disabled\x20','dir','bind','.mjs','getPartici','metadata','Event:\x20cou','userid','Hot-reload','\x20instance','?t=','DEV\x20MODE:\x20','porting\x20is','Query','error','gnized.','🔥\x20CRITICAL','toLowerCas','\x20reload:\x20n','\x20for\x20local','⏱️\x20Initiali','Config\x20hot','🔄\x20Starting','\x20due\x20to\x20re','tory\x20\x22','priority','⛔\x20Skipping','es\x20were\x20lo','mary','\x20will\x20be\x20d','updateHand','ory\x20usage:','\x20handlers.','eduling\x20re','endMessage','nitialize,','store','servername','❤️\x20Health\x20c','idar.','localeComp','missing\x20\x22v','pdate','s\x20to\x20','📈\x20Stats:\x20','atch\x20error','\x20no\x20initia','isPrimary','ants:\x20fetc','No\x20local\x20m','allDirs','iled\x20for\x20','CE_MS','shift','resolveGro','IMIT','tch\x20error','rticipants','performing','onfig\x20hand','x\x20listener','MB)\x20exceed','\x20for\x20','botNumber','Error','ksAttached','rName:\x20can','.\x20Ignoring','pants','handleFile','heduling\x20r','keys','le\x20reload.','full\x20reloa','ICY','reply','→\x20Calling\x20','sage\x20(','andler\x20','getMaxList','quires\x20bot','able','d\x20failed\x20t','nfig\x20chang','TORY','nge\x20on\x20','\x22\x20—\x20unload','MB.','\x20not\x20a\x20fun','\x20is\x20not\x20af','raph\x20faile','d\x20(loader)','argv','e\x20lookup\x20f','unchanged)','MAX_MODULE','env','from\x20','raw','module:','g\x20key(s).','\x20non-file\x20','ame\x22\x20expor','memberList','lers','lize\x20','idar\x22.\x20Hot','\x20modules,\x20','switched\x20t','MODULE_STA','Listeners','quoted','loader\x20mes','warnings.','setMaxList','eload\x20alre','\x20\x20-\x20Load\x20o','ocess\x20...','for\x20\x22','stringify','t\x20read\x20mod','sha256','e\x20module\x20n','TS_INTERVA','\x20updated:\x20','Winner\x20for','message','configKeys','Changed','applyConfi','o\x20new\x20winn','reason','ata','up\x20','\x20has\x20valid','ized\x20','groups.upd','tance.','maxLoadTim','missing\x20\x22n','initialize','\x22\x20is\x20not\x20a','utf-8','zeModules\x20','Event:\x20cha','port','👀\x20Watching','_POLICY=er','.\x20Switchin','.net','\x20to\x20watch.','⚠️\x20Could\x20no','MODULES_DI','t\x20parse\x20','SIONS','s\x20module\x20d','bot'];_0x2df3=function(){return _0x176cb7;};return _0x2df3();}export function getCommandNames(){return new Set(allCommandNames);}export async function sendMention(_0x55a90a,_0x182c41,_0x5f076c,_0x2686f3=[]){const _0x304440=_0x57ec0f;if(!_0x55a90a||typeof _0x55a90a[_0x304440(0x273)+'e']!=='function')throw new Error(_0x304440(0x177)+'n:\x20invalid'+_0x304440(0x16a)+_0x304440(0x1c9)+_0x304440(0x324)+_0x304440(0x1f8));return await _0x55a90a[_0x304440(0x273)+'e'](_0x182c41,{'text':_0x5f076c,'mentions':_0x2686f3});}