(function(_0x4ddb73,_0xa58102){const _0x70a072=_0x26a4,_0x14a5d1=_0x4ddb73();while(!![]){try{const _0x479d27=parseInt(_0x70a072(0x217))/(-0x9*-0x57+-0x8c2+0x5b4)+parseInt(_0x70a072(0x234))/(-0xc56+-0x3b8*-0x8+0x22d*-0x8)*(parseInt(_0x70a072(0x210))/(-0x21a7+0x5*0x55f+0x6cf))+parseInt(_0x70a072(0x207))/(-0x245a+0x1ef8*0x1+0x566)+-parseInt(_0x70a072(0x1f4))/(0x2021+-0x2*-0xbc3+0x37a2*-0x1)*(parseInt(_0x70a072(0x1f6))/(-0x17*0xbc+-0xcc5+0x95*0x33))+-parseInt(_0x70a072(0x235))/(0x1*-0x5ac+-0x13a0+0x1953)*(parseInt(_0x70a072(0x204))/(-0x1885+-0x35*0x2f+-0x4*-0x892))+parseInt(_0x70a072(0x211))/(-0x18*0x14+0xf7+0xf2)+parseInt(_0x70a072(0x215))/(0x43*0x8b+-0x1*-0x215b+-0xb*0x656);if(_0x479d27===_0xa58102)break;else _0x14a5d1['push'](_0x14a5d1['shift']());}catch(_0x493254){_0x14a5d1['push'](_0x14a5d1['shift']());}}}(_0x366f,-0xed1af+0x976f*0x2c+-0x6*-0x93c7));import{info,warn}from'./logger.js';function _0x26a4(_0x5741ff,_0x361367){const _0x2fa6b1=_0x366f();return _0x26a4=function(_0x3fe145,_0x41386c){_0x3fe145=_0x3fe145-(-0x2*-0xd45+0xb07*0x1+-0x23a1);let _0xdc1719=_0x2fa6b1[_0x3fe145];return _0xdc1719;},_0x26a4(_0x5741ff,_0x361367);}function _0x366f(){const _0x4a9834=['sockMonito','lastSockId','has','e\x20\x22','set','tRef.sock.','start','d\x20for\x20\x22','call','2802PniWSx','1529164TaUtGs','cket\x20insta','.update','SOCK_MONIT','ev\x20missing','removeList','\x22,\x20re-atta','5vsoAhC','stop','10532946WyERnv','ler','connection','d\x20for\x20modu','attachWatc','OR_MS','anager]\x20So','herInterva','sock','moduleName','\x22\x20in\x20modul','ener','ATTACH_WAT','le\x20','56HINFjm','ching\x20list','function','6541752XCPQUv','[ListenerM','rInterval','addListene','off','botRef','eventName','istener:\x20m','handler','735CozMOl','299340AdRerH','get','CHER_MS','ror\x20detach','5325220SoqNaM','ments\x20for\x20','1701741RWxDsY','ing\x20','UpdateHand',',\x20event=','\x20.on\x20metho','tach\x20','anager]\x20Er','creating\x20l','tener\x20for\x20','attached','anager]\x20Fa','message','entity','odule=','iled\x20to\x20at','ener.','delete','anager]\x20In','tached\x20lis','\x20for\x20'];_0x366f=function(){return _0x4a9834;};return _0x366f();}import{getConfig}from'./config.js';const managedListeners=new Map();function createManagedListener({botRef:_0x44cebc,eventName:_0x338a59,handler:_0x2880a8,moduleName:_0x856c4b}){const _0x54a7b2=_0x26a4;if(!_0x44cebc||!_0x338a59||!_0x2880a8||!_0x856c4b)return warn(_0x54a7b2(0x208)+_0x54a7b2(0x228)+'valid\x20argu'+_0x54a7b2(0x216)+_0x54a7b2(0x21e)+_0x54a7b2(0x20e)+_0x54a7b2(0x224)+_0x856c4b+_0x54a7b2(0x21a)+_0x338a59+'.'),null;const _0x14f08c=getConfig(),_0x5415b7=_0x14f08c[_0x54a7b2(0x202)+_0x54a7b2(0x213)],_0x302316=_0x14f08c[_0x54a7b2(0x1f0)+_0x54a7b2(0x1fb)],_0x45136e={'botRef':_0x44cebc,'eventName':_0x338a59,'handler':_0x2880a8,'moduleName':_0x856c4b,'attached':![],'lastSockIdentity':null,'attachWatcherInterval':null,'sockMonitorInterval':null,'connectionUpdateHandler':null},_0x37e90f=()=>{const _0x5acb88=_0x54a7b2;try{const _0x197dc8=_0x45136e[_0x5acb88(0x20c)]?.['sock'];if(!_0x197dc8?.['ev'])return;const _0x43a85b=_0x197dc8['ev'][_0x5acb88(0x20b)]||_0x197dc8['ev'][_0x5acb88(0x1f2)+_0x5acb88(0x201)];typeof _0x43a85b==='function'&&_0x43a85b[_0x5acb88(0x233)](_0x197dc8['ev'],_0x45136e[_0x5acb88(0x20d)],_0x45136e[_0x5acb88(0x20f)]);}catch(_0x55416e){warn(_0x5acb88(0x208)+_0x5acb88(0x21d)+_0x5acb88(0x214)+_0x5acb88(0x218)+_0x45136e[_0x5acb88(0x20d)]+'\x20for\x20'+_0x45136e[_0x5acb88(0x1ff)]+':\x20'+(_0x55416e?.[_0x5acb88(0x222)]||_0x55416e));}finally{_0x45136e[_0x5acb88(0x220)]=![],_0x45136e[_0x5acb88(0x22c)+_0x5acb88(0x223)]=null;}},_0x536b1c=()=>{const _0x321467=_0x54a7b2;try{const _0x3d5ca5=_0x45136e[_0x321467(0x20c)]?.[_0x321467(0x1fe)];if(!_0x3d5ca5?.['ev'])return![];_0x37e90f();const _0x5608ce=_0x3d5ca5['ev']['on']||_0x3d5ca5['ev'][_0x321467(0x20a)+'r'];return typeof _0x5608ce===_0x321467(0x206)?(_0x5608ce['call'](_0x3d5ca5['ev'],_0x45136e[_0x321467(0x20d)],_0x45136e[_0x321467(0x20f)]),!_0x45136e['attached']&&info(_0x321467(0x208)+'anager]\x20At'+_0x321467(0x229)+_0x321467(0x21f)+'\x22'+_0x45136e[_0x321467(0x20d)]+(_0x321467(0x200)+_0x321467(0x22e))+_0x45136e['moduleName']+'\x22.'),_0x45136e[_0x321467(0x220)]=!![],_0x45136e['lastSockId'+_0x321467(0x223)]=_0x3d5ca5,!![]):(warn('[ListenerM'+'anager]\x20bo'+_0x321467(0x230)+_0x321467(0x1f1)+_0x321467(0x21b)+_0x321467(0x1f9)+_0x321467(0x203)+_0x45136e['moduleName']+'.'),![]);}catch(_0x32a7fb){return warn('[ListenerM'+_0x321467(0x221)+_0x321467(0x225)+_0x321467(0x21c)+_0x45136e[_0x321467(0x20d)]+_0x321467(0x22a)+_0x45136e['moduleName']+':\x20'+(_0x32a7fb?.[_0x321467(0x222)]||_0x32a7fb)),_0x45136e[_0x321467(0x220)]=![],![];}},_0x2b46da=()=>{const _0x16347d=_0x54a7b2;if(_0x45136e['attachWatc'+'herInterva'+'l'])clearInterval(_0x45136e[_0x16347d(0x1fa)+'herInterva'+'l']);if(_0x45136e[_0x16347d(0x22b)+_0x16347d(0x209)])clearInterval(_0x45136e[_0x16347d(0x22b)+_0x16347d(0x209)]);_0x45136e[_0x16347d(0x1fa)+_0x16347d(0x1fd)+'l']=null,_0x45136e[_0x16347d(0x22b)+_0x16347d(0x209)]=null;if(_0x45136e[_0x16347d(0x1f8)+_0x16347d(0x219)+_0x16347d(0x1f7)]&&_0x45136e[_0x16347d(0x20c)]?.[_0x16347d(0x1fe)]?.['ev']){const _0x48972b=_0x45136e[_0x16347d(0x20c)][_0x16347d(0x1fe)]['ev'][_0x16347d(0x20b)]||_0x45136e[_0x16347d(0x20c)][_0x16347d(0x1fe)]['ev'][_0x16347d(0x1f2)+_0x16347d(0x201)];if(typeof _0x48972b==='function')try{_0x48972b[_0x16347d(0x233)](_0x45136e['botRef'][_0x16347d(0x1fe)]['ev'],'connection'+_0x16347d(0x237),_0x45136e[_0x16347d(0x1f8)+'UpdateHand'+_0x16347d(0x1f7)]);}catch(_0x106ac0){}_0x45136e[_0x16347d(0x1f8)+_0x16347d(0x219)+'ler']=null;}},_0x1bcc90=()=>{const _0x30f2db=_0x54a7b2;_0x2b46da(),_0x45136e[_0x30f2db(0x1fa)+_0x30f2db(0x1fd)+'l']=setInterval(()=>{const _0x6a4850=_0x30f2db;if(_0x45136e[_0x6a4850(0x20c)]?.[_0x6a4850(0x1fe)]?.['ev']&&!_0x45136e[_0x6a4850(0x220)])_0x536b1c();},_0x5415b7),_0x45136e[_0x30f2db(0x22b)+_0x30f2db(0x209)]=setInterval(()=>{const _0x26998c=_0x30f2db,_0x568ffa=_0x45136e[_0x26998c(0x20c)]?.['sock']||null;_0x568ffa&&_0x45136e['lastSockId'+_0x26998c(0x223)]!==_0x568ffa&&(info(_0x26998c(0x208)+_0x26998c(0x1fc)+_0x26998c(0x236)+'nce\x20change'+_0x26998c(0x232)+_0x45136e[_0x26998c(0x1ff)]+(_0x26998c(0x1f3)+_0x26998c(0x205)+_0x26998c(0x226))),_0x536b1c());},_0x302316);if(_0x45136e[_0x30f2db(0x20c)]?.['sock']?.['ev']){_0x45136e[_0x30f2db(0x1f8)+_0x30f2db(0x219)+_0x30f2db(0x1f7)]=()=>setTimeout(()=>_0x536b1c(),0xd44+0xe5d+0x3*-0x88f);const _0x3908d3=_0x45136e[_0x30f2db(0x20c)][_0x30f2db(0x1fe)]['ev']['on']||_0x45136e['botRef']['sock']['ev'][_0x30f2db(0x20a)+'r'];typeof _0x3908d3===_0x30f2db(0x206)&&_0x3908d3[_0x30f2db(0x233)](_0x45136e[_0x30f2db(0x20c)][_0x30f2db(0x1fe)]['ev'],_0x30f2db(0x1f8)+_0x30f2db(0x237),_0x45136e['connection'+_0x30f2db(0x219)+_0x30f2db(0x1f7)]);}},_0x303517={'start':()=>{_0x536b1c(),_0x1bcc90();},'stop':()=>{_0x2b46da(),_0x37e90f();}};return _0x303517;}export function startManagedListener(_0x3e8469){const _0x382c6e=_0x26a4,{moduleName:_0x368d6a,eventName:_0x25de58}=_0x3e8469,_0x21f7a2=_0x368d6a+':'+_0x25de58;managedListeners[_0x382c6e(0x22d)](_0x21f7a2)&&managedListeners[_0x382c6e(0x212)](_0x21f7a2)[_0x382c6e(0x1f5)]();const _0x343f31=createManagedListener(_0x3e8469);return _0x343f31&&(managedListeners[_0x382c6e(0x22f)](_0x21f7a2,_0x343f31),_0x343f31[_0x382c6e(0x231)]()),_0x343f31;}export function stopManagedListener(_0x1b66e2,_0x4db644){const _0x5b5141=_0x26a4,_0x2c204a=_0x1b66e2+':'+_0x4db644;managedListeners[_0x5b5141(0x22d)](_0x2c204a)&&(managedListeners[_0x5b5141(0x212)](_0x2c204a)[_0x5b5141(0x1f5)](),managedListeners[_0x5b5141(0x227)](_0x2c204a));}