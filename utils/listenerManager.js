(function(_0x57d9de,_0x5b6dfb){const _0x4b63a7=_0xd3c5,_0x249d8a=_0x57d9de();while(!![]){try{const _0x300bc3=-parseInt(_0x4b63a7(0x1b3))/(0x1af3*-0x1+0x1475+0x67f)*(-parseInt(_0x4b63a7(0x18b))/(-0x1e89+-0x17*-0xdd+0xab0))+parseInt(_0x4b63a7(0x195))/(-0x1*-0x6c5+0x1cf3+-0x3*0xbe7)*(parseInt(_0x4b63a7(0x19c))/(0x15*-0xa4+-0x1bf*-0x5+-0x1*-0x4bd))+parseInt(_0x4b63a7(0x180))/(0x2ac+-0x2*0x17f+-0x3*-0x1d)+-parseInt(_0x4b63a7(0x18d))/(0x12a8+-0x10ea+-0x2c*0xa)*(-parseInt(_0x4b63a7(0x184))/(-0x1ca3+-0x1*-0x15fa+0x1*0x6b0))+parseInt(_0x4b63a7(0x196))/(-0x2f9*-0x6+0xf26+0x57e*-0x6)+parseInt(_0x4b63a7(0x187))/(-0x3*-0xbb+0x5*0x1bd+-0xad9)*(-parseInt(_0x4b63a7(0x1aa))/(0x22f2+0x1de9+-0x40d1))+-parseInt(_0x4b63a7(0x1b7))/(-0xd*-0x5+0x5*-0x482+0x1654);if(_0x300bc3===_0x5b6dfb)break;else _0x249d8a['push'](_0x249d8a['shift']());}catch(_0x4bb2f5){_0x249d8a['push'](_0x249d8a['shift']());}}}(_0x1560,-0x331*0x43a+-0x71*-0x3d7+-0xadab*-0x21));import{info,warn}from'./logger.js';function _0xd3c5(_0x20a7ca,_0x545d0d){const _0x470bab=_0x1560();return _0xd3c5=function(_0x206851,_0xf9f8fb){_0x206851=_0x206851-(-0x2669+0xa52+0x1d8d);let _0x599909=_0x470bab[_0x206851];return _0x599909;},_0xd3c5(_0x20a7ca,_0x545d0d);}import{getConfig}from'./config.js';const managedListeners=new Map();function createManagedListener({botRef:_0x4b7e24,eventName:_0x5b8dc3,handler:_0x70c091,moduleName:_0x37312f}){const _0xeee1b2=_0xd3c5;if(!_0x4b7e24||!_0x5b8dc3||!_0x70c091||!_0x37312f)return warn(_0xeee1b2(0x1ac)+'anager]\x20In'+_0xeee1b2(0x1a7)+_0xeee1b2(0x186)+'creating\x20l'+_0xeee1b2(0x1b0)+_0xeee1b2(0x1af)+_0x37312f+_0xeee1b2(0x183)+_0x5b8dc3+'.'),null;const _0xfc75c9=getConfig(),_0x54949b=_0xfc75c9[_0xeee1b2(0x199)+_0xeee1b2(0x17b)],_0x54990b=_0xfc75c9[_0xeee1b2(0x18f)+'OR_MS'],_0x5d011e={'botRef':_0x4b7e24,'eventName':_0x5b8dc3,'handler':_0x70c091,'moduleName':_0x37312f,'attached':![],'lastSockIdentity':null,'attachWatcherInterval':null,'sockMonitorInterval':null,'connectionUpdateHandler':null},_0x593d7c=()=>{const _0x35da6a=_0xeee1b2;try{const _0x2ae159=_0x5d011e[_0x35da6a(0x19f)]?.[_0x35da6a(0x1b2)];if(!_0x2ae159?.['ev'])return;const _0x41f83b=_0x2ae159['ev'][_0x35da6a(0x191)]||_0x2ae159['ev']['removeList'+'ener'];typeof _0x41f83b===_0x35da6a(0x1a8)&&_0x41f83b['call'](_0x2ae159['ev'],_0x5d011e[_0x35da6a(0x179)],_0x5d011e[_0x35da6a(0x1a6)]);}catch(_0x25c6f9){warn(_0x35da6a(0x1ac)+_0x35da6a(0x1b1)+'ror\x20detach'+'ing\x20'+_0x5d011e['eventName']+_0x35da6a(0x1b5)+_0x5d011e['moduleName']+':\x20'+(_0x25c6f9?.[_0x35da6a(0x1a0)]||_0x25c6f9));}finally{_0x5d011e['attached']=![],_0x5d011e[_0x35da6a(0x19a)+'entity']=null;}},_0x45e036=()=>{const _0x56a20a=_0xeee1b2;try{const _0x375156=_0x5d011e[_0x56a20a(0x19f)]?.[_0x56a20a(0x1b2)];if(!_0x375156?.['ev'])return![];_0x593d7c();const _0x470496=_0x375156['ev']['on']||_0x375156['ev'][_0x56a20a(0x19d)+'r'];return typeof _0x470496==='function'?(_0x470496['call'](_0x375156['ev'],_0x5d011e[_0x56a20a(0x179)],_0x5d011e['handler']),!_0x5d011e[_0x56a20a(0x1a5)]&&info(_0x56a20a(0x1ac)+_0x56a20a(0x198)+_0x56a20a(0x19e)+_0x56a20a(0x1a3)+'\x22'+_0x5d011e[_0x56a20a(0x179)]+(_0x56a20a(0x1b6)+_0x56a20a(0x18e))+_0x5d011e['moduleName']+'\x22.'),_0x5d011e['attached']=!![],_0x5d011e[_0x56a20a(0x19a)+_0x56a20a(0x17c)]=_0x375156,!![]):(warn(_0x56a20a(0x1ac)+_0x56a20a(0x190)+_0x56a20a(0x189)+_0x56a20a(0x17e)+_0x56a20a(0x17d)+_0x56a20a(0x197)+_0x56a20a(0x18c)+_0x5d011e[_0x56a20a(0x1a9)]+'.'),![]);}catch(_0x5f01d7){return warn(_0x56a20a(0x1ac)+_0x56a20a(0x18a)+_0x56a20a(0x1a4)+_0x56a20a(0x181)+_0x5d011e[_0x56a20a(0x179)]+_0x56a20a(0x1b5)+_0x5d011e[_0x56a20a(0x1a9)]+':\x20'+(_0x5f01d7?.[_0x56a20a(0x1a0)]||_0x5f01d7)),_0x5d011e['attached']=![],![];}},_0x263d25=()=>{const _0x52062a=_0xeee1b2;if(_0x5d011e[_0x52062a(0x1b9)+_0x52062a(0x17f)+'l'])clearInterval(_0x5d011e[_0x52062a(0x1b9)+'herInterva'+'l']);if(_0x5d011e['sockMonito'+_0x52062a(0x19b)])clearInterval(_0x5d011e[_0x52062a(0x1ab)+_0x52062a(0x19b)]);_0x5d011e[_0x52062a(0x1b9)+_0x52062a(0x17f)+'l']=null,_0x5d011e['sockMonito'+_0x52062a(0x19b)]=null;if(_0x5d011e[_0x52062a(0x194)+_0x52062a(0x178)+_0x52062a(0x1b4)]&&_0x5d011e[_0x52062a(0x19f)]?.['sock']?.['ev']){const _0x246bbb=_0x5d011e['botRef'][_0x52062a(0x1b2)]['ev'][_0x52062a(0x191)]||_0x5d011e[_0x52062a(0x19f)]['sock']['ev'][_0x52062a(0x17a)+_0x52062a(0x1a2)];if(typeof _0x246bbb==='function')try{_0x246bbb[_0x52062a(0x1a1)](_0x5d011e[_0x52062a(0x19f)][_0x52062a(0x1b2)]['ev'],_0x52062a(0x194)+_0x52062a(0x1ae),_0x5d011e[_0x52062a(0x194)+'UpdateHand'+_0x52062a(0x1b4)]);}catch(_0x48b249){}_0x5d011e[_0x52062a(0x194)+'UpdateHand'+_0x52062a(0x1b4)]=null;}},_0x3ad469=()=>{const _0x463bb8=_0xeee1b2;_0x263d25(),_0x5d011e[_0x463bb8(0x1b9)+_0x463bb8(0x17f)+'l']=setInterval(()=>{const _0x4bd167=_0x463bb8;if(_0x5d011e[_0x4bd167(0x19f)]?.[_0x4bd167(0x1b2)]?.['ev']&&!_0x5d011e[_0x4bd167(0x1a5)])_0x45e036();},_0x54949b),_0x5d011e[_0x463bb8(0x1ab)+_0x463bb8(0x19b)]=setInterval(()=>{const _0x4231f9=_0x463bb8,_0x1e3e0d=_0x5d011e[_0x4231f9(0x19f)]?.['sock']||null;_0x1e3e0d&&_0x5d011e[_0x4231f9(0x19a)+_0x4231f9(0x17c)]!==_0x1e3e0d&&(info('[ListenerM'+_0x4231f9(0x193)+_0x4231f9(0x182)+_0x4231f9(0x1b8)+'d\x20for\x20\x22'+_0x5d011e[_0x4231f9(0x1a9)]+(_0x4231f9(0x1ad)+_0x4231f9(0x176)+'ener.')),_0x45e036());},_0x54990b);if(_0x5d011e['botRef']?.[_0x463bb8(0x1b2)]?.['ev']){_0x5d011e[_0x463bb8(0x194)+'UpdateHand'+_0x463bb8(0x1b4)]=()=>setTimeout(()=>_0x45e036(),0xb72*0x3+0x1*0x1b3+0x19*-0x15d);const _0x78de90=_0x5d011e['botRef']['sock']['ev']['on']||_0x5d011e[_0x463bb8(0x19f)][_0x463bb8(0x1b2)]['ev']['addListene'+'r'];typeof _0x78de90===_0x463bb8(0x1a8)&&_0x78de90[_0x463bb8(0x1a1)](_0x5d011e[_0x463bb8(0x19f)][_0x463bb8(0x1b2)]['ev'],'connection'+'.update',_0x5d011e[_0x463bb8(0x194)+_0x463bb8(0x178)+_0x463bb8(0x1b4)]);}},_0x4ab56a={'start':()=>{_0x45e036(),_0x3ad469();},'stop':()=>{_0x263d25(),_0x593d7c();}};return _0x4ab56a;}function _0x1560(){const _0xcb637a=['sockMonito','[ListenerM','\x22,\x20re-atta','.update','odule=','istener:\x20m','anager]\x20Er','sock','151DAVKFk','ler','\x20for\x20','\x22\x20in\x20modul','29150660CWhwKE','nce\x20change','attachWatc','ching\x20list','has','UpdateHand','eventName','removeList','CHER_MS','entity','\x20.on\x20metho','ev\x20missing','herInterva','5923195ChEksq','tach\x20','cket\x20insta',',\x20event=','6359143giWeUw','stop','ments\x20for\x20','9lPbGHB','delete','tRef.sock.','anager]\x20Fa','6324ITKKnz','le\x20','6TiZYjL','e\x20\x22','SOCK_MONIT','anager]\x20bo','off','get','anager]\x20So','connection','21kJzkwT','6159536DBqoYT','d\x20for\x20modu','anager]\x20At','ATTACH_WAT','lastSockId','rInterval','520732yVJHYM','addListene','tached\x20lis','botRef','message','call','ener','tener\x20for\x20','iled\x20to\x20at','attached','handler','valid\x20argu','function','moduleName','9074810mRseVy'];_0x1560=function(){return _0xcb637a;};return _0x1560();}export function startManagedListener(_0x269e91){const _0x56f450=_0xd3c5,{moduleName:_0x213e84,eventName:_0xb68ae0}=_0x269e91,_0x3743bc=_0x213e84+':'+_0xb68ae0;managedListeners[_0x56f450(0x177)](_0x3743bc)&&managedListeners[_0x56f450(0x192)](_0x3743bc)[_0x56f450(0x185)]();const _0xdfa3e0=createManagedListener(_0x269e91);return _0xdfa3e0&&(managedListeners['set'](_0x3743bc,_0xdfa3e0),_0xdfa3e0['start']()),_0xdfa3e0;}export function stopManagedListener(_0xfbc13e,_0x230802){const _0x187fcf=_0xd3c5,_0x3177d7=_0xfbc13e+':'+_0x230802;managedListeners['has'](_0x3177d7)&&(managedListeners['get'](_0x3177d7)[_0x187fcf(0x185)](),managedListeners[_0x187fcf(0x188)](_0x3177d7));}