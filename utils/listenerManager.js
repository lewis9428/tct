function _0x43c4(){const _0x25f6d7=['1110513RfSJsP','nce\x20change','anager]\x20At','connection','[ListenerM','moduleName','attached','d\x20for\x20modu','anager]\x20In','1852500gWnvZu','eventName','ching\x20list',',\x20event=','.update','UpdateHand','\x22\x20in\x20modul','removeList','\x20for\x20','botRef','le\x20','17971492bDvbWe','tRef.sock.','ments\x20for\x20','946lmKXCh','off','message','handler','attachWatc','\x20.on\x20metho','152PKrDZO','function','ror\x20detach','6274540ROxVcE','cket\x20insta','838PzeEai','istener:\x20m','lastSockId','rInterval','call','ener','sock','ener.','d\x20for\x20\x22','delete','creating\x20l','herInterva','get','18MdnlID','entity','SOCK_MONIT','708065TakTkE','anager]\x20Fa','iled\x20to\x20at','anager]\x20bo','tener\x20for\x20','addListene','ev\x20missing','e\x20\x22','valid\x20argu','ATTACH_WAT','9nBwXdo','sockMonito','223349TIvzbv','tach\x20','has','odule=','tached\x20lis','ler','start','OR_MS'];_0x43c4=function(){return _0x25f6d7;};return _0x43c4();}(function(_0x44d80a,_0x22b8d5){const _0xcef181=_0x54c8,_0x17005b=_0x44d80a();while(!![]){try{const _0x3bfacf=-parseInt(_0xcef181(0x1f7))/(0x220*0x7+-0x18dd*-0x1+-0x1*0x27bc)*(-parseInt(_0xcef181(0x202))/(-0x2694+0x40+0x2656))+parseInt(_0xcef181(0x1e0))/(-0xdbf+0x843+0x57f)+-parseInt(_0xcef181(0x1e9))/(0x1a7c+-0xdd*0x8+-0x1390)+-parseInt(_0xcef181(0x1cc))/(-0x522+-0x2591+0x557*0x8)*(-parseInt(_0xcef181(0x1c9))/(0x1028+0x1712+-0x2734))+-parseInt(_0xcef181(0x1d8))/(-0x8*0x2cc+-0x153+0x17ba)*(-parseInt(_0xcef181(0x1fd))/(-0xd30+0x1aac+-0x1c*0x7b))+-parseInt(_0xcef181(0x1d6))/(0x1c9a+0x2*0xd2a+-0x36e5)*(-parseInt(_0xcef181(0x200))/(0x198c*0x1+0x26f8+0x3*-0x157e))+-parseInt(_0xcef181(0x1f4))/(0x1*-0xf3a+-0x3*-0x8a3+-0x2a9*0x4);if(_0x3bfacf===_0x22b8d5)break;else _0x17005b['push'](_0x17005b['shift']());}catch(_0x1c6cfd){_0x17005b['push'](_0x17005b['shift']());}}}(_0x43c4,0x1*0x153af+-0x43589+0x7e3c8));function _0x54c8(_0x52fcf5,_0x3108f3){const _0x3d37f1=_0x43c4();return _0x54c8=function(_0x4ef244,_0x361f4d){_0x4ef244=_0x4ef244-(0x250*0x8+0xf9d+-0x11*0x1e7);let _0x7dc07c=_0x3d37f1[_0x4ef244];return _0x7dc07c;},_0x54c8(_0x52fcf5,_0x3108f3);}import{info,warn}from'./logger.js';import{getConfig}from'./config.js';const managedListeners=new Map();function createManagedListener({botRef:_0x1a5144,eventName:_0xa925eb,handler:_0x22ff38,moduleName:_0x2a1f42}){const _0x1026eb=_0x54c8;if(!_0x1a5144||!_0xa925eb||!_0x22ff38||!_0x2a1f42)return warn(_0x1026eb(0x1e4)+_0x1026eb(0x1e8)+_0x1026eb(0x1d4)+_0x1026eb(0x1f6)+_0x1026eb(0x1c6)+_0x1026eb(0x203)+_0x1026eb(0x1db)+_0x2a1f42+_0x1026eb(0x1ec)+_0xa925eb+'.'),null;const _0x3f1814=getConfig(),_0x5a3e96=_0x3f1814[_0x1026eb(0x1d5)+'CHER_MS'],_0x52c95d=_0x3f1814[_0x1026eb(0x1cb)+_0x1026eb(0x1df)],_0x1abe5a={'botRef':_0x1a5144,'eventName':_0xa925eb,'handler':_0x22ff38,'moduleName':_0x2a1f42,'attached':![],'lastSockIdentity':null,'attachWatcherInterval':null,'sockMonitorInterval':null,'connectionUpdateHandler':null},_0x2da91a=()=>{const _0x2de148=_0x1026eb;try{const _0x3a8a53=_0x1abe5a[_0x2de148(0x1f2)]?.[_0x2de148(0x208)];if(!_0x3a8a53?.['ev'])return;const _0x838222=_0x3a8a53['ev'][_0x2de148(0x1f8)]||_0x3a8a53['ev'][_0x2de148(0x1f0)+_0x2de148(0x207)];typeof _0x838222===_0x2de148(0x1fe)&&_0x838222[_0x2de148(0x206)](_0x3a8a53['ev'],_0x1abe5a[_0x2de148(0x1ea)],_0x1abe5a['handler']);}catch(_0x3a9e1d){warn(_0x2de148(0x1e4)+'anager]\x20Er'+_0x2de148(0x1ff)+'ing\x20'+_0x1abe5a[_0x2de148(0x1ea)]+_0x2de148(0x1f1)+_0x1abe5a['moduleName']+':\x20'+(_0x3a9e1d?.[_0x2de148(0x1f9)]||_0x3a9e1d));}finally{_0x1abe5a['attached']=![],_0x1abe5a[_0x2de148(0x204)+_0x2de148(0x1ca)]=null;}},_0x1da42d=()=>{const _0x47a363=_0x1026eb;try{const _0x52f9b4=_0x1abe5a[_0x47a363(0x1f2)]?.[_0x47a363(0x208)];if(!_0x52f9b4?.['ev'])return![];_0x2da91a();const _0x234db0=_0x52f9b4['ev']['on']||_0x52f9b4['ev'][_0x47a363(0x1d1)+'r'];return typeof _0x234db0===_0x47a363(0x1fe)?(_0x234db0[_0x47a363(0x206)](_0x52f9b4['ev'],_0x1abe5a[_0x47a363(0x1ea)],_0x1abe5a[_0x47a363(0x1fa)]),!_0x1abe5a[_0x47a363(0x1e6)]&&info(_0x47a363(0x1e4)+_0x47a363(0x1e2)+_0x47a363(0x1dc)+_0x47a363(0x1d0)+'\x22'+_0x1abe5a[_0x47a363(0x1ea)]+(_0x47a363(0x1ef)+_0x47a363(0x1d3))+_0x1abe5a['moduleName']+'\x22.'),_0x1abe5a[_0x47a363(0x1e6)]=!![],_0x1abe5a[_0x47a363(0x204)+_0x47a363(0x1ca)]=_0x52f9b4,!![]):(warn(_0x47a363(0x1e4)+_0x47a363(0x1cf)+_0x47a363(0x1f5)+_0x47a363(0x1d2)+_0x47a363(0x1fc)+_0x47a363(0x1e7)+_0x47a363(0x1f3)+_0x1abe5a['moduleName']+'.'),![]);}catch(_0x2ec3b5){return warn(_0x47a363(0x1e4)+_0x47a363(0x1cd)+_0x47a363(0x1ce)+_0x47a363(0x1d9)+_0x1abe5a[_0x47a363(0x1ea)]+_0x47a363(0x1f1)+_0x1abe5a[_0x47a363(0x1e5)]+':\x20'+(_0x2ec3b5?.['message']||_0x2ec3b5)),_0x1abe5a[_0x47a363(0x1e6)]=![],![];}},_0x12fe7f=()=>{const _0x1ab43c=_0x1026eb;if(_0x1abe5a['attachWatc'+'herInterva'+'l'])clearInterval(_0x1abe5a[_0x1ab43c(0x1fb)+_0x1ab43c(0x1c7)+'l']);if(_0x1abe5a['sockMonito'+'rInterval'])clearInterval(_0x1abe5a['sockMonito'+_0x1ab43c(0x205)]);_0x1abe5a[_0x1ab43c(0x1fb)+'herInterva'+'l']=null,_0x1abe5a[_0x1ab43c(0x1d7)+_0x1ab43c(0x205)]=null;if(_0x1abe5a[_0x1ab43c(0x1e3)+'UpdateHand'+_0x1ab43c(0x1dd)]&&_0x1abe5a[_0x1ab43c(0x1f2)]?.[_0x1ab43c(0x208)]?.['ev']){const _0x391122=_0x1abe5a[_0x1ab43c(0x1f2)][_0x1ab43c(0x208)]['ev']['off']||_0x1abe5a[_0x1ab43c(0x1f2)]['sock']['ev']['removeList'+_0x1ab43c(0x207)];if(typeof _0x391122===_0x1ab43c(0x1fe))try{_0x391122[_0x1ab43c(0x206)](_0x1abe5a[_0x1ab43c(0x1f2)][_0x1ab43c(0x208)]['ev'],_0x1ab43c(0x1e3)+_0x1ab43c(0x1ed),_0x1abe5a[_0x1ab43c(0x1e3)+_0x1ab43c(0x1ee)+_0x1ab43c(0x1dd)]);}catch(_0x417dae){}_0x1abe5a['connection'+_0x1ab43c(0x1ee)+_0x1ab43c(0x1dd)]=null;}},_0xcac230=()=>{const _0x39ce11=_0x1026eb;_0x12fe7f(),_0x1abe5a[_0x39ce11(0x1fb)+_0x39ce11(0x1c7)+'l']=setInterval(()=>{const _0x23c30e=_0x39ce11;if(_0x1abe5a[_0x23c30e(0x1f2)]?.[_0x23c30e(0x208)]?.['ev']&&!_0x1abe5a[_0x23c30e(0x1e6)])_0x1da42d();},_0x5a3e96),_0x1abe5a['sockMonito'+'rInterval']=setInterval(()=>{const _0x48f24a=_0x39ce11,_0x117c1c=_0x1abe5a['botRef']?.[_0x48f24a(0x208)]||null;_0x117c1c&&_0x1abe5a[_0x48f24a(0x204)+_0x48f24a(0x1ca)]!==_0x117c1c&&(info(_0x48f24a(0x1e4)+'anager]\x20So'+_0x48f24a(0x201)+_0x48f24a(0x1e1)+_0x48f24a(0x20a)+_0x1abe5a[_0x48f24a(0x1e5)]+('\x22,\x20re-atta'+_0x48f24a(0x1eb)+_0x48f24a(0x209))),_0x1da42d());},_0x52c95d);if(_0x1abe5a['botRef']?.['sock']?.['ev']){_0x1abe5a['connection'+_0x39ce11(0x1ee)+_0x39ce11(0x1dd)]=()=>setTimeout(()=>_0x1da42d(),0x199c+0x1*-0x244d+0xca5);const _0x177d9d=_0x1abe5a[_0x39ce11(0x1f2)][_0x39ce11(0x208)]['ev']['on']||_0x1abe5a[_0x39ce11(0x1f2)][_0x39ce11(0x208)]['ev'][_0x39ce11(0x1d1)+'r'];typeof _0x177d9d===_0x39ce11(0x1fe)&&_0x177d9d[_0x39ce11(0x206)](_0x1abe5a['botRef'][_0x39ce11(0x208)]['ev'],'connection'+'.update',_0x1abe5a[_0x39ce11(0x1e3)+_0x39ce11(0x1ee)+_0x39ce11(0x1dd)]);}},_0x507068={'start':()=>{_0x1da42d(),_0xcac230();},'stop':()=>{_0x12fe7f(),_0x2da91a();}};return _0x507068;}export function startManagedListener(_0x142a0f){const _0x36aae6=_0x54c8,{moduleName:_0x493a99,eventName:_0x3e5520}=_0x142a0f,_0x413409=_0x493a99+':'+_0x3e5520;managedListeners[_0x36aae6(0x1da)](_0x413409)&&managedListeners['get'](_0x413409)['stop']();const _0x303882=createManagedListener(_0x142a0f);return _0x303882&&(managedListeners['set'](_0x413409,_0x303882),_0x303882[_0x36aae6(0x1de)]()),_0x303882;}export function stopManagedListener(_0x3aa14f,_0x35bb91){const _0x25fb91=_0x54c8,_0x4c97e5=_0x3aa14f+':'+_0x35bb91;managedListeners[_0x25fb91(0x1da)](_0x4c97e5)&&(managedListeners[_0x25fb91(0x1c8)](_0x4c97e5)['stop'](),managedListeners[_0x25fb91(0x20b)](_0x4c97e5));}