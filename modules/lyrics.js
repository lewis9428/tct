const _0x33164f=_0xb717;(function(_0xd68cb0,_0x136c70){const _0x5ca635=_0xb717,_0x1ab285=_0xd68cb0();while(!![]){try{const _0x4ba8cb=parseInt(_0x5ca635(0x76))/(-0x26*-0x84+-0x94c+0x9b*-0x11)+parseInt(_0x5ca635(0xce))/(-0x134b+0x290+0x10bd)*(parseInt(_0x5ca635(0xb8))/(0x20c1+0x1a92+-0x3b50))+parseInt(_0x5ca635(0x73))/(0x64*0x46+0xe45*-0x2+0x136)*(-parseInt(_0x5ca635(0xa3))/(0x43f*0x7+-0xd21+-0x1093))+-parseInt(_0x5ca635(0x90))/(0x3*0x207+-0x1377+0x2*0x6b4)*(-parseInt(_0x5ca635(0x7d))/(0x1526*0x1+-0x1b25*0x1+0x606))+parseInt(_0x5ca635(0xa4))/(0x31*-0x55+-0x99e+-0x19eb*-0x1)+-parseInt(_0x5ca635(0x93))/(0x1*0xde7+-0x89e+-0xe0*0x6)*(parseInt(_0x5ca635(0xa9))/(0x3*0xc74+-0x1d61*-0x1+0x2ab*-0x19))+parseInt(_0x5ca635(0xc0))/(-0xeb3*-0x1+-0xeaf+0x7);if(_0x4ba8cb===_0x136c70)break;else _0x1ab285['push'](_0x1ab285['shift']());}catch(_0x589b3c){_0x1ab285['push'](_0x1ab285['shift']());}}}(_0x2962,0x4c*0xde3+0xf0b3+0x7*0x2f41));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import _0x109116 from'axios';export const name=_0x33164f(0xca);export const version='1.0.4';export const priority=0x81*-0x3b+0x2338+-0x573;function _0xb717(_0xcfb549,_0x677552){const _0x1f637d=_0x2962();return _0xb717=function(_0x53eefa,_0xb66bf6){_0x53eefa=_0x53eefa-(-0x1146+0x55c+-0xf*-0xd3);let _0x5aad0a=_0x1f637d[_0x53eefa];return _0x5aad0a;},_0xb717(_0xcfb549,_0x677552);}let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x45f5f1=[]){const _0x402a7f=_0x33164f;try{const _0x189af8=await listSudo(),_0xdb62d0=new Set(_0x189af8['map'](String));for(const _0x287fa3 of _0x45f5f1){if(!_0x287fa3||typeof _0x287fa3[_0x402a7f(0x83)]!==_0x402a7f(0xc4))continue;const _0x2aed9c=normalizeToJid(_0x287fa3[_0x402a7f(0x83)]);if(_0x2aed9c&&_0xdb62d0[_0x402a7f(0xac)](_0x2aed9c))return _0x2aed9c;if(_0xdb62d0[_0x402a7f(0xac)](_0x287fa3[_0x402a7f(0x83)]))return _0x287fa3['jid'];}return null;}catch(_0x847962){return warn(name+(':\x20findStor'+_0x402a7f(0x8f)+'ror:\x20')+(_0x847962?.['message']||_0x847962)),null;}}function pickLyricsFromResponse(_0x160223){const _0xeb263c=_0x33164f;if(!_0x160223)return null;if(_0x160223['result']&&_0x160223[_0xeb263c(0x8c)][_0xeb263c(0xca)])return{'title':_0x160223['result'][_0xeb263c(0xbf)]||null,'artist':_0x160223[_0xeb263c(0x8c)][_0xeb263c(0xc7)]||null,'thumb':_0x160223[_0xeb263c(0x8c)][_0xeb263c(0x7e)]||null,'lyrics':_0x160223[_0xeb263c(0x8c)][_0xeb263c(0xca)]||null};if(_0x160223['lyrics']&&typeof _0x160223['lyrics']==='string')return{'title':_0x160223[_0xeb263c(0xbf)]||null,'artist':_0x160223[_0xeb263c(0xc7)]||null,'thumb':_0x160223[_0xeb263c(0x7e)]||null,'lyrics':_0x160223[_0xeb263c(0xca)]};if(_0x160223[_0xeb263c(0x9e)]&&_0x160223['data'][_0xeb263c(0xca)])return{'title':_0x160223[_0xeb263c(0x9e)][_0xeb263c(0xbf)]||null,'artist':_0x160223[_0xeb263c(0x9e)][_0xeb263c(0xc7)]||null,'thumb':_0x160223[_0xeb263c(0x9e)][_0xeb263c(0x7e)]||null,'lyrics':_0x160223[_0xeb263c(0x9e)][_0xeb263c(0xca)]};if(typeof _0x160223===_0xeb263c(0xc4)&&_0x160223[_0xeb263c(0x92)]()['length']>-0xc68+-0x3f1*0x7+0x27ff)return{'title':null,'artist':null,'thumb':null,'lyrics':_0x160223};return null;}export async function initialize(_0x20f423){const _0x152594=_0x33164f;botInstance=_0x20f423,info(name+(':\x20initiali'+_0x152594(0xb9)));}export async function onMessage(_0x58d822){const _0x34007b=_0x33164f;try{if(!_0x58d822?.[_0x34007b(0xd4)]||!_0x58d822[_0x34007b(0x74)])return;const _0x22eae9=_0x58d822[_0x34007b(0xd4)]['id'];if(_0x22eae9&&respondedMsgIds[_0x34007b(0xac)](_0x22eae9))return;if(_0x22eae9)respondedMsgIds[_0x34007b(0xc5)](_0x22eae9);const _0x34adc2=(_0x58d822[_0x34007b(0xab)]||'')[_0x34007b(0x92)]();if(!_0x34adc2['toLowerCas'+'e']()['startsWith'](_0x34007b(0xca)))return;const _0x3f52f5=_0x34adc2[_0x34007b(0x79)](/\s+/),_0x853be0=_0x3f52f5[-0x1*0x17e1+0x236e+-0xb8d][_0x34007b(0x7f)+'e']();if(_0x853be0!==_0x34007b(0xca))return;if(!botInstance)botInstance=_0x58d822[_0x34007b(0xa1)]||_0x58d822['client'];if(!botInstance){warn(name+(_0x34007b(0x91)+_0x34007b(0xb6)+'g'));return;}const _0x34d0b7=getBotJid();let _0x3ca02a;if(_0x58d822[_0x34007b(0xd4)]['fromMe'])_0x3ca02a=_0x34d0b7;else{const _0x588e29=await isSudo(botInstance,_0x58d822)[_0x34007b(0xcd)](()=>![]);if(!_0x588e29)return;const {findings:_0x48db1c}=userJidFromCtx(_0x58d822),_0x24710e=await findStoredMatchFromFindings(_0x48db1c);if(!_0x24710e)return;_0x3ca02a=_0x24710e;}if(!_0x3ca02a){warn(name+(_0x34007b(0xcf)+_0x34007b(0x78)+'e\x20final\x20de'+_0x34007b(0xb2)+_0x34007b(0x85)+'e.'));return;}const _0x4b46ab=_0x3f52f5[_0x34007b(0x9a)](-0x44+0x17fe+0x1*-0x17b9)[_0x34007b(0xb5)]('\x20')[_0x34007b(0x92)]();if(!_0x4b46ab){await botInstance[_0x34007b(0x9f)+'e'](_0x3ca02a,{'text':_0x34007b(0xaa)+_0x34007b(0xbc)+_0x34007b(0xc3)+_0x34007b(0xad)+_0x34007b(0xa7)+'\x20Rhapsody'});return;}try{await botInstance['sendMessag'+'e'](_0x3ca02a,{'text':'Searching\x20'+'lyrics\x20for'+'\x20\x22'+_0x4b46ab+'\x22...'},{'quoted':_0x58d822['ms']});}catch(_0x187767){try{await botInstance[_0x34007b(0x9f)+'e'](_0x3ca02a,{'text':'Searching\x20'+_0x34007b(0xd0)+'\x20\x22'+_0x4b46ab+'\x22...'});}catch(_0x5e7b77){}}const _0x25073e=[_0x34007b(0xa6)+_0x34007b(0x99)+'site/api/l'+_0x34007b(0xb4)+'e='+encodeURIComponent(_0x4b46ab),_0x34007b(0xcb)+_0x34007b(0x98)+'api.com/ot'+_0x34007b(0x89)+'s?title='+encodeURIComponent(_0x4b46ab),_0x34007b(0xa6)+_0x34007b(0xb0)+_0x34007b(0x86)+_0x34007b(0x9d)+_0x34007b(0x8a)+encodeURIComponent(_0x4b46ab)];let _0x22fed8=null;for(const _0x3e0bbf of _0x25073e){try{const _0x1742d6=await _0x109116[_0x34007b(0xbb)](_0x3e0bbf,{'timeout':0x2710}),_0x2eb4a7=pickLyricsFromResponse(_0x1742d6[_0x34007b(0x9e)]);if(_0x2eb4a7&&_0x2eb4a7[_0x34007b(0xca)]&&_0x2eb4a7[_0x34007b(0xca)][_0x34007b(0x92)]()['length']>0x315*0xb+-0x166d+-0x1a*0x71){_0x22fed8=_0x2eb4a7;break;}}catch(_0x989175){warn(name+_0x34007b(0xd3)+_0x3e0bbf+_0x34007b(0xc1)+(_0x989175?.[_0x34007b(0x95)]||_0x989175));}}if(!_0x22fed8){await botInstance[_0x34007b(0x9f)+'e'](_0x3ca02a,{'text':_0x34007b(0xb3)+'retrieve\x20l'+_0x34007b(0xc8)+_0x34007b(0x97)+_0x34007b(0xb1)});return;}const _0x1f5fa4=_0x22fed8[_0x34007b(0xbf)]||_0x4b46ab,_0x22891a=_0x22fed8['artist']||_0x34007b(0xa2)+_0x34007b(0x75),_0x419a31=_0x22fed8[_0x34007b(0x7e)]||_0x34007b(0x9b)+_0x34007b(0x8d)+_0x34007b(0xbe)+_0x34007b(0xae),_0x1e82ad=String(_0x22fed8[_0x34007b(0xca)]||'')[_0x34007b(0x92)](),_0x11e2f5=_0x34007b(0xcc)+'·∂úÀ¢\x20·µê·µÉ ∏\x20·µá·µâ\x20'+_0x34007b(0xa5)+_0x34007b(0xaf)+_0x34007b(0x7b)+'·∂ú·µí·µñ ∏ ≥·∂¶·µç ∞·µó\x20'+_0x34007b(0x81)+'‚ÅøÀ¢.',_0x42cf0e=_0x34007b(0x82)+_0x34007b(0x9c)+_0x1f5fa4+'\x0aüë§\x20'+_0x22891a+'\x0a'+_0x11e2f5+'\x0a\x0a'+_0x1e82ad;try{const _0x4c0662=await _0x109116[_0x34007b(0xbb)](_0x419a31,{'responseType':_0x34007b(0xa0)+'r','timeout':0x2710}),_0x4d4c17=Buffer[_0x34007b(0xa8)](_0x4c0662['data'],_0x34007b(0xd2));await botInstance[_0x34007b(0x9f)+'e'](_0x3ca02a,{'image':_0x4d4c17,'caption':_0x42cf0e},{'quoted':_0x58d822['ms']}),info(name+(_0x34007b(0x94)+_0x34007b(0x88)+'image+capt'+'ion)\x20for\x20\x22')+_0x4b46ab+_0x34007b(0xc2)+_0x3ca02a);return;}catch(_0x416e7c){warn(name+(_0x34007b(0xba)+'tch/send\x20f'+_0x34007b(0x84)+_0x34007b(0x87)+'to\x20sending'+_0x34007b(0x96)+_0x34007b(0xc6)+_0x34007b(0x77))+(_0x416e7c?.[_0x34007b(0x95)]||_0x416e7c));try{await botInstance[_0x34007b(0x9f)+'e'](_0x3ca02a,{'text':_0x42cf0e},{'quoted':_0x58d822['ms']}),info(name+(_0x34007b(0x94)+_0x34007b(0x88)+_0x34007b(0xc9)+'\x22')+_0x4b46ab+_0x34007b(0xc2)+_0x3ca02a);return;}catch(_0x1b7a88){error(_0x1b7a88,name+(':\x20fallback'+_0x34007b(0x8e)+'\x20failed')),await botInstance[_0x34007b(0x9f)+'e'](_0x3ca02a,{'text':_0x34007b(0xb3)+_0x34007b(0x80)+'s.'});return;}}}catch(_0x12ee5b){error(_0x12ee5b,name+(_0x34007b(0xbd)+_0x34007b(0x8b)));}}function _0x2962(){const _0x29e109=['yrics.\x20Ple','text)\x20for\x20','lyrics','https://so','·µó ∞·µâÀ¢·µâ\x20À° ∏ ≥·∂¶','catch','1434654UuGNkF',':\x20Could\x20no','lyrics\x20for','rror:\x20','binary',':\x20api\x20','key','1863812LjzjPH','isCommand','tist','200534JrdcfC','ssage:\x20','t\x20determin','split','clear','À°·µâ\x20·µà·µò·µâ\x20·µó·µí\x20','\x20cleanup\x20e','10129FKskqX','thumb','toLowerCas','send\x20lyric',' ≥·µâÀ¢·µó ≥·∂¶·∂ú·µó·∂¶·µí','‚ú®\x20tct\x20‚Äî\x20LY','jid','ailed,\x20fal','for\x20messag','iltech.my.','ling\x20back\x20','d\x20lyrics\x20(','hers/lyric','title=','rror','result','les.catbox','\x20text\x20send','edMatch\x20er','264UFTcvX',':\x20botInsta','trim','5139vWKhyf',':\x20delivere','message','\x20full\x20text','ase\x20try\x20ag','me-random-','i.dreaded.','slice','https://fi','RICS\x20‚ú®\x0a\x0aüéµ\x20','id/lyrics?','data','sendMessag','arraybuffe','bot','Unknown\x20Ar','5jEBgaP','2272784IPLggE','·µñ·µÉ ≥·µó·∂¶·µÉÀ°\x20·µí ≥','https://ap','s\x20Bohemian','from','6970fLMoZs','Usage:\x20lyr','text','has','ple:\x20lyric','n.jpg','\x20·µò‚Åø·µÉ·µõ·µÉ‚Å±À°·µÉ·µá','i.davidcyr','ain\x20later.','stination\x20','Failed\x20to\x20','yrics?titl','join','nce\x20missin','\x20cleaned\x20u','3XGNTTj','zed.',':\x20image\x20fe','get','ics\x20<song\x20','\x20handler\x20e','.moe/novrn','title','162701pQlPHs','\x20failed:\x20','\x22\x20to\x20','name>\x0aExam','string','add','\x20as\x20one\x20me','artist'];_0x2962=function(){return _0x29e109;};return _0x2962();}export async function cleanup(){const _0x874c0f=_0x33164f;try{botInstance=null,respondedMsgIds[_0x874c0f(0x7a)](),info(name+(_0x874c0f(0xb7)+'p'));}catch(_0x1c6c9d){warn(name+(_0x874c0f(0x7c)+_0x874c0f(0xd1))+(_0x1c6c9d?.[_0x874c0f(0x95)]||_0x1c6c9d));}}