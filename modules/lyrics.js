const _0x1c3581=_0x35c5;function _0x1db4(){const _0x38758d=['ain\x20later.','s?title=','·µñ·µÉ ≥·µó·∂¶·µÉÀ°\x20·µí ≥',':\x20fallback','artist','e\x20final\x20de','zed.','·µó ∞·µâÀ¢·µâ\x20À° ∏ ≥·∂¶','ssage:\x20','ling\x20back\x20','bot','s\x20Bohemian','\x20as\x20one\x20me',':\x20botInsta','toLowerCas','retrieve\x20l','data','‚ÅøÀ¢.','\x22\x20to\x20','8XhdPTQ','message','name>\x0aExam','ailed,\x20fal','get','join',':\x20image\x20fe','1599399HFRMbD','\x20text\x20send','for\x20messag','rror','\x20full\x20text','RICS\x20‚ú®\x0a\x0aüéµ\x20','\x20Rhapsody','1322349mqesET','194681ChjvCr','.moe/novrn','client','ase\x20try\x20ag','clear','jid','16270cdVSio','edMatch\x20er','title=','510966pNggWW','https://fi','from','À°·µâ\x20·µà·µò·µâ\x20·µó·µí\x20','ror:\x20','to\x20sending','n.jpg','catch','Unknown\x20Ar','result','Usage:\x20lyr',':\x20initiali','\x22...','lyrics','Failed\x20to\x20','i.dreaded.','408btTrIe','\x20failed','trim',' ≥·µâÀ¢·µó ≥·∂¶·∂ú·µó·∂¶·µí',':\x20delivere','string','tist','ion)\x20for\x20\x22',':\x20Could\x20no',':\x20findStor','103792tgywgg','ple:\x20lyric','hers/lyric','‚ú®\x20tct\x20‚Äî\x20LY','slice','i.davidcyr','length','Searching\x20','fromMe','site/api/l','2bWrWUj','\x20handler\x20e','nce\x20missin','les.catbox','tch/send\x20f','lyrics\x20for','key','\x20cleanup\x20e','rror:\x20','map','title','t\x20determin','6855580PmdIqE','https://ap','isCommand','stination\x20','thumb','d\x20lyrics\x20(','send\x20lyric','1.0.4','https://so','has','·∂úÀ¢\x20·µê·µÉ ∏\x20·µá·µâ\x20','binary','sendMessag'];_0x1db4=function(){return _0x38758d;};return _0x1db4();}(function(_0x58bc93,_0x14ebdb){const _0x5d95fb=_0x35c5,_0x3923a2=_0x58bc93();while(!![]){try{const _0x29940f=-parseInt(_0x5d95fb(0xaa))/(0x14d5+0xc7a+-0x214e)*(parseInt(_0x5d95fb(0xd7))/(0xfe+0x1ad*-0xe+0x167a))+-parseInt(_0x5d95fb(0xb3))/(-0x1*0x1273+0x16f0+0x6*-0xbf)+parseInt(_0x5d95fb(0xcd))/(0x13cf*0x1+-0x1*-0x73d+-0x1b08)+-parseInt(_0x5d95fb(0xb0))/(0xa*0x3a7+0x21a3+-0x4624)*(parseInt(_0x5d95fb(0xc3))/(0x13d*-0x17+-0x20f3+0x3d74))+parseInt(_0x5d95fb(0xa9))/(0x1ec4+-0x1b*-0x5b+-0x2856)*(-parseInt(_0x5d95fb(0x9b))/(0x719*0x4+0x322+0x8b*-0x3a))+parseInt(_0x5d95fb(0xa2))/(0x1d9*0x4+-0x4*0x499+-0xb09*-0x1)+parseInt(_0x5d95fb(0xe3))/(0x3e9+-0x17*-0xd0+-0x4b*0x4d);if(_0x29940f===_0x14ebdb)break;else _0x3923a2['push'](_0x3923a2['shift']());}catch(_0x4863f9){_0x3923a2['push'](_0x3923a2['shift']());}}}(_0x1db4,0xaf6*0x20+-0x117*-0x2fc+0xf5fb*-0x3));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x35c5(_0x4fe716,_0xbc10f8){const _0x48d70c=_0x1db4();return _0x35c5=function(_0x5acac6,_0x30a17d){_0x5acac6=_0x5acac6-(0xe+0x16a*-0xb+-0x1*-0x1013);let _0x2a75b1=_0x48d70c[_0x5acac6];return _0x2a75b1;},_0x35c5(_0x4fe716,_0xbc10f8);}import _0x47ca59 from'axios';export const name=_0x1c3581(0xc0);export const version=_0x1c3581(0xea);export const priority=0x2351+-0x42*-0x3+-0x240d;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x281567=[]){const _0x283598=_0x1c3581;try{const _0x56692a=await listSudo(),_0x44c1b5=new Set(_0x56692a[_0x283598(0xe0)](String));for(const _0x41ceb4 of _0x281567){if(!_0x41ceb4||typeof _0x41ceb4[_0x283598(0xaf)]!==_0x283598(0xc8))continue;const _0x586c7e=normalizeToJid(_0x41ceb4['jid']);if(_0x586c7e&&_0x44c1b5[_0x283598(0xec)](_0x586c7e))return _0x586c7e;if(_0x44c1b5['has'](_0x41ceb4[_0x283598(0xaf)]))return _0x41ceb4[_0x283598(0xaf)];}return null;}catch(_0x1c7b1f){return warn(name+(_0x283598(0xcc)+_0x283598(0xb1)+_0x283598(0xb7))+(_0x1c7b1f?.[_0x283598(0x9c)]||_0x1c7b1f)),null;}}function pickLyricsFromResponse(_0x2d42d0){const _0x5e6155=_0x1c3581;if(!_0x2d42d0)return null;if(_0x2d42d0[_0x5e6155(0xbc)]&&_0x2d42d0[_0x5e6155(0xbc)][_0x5e6155(0xc0)])return{'title':_0x2d42d0['result'][_0x5e6155(0xe1)]||null,'artist':_0x2d42d0[_0x5e6155(0xbc)]['artist']||null,'thumb':_0x2d42d0['result'][_0x5e6155(0xe7)]||null,'lyrics':_0x2d42d0[_0x5e6155(0xbc)][_0x5e6155(0xc0)]||null};if(_0x2d42d0[_0x5e6155(0xc0)]&&typeof _0x2d42d0['lyrics']===_0x5e6155(0xc8))return{'title':_0x2d42d0[_0x5e6155(0xe1)]||null,'artist':_0x2d42d0['artist']||null,'thumb':_0x2d42d0[_0x5e6155(0xe7)]||null,'lyrics':_0x2d42d0['lyrics']};if(_0x2d42d0['data']&&_0x2d42d0[_0x5e6155(0x98)][_0x5e6155(0xc0)])return{'title':_0x2d42d0[_0x5e6155(0x98)][_0x5e6155(0xe1)]||null,'artist':_0x2d42d0[_0x5e6155(0x98)][_0x5e6155(0xf4)]||null,'thumb':_0x2d42d0[_0x5e6155(0x98)][_0x5e6155(0xe7)]||null,'lyrics':_0x2d42d0[_0x5e6155(0x98)][_0x5e6155(0xc0)]};if(typeof _0x2d42d0===_0x5e6155(0xc8)&&_0x2d42d0[_0x5e6155(0xc5)]()[_0x5e6155(0xd3)]>-0x2*-0x481+-0x199c+0x2*0x84d)return{'title':null,'artist':null,'thumb':null,'lyrics':_0x2d42d0};return null;}export async function initialize(_0x21941e){const _0x42f040=_0x1c3581;botInstance=_0x21941e,info(name+(_0x42f040(0xbe)+_0x42f040(0xf6)));}export async function onMessage(_0xefd1bf){const _0x387600=_0x1c3581;try{if(!_0xefd1bf?.['key']||!_0xefd1bf[_0x387600(0xe5)])return;const _0x3fc9e7=_0xefd1bf[_0x387600(0xdd)]['id'];if(_0x3fc9e7&&respondedMsgIds[_0x387600(0xec)](_0x3fc9e7))return;if(_0x3fc9e7)respondedMsgIds['add'](_0x3fc9e7);const _0x327fbb=(_0xefd1bf['text']||'')[_0x387600(0xc5)]();if(!_0x327fbb['toLowerCas'+'e']()['startsWith']('lyrics'))return;const _0x52d8b5=_0x327fbb['split'](/\s+/),_0x160dba=_0x52d8b5[-0x38e+0x36e*-0x9+0x226c][_0x387600(0x96)+'e']();if(_0x160dba!==_0x387600(0xc0))return;if(!botInstance)botInstance=_0xefd1bf[_0x387600(0xfa)]||_0xefd1bf[_0x387600(0xac)];if(!botInstance){warn(name+(_0x387600(0x95)+_0x387600(0xd9)+'g'));return;}const _0x3f2b45=getBotJid();let _0x166457;if(_0xefd1bf[_0x387600(0xdd)][_0x387600(0xd5)])_0x166457=_0x3f2b45;else{const _0x5d6cc6=await isSudo(botInstance,_0xefd1bf)[_0x387600(0xba)](()=>![]);if(!_0x5d6cc6)return;const {findings:_0x2fd1df}=userJidFromCtx(_0xefd1bf),_0x44f005=await findStoredMatchFromFindings(_0x2fd1df);if(!_0x44f005)return;_0x166457=_0x44f005;}if(!_0x166457){warn(name+(_0x387600(0xcb)+_0x387600(0xe2)+_0x387600(0xf5)+_0x387600(0xe6)+_0x387600(0xa4)+'e.'));return;}const _0x10f04c=_0x52d8b5[_0x387600(0xd1)](-0x267e+-0x7*-0x274+0x1553*0x1)[_0x387600(0xa0)]('\x20')[_0x387600(0xc5)]();if(!_0x10f04c){await botInstance[_0x387600(0xef)+'e'](_0x166457,{'text':_0x387600(0xbd)+'ics\x20<song\x20'+_0x387600(0x9d)+_0x387600(0xce)+_0x387600(0x93)+_0x387600(0xa8)});return;}try{await botInstance['sendMessag'+'e'](_0x166457,{'text':'Searching\x20'+'lyrics\x20for'+'\x20\x22'+_0x10f04c+_0x387600(0xbf)},{'quoted':_0xefd1bf['ms']});}catch(_0x3eb6da){try{await botInstance[_0x387600(0xef)+'e'](_0x166457,{'text':_0x387600(0xd4)+_0x387600(0xdc)+'\x20\x22'+_0x10f04c+'\x22...'});}catch(_0x53b411){}}const _0x426543=[_0x387600(0xe4)+_0x387600(0xc2)+_0x387600(0xd6)+'yrics?titl'+'e='+encodeURIComponent(_0x10f04c),_0x387600(0xeb)+'me-random-'+'api.com/ot'+_0x387600(0xcf)+_0x387600(0xf1)+encodeURIComponent(_0x10f04c),_0x387600(0xe4)+_0x387600(0xd2)+'iltech.my.'+'id/lyrics?'+_0x387600(0xb2)+encodeURIComponent(_0x10f04c)];let _0x59f43b=null;for(const _0x4240ea of _0x426543){try{const _0x5adb1b=await _0x47ca59[_0x387600(0x9f)](_0x4240ea,{'timeout':0x2710}),_0x3b56fe=pickLyricsFromResponse(_0x5adb1b['data']);if(_0x3b56fe&&_0x3b56fe[_0x387600(0xc0)]&&_0x3b56fe[_0x387600(0xc0)][_0x387600(0xc5)]()['length']>0x33*0x3+0xb4f+0x7f*-0x18){_0x59f43b=_0x3b56fe;break;}}catch(_0x4bac8c){warn(name+':\x20api\x20'+_0x4240ea+'\x20failed:\x20'+(_0x4bac8c?.[_0x387600(0x9c)]||_0x4bac8c));}}if(!_0x59f43b){await botInstance[_0x387600(0xef)+'e'](_0x166457,{'text':'Failed\x20to\x20'+_0x387600(0x97)+'yrics.\x20Ple'+_0x387600(0xad)+_0x387600(0xf0)});return;}const _0x4c4f6b=_0x59f43b[_0x387600(0xe1)]||_0x10f04c,_0x7f2b81=_0x59f43b[_0x387600(0xf4)]||_0x387600(0xbb)+_0x387600(0xc9),_0x4ab3dd=_0x59f43b['thumb']||_0x387600(0xb4)+_0x387600(0xda)+_0x387600(0xab)+_0x387600(0xb9),_0x309fa2=String(_0x59f43b[_0x387600(0xc0)]||'')[_0x387600(0xc5)](),_0x1b2283=_0x387600(0xf7)+_0x387600(0xed)+_0x387600(0xf2)+'\x20·µò‚Åø·µÉ·µõ·µÉ‚Å±À°·µÉ·µá'+_0x387600(0xb6)+'·∂ú·µí·µñ ∏ ≥·∂¶·µç ∞·µó\x20'+_0x387600(0xc6)+_0x387600(0x99),_0x290511=_0x387600(0xd0)+_0x387600(0xa7)+_0x4c4f6b+'\x0aüë§\x20'+_0x7f2b81+'\x0a'+_0x1b2283+'\x0a\x0a'+_0x309fa2;try{const _0x52b6ad=await _0x47ca59['get'](_0x4ab3dd,{'responseType':'arraybuffe'+'r','timeout':0x2710}),_0x20828a=Buffer[_0x387600(0xb5)](_0x52b6ad['data'],_0x387600(0xee));await botInstance[_0x387600(0xef)+'e'](_0x166457,{'image':_0x20828a,'caption':_0x290511},{'quoted':_0xefd1bf['ms']}),info(name+(_0x387600(0xc7)+_0x387600(0xe8)+'image+capt'+_0x387600(0xca))+_0x10f04c+_0x387600(0x9a)+_0x166457);return;}catch(_0x3e8a15){warn(name+(_0x387600(0xa1)+_0x387600(0xdb)+_0x387600(0x9e)+_0x387600(0xf9)+_0x387600(0xb8)+_0x387600(0xa6)+_0x387600(0x94)+_0x387600(0xf8))+(_0x3e8a15?.['message']||_0x3e8a15));try{await botInstance[_0x387600(0xef)+'e'](_0x166457,{'text':_0x290511},{'quoted':_0xefd1bf['ms']}),info(name+(_0x387600(0xc7)+_0x387600(0xe8)+'text)\x20for\x20'+'\x22')+_0x10f04c+'\x22\x20to\x20'+_0x166457);return;}catch(_0x37afb9){error(_0x37afb9,name+(_0x387600(0xf3)+_0x387600(0xa3)+_0x387600(0xc4))),await botInstance[_0x387600(0xef)+'e'](_0x166457,{'text':_0x387600(0xc1)+_0x387600(0xe9)+'s.'});return;}}}catch(_0x2a273d){error(_0x2a273d,name+(_0x387600(0xd8)+_0x387600(0xa5)));}}export async function cleanup(){const _0x2831a8=_0x1c3581;try{botInstance=null,respondedMsgIds[_0x2831a8(0xae)](),info(name+('\x20cleaned\x20u'+'p'));}catch(_0x5d206e){warn(name+(_0x2831a8(0xde)+_0x2831a8(0xdf))+(_0x5d206e?.['message']||_0x5d206e));}}