const _0x39f8da=_0x4cb7;(function(_0x481c40,_0x16bd6e){const _0x40a2dd=_0x4cb7,_0x5d9d79=_0x481c40();while(!![]){try{const _0x3f8300=-parseInt(_0x40a2dd(0x18a))/(0x2b3*-0x3+-0x45*-0x21+0x1*-0xcb)+-parseInt(_0x40a2dd(0x22d))/(-0x1d27+0x18fb+0x42e)*(-parseInt(_0x40a2dd(0x226))/(0x1c8f+0x4*0x722+-0x464*0xd))+parseInt(_0x40a2dd(0x187))/(-0x1*-0x247d+0xd*-0x5d+-0x1fc0)+-parseInt(_0x40a2dd(0x1cf))/(0x1acd+-0x4*-0x8e+0x740*-0x4)*(-parseInt(_0x40a2dd(0x240))/(-0x248*-0x1+0x1b92+-0x4*0x775))+-parseInt(_0x40a2dd(0x1ac))/(0x1b3*0x11+-0x69*0xa+-0x18c2)*(parseInt(_0x40a2dd(0x215))/(0x6*-0x65b+0x6*-0x2b7+0x3674))+-parseInt(_0x40a2dd(0x171))/(0x38f*-0x2+-0x59f*0x3+0x601*0x4)+parseInt(_0x40a2dd(0x1c7))/(0x1862+-0x1cca+0x472);if(_0x3f8300===_0x16bd6e)break;else _0x5d9d79['push'](_0x5d9d79['shift']());}catch(_0x40b8a5){_0x5d9d79['push'](_0x5d9d79['shift']());}}}(_0x1088,0x21341+0x126619+-0x8c458));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x4cb7(_0x12fcb1,_0x5e6c36){const _0x309a60=_0x1088();return _0x4cb7=function(_0x546546,_0x52316e){_0x546546=_0x546546-(0x118d+0xb6*0x9+-0x484*0x5);let _0x26a4d5=_0x309a60[_0x546546];return _0x26a4d5;},_0x4cb7(_0x12fcb1,_0x5e6c36);}import*as _0x2d1e35 from'../utils/groups.js';import{getDefault,getConnection}from'../utils/connection.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getConfig}from'../utils/config.js';export const name=_0x39f8da(0x1ea)+_0x39f8da(0x21b)+'k';export const version='3.1.0-grou'+_0x39f8da(0x204);export const priority=0x1e13+0x1c45+-0x1*0x39db;export const commands=['sbl'];export const configKeys=['STATUS_BRO'+'ADCAST_DEF'+_0x39f8da(0x23e),_0x39f8da(0x17c)+_0x39f8da(0x209)+_0x39f8da(0x257)+_0x39f8da(0x1a1),_0x39f8da(0x17c)+_0x39f8da(0x209)+_0x39f8da(0x1e7)+'N','STATUS_BRO'+_0x39f8da(0x21d)];const FALLBACK_DEFAULTS={'DEDUPE_TTL_MS':(0xaf8+0xc20+-0x16fa)*(0x1b97+-0x5f3*-0x3+-0x2988),'DEFAULT_WARN_MESSAGE':_0x39f8da(0x1b3)+_0x39f8da(0x1c2)+'SER:*\x20{use'+_0x39f8da(0x1b4)+'RNINGS:*\x20{'+_0x39f8da(0x1e5)+_0x39f8da(0x1bb)+'G\x20WARNINGS'+_0x39f8da(0x258)+'ing_warns}'+'\x0a*REASON:*'+_0x39f8da(0x1cb),'DEFAULT_MAX_WARN':0x3,'DEFAULT_REASON':_0x39f8da(0x24a)+_0x39f8da(0x1bd)+'casts.'};let CONFIG={};try{CONFIG=typeof getConfig==='function'?getConfig()||{}:{};}catch(_0x521fa0){warn(_0x39f8da(0x21c)+_0x39f8da(0x1ce)+_0x39f8da(0x160)+'or,\x20procee'+_0x39f8da(0x1f1)+'file\x20defau'+_0x39f8da(0x1f0)),CONFIG={};}const DEFAULTS={'DEDUPE_TTL_MS':Number(CONFIG?.[_0x39f8da(0x17c)+_0x39f8da(0x21d)]?.[_0x39f8da(0x1df)+_0x39f8da(0x1d5)]??CONFIG[_0x39f8da(0x17c)+_0x39f8da(0x19a)+_0x39f8da(0x19e)]??FALLBACK_DEFAULTS[_0x39f8da(0x1df)+_0x39f8da(0x1d5)])||FALLBACK_DEFAULTS[_0x39f8da(0x1df)+_0x39f8da(0x1d5)],'DEFAULT_WARN_MESSAGE':typeof CONFIG['STATUS_BRO'+'ADCAST_DEF'+'AULT_WARN']===_0x39f8da(0x208)&&CONFIG[_0x39f8da(0x17c)+_0x39f8da(0x209)+_0x39f8da(0x23e)][_0x39f8da(0x21f)]?CONFIG['STATUS_BRO'+_0x39f8da(0x209)+_0x39f8da(0x23e)]:typeof CONFIG?.[_0x39f8da(0x17c)+_0x39f8da(0x21d)]?.[_0x39f8da(0x1b1)+'RN']===_0x39f8da(0x208)&&CONFIG['STATUS_BRO'+'ADCAST']['DEFAULT_WA'+'RN'][_0x39f8da(0x21f)]?CONFIG[_0x39f8da(0x17c)+_0x39f8da(0x21d)][_0x39f8da(0x1b1)+'RN']:FALLBACK_DEFAULTS[_0x39f8da(0x1b1)+_0x39f8da(0x1a6)],'DEFAULT_MAX_WARN':Number(CONFIG[_0x39f8da(0x17c)+'ADCAST_DEF'+_0x39f8da(0x257)+_0x39f8da(0x1a1)]??CONFIG?.[_0x39f8da(0x17c)+'ADCAST']?.[_0x39f8da(0x21e)]??FALLBACK_DEFAULTS[_0x39f8da(0x1ec)+_0x39f8da(0x1d3)])||FALLBACK_DEFAULTS['DEFAULT_MA'+_0x39f8da(0x1d3)],'DEFAULT_REASON':typeof CONFIG[_0x39f8da(0x17c)+_0x39f8da(0x209)+_0x39f8da(0x1e7)+'N']===_0x39f8da(0x208)&&CONFIG[_0x39f8da(0x17c)+_0x39f8da(0x209)+_0x39f8da(0x1e7)+'N'][_0x39f8da(0x21f)]?CONFIG[_0x39f8da(0x17c)+'ADCAST_DEF'+_0x39f8da(0x1e7)+'N']:typeof CONFIG?.['STATUS_BRO'+'ADCAST']?.[_0x39f8da(0x1d2)+'ASON']===_0x39f8da(0x208)&&CONFIG[_0x39f8da(0x17c)+_0x39f8da(0x21d)][_0x39f8da(0x1d2)+_0x39f8da(0x1d4)][_0x39f8da(0x21f)]?CONFIG[_0x39f8da(0x17c)+_0x39f8da(0x21d)][_0x39f8da(0x1d2)+'ASON']:FALLBACK_DEFAULTS[_0x39f8da(0x1d2)+_0x39f8da(0x1d4)]};let botRef=null;const processedMessageKeys=new Map(),sleep=_0x31e022=>new Promise(_0x42b665=>setTimeout(_0x42b665,_0x31e022));function isStatusBroadcastMention(_0x2e526e){const _0x11babf=_0x39f8da;if(!_0x2e526e||!_0x2e526e[_0x11babf(0x1f8)])return![];const _0x7e23d2=_0x2e526e['message'];return _0x7e23d2[_0x11babf(0x1dc)+_0x11babf(0x249)+_0x11babf(0x1f3)]||_0x7e23d2[_0x11babf(0x1da)+_0x11babf(0x1f3)]?.[_0x11babf(0x207)]?.[_0x11babf(0x170)]?.[_0x11babf(0x18d)+'e']()===_0x11babf(0x19f)+_0x11babf(0x166)||_0x7e23d2[_0x11babf(0x1f9)+_0x11babf(0x172)]?.[_0x11babf(0x19b)+_0x11babf(0x236)]?.[_0x11babf(0x1da)+_0x11babf(0x1f3)]?.['key']?.['remoteJid']?.[_0x11babf(0x18d)+'e']()==='status@bro'+'adcast';}const TABLE_SETTINGS=_0x39f8da(0x1ea)+'adcast_set'+_0x39f8da(0x16d),TABLE_WARN_USERS=_0x39f8da(0x1ea)+'adcast_war'+'ns',TABLE_WARN_SETTINGS=_0x39f8da(0x1ea)+'adcast_war'+_0x39f8da(0x161);async function ensureTables(){const _0x5c456f=_0x39f8da;try{await db['exec'](_0x5c456f(0x24f)+_0x5c456f(0x164)+_0x5c456f(0x214)+TABLE_SETTINGS+(_0x5c456f(0x24d)+_0x5c456f(0x1ab)+'ARY\x20KEY,\x20e'+_0x5c456f(0x1e4)+_0x5c456f(0x20d)+_0x5c456f(0x1de)+_0x5c456f(0x196))),await db['exec']('CREATE\x20TAB'+_0x5c456f(0x164)+_0x5c456f(0x214)+TABLE_WARN_USERS+('\x20(chat_jid'+_0x5c456f(0x193)+_0x5c456f(0x20c)+_0x5c456f(0x184)+'NOT\x20NULL,\x20'+_0x5c456f(0x16b)+_0x5c456f(0x1ff)+'EFAULT\x200,\x20'+_0x5c456f(0x1fd)+_0x5c456f(0x22b)+'d,\x20user_ji'+_0x5c456f(0x18b))),await db['exec'](_0x5c456f(0x24f)+'LE\x20IF\x20NOT\x20'+_0x5c456f(0x214)+TABLE_WARN_SETTINGS+('\x20(chat_jid'+'\x20TEXT\x20PRIM'+_0x5c456f(0x1ba)+_0x5c456f(0x251)+_0x5c456f(0x19d)+_0x5c456f(0x1f5)+_0x5c456f(0x210)+_0x5c456f(0x1ee)+'TEGER);'));}catch(_0x325562){error(_0x325562,_0x5c456f(0x1fc)+_0x5c456f(0x169)+_0x5c456f(0x231));throw _0x325562;}}async function getChatEnabled(_0x513ee2){const _0xc26146=_0x39f8da,_0x18f5e7=await db[_0xc26146(0x1b2)](_0xc26146(0x229)+'bled\x20FROM\x20'+TABLE_SETTINGS+(_0xc26146(0x1eb)+_0xc26146(0x1ad)),[_0x513ee2]);return _0x18f5e7?Number(_0x18f5e7[_0xc26146(0x16e)])===0x46*-0x38+-0x15c5*0x1+-0x1*-0x2516:![];}async function setChatEnabled(_0x35fac5,_0x354540){const _0x37dbba=_0x39f8da;await db[_0x37dbba(0x227)](_0x37dbba(0x206)+'O\x20'+TABLE_SETTINGS+(_0x37dbba(0x24d)+_0x37dbba(0x24e)+_0x37dbba(0x23d)+_0x37dbba(0x211)+'(?,\x20?,\x20?)\x20'+_0x37dbba(0x256)+_0x37dbba(0x23a)+')\x20DO\x20UPDAT'+_0x37dbba(0x1a8)+_0x37dbba(0x1e9)+_0x37dbba(0x232)+_0x37dbba(0x1c1)+_0x37dbba(0x167)+_0x37dbba(0x16c)+_0x37dbba(0x1bf)),[_0x35fac5,_0x354540?-0xd5f+-0xae*-0x28+-0x4*0x374:0x1d15+-0x17f2+0x523*-0x1,Math['floor'](Date['now']()/(0x8*-0x106+-0x941+0x1559))]);}async function getWarnSettings(_0x272962){const _0x12c100=_0x39f8da,_0x2a81b2=await db[_0x12c100(0x1b2)](_0x12c100(0x241)+_0x12c100(0x223)+_0x12c100(0x239)+'\x20FROM\x20'+TABLE_WARN_SETTINGS+(_0x12c100(0x1eb)+_0x12c100(0x1ad)),[_0x272962]),_0x44b1a1=DEFAULTS[_0x12c100(0x1b1)+'RN_MESSAGE'],_0x5e4bc5=DEFAULTS[_0x12c100(0x1ec)+_0x12c100(0x1d3)];if(!_0x2a81b2)return{'warn_message':_0x44b1a1,'max_warns':_0x5e4bc5};return{'warn_message':_0x2a81b2[_0x12c100(0x228)+'ge']&&_0x2a81b2[_0x12c100(0x228)+'ge'][_0x12c100(0x21f)]?_0x2a81b2['warn_messa'+'ge']:_0x44b1a1,'max_warns':Number['isFinite'](Number(_0x2a81b2['max_warns']))&&Number(_0x2a81b2[_0x12c100(0x1fb)])>0x182*0x19+0x1*0x20e3+-0x4695?Number(_0x2a81b2[_0x12c100(0x1fb)]):_0x5e4bc5};}async function setWarnSettings(_0xdb197b,_0x420ea8){const _0x13cf85=_0x39f8da,_0x11f602=await getWarnSettings(_0xdb197b),_0x2ea88e=_0x13cf85(0x228)+'ge'in _0x420ea8?_0x420ea8[_0x13cf85(0x228)+'ge']:_0x11f602[_0x13cf85(0x228)+'ge'],_0x220697='max_warns'in _0x420ea8?_0x420ea8[_0x13cf85(0x1fb)]:_0x11f602['max_warns'];await db['run'](_0x13cf85(0x206)+'O\x20'+TABLE_WARN_SETTINGS+(_0x13cf85(0x24d)+_0x13cf85(0x233)+_0x13cf85(0x1e6)+_0x13cf85(0x177)+_0x13cf85(0x18c)+_0x13cf85(0x238)+'?,\x20?,\x20?)\x20O'+_0x13cf85(0x1a3)+_0x13cf85(0x222)+_0x13cf85(0x181)+_0x13cf85(0x203)+_0x13cf85(0x17b)+_0x13cf85(0x1a4)+_0x13cf85(0x223)+'\x20max_warns'+'=excluded.'+'max_warns,'+_0x13cf85(0x23d)+_0x13cf85(0x220)+_0x13cf85(0x1cc)+'t;'),[_0xdb197b,_0x2ea88e,_0x220697,Math[_0x13cf85(0x178)](Date['now']()/(0xa97*-0x3+-0x214d+0x44fa))]);}async function getWarnCount(_0x19b559,_0x4b8684){const _0x5af854=_0x39f8da,_0x3ff52c=await db[_0x5af854(0x1b2)](_0x5af854(0x241)+_0x5af854(0x1fa)+_0x5af854(0x17d)+TABLE_WARN_USERS+('\x20WHERE\x20cha'+_0x5af854(0x174)+_0x5af854(0x189)+_0x5af854(0x17e)),[_0x19b559,_0x4b8684]);return _0x3ff52c?Number(_0x3ff52c[_0x5af854(0x16b)]||0x1f5a*0x1+0x1f*-0x113+0x1*0x1f3):-0x1*0x2671+0xb9b+0x1*0x1ad6;}async function setWarnCount(_0x45f218,_0x39ebad,_0x2dee0b){const _0x579179=_0x39f8da;await db[_0x579179(0x227)](_0x579179(0x206)+'O\x20'+TABLE_WARN_USERS+(_0x579179(0x24d)+_0x579179(0x1cd)+_0x579179(0x18f)+_0x579179(0x20a)+_0x579179(0x179)+_0x579179(0x185)+_0x579179(0x20f)+'d,\x20user_ji'+'d)\x20DO\x20UPDA'+_0x579179(0x1d7)+_0x579179(0x234)+_0x579179(0x244)+_0x579179(0x1a7)),[_0x45f218,_0x39ebad,Number(_0x2dee0b||-0x15*0x1ca+-0x49d*-0x2+-0x4*-0x716)]);}async function sendNotice(_0x32d857,_0x309b77,_0x1a8398=[]){const _0x2329da=_0x39f8da;if(!_0x32d857||!botRef)return;try{const _0x4f2137=botRef[_0x2329da(0x1c4)]?.[_0x2329da(0x1fe)+'e']||botRef[_0x2329da(0x1fe)+'e'];await _0x4f2137(_0x32d857,{'text':_0x309b77,'mentions':Array[_0x2329da(0x253)](_0x1a8398)?_0x1a8398:[]});}catch(_0x2c32ac){warn(_0x2329da(0x1ae)+'ed\x20to\x20send'+_0x2329da(0x23c)+'\x20'+_0x32d857+':\x20'+(_0x2c32ac?.[_0x2329da(0x1f8)]||_0x2c32ac));}}async function kickUser(_0x34e506,_0x88f889){const _0x396650=_0x39f8da;try{const _0x285ffa=botRef?.[_0x396650(0x1c4)]||botRef;if(_0x285ffa?.[_0x396650(0x180)+_0x396650(0x162)+_0x396650(0x190)])return await _0x285ffa[_0x396650(0x180)+'cipantsUpd'+'ate'](_0x34e506,[_0x88f889],_0x396650(0x1b8)),info(_0x396650(0x246)+'ed\x20'+_0x88f889+'\x20from\x20'+_0x34e506),!![];return![];}catch(_0x1b2510){return error(_0x1b2510,_0x396650(0x200)+_0x396650(0x213)+'\x20'+_0x88f889),![];}}async function issueAutoWarningFor(_0x166951){const _0x102cf4=_0x39f8da,_0x20168d=_0x166951['key']['remoteJid'],_0x2aaaf1=_0x166951[_0x102cf4(0x207)]['participan'+'t']||_0x166951[_0x102cf4(0x207)][_0x102cf4(0x170)];if(await isadmin(botRef,{'key':_0x166951[_0x102cf4(0x207)],'message':_0x166951[_0x102cf4(0x1f8)]}))return;const {warn_message:_0x1221c3,max_warns:_0x31eaf1}=await getWarnSettings(_0x20168d),_0x499f77=await getWarnCount(_0x20168d,_0x2aaaf1),_0x415e0b=_0x499f77+(0x29b*-0xb+-0x1bb0*0x1+0x385a);await setWarnCount(_0x20168d,_0x2aaaf1,_0x415e0b);if(_0x415e0b>=_0x31eaf1){await sendNotice(_0x20168d,_0x102cf4(0x198)+_0x102cf4(0x1af)+'@'+_0x2aaaf1[_0x102cf4(0x17a)]('@')[-0x1363*0x1+-0x23+0x9c3*0x2]+(_0x102cf4(0x1a9)+_0x102cf4(0x1e1))+_0x31eaf1+(_0x102cf4(0x165)+'and\x20will\x20b'+'e\x20removed.'),[_0x2aaaf1]),await kickUser(_0x20168d,_0x2aaaf1),await setWarnCount(_0x20168d,_0x2aaaf1,-0x21e2+0x106e+0x8ba*0x2);return;}const _0x4cf8e3=_0x31eaf1-_0x415e0b;let _0x5c6342=String(_0x1221c3)['replace'](_0x102cf4(0x1f6),'@'+_0x2aaaf1[_0x102cf4(0x17a)]('@')[-0x1605+-0xae1*0x1+-0x1073*-0x2])[_0x102cf4(0x182)](_0x102cf4(0x195)+'}',String(_0x31eaf1))[_0x102cf4(0x182)](_0x102cf4(0x22a)+_0x102cf4(0x176),String(_0x4cf8e3))['replace'](_0x102cf4(0x1b0),DEFAULTS['DEFAULT_RE'+_0x102cf4(0x1d4)]);await sendNotice(_0x20168d,_0x5c6342,[_0x2aaaf1]),info('[sbl]\x20warn'+_0x102cf4(0x1e1)+_0x2aaaf1+_0x102cf4(0x242)+_0x20168d+'\x20('+_0x415e0b+'/'+_0x31eaf1+')');}async function deleteWithRetryMsg(_0x5cd1cc){const _0x176e55=_0x39f8da;for(let _0x1ad214=0x1a7+0x1*-0x1e15+0x1c6e;_0x1ad214<-0x1aa7*-0x1+-0x83*0x3e+0x1*0x515;_0x1ad214++){try{const _0x111380=botRef[_0x176e55(0x1c4)]?.['sendMessag'+'e']||botRef[_0x176e55(0x1fe)+'e'];return await _0x111380(_0x5cd1cc['key'][_0x176e55(0x170)],{'delete':_0x5cd1cc[_0x176e55(0x207)]}),!![];}catch(_0x1ed36f){if(_0x1ad214===-0x1*-0x15df+-0x1a59+0x47a)await sleep(-0x9b4+0x6b5+0x3*0x153);else warn('[sbl]\x20dele'+'te\x20failed:'+'\x20'+(_0x1ed36f?.['message']||_0x1ed36f));}}return![];}async function rawMessagesUpsertHandler({messages:_0x13c911}){const _0xa8812a=_0x39f8da;for(const _0x3c3975 of _0x13c911){const _0x651046=_0x3c3975['key']?.[_0xa8812a(0x170)];if(!_0x3c3975['message']||_0x3c3975[_0xa8812a(0x207)]['fromMe']||!_0x651046||!_0x651046[_0xa8812a(0x192)](_0xa8812a(0x224)))continue;const _0x3cda9a=_0x651046+'::'+_0x3c3975[_0xa8812a(0x207)]['id'];if(processedMessageKeys[_0xa8812a(0x194)](_0x3cda9a))continue;processedMessageKeys[_0xa8812a(0x168)](_0x3cda9a,setTimeout(()=>processedMessageKeys['delete'](_0x3cda9a),DEFAULTS['DEDUPE_TTL'+'_MS']));const _0x5ecc65=await getChatEnabled(_0x651046);if(!_0x5ecc65||await isadmin(botRef,{'key':_0x3c3975[_0xa8812a(0x207)],'message':_0x3c3975[_0xa8812a(0x1f8)]}))continue;isStatusBroadcastMention(_0x3c3975)&&(await deleteWithRetryMsg(_0x3c3975)&&await issueAutoWarningFor(_0x3c3975));}}async function findSudoerJid(_0x553e92){const _0x338e10=_0x39f8da,{findings:_0x3e34b8}=userJidFromCtx(_0x553e92),_0xe1eed8=await listSudo(),_0x498870=new Set(_0xe1eed8[_0x338e10(0x243)](String));for(const _0x454732 of _0x3e34b8){if(_0x454732?.['jid']){const _0x58e504=normalizeToJid(_0x454732[_0x338e10(0x254)]);if(_0x58e504&&_0x498870[_0x338e10(0x194)](_0x58e504))return _0x58e504;if(_0x498870['has'](_0x454732[_0x338e10(0x254)]))return _0x454732[_0x338e10(0x254)];}}return null;}async function getMessageText(_0x28a403){const _0x1e009b=_0x39f8da;if(!_0x28a403||!_0x28a403['message'])return'';const _0x281dac=_0x28a403[_0x1e009b(0x1f8)];return _0x281dac[_0x1e009b(0x1b7)+'on']||_0x281dac[_0x1e009b(0x225)+_0x1e009b(0x19c)]?.[_0x1e009b(0x1b9)]||_0x281dac['imageMessa'+'ge']?.[_0x1e009b(0x201)]||_0x281dac[_0x1e009b(0x197)+'ge']?.[_0x1e009b(0x201)]||'';}function parseGpFromArgs(_0x214f75){const _0x56f304=_0x39f8da,_0x3f3356=_0x214f75[_0x56f304(0x250)](_0x2464c4=>_0x2464c4[_0x56f304(0x18d)+'e']()===_0x56f304(0x202)||_0x2464c4[_0x56f304(0x18d)+'e']()==='gp');if(_0x3f3356!==-(0x12*-0x1fd+0x2284+-0x6d*-0x3)&&_0x214f75[_0x3f3356+(0x7cc*-0x2+0x2421+-0x1488)])return _0x214f75[_0x3f3356+(-0xb*0x2b3+0x11a1*-0x1+0x2f53)];const _0x39762f=_0x214f75[_0x56f304(0x22e)](_0x5f0d03=>_0x5f0d03[_0x56f304(0x199)](_0x56f304(0x224)));if(_0x39762f)return _0x39762f;if(_0x214f75['length']>-0x1015+-0xb3*0x1f+0x12*0x219){const _0x9e5192=_0x214f75[_0x214f75[_0x56f304(0x21f)]-(-0x211d+-0x15a+0x2278)];if(!['on',_0x56f304(0x186),_0x56f304(0x205),_0x56f304(0x168),_0x56f304(0x252),'warnmsg',_0x56f304(0x1ed)]['includes'](_0x9e5192[_0x56f304(0x18d)+'e']()))return _0x9e5192;}return null;}export async function onMessage(_0x28a562){const _0x16f711=_0x39f8da,_0x100e98=(_0x28a562['text']||await getMessageText(_0x28a562))['trim']();if(!_0x28a562[_0x16f711(0x1f4)]||!_0x100e98)return;const [_0x154fc6,..._0x11bf3b]=_0x100e98[_0x16f711(0x17a)](/\s+/),_0x355204=_0x154fc6[_0x16f711(0x18d)+'e']()[_0x16f711(0x182)]('/','');if(!commands[_0x16f711(0x199)](_0x355204))return;const _0xf28aad=_0x28a562[_0x16f711(0x207)][_0x16f711(0x170)][_0x16f711(0x192)](_0x16f711(0x224)),_0x530950=_0x28a562[_0x16f711(0x207)]['fromMe'],_0x10d7a3=_0x530950?!![]:await isSudo(botRef,_0x28a562),_0x300c46=_0xf28aad?await isadmin(botRef,_0x28a562):![];if(!_0xf28aad&&!_0x10d7a3)return;if(_0xf28aad&&!_0x300c46)return;let _0x401f6b,_0x18d936=[];if(_0xf28aad){_0x401f6b=_0x28a562['key'][_0x16f711(0x170)];const _0x59df60=(_0x28a562[_0x16f711(0x207)][_0x16f711(0x18e)+'t']||_0x28a562[_0x16f711(0x207)]['from'])[_0x16f711(0x17a)]('@')[0x1397+0x1*0x236+0x15cd*-0x1],_0xa2235=await getDefault(_0x59df60);if(!_0xa2235||_0xa2235['length']===-0xad+-0x818+0x8c5)_0x18d936=[_0x28a562['key'][_0x16f711(0x170)]],await sendNotice(_0x401f6b,_0x16f711(0x1a5)+_0x16f711(0x173)+'n\x20found.\x20A'+_0x16f711(0x1a0)+_0x16f711(0x248)+_0x16f711(0x1d9)+'\x20group\x20onl'+'y.');else{for(const _0x56b049 of Array[_0x16f711(0x253)](_0xa2235)?_0xa2235:[_0xa2235]){const _0x3ed23b=await getConnection(_0x56b049);if(_0x3ed23b)_0x18d936[_0x16f711(0x1e3)](...Array[_0x16f711(0x253)](_0x3ed23b)?_0x3ed23b:[_0x3ed23b]);}_0x18d936=[...new Set(_0x18d936)];if(_0x18d936[_0x16f711(0x21f)]===0x8*-0x72+-0xf0a+0x129a)return sendNotice(_0x401f6b,'Your\x20defau'+_0x16f711(0x1e0)+'ion(s)\x20cou'+_0x16f711(0x183)+'resolved\x20t'+_0x16f711(0x1c6)+_0x16f711(0x1e2));}}else{_0x401f6b=_0x530950?getBotJid():await findSudoerJid(_0x28a562);if(!_0x401f6b)return;const _0x5ca894=parseGpFromArgs(_0x11bf3b);if(!_0x5ca894)return sendNotice(_0x401f6b,_0x16f711(0x212)+_0x16f711(0x17f)+_0x16f711(0x1f2)+_0x16f711(0x1dd)+'ias\x20or\x20JID'+'\x20via\x20`gp\x20<'+'alias>`\x20or'+_0x16f711(0x23f)+_0x16f711(0x1d1)+'\x20end.');const _0x1e69e0=await _0x2d1e35['resolveNam'+'e'](_0x5ca894)||(_0x5ca894['includes']('@g.us')?_0x5ca894:null);if(!_0x1e69e0)return sendNotice(_0x401f6b,_0x16f711(0x175)+'oup\x20alias\x20'+_0x16f711(0x1ca)+_0x5ca894+'`');_0x18d936=[_0x1e69e0];}const _0x3913e2=(_0x11bf3b[_0x16f711(0x22e)](_0x1833e7=>['on',_0x16f711(0x186),'show'][_0x16f711(0x199)](_0x1833e7[_0x16f711(0x18d)+'e']()))||_0x16f711(0x205))[_0x16f711(0x18d)+'e'](),_0x23d001=_0x11bf3b[_0x16f711(0x22e)](_0x10abed=>[_0x16f711(0x1bc),_0x16f711(0x1ed),_0x16f711(0x252)][_0x16f711(0x199)](_0x10abed['toLowerCas'+'e']()));let _0x4c5c5f='';for(const _0x3a34ab of _0x18d936){if(_0x23d001){if(_0x23d001===_0x16f711(0x1bc)){if(_0x11bf3b['includes']('set')){const _0x163619=_0x100e98[_0x16f711(0x18d)+'e']()[_0x16f711(0x1c0)](_0x16f711(0x168))+(0x8c*0x46+0x19dc+0x1b*-0x260);let _0x1783a7=_0x100e98[_0x16f711(0x24c)](_0x163619)['trim']();const _0x3c4431=parseGpFromArgs(_0x11bf3b);if(_0x3c4431)_0x1783a7=_0x1783a7['replace'](new RegExp(_0x16f711(0x188)+'s*'+_0x3c4431+_0x16f711(0x1c9),'i'),'')[_0x16f711(0x1d8)]();if(!_0x1783a7){_0x4c5c5f+=_0x16f711(0x20e)+_0x16f711(0x20b)+_0x16f711(0x1aa)+_0x16f711(0x163)+_0x3a34ab+'.\x0a';continue;}await setWarnSettings(_0x3a34ab,{'warn_message':_0x1783a7}),_0x4c5c5f+=_0x16f711(0x1be)+'sage\x20for\x20'+_0x3a34ab+'\x20updated.\x0a';}else{const {warn_message:_0x19b73b}=await getWarnSettings(_0x3a34ab);_0x4c5c5f+=_0x16f711(0x230)+'age\x20for\x20'+_0x3a34ab+':*\x0a'+_0x19b73b+'\x0a\x0a';}}else{if(_0x23d001===_0x16f711(0x1ed)){if(_0x11bf3b['includes'](_0x16f711(0x168))){const _0x2567f4=parseInt(_0x11bf3b[_0x11bf3b[_0x16f711(0x1c0)](_0x16f711(0x168))+(0x6de*0x5+0x24*-0x76+-0x11bd)],-0x1519+0x1ef+0x1334);if(isNaN(_0x2567f4)||_0x2567f4<-0xed*-0x2+0x22be+-0x2497){_0x4c5c5f+=_0x16f711(0x191)+_0x16f711(0x1f7)+_0x16f711(0x237)+_0x16f711(0x24b)+_0x3a34ab+'.\x0a';continue;}await setWarnSettings(_0x3a34ab,{'max_warns':_0x2567f4}),_0x4c5c5f+=_0x16f711(0x219)+_0x16f711(0x23b)+_0x3a34ab+_0x16f711(0x247)+_0x2567f4+'.\x0a';}else{const {max_warns:_0x2f32a4}=await getWarnSettings(_0x3a34ab);_0x4c5c5f+=_0x16f711(0x15f)+'s\x20for\x20'+_0x3a34ab+'\x20is\x20'+_0x2f32a4+'.\x0a';}}else{if(_0x23d001===_0x16f711(0x252)){const _0x495a58=_0x28a562['message']?.[_0x16f711(0x225)+_0x16f711(0x19c)]?.[_0x16f711(0x217)+'o']?.[_0x16f711(0x259)+'id']||[];if(!_0x495a58['length']){_0x4c5c5f+='Please\x20@me'+'ntion\x20a\x20us'+_0x16f711(0x218)+'t\x20warnings'+_0x16f711(0x216)+_0x3a34ab+'.\x0a';continue;}for(const _0x4cd4f8 of _0x495a58)await setWarnCount(_0x3a34ab,_0x4cd4f8,-0x24e1+-0x2617+0x4af8);_0x4c5c5f+='‚úÖ\x20Warnings'+'\x20reset\x20for'+_0x16f711(0x255)+_0x16f711(0x1c3)+'n\x20'+_0x3a34ab+'.\x0a';}}}}else{if(_0x3913e2==='on')await setChatEnabled(_0x3a34ab,!![]),_0x4c5c5f+=_0x16f711(0x22f)+_0x16f711(0x1c8)+_0x16f711(0x1d6)+_0x3a34ab+'\x0a';else{if(_0x3913e2==='off')await setChatEnabled(_0x3a34ab,![]),_0x4c5c5f+=_0x16f711(0x1a2)+_0x16f711(0x22c)+_0x16f711(0x221)+'\x20'+_0x3a34ab+'\x0a';else{const _0xf17878=await getChatEnabled(_0x3a34ab);let _0x530f06=_0xf17878?_0x16f711(0x1b6):_0x16f711(0x235);_0x4c5c5f+='*Status\x20lo'+_0x16f711(0x1ef)+_0x3a34ab+_0x16f711(0x1d0)+_0x530f06+'\x0a\x0a';}}}}await sendNotice(_0x401f6b,_0x4c5c5f[_0x16f711(0x1d8)]());}export async function initialize(_0x152afc){const _0x4dc5a2=_0x39f8da;botRef=_0x152afc,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':'messages.u'+'psert','handler':rawMessagesUpsertHandler,'moduleName':name}),info(_0x4dc5a2(0x245)+'ialized.\x20M'+_0x4dc5a2(0x16f)+_0x4dc5a2(0x16a)+_0x4dc5a2(0x1c5)+'Dedupe\x20TTL'+':\x20'+DEFAULTS['DEDUPE_TTL'+_0x4dc5a2(0x1d5)]+'ms.');}export async function cleanup(){const _0x489370=_0x39f8da;stopManagedListener(name,'messages.u'+_0x489370(0x21a)),processedMessageKeys[_0x489370(0x1db)](_0x1e4fbc=>clearTimeout(_0x1e4fbc)),processedMessageKeys[_0x489370(0x1e8)](),botRef=null,info('[sbl]\x20clea'+_0x489370(0x1b5));}function _0x1088(){const _0x53867c=['ding\x20with\x20','s\x20require\x20','ssage','isCommand','x_warns\x20IN','{user}','mber\x20for\x20m','message','messageCon','n_count\x20FR','max_warns','[sbl]\x20ensu','PRIMARY\x20KE','sendMessag','\x20INTEGER\x20D','[sbl]\x20Fail','caption','gp:','\x20SET\x20warn_','p-only','show','INSERT\x20INT','key','string','ADCAST_DEF','nt)\x20VALUES','vide\x20a\x20war','NULL,\x20user','EGER,\x20upda','Please\x20pro','CT(chat_ji','TEGER,\x20upd','t)\x20VALUES\x20','In\x20PM,\x20`sb','ed\x20to\x20kick','EXISTS\x20','91256owCzdl','\x20for\x20in\x20','contextInf','er\x20to\x20rese','‚úÖ\x20Max\x20warn','psert','adcast_loc','[sbl]\x20getC','ADCAST','MAX_WARN','length','t=excluded','BLED**\x20for','(chat_jid)','n_message,','@g.us','extendedTe','612078EsncqW','run','warn_messa','SELECT\x20ena','{remaining','Y\x20(chat_ji','ock\x20**DISA','10pFobph','find','‚úÖ\x20Status\x20l','*Warn\x20Mess','ailed','uded.enabl',',\x20warn_mes','n_count\x20=\x20','‚ùå\x20DISABLED','age','ax\x20warning','ALUES\x20(?,\x20','\x20max_warns','T(chat_jid','s\x20for\x20','\x20notice\x20to','\x20updated_a','AULT_WARN','\x20by\x20adding','534OrJRNc','SELECT\x20war','\x20in\x20','map','excluded.w','[sbl]\x20init','[sbl]\x20kick','\x20set\x20to\x20','mmand\x20to\x20t','sMentionMe','Posting\x20st','s\x20in\x20','slice','\x20(chat_jid',',\x20enabled,','CREATE\x20TAB','findIndex','arn_messag','resetwarns','isArray','jid','\x20mentioned','ON\x20CONFLIC','AULT_MAX_W',':*\x20{remain','mentionedJ','‚ÑπÔ∏è\x20Max\x20warn','rew\x20an\x20err','n_settings','cipantsUpd','ge\x20for\x20','LE\x20IF\x20NOT\x20','\x20warnings\x20','adcast','d_at\x20=\x20exc','set','reTables\x20f','-Specific\x20','warn_count','luded.upda','tings','enabled','ode:\x20Group','remoteJid','11600397KcIMNu','textInfo','\x20connectio','t_jid\x20=\x20?\x20','Unknown\x20gr','_warns}','warns,\x20upd','floor','\x20(?,\x20?,\x20?)','split','message=ex','STATUS_BRO','OM\x20','id\x20=\x20?','l`\x20command','groupParti','\x20DO\x20UPDATE','replace','ld\x20not\x20be\x20','_jid\x20TEXT\x20','\x20ON\x20CONFLI','off','4782604IcgGpN','(gp:|gp)?\x5c','AND\x20user_j','1156529nLMbys','d));','ated_at)\x20V','toLowerCas','participan',',\x20warn_cou','ate','Invalid\x20nu','endsWith','\x20TEXT\x20NOT\x20','has','{max_warns','EGER);','videoMessa','*üö®BAN\x20ALER','includes','ADCAST_DED','quotedMess','xtMessage','e\x20TEXT,\x20ma','UPE_TTL_MS','status@bro','pplying\x20co','ARN','‚ùå\x20Status\x20l','N\x20CONFLICT','cluded.war','No\x20default','RN_MESSAGE','arn_count;','E\x20SET\x20enab','\x20has\x20reach','ning\x20messa','\x20TEXT\x20PRIM','371krgaPD','t_jid\x20=\x20?','[sbl]\x20fail','Tüö®*\x0a\x0aUser\x20','{reason}','DEFAULT_WA','get','*‚ö†Ô∏èWARN\x20MES','r}\x0a*MAX\x20WA','ned\x20up','‚úÖ\x20ENABLED','conversati','remove','text','ARY\x20KEY,\x20w','\x0a*REMAININ','warnmsg','atus\x20broad','‚úÖ\x20Warn\x20mes','ted_at;','indexOf','ed,\x20update','SAGE‚ö†Ô∏è*\x0a\x0a*U','\x20user(s)\x20i','sock','(Opt-In).\x20','o\x20any\x20grou','13999900initwQ','ock\x20**ENAB','\x5cs*','or\x20JID:\x20`','\x20{reason}','.updated_a',',\x20user_jid','onfig()\x20th','11320tHZize',':*\x0a','\x20it\x20to\x20the','DEFAULT_RE','X_WARN','ASON','_MS','LED**\x20for\x20','TE\x20SET\x20war','trim','he\x20current','protocolMe','forEach','groupStatu','a\x20group\x20al','ted_at\x20INT','DEDUPE_TTL','lt\x20connect','ed\x20','ps.','push','nabled\x20INT','max_warns}','sage,\x20max_','AULT_REASO','clear','led\x20=\x20excl','status_bro','\x20WHERE\x20cha','DEFAULT_MA','maxwarns','ated_at\x20IN','ck\x20for\x20','lts.'];_0x1088=function(){return _0x53867c;};return _0x1088();}