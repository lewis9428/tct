const _0x443921=_0x1259;(function(_0x31b12e,_0x90748b){const _0xe7ea4e=_0x1259,_0x369619=_0x31b12e();while(!![]){try{const _0x4aa806=-parseInt(_0xe7ea4e(0x124))/(0xe1e+-0x26d9+0x18bc)*(parseInt(_0xe7ea4e(0x104))/(0x64*0x9+-0x9f*0x2c+-0x1*-0x17d2))+-parseInt(_0xe7ea4e(0x127))/(0x1a1a+0x5*-0x4ca+-0x225)*(-parseInt(_0xe7ea4e(0x15f))/(-0x891+0x9be+-0x129*0x1))+parseInt(_0xe7ea4e(0x153))/(-0xef1+0x742*0x5+-0x1554)+-parseInt(_0xe7ea4e(0x112))/(-0x7*-0x19+0x6*0x1a1+0x1*-0xa6f)+parseInt(_0xe7ea4e(0x11d))/(-0x2e7*-0x2+0x1785+-0x1d4c)+parseInt(_0xe7ea4e(0x155))/(0x37f*0xa+-0x13e6+-0x1e1*0x8)+parseInt(_0xe7ea4e(0x132))/(0xb*0x1a7+-0x10b7*-0x2+0x7*-0x75e)*(-parseInt(_0xe7ea4e(0x119))/(0x1f5e*-0x1+0x2382+-0x2*0x20d));if(_0x4aa806===_0x90748b)break;else _0x369619['push'](_0x369619['shift']());}catch(_0x4b39dc){_0x369619['push'](_0x369619['shift']());}}}(_0xa612,0x1*0x110467+0x1c*0x3fee+-0xc0661));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';function _0x1259(_0x2eb676,_0x4d459a){const _0x3f4e27=_0xa612();return _0x1259=function(_0x52a949,_0xbeb07){_0x52a949=_0x52a949-(-0x15a6+0x21fa+-0xb61);let _0x39019a=_0x3f4e27[_0x52a949];return _0x39019a;},_0x1259(_0x2eb676,_0x4d459a);}import{getBotJid}from'../utils/bot-state.js';export const name=_0x443921(0x12f)+'rt';export const version=_0x443921(0x145);export const priority=0x7a2+-0x222a*0x1+-0x13*-0x166;export const commands=[_0x443921(0x12c),'cutmp3'];let botInstance=null,respondedMsgIds=new Set(),_mediaDeps=null;async function getMediaDependencies(){const _0x1e999e=_0x443921;if(_mediaDeps)return _mediaDeps;try{const _0xc5bbc3=await import('@whiskeysockets/baileys'),_0x2a49a3=await import('fluent-ffmpeg'),_0x1ad9b6=_0x2a49a3[_0x1e999e(0x161)],_0x38af34=(await import('@ffmpeg-installer/ffmpeg'))[_0x1e999e(0x128)],_0x591b97=(await import('fs'))[_0x1e999e(0x100)],_0xb7d1b1=(await import('os'))[_0x1e999e(0x161)],_0x4a07b3=(await import('path'))['default'];return _0x1ad9b6[_0x1e999e(0x12d)+_0x1e999e(0x16d)](_0x38af34),_mediaDeps={'downloadContentFromMessage':_0xc5bbc3[_0x1e999e(0x102)+_0x1e999e(0x130)+_0x1e999e(0x108)],'ffmpeg':_0x1ad9b6,'fs':_0x591b97,'os':_0xb7d1b1,'path':_0x4a07b3},info('['+name+(_0x1e999e(0x166)+_0x1e999e(0x125)+_0x1e999e(0x110))),_mediaDeps;}catch(_0x216234){error(_0x216234,'['+name+(_0x1e999e(0x148)+_0x1e999e(0x109)+_0x1e999e(0x123)+_0x1e999e(0x141)));throw _0x216234;}}async function streamToBuffer(_0x14b459){const _0x31d8df=_0x443921,_0x818689=[];for await(const _0x227c56 of _0x14b459){_0x818689[_0x31d8df(0x15d)](Buffer[_0x31d8df(0x120)](_0x227c56)?_0x227c56:Buffer['from'](_0x227c56));}return Buffer['concat'](_0x818689);}const getQuotedMessage=_0x32b667=>{const _0x355c7e=_0x443921;return _0x32b667[_0x355c7e(0xfa)]?.[_0x355c7e(0x162)+_0x355c7e(0x156)]?.[_0x355c7e(0x129)+'o']?.[_0x355c7e(0xf6)+_0x355c7e(0xff)]||_0x32b667['quoted']||null;};async function findStoredMatchFromFindings(_0x436bc6=[]){const _0x3e57e9=_0x443921;try{const _0x38d805=await listSudo(),_0x72e359=new Set(_0x38d805[_0x3e57e9(0x10e)](String));for(const _0x56dbec of _0x436bc6){if(!_0x56dbec?.[_0x3e57e9(0x133)]||typeof _0x56dbec[_0x3e57e9(0x133)]!==_0x3e57e9(0x14a))continue;const _0x381191=normalizeToJid(_0x56dbec[_0x3e57e9(0x133)]);if(_0x381191&&_0x72e359[_0x3e57e9(0x10c)](_0x381191))return _0x381191;if(_0x72e359[_0x3e57e9(0x10c)](_0x56dbec[_0x3e57e9(0x133)]))return _0x56dbec[_0x3e57e9(0x133)];}return null;}catch(_0x653392){return warn('['+name+(_0x3e57e9(0x163)+'edMatch\x20er'+'ror:\x20')+(_0x653392?.[_0x3e57e9(0xfa)]||_0x653392)),null;}}export async function initialize(_0x2924b5){const _0x174358=_0x443921;botInstance=_0x2924b5,info('['+name+(_0x174358(0x122)+_0x174358(0x16b)));}export async function cleanup(){const _0x1baf3a=_0x443921;botInstance=null,respondedMsgIds[_0x1baf3a(0x165)](),info('['+name+(_0x1baf3a(0x10f)+'up'));}export async function onMessage(_0x320b0a){const _0xac272d=_0x443921;try{if(!_0x320b0a?.[_0xac272d(0x10a)]||!_0x320b0a[_0xac272d(0x113)])return;const _0x118447=_0x320b0a[_0xac272d(0x10a)]['id'];if(_0x118447&&respondedMsgIds[_0xac272d(0x10c)](_0x118447))return;_0x118447&&(respondedMsgIds[_0xac272d(0x158)](_0x118447),setTimeout(()=>respondedMsgIds['delete'](_0x118447),-0x3d2f+0x1*0xb2ab+-0x4c));const _0x3b31dd=(_0x320b0a[_0xac272d(0x101)]||'')['trim'](),[_0x50fd1e,..._0x5cffd9]=_0x3b31dd['split'](/\s+/),_0xb595e9=_0x50fd1e['toLowerCas'+'e']();if(!commands['includes'](_0xb595e9))return;const _0x42f5f0=_0x320b0a['remoteJid']||_0x320b0a[_0xac272d(0x10a)]['remoteJid']||'';if(_0x42f5f0[_0xac272d(0x14c)](_0xac272d(0x139))){info('['+name+(']:\x20ignorin'+_0xac272d(0xf5))+_0x42f5f0);return;}if(!botInstance){botInstance=_0x320b0a[_0xac272d(0x131)]||_0x320b0a[_0xac272d(0x147)]||null;if(!botInstance){warn('['+name+(_0xac272d(0x13b)+_0xac272d(0x13e)+'g.'));return;}}const _0x3bdb36=getBotJid();let _0x12cbb8=_0x3bdb36;if(!_0x320b0a[_0xac272d(0x10a)]['fromMe']){const _0xac1b5d=await isSudo(botInstance,_0x320b0a)[_0xac272d(0x137)](()=>![]);if(!_0xac1b5d)return;const {findings:_0x26f89e}=userJidFromCtx(_0x320b0a),_0x45da86=await findStoredMatchFromFindings(_0x26f89e);if(!_0x45da86)return;_0x12cbb8=_0x45da86;}switch(_0xb595e9){case _0xac272d(0x12c):await handleVideoToMp3(_0x12cbb8,_0x5cffd9[_0xac272d(0x146)]('\x20'),_0x320b0a);break;case _0xac272d(0x11f):await handleCutMp3(_0x12cbb8,_0x5cffd9,_0x320b0a);break;}}catch(_0x2e0e9c){error(_0x2e0e9c,'['+name+(_0xac272d(0x152)+'e\x20error'));}}async function handleVideoToMp3(_0x291350,_0x5a5590,_0x1dc621){const _0x4d1c16=_0x443921,_0x48ee0c=getQuotedMessage(_0x1dc621);if(!_0x48ee0c?.[_0x4d1c16(0x14d)+'ge'])return botInstance[_0x4d1c16(0x140)+'e'](_0x291350,{'text':_0x4d1c16(0x12b)+'eply\x20to\x20a\x20'+'video\x20to\x20c'+_0x4d1c16(0x117)+'to\x20MP3.'},{'quoted':_0x1dc621['ms']});const _0x527eaa=(_0x5a5590||_0x4d1c16(0x121)+Date[_0x4d1c16(0xf4)]())['replace'](/[^a-z0-9\s-]/gi,'')[_0x4d1c16(0x14e)]()+_0x4d1c16(0x159);try{await botInstance[_0x4d1c16(0x140)+'e'](_0x291350,{'text':'📥\x20Converti'+_0x4d1c16(0x116)+_0x4d1c16(0x16c)},{'quoted':_0x1dc621['ms']});const {downloadContentFromMessage:_0x418199,ffmpeg:_0x4117aa,fs:_0x564e9c,os:_0xc96f28,path:_0x1ee5ec}=await getMediaDependencies(),_0x5578d6=await _0x418199(_0x48ee0c[_0x4d1c16(0x14d)+'ge'],_0x4d1c16(0x144)),_0x2f384e=await streamToBuffer(_0x5578d6),_0x2fac18=_0x1ee5ec[_0x4d1c16(0x146)](_0xc96f28[_0x4d1c16(0x149)](),'in_'+Date['now']()+'.mp4'),_0x2240f0=_0x1ee5ec['join'](_0xc96f28[_0x4d1c16(0x149)](),_0x527eaa);await _0x564e9c[_0x4d1c16(0x134)](_0x2fac18,_0x2f384e),await new Promise((_0xba9f51,_0x34f07b)=>{const _0x1a3b71=_0x4d1c16;_0x4117aa(_0x2fac18)['noVideo']()[_0x1a3b71(0x150)](_0x1a3b71(0x13f))[_0x1a3b71(0x14f)+'te'](_0x1a3b71(0xfb))['save'](_0x2240f0)['on'](_0x1a3b71(0x10b),_0xba9f51)['on'](_0x1a3b71(0x16a),_0x37ab4d=>_0x34f07b(_0x37ab4d));});const _0x34c04a=await _0x564e9c[_0x4d1c16(0x107)](_0x2240f0);await botInstance[_0x4d1c16(0x140)+'e'](_0x291350,{'audio':_0x34c04a,'mimetype':_0x4d1c16(0x114),'fileName':_0x527eaa},{'quoted':_0x1dc621['ms']}),await _0x564e9c[_0x4d1c16(0x13c)](_0x2fac18)['catch'](()=>{}),await _0x564e9c[_0x4d1c16(0x13c)](_0x2240f0)['catch'](()=>{});}catch(_0x2f178f){error(_0x2f178f,'['+name+(_0x4d1c16(0x12a)+_0x4d1c16(0x160))),await botInstance[_0x4d1c16(0x140)+'e'](_0x291350,{'text':_0x4d1c16(0xfe)+_0x4d1c16(0xf8)+'\x20'+_0x2f178f[_0x4d1c16(0xfa)]},{'quoted':_0x1dc621['ms']});}}async function handleCutMp3(_0xe4cf3b,_0x49376b,_0x41fa7a){const _0x100e41=_0x443921,_0x49756c=getQuotedMessage(_0x41fa7a);if(!_0x49756c?.[_0x100e41(0xf7)+'ge'])return botInstance[_0x100e41(0x140)+'e'](_0xe4cf3b,{'text':_0x100e41(0x12b)+'eply\x20to\x20an'+_0x100e41(0x15b)+_0x100e41(0x142)+_0x100e41(0x118)+_0x100e41(0x12e)},{'quoted':_0x41fa7a['ms']});const _0x4f6277=_0x49756c[_0x100e41(0xf7)+'ge'][_0x100e41(0x11c)]===!![],_0x4e66af=_0x4f6277?_0x100e41(0xfc):'audio',_0x407c23=_0x49376b[_0x100e41(0x10e)](_0xb0bb9=>parseFloat(_0xb0bb9))[_0x100e41(0x11a)](_0x4f031e=>!isNaN(_0x4f031e)),_0x54ac85=_0x49376b[_0x100e41(0x11a)](_0x3f0f56=>isNaN(parseFloat(_0x3f0f56)))[_0x100e41(0x146)]('\x20')[_0x100e41(0x14e)](),_0x1cbfa7=(_0x54ac85||_0x100e41(0xf3)+Date[_0x100e41(0xf4)]())['replace'](/[^a-z0-9\s-]/gi,'')[_0x100e41(0x14e)]()+'.mp3';if(_0x407c23[_0x100e41(0x14b)]===0x2313+-0x989+0xcc5*-0x2||_0x407c23['length']>-0x7f5+0x659+0x2*0xcf)return botInstance[_0x100e41(0x140)+'e'](_0xe4cf3b,{'text':_0x100e41(0x136)+_0x100e41(0x115)+_0x100e41(0x15e)+_0x4e66af+_0x100e41(0x106)+(_0x100e41(0x11e)+_0x100e41(0x167)+_0x100e41(0xfd))+(_0x100e41(0x13a)+_0x100e41(0x105)+'s>`\x0a')+(_0x100e41(0x11e)+_0x100e41(0x167)+'ds>\x20<endSe'+'condsToRem'+_0x100e41(0x157))},{'quoted':_0x41fa7a['ms']});try{await botInstance[_0x100e41(0x140)+'e'](_0xe4cf3b,{'text':_0x100e41(0x143)+_0x100e41(0x15a)+_0x4e66af+_0x100e41(0x103)},{'quoted':_0x41fa7a['ms']});const {downloadContentFromMessage:_0x3f12c0,ffmpeg:_0x204ac2,fs:_0x27a796,os:_0x10c088,path:_0x125aae}=await getMediaDependencies(),_0x3e50ed=await _0x3f12c0(_0x49756c['audioMessa'+'ge'],'audio'),_0x520062=await streamToBuffer(_0x3e50ed),_0x4fe997=_0x4f6277?_0x100e41(0x154):'.mp3',_0x73d823=_0x125aae[_0x100e41(0x146)](_0x10c088[_0x100e41(0x149)](),'in_'+Date[_0x100e41(0xf4)]()+_0x4fe997),_0x151e4f=_0x125aae[_0x100e41(0x146)](_0x10c088[_0x100e41(0x149)](),_0x1cbfa7);await _0x27a796['writeFile'](_0x73d823,_0x520062);let _0x544bbe=-0x33d+-0x23a7+0x26*0x106;await new Promise((_0x29f0fa,_0x51c22c)=>{const _0x3a4f60=_0x100e41;_0x204ac2[_0x3a4f60(0x15c)](_0x73d823,(_0x4bea2d,_0x16be34)=>{const _0x47cfd9=_0x3a4f60;if(_0x4bea2d)return _0x51c22c(_0x4bea2d);_0x544bbe=_0x16be34[_0x47cfd9(0x135)][_0x47cfd9(0x164)],_0x29f0fa();});});const _0x24f767=_0x204ac2(_0x73d823)[_0x100e41(0x13d)]();if(_0x407c23[_0x100e41(0x14b)]===0xb69+-0x74*-0x13+-0x1404){const _0x23e522=_0x407c23[-0x124a*-0x2+0x5*-0xf+0x52f*-0x7];if(_0x23e522>0x1d*0x101+-0x122d+-0xaf0)_0x24f767[_0x100e41(0x138)+'me'](_0x23e522);else _0x24f767[_0x100e41(0x151)+'n'](_0x544bbe+_0x23e522);}else{const [_0xe0249f,_0x5f8ae0]=_0x407c23,_0x5a8626=_0x544bbe-_0x5f8ae0;_0x24f767[_0x100e41(0x138)+'me'](_0xe0249f)[_0x100e41(0x151)+'n'](_0x5a8626-_0xe0249f);}await new Promise((_0x576125,_0x453a97)=>{const _0xbcc066=_0x100e41;_0x24f767[_0xbcc066(0x150)](_0xbcc066(0x13f))['audioBitra'+'te'](_0xbcc066(0xfb))[_0xbcc066(0x168)](_0x151e4f)['on'](_0xbcc066(0x10b),_0x576125)['on'](_0xbcc066(0x16a),_0x1b411f=>_0x453a97(_0x1b411f));});const _0x31c115=await _0x27a796[_0x100e41(0x107)](_0x151e4f);await botInstance[_0x100e41(0x140)+'e'](_0xe4cf3b,{'audio':_0x31c115,'mimetype':_0x100e41(0x114),'fileName':_0x1cbfa7},{'quoted':_0x41fa7a['ms']}),await _0x27a796[_0x100e41(0x13c)](_0x73d823)['catch'](()=>{}),await _0x27a796[_0x100e41(0x13c)](_0x151e4f)['catch'](()=>{});}catch(_0x3a156b){error(_0x3a156b,'['+name+(_0x100e41(0x169)+_0x100e41(0x111))),await botInstance[_0x100e41(0x140)+'e'](_0xe4cf3b,{'text':_0x100e41(0xf9)+_0x100e41(0x11b)+'\x20'+_0x4e66af+':\x20'+_0x3a156b['message']+'\x0a'+('Make\x20sure\x20'+_0x100e41(0x10d)+'d\x20to\x20a\x20val'+'id\x20audio\x20f'+_0x100e41(0x126)+'ce\x20note.')},{'quoted':_0x41fa7a['ms']});}}function _0xa612(){const _0x3460de=['your\x20','\x20audio\x20fil','ffprobe','push','ply\x20to\x20a\x20','5567728QPNpAl','ror','default','extendedTe',']\x20findStor','duration','clear',']\x20media\x20de','startSecon','save',']\x20cutmp3\x20e','error','zed.','o\x20MP3...','ath','cut_','now','g\x20group\x20','quotedMess','audioMessa','on\x20failed:','❌\x20Failed\x20t','message','128k','voice\x20note','ds>`\x0a','❌\x20Conversi','age','promises','text','downloadCo','...','2fWMYGD','<endSecond','\x20and\x20use:\x0a','readFile','essage','o\x20load\x20med','key','end','has','you\x20replie','map',']\x20cleaned\x20','\x20loaded.','rror','8139270sJHADN','isCommand','audio/mpeg','format.\x20Re','ng\x20video\x20t','onvert\x20it\x20','\x20note\x20to\x20c','7494350LhNVLI','filter','o\x20trim\x20the','ptt','9728026eoJrDF','`.cutmp3\x20<','cutmp3','isBuffer','audio_',']\x20initiali','ia\x20depende','102194pTxYgs','pendencies','ile\x20or\x20voi','3OhfWVM','path','contextInf',']\x20tomp3\x20er','ℹ️\x20Please\x20r','tomp3','setFfmpegP','ut\x20it.','mediaconve','ntentFromM','bot','27ROEvOg','jid','writeFile','format','ℹ️\x20Invalid\x20','catch','setStartTi','@g.us','`.cutmp3\x20-',']\x20botInsta','unlink','noVideo','nce\x20missin','libmp3lame','sendMessag','ncies','e\x20or\x20voice','✂️\x20Cutting\x20','video','1.1.1','join','client',']\x20failed\x20t','tmpdir','string','length','endsWith','videoMessa','trim','audioBitra','audioCodec','setDuratio',']\x20onMessag','2202395tNNwXy','.ogg','10162696qxHQfc','xtMessage','ove>`','add','.mp3'];_0xa612=function(){return _0x3460de;};return _0xa612();}