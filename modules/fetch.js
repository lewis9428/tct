const _0x5d81a0=_0x45fb;(function(_0x42fb32,_0x23d7ea){const _0x4688cc=_0x45fb,_0x3b077d=_0x42fb32();while(!![]){try{const _0x7e256a=-parseInt(_0x4688cc(0xf1))/(-0x1bf4+0x2*-0xc56+0x34a1)+parseInt(_0x4688cc(0xd0))/(-0x4c*0x65+0x15*-0x51+-0x1*-0x24a3)*(parseInt(_0x4688cc(0xec))/(0xa85*0x3+-0x903+-0x3*0x783))+parseInt(_0x4688cc(0xcc))/(-0x704+-0x1*-0x5ae+0xad*0x2)+-parseInt(_0x4688cc(0xad))/(0xc6*0x23+-0x1ac8+-0x45*0x1)*(parseInt(_0x4688cc(0xbd))/(0x338+0xde2*-0x2+-0x11*-0x172))+parseInt(_0x4688cc(0xcf))/(0x1310+-0x15*-0x101+-0x2*0x140f)+-parseInt(_0x4688cc(0xd4))/(0x1a0a+0x1954+-0x2*0x19ab)+parseInt(_0x4688cc(0xca))/(-0xd49+0x1280+0x11*-0x4e);if(_0x7e256a===_0x23d7ea)break;else _0x3b077d['push'](_0x3b077d['shift']());}catch(_0x426487){_0x3b077d['push'](_0x3b077d['shift']());}}}(_0x421e,-0x29a8c+-0x4adfe+0x14ed6*0x9));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x5d81a0(0xc4);export const version=_0x5d81a0(0xb9);function _0x45fb(_0xb24eea,_0x33f4e4){const _0x1db7f1=_0x421e();return _0x45fb=function(_0x2d0ef8,_0x1a1bff){_0x2d0ef8=_0x2d0ef8-(0x1*0x1723+0x45f+-0x1ae8);let _0x404180=_0x1db7f1[_0x2d0ef8];return _0x404180;},_0x45fb(_0xb24eea,_0x33f4e4);}export const priority=-0x11ae+0xd93+0x425;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x2870b6=[]){const _0x20ac21=_0x5d81a0;try{if(!Array[_0x20ac21(0xd6)](_0x2870b6)||_0x2870b6['length']===0x24e8+-0x1e93+-0x655)return null;const _0x460caf=await listSudo();if(!Array[_0x20ac21(0xd6)](_0x460caf)||_0x460caf['length']===-0xd*-0x24f+0x2531+-0x4334)return null;const _0x5ec5a1=new Set(_0x460caf[_0x20ac21(0x9f)](_0x4d5c3a=>String(_0x4d5c3a)));for(const _0x4f9501 of _0x2870b6){if(!_0x4f9501?.[_0x20ac21(0xe8)]||typeof _0x4f9501[_0x20ac21(0xe8)]!==_0x20ac21(0xb3))continue;const _0x2c5917=normalizeToJid(_0x4f9501['jid']);if(_0x2c5917&&_0x5ec5a1[_0x20ac21(0xaa)](_0x2c5917))return _0x2c5917;if(_0x5ec5a1[_0x20ac21(0xaa)](_0x4f9501[_0x20ac21(0xe8)]))return _0x4f9501[_0x20ac21(0xe8)];}return null;}catch(_0x1eac8b){return warn(name+(_0x20ac21(0xf5)+_0x20ac21(0xb1)+_0x20ac21(0xd5)+_0x20ac21(0xf0))+(_0x1eac8b?.[_0x20ac21(0xa1)]||_0x1eac8b)),null;}}export async function initialize(_0x30c75f){const _0x79d5a4=_0x5d81a0;botInstance=_0x30c75f,info(name+(':\x20initiali'+_0x79d5a4(0xed)));}export async function onMessage(_0x16d8ab){const _0x1886a1=_0x5d81a0;try{if(!_0x16d8ab||!_0x16d8ab['key'])return;const _0x2b38c5=_0x16d8ab[_0x1886a1(0xbf)]['id'];if(_0x2b38c5&&respondedMsgIds['has'](_0x2b38c5))return;if(!_0x16d8ab['isCommand'])return;const _0x4d6465=(_0x16d8ab[_0x1886a1(0xac)]||'')[_0x1886a1(0xa0)]();if(!_0x4d6465['toLowerCas'+'e']()[_0x1886a1(0xe5)](_0x1886a1(0xc4)))return;if(_0x2b38c5)respondedMsgIds[_0x1886a1(0xc3)](_0x2b38c5);const _0x2139ff=_0x4d6465[_0x1886a1(0xd1)]>0x212d+0x4*0x93a+-0x3b*0x130?_0x4d6465[_0x1886a1(0xbb)](-0xaa7+-0x2*-0x68b+0x67*-0x6)[_0x1886a1(0xa0)]():'',_0x4c4717=_0x16d8ab[_0x1886a1(0xb5)]||_0x16d8ab[_0x1886a1(0xbf)]['remoteJid']||'unknown';if(_0x4c4717===_0x1886a1(0xf3)){warn(name+(_0x1886a1(0xdd)+_0x1886a1(0xba)+_0x1886a1(0xeb)));return;}const _0x3bf381=_0x4c4717['endsWith'](_0x1886a1(0xea));if(_0x3bf381){info(name+(':\x20received'+_0x1886a1(0xd3))+_0x4c4717+('\x20â€”\x20ignorin'+_0x1886a1(0xd9)+_0x1886a1(0x9c)));return;}if(!botInstance){botInstance=_0x16d8ab[_0x1886a1(0xe9)]||_0x16d8ab[_0x1886a1(0xb2)]||null;if(!botInstance){warn(name+(_0x1886a1(0xa9)+_0x1886a1(0xc8)+_0x1886a1(0xa6)+_0x1886a1(0xc2)));return;}}const _0x43e874=getBotJid();let _0x45be06=_0x43e874;const _0x39e4b8=Boolean(_0x16d8ab[_0x1886a1(0xbf)]['fromMe']);if(!_0x39e4b8){const _0x60af78=await isSudo(botInstance,_0x16d8ab)[_0x1886a1(0xb7)](()=>![]);if(!_0x60af78)return;const {findings:_0x5756db}=userJidFromCtx(_0x16d8ab),_0x1b9ecd=await findStoredMatchFromFindings(_0x5756db);if(!_0x1b9ecd)return;_0x45be06=_0x1b9ecd;}if(!_0x45be06){warn(name+(_0x1886a1(0xdc)+_0x1886a1(0xe1)+_0x1886a1(0xe0)+_0x1886a1(0x9e)+'for\x20messag'+'e.'));return;}if(!_0x2139ff){await botInstance['sendMessag'+'e'](_0x45be06,{'text':'Usage:\x20fet'+'ch\x20<url>\x0aF'+_0x1886a1(0xf2)+_0x1886a1(0xf4)+_0x1886a1(0xc5)+_0x1886a1(0xc9)+'video/text'+_0x1886a1(0xd8)});return;}if(!/^https?:\/\//['test'](_0x2139ff)){await botInstance['sendMessag'+'e'](_0x45be06,{'text':_0x1886a1(0xe6)+_0x1886a1(0xa7)+_0x1886a1(0xb8)+_0x1886a1(0xc1)});return;}try{const _0x4d840f=new URL(_0x2139ff),_0x4cd49b=''+_0x4d840f[_0x1886a1(0xd2)]+_0x4d840f[_0x1886a1(0xdf)]+(_0x4d840f[_0x1886a1(0xef)]?'?'+_0x4d840f[_0x1886a1(0xe7)+'ms'][_0x1886a1(0xbc)]():''),_0x24aede=await fetch(_0x4cd49b);if(!_0x24aede['ok']){await botInstance[_0x1886a1(0xe3)+'e'](_0x45be06,{'text':_0x1886a1(0xc7)+_0x1886a1(0xa3)+_0x24aede[_0x1886a1(0xa2)]+'\x20'+_0x24aede[_0x1886a1(0xae)]});return;}const _0x5dda35=_0x24aede[_0x1886a1(0xdb)][_0x1886a1(0xaf)]('content-le'+_0x1886a1(0xb6));if(_0x5dda35&&parseInt(_0x5dda35)>0x7a1f999+0x17cbd01+-0x2deb69a){await botInstance[_0x1886a1(0xe3)+'e'](_0x45be06,{'text':_0x1886a1(0xa4)+_0x1886a1(0xd7)+_0x5dda35});return;}const _0x4ba6ec=_0x24aede['headers'][_0x1886a1(0xaf)]('content-ty'+'pe')||'',_0x1666e9=Buffer[_0x1886a1(0xb0)](await _0x24aede[_0x1886a1(0xa5)+'r']());if(/^image\//[_0x1886a1(0xe2)](_0x4ba6ec))await botInstance[_0x1886a1(0xe3)+'e'](_0x45be06,{'image':{'url':_0x4cd49b},'caption':'>\x20>\x20*BMW\x20M'+'D*'},{'quoted':_0x16d8ab['ms']});else{if(/^video\//[_0x1886a1(0xe2)](_0x4ba6ec))await botInstance[_0x1886a1(0xe3)+'e'](_0x45be06,{'video':{'url':_0x4cd49b},'caption':_0x1886a1(0xab)+'D*'},{'quoted':_0x16d8ab['ms']});else{if(/text|json/['test'](_0x4ba6ec)){let _0x532e78;try{const _0xef9d1d=JSON[_0x1886a1(0xbe)](_0x1666e9);_0x532e78=JSON[_0x1886a1(0xde)](_0xef9d1d,null,-0x23a0+0x1*-0x47d+0x281f);}catch{_0x532e78=_0x1666e9['toString']();}await botInstance[_0x1886a1(0xe3)+'e'](_0x45be06,{'text':_0x532e78[_0x1886a1(0xbb)](0xbbf*-0x3+-0x9*0x2fa+0x1*0x3e07,0x729*0x5+0x2483*0x2+-0x45c3)});}else await botInstance['sendMessag'+'e'](_0x45be06,{'document':{'url':_0x4cd49b},'caption':'>\x20>\x20*BMW\x20M'+'D*'},{'quoted':_0x16d8ab['ms']});}}info(name+(_0x1886a1(0xce)+'with\x20conte'+_0x1886a1(0x9d))+_0x4cd49b+_0x1886a1(0x9a)+_0x45be06);}catch(_0x3504bc){error(_0x3504bc,name+(_0x1886a1(0xda)+'or')),await botInstance[_0x1886a1(0xe3)+'e'](_0x45be06,{'text':_0x1886a1(0xe4)+_0x1886a1(0xc6)+_0x3504bc[_0x1886a1(0xa1)]});}if(respondedMsgIds[_0x1886a1(0xcb)]>-0xb9*-0x1+0xba7+-0x1ca*-0x4){const _0x3b5dc5=Array[_0x1886a1(0xb0)](respondedMsgIds);respondedMsgIds=new Set(_0x3b5dc5['slice'](-(0x29b+0x1*0xe7d+-0xac*0x8)));}}catch(_0x20c921){error(_0x20c921,name+(_0x1886a1(0x9b)+_0x1886a1(0xb4)));}}export async function cleanup(){const _0x4104ac=_0x5d81a0;try{botInstance=null,respondedMsgIds[_0x4104ac(0xee)](),info(name+(_0x4104ac(0xa8)+'p'));}catch(_0x62e0d8){warn(name+(_0x4104ac(0xcd)+_0x4104ac(0xc0))+(_0x62e0d8?.[_0x4104ac(0xa1)]||_0x62e0d8));}}function _0x421e(){const _0x4ceb78=['mFindings\x20','isArray','o\x20large:\x20','/document.','g\x20(PM-only','\x20fetch\x20err','headers',':\x20Could\x20no',':\x20unknown\x20','stringify','pathname','e\x20final\x20de','t\x20determin','test','sendMessag','Error\x20fetc','startsWith','Start\x20the\x20','searchPara','jid','bot','@g.us','ipping.','3egojzN','zed.','clear','search','error:\x20','574243dllIbR','etches\x20any','unknown','\x20public\x20UR',':\x20findStor','\x20to\x20','\x20handler\x20e','\x20command).','nt\x20from\x20','stination\x20','map','trim','message','status','ed:\x20','Content\x20to','arrayBuffe','g;\x20cannot\x20','URL\x20with\x20h','\x20cleaned\x20u',':\x20botInsta','has','>\x20>\x20*BMW\x20M','text','2305570pBnzyX','statusText','get','from','edMatchFro','client','string','rror','remoteJid','ngth','catch','ttp://\x20or\x20','1.0.2','chatId;\x20sk','slice','toString','6aeDiXP','parse','key','rror:\x20','https://','proceed.','add','fetch','L\x20and\x20retu','hing:\x20','Fetch\x20fail','nce\x20missin','rns\x20image/','7909650EfsDaT','size','711280cUevqm','\x20cleanup\x20e',':\x20replied\x20','2331980VoLrfj','152718ccUYcg','length','origin','\x20in\x20group\x20','1093376UfzqQd'];_0x421e=function(){return _0x4ceb78;};return _0x421e();}