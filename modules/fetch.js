const _0x236f75=_0x306f;(function(_0x5dfceb,_0x2adaa4){const _0x5e05f2=_0x306f,_0x163625=_0x5dfceb();while(!![]){try{const _0x2fba40=-parseInt(_0x5e05f2(0xd3))/(0x2006*0x1+-0x1a79+-0x58c)+parseInt(_0x5e05f2(0x107))/(-0x6*-0x124+0x185c+-0x6*0x533)+-parseInt(_0x5e05f2(0xf7))/(0xc6+-0x1de3*-0x1+-0x1ea6)+parseInt(_0x5e05f2(0xc7))/(0x47*0x15+0x252c+-0x2afb)*(parseInt(_0x5e05f2(0xd9))/(0x4ae*0x1+0x198a*0x1+-0x1e33))+-parseInt(_0x5e05f2(0xec))/(0xdef*0x1+0xddb+-0x1bc4)*(parseInt(_0x5e05f2(0xc6))/(0x1*-0x1529+0x4c4*0x1+0x106c))+parseInt(_0x5e05f2(0xd0))/(0x812*-0x2+0x87*0xd+-0x9f*-0xf)*(parseInt(_0x5e05f2(0x10f))/(0x43*-0x59+-0x1*0x12f1+-0x1*-0x2a45))+parseInt(_0x5e05f2(0x109))/(0x23c4+-0x705*-0x1+-0x1f*0x161)*(-parseInt(_0x5e05f2(0x102))/(-0xe93+0xdd2+-0x44*-0x3));if(_0x2fba40===_0x2adaa4)break;else _0x163625['push'](_0x163625['shift']());}catch(_0x3c438b){_0x163625['push'](_0x163625['shift']());}}}(_0x5da5,-0x702ff+-0xda317+-0x8*-0x3f6f8));function _0x5da5(){const _0x3e39c9=['proceed.','Fetch\x20fail','42952SGbXWr',':\x20received','edMatchFro','163168FIStom','etches\x20any',':\x20botInsta','arrayBuffe','g\x20(PM-only','get','25040HqXnJK','message','zed.','with\x20conte','\x20to\x20','toLowerCas',':\x20findStor','pathname','nt\x20from\x20','>\x20>\x20*BMW\x20M','parse','Start\x20the\x20','chatId;\x20sk','bot','fromMe','sendMessag','ch\x20<url>\x0aF','client','t\x20determin','7834458rDijdf','from','content-ty','isArray','https://','Error\x20fetc','/document.','\x20in\x20group\x20',':\x20replied\x20','stination\x20','\x20cleaned\x20u','882504PPqTcY',':\x20Could\x20no','\x20cleanup\x20e','ipping.','isCommand','key',':\x20initiali','\x20public\x20UR','headers','Content\x20to','L\x20and\x20retu','220nVOzzX','slice','string','fetch','\x20fetch\x20err','2863962dswZZm','toString','154120BzRNnj','jid','video/text','statusText','e\x20final\x20de','trim','1188VdiGGH','clear','\x20â€”\x20ignorin','hing:\x20','\x20command).','size','ttp://\x20or\x20','rns\x20image/','search','URL\x20with\x20h','test','unknown','status','has','startsWith','1.0.2','@g.us','add','7NhgZnm','524RifJHj','error:\x20','length','ngth',':\x20unknown\x20','catch','remoteJid'];_0x5da5=function(){return _0x3e39c9;};return _0x5da5();}import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x236f75(0x105);export const version=_0x236f75(0xc3);export const priority=0x17dc+-0x1f05+0x1*0x733;let botInstance=null,respondedMsgIds=new Set();function _0x306f(_0x4531b2,_0x236af5){const _0x2f21cd=_0x5da5();return _0x306f=function(_0xc85a01,_0x4ccf35){_0xc85a01=_0xc85a01-(0x1*-0x627+0x2c6+0x424);let _0x9d3f93=_0x2f21cd[_0xc85a01];return _0x9d3f93;},_0x306f(_0x4531b2,_0x236af5);}async function findStoredMatchFromFindings(_0x36b992=[]){const _0x546c6d=_0x236f75;try{if(!Array[_0x546c6d(0xef)](_0x36b992)||_0x36b992[_0x546c6d(0xc9)]===0x26aa+0x8*-0x429+-0x1*0x562)return null;const _0x157414=await listSudo();if(!Array['isArray'](_0x157414)||_0x157414['length']===-0x1de0+0x13b3+0xa2d)return null;const _0x38e17d=new Set(_0x157414['map'](_0x4f4a0f=>String(_0x4f4a0f)));for(const _0x4c5bb5 of _0x36b992){if(!_0x4c5bb5?.['jid']||typeof _0x4c5bb5[_0x546c6d(0x10a)]!==_0x546c6d(0x104))continue;const _0x2f1add=normalizeToJid(_0x4c5bb5[_0x546c6d(0x10a)]);if(_0x2f1add&&_0x38e17d['has'](_0x2f1add))return _0x2f1add;if(_0x38e17d[_0x546c6d(0x11c)](_0x4c5bb5['jid']))return _0x4c5bb5['jid'];}return null;}catch(_0x86d202){return warn(name+(_0x546c6d(0xdf)+_0x546c6d(0xd2)+'mFindings\x20'+_0x546c6d(0xc8))+(_0x86d202?.['message']||_0x86d202)),null;}}export async function initialize(_0x4c1d9f){const _0x273f2f=_0x236f75;botInstance=_0x4c1d9f,info(name+(_0x273f2f(0xfd)+_0x273f2f(0xdb)));}export async function onMessage(_0x230ac0){const _0x5df6be=_0x236f75;try{if(!_0x230ac0||!_0x230ac0[_0x5df6be(0xfc)])return;const _0x73f28d=_0x230ac0[_0x5df6be(0xfc)]['id'];if(_0x73f28d&&respondedMsgIds['has'](_0x73f28d))return;if(!_0x230ac0[_0x5df6be(0xfb)])return;const _0x308e8c=(_0x230ac0['text']||'')[_0x5df6be(0x10e)]();if(!_0x308e8c[_0x5df6be(0xde)+'e']()[_0x5df6be(0x11d)](_0x5df6be(0x105)))return;if(_0x73f28d)respondedMsgIds[_0x5df6be(0xc5)](_0x73f28d);const _0x490d72=_0x308e8c[_0x5df6be(0xc9)]>-0x3*-0xf1+0x183*0x2+0x175*-0x4?_0x308e8c[_0x5df6be(0x103)](0x11f0+-0x236a+0x117f)[_0x5df6be(0x10e)]():'',_0x46ab19=_0x230ac0['remoteJid']||_0x230ac0['key'][_0x5df6be(0xcd)]||_0x5df6be(0x11a);if(_0x46ab19==='unknown'){warn(name+(_0x5df6be(0xcb)+_0x5df6be(0xe5)+_0x5df6be(0xfa)));return;}const _0x35b1ac=_0x46ab19['endsWith'](_0x5df6be(0xc4));if(_0x35b1ac){info(name+(_0x5df6be(0xd1)+_0x5df6be(0xf3))+_0x46ab19+(_0x5df6be(0x111)+_0x5df6be(0xd7)+_0x5df6be(0x113)));return;}if(!botInstance){botInstance=_0x230ac0[_0x5df6be(0xe6)]||_0x230ac0[_0x5df6be(0xea)]||null;if(!botInstance){warn(name+(_0x5df6be(0xd5)+'nce\x20missin'+'g;\x20cannot\x20'+_0x5df6be(0xce)));return;}}const _0x465b59=getBotJid();let _0x3cf160=_0x465b59;const _0x317fed=Boolean(_0x230ac0[_0x5df6be(0xfc)][_0x5df6be(0xe7)]);if(!_0x317fed){const _0x482e25=await isSudo(botInstance,_0x230ac0)[_0x5df6be(0xcc)](()=>![]);if(!_0x482e25)return;const {findings:_0x4b6077}=userJidFromCtx(_0x230ac0),_0x22e5ef=await findStoredMatchFromFindings(_0x4b6077);if(!_0x22e5ef)return;_0x3cf160=_0x22e5ef;}if(!_0x3cf160){warn(name+(_0x5df6be(0xf8)+_0x5df6be(0xeb)+_0x5df6be(0x10d)+_0x5df6be(0xf5)+'for\x20messag'+'e.'));return;}if(!_0x490d72){await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'text':'Usage:\x20fet'+_0x5df6be(0xe9)+_0x5df6be(0xd4)+_0x5df6be(0xfe)+_0x5df6be(0x101)+_0x5df6be(0x116)+_0x5df6be(0x10b)+_0x5df6be(0xf2)});return;}if(!/^https?:\/\//[_0x5df6be(0x119)](_0x490d72)){await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'text':_0x5df6be(0xe4)+_0x5df6be(0x118)+_0x5df6be(0x115)+_0x5df6be(0xf0)});return;}try{const _0x24ec08=new URL(_0x490d72),_0x1f9158=''+_0x24ec08['origin']+_0x24ec08[_0x5df6be(0xe0)]+(_0x24ec08[_0x5df6be(0x117)]?'?'+_0x24ec08['searchPara'+'ms'][_0x5df6be(0x108)]():''),_0xe99720=await fetch(_0x1f9158);if(!_0xe99720['ok']){await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'text':_0x5df6be(0xcf)+'ed:\x20'+_0xe99720[_0x5df6be(0x11b)]+'\x20'+_0xe99720[_0x5df6be(0x10c)]});return;}const _0x5ed0a4=_0xe99720['headers'][_0x5df6be(0xd8)]('content-le'+_0x5df6be(0xca));if(_0x5ed0a4&&parseInt(_0x5ed0a4)>0x9e3cc58+-0x118b27d+0x5*-0x82385f){await botInstance['sendMessag'+'e'](_0x3cf160,{'text':_0x5df6be(0x100)+'o\x20large:\x20'+_0x5ed0a4});return;}const _0x5c0809=_0xe99720[_0x5df6be(0xff)]['get'](_0x5df6be(0xee)+'pe')||'',_0x22e6f5=Buffer['from'](await _0xe99720[_0x5df6be(0xd6)+'r']());if(/^image\//['test'](_0x5c0809))await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'image':{'url':_0x1f9158},'caption':_0x5df6be(0xe2)+'D*'},{'quoted':_0x230ac0['ms']});else{if(/^video\//[_0x5df6be(0x119)](_0x5c0809))await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'video':{'url':_0x1f9158},'caption':'>\x20>\x20*BMW\x20M'+'D*'},{'quoted':_0x230ac0['ms']});else{if(/text|json/[_0x5df6be(0x119)](_0x5c0809)){let _0x4e56ab;try{const _0x36bee3=JSON[_0x5df6be(0xe3)](_0x22e6f5);_0x4e56ab=JSON['stringify'](_0x36bee3,null,0x3f1*-0x7+0x216d+-0x5d4);}catch{_0x4e56ab=_0x22e6f5[_0x5df6be(0x108)]();}await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'text':_0x4e56ab['slice'](0x1f8c+-0x1b6*-0xc+0x4bc*-0xb,0x2753+-0x1f5f+0x2*0xf8e)});}else await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'document':{'url':_0x1f9158},'caption':_0x5df6be(0xe2)+'D*'},{'quoted':_0x230ac0['ms']});}}info(name+(_0x5df6be(0xf4)+_0x5df6be(0xdc)+_0x5df6be(0xe1))+_0x1f9158+_0x5df6be(0xdd)+_0x3cf160);}catch(_0x5a5cf7){error(_0x5a5cf7,name+(_0x5df6be(0x106)+'or')),await botInstance[_0x5df6be(0xe8)+'e'](_0x3cf160,{'text':_0x5df6be(0xf1)+_0x5df6be(0x112)+_0x5a5cf7['message']});}if(respondedMsgIds[_0x5df6be(0x114)]>0x31a*-0x2+0x1*-0x7e3+0x1*0x219f){const _0x325e47=Array[_0x5df6be(0xed)](respondedMsgIds);respondedMsgIds=new Set(_0x325e47[_0x5df6be(0x103)](-(-0xd57+0xcb7+-0x62c*-0x2)));}}catch(_0x2ab750){error(_0x2ab750,name+('\x20handler\x20e'+'rror'));}}export async function cleanup(){const _0x54f128=_0x236f75;try{botInstance=null,respondedMsgIds[_0x54f128(0x110)](),info(name+(_0x54f128(0xf6)+'p'));}catch(_0x128647){warn(name+(_0x54f128(0xf9)+'rror:\x20')+(_0x128647?.[_0x54f128(0xda)]||_0x128647));}}