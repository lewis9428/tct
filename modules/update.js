const _0x2a5b75=_0x2c16;(function(_0x371008,_0x16239f){const _0x8ac743=_0x2c16,_0x59f2b9=_0x371008();while(!![]){try{const _0x1f1cb0=parseInt(_0x8ac743(0xe8))/(0x46*-0x6b+0x18c9+0x47a*0x1)*(parseInt(_0x8ac743(0x10f))/(0x1*-0x6cd+0x1*0x2194+-0x1ac5*0x1))+-parseInt(_0x8ac743(0x10e))/(-0x1*-0x19db+-0x51*-0xd+-0x1df5)+-parseInt(_0x8ac743(0x10d))/(0x1*0x21d0+-0x1*-0x220+-0x23ec)+-parseInt(_0x8ac743(0x124))/(-0xbd1+0x6*0x53e+-0x117*0x12)*(-parseInt(_0x8ac743(0x110))/(0x2dd*0x1+-0x11*-0xb2+0x1a1*-0x9))+parseInt(_0x8ac743(0x118))/(-0x238e+-0x1648+0x39dd)*(-parseInt(_0x8ac743(0x115))/(0x5*-0x739+0x2f1*0x5+0x1570))+parseInt(_0x8ac743(0x101))/(0x1*0x2401+0x49*-0x13+-0x1e8d)+parseInt(_0x8ac743(0xe2))/(0x15e7+0x21dd+-0x37ba);if(_0x1f1cb0===_0x16239f)break;else _0x59f2b9['push'](_0x59f2b9['shift']());}catch(_0x54bdb4){_0x59f2b9['push'](_0x59f2b9['shift']());}}}(_0x35a2,-0x13f7f*-0x1+0x3dd13*0x2+0x14969*0x3));import{exec}from'child_process';import{promisify}from'util';function _0x2c16(_0x254507,_0x80c591){const _0x3e96f9=_0x35a2();return _0x2c16=function(_0x2e77dc,_0x1f1949){_0x2e77dc=_0x2e77dc-(-0xf53*-0x1+0x2f*0x6d+-0x2277);let _0x320795=_0x3e96f9[_0x2e77dc];return _0x320795;},_0x2c16(_0x254507,_0x80c591);}import{info,warn,error}from'../utils/logger.js';import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';const execAsync=promisify(exec);export const name=_0x2a5b75(0xfa);export const version=_0x2a5b75(0x125);export const priority=-0x2*0x80+0x1d*-0x78+0xeac;export const commands=[_0x2a5b75(0xfa)];let botInstance=null,respondedMsgIds=new Set(),isUpdating=![];export async function initialize(_0x361443){const _0x70b296=_0x2a5b75;botInstance=_0x361443,info('['+name+(_0x70b296(0xe3)+_0x70b296(0x10b)));}function _0x35a2(){const _0x2ed405=['\x20wait.','\x0a\x0aReason:\x0a','\x27git\x20pull\x27','5WAbKMQ','1.1.0','eady\x20up\x20to','rm\x20update.','has','30076000FHlMaF',']\x20initiali','catch','warning',']\x20getBotJi','nce\x20is\x20not','874uolmqB','e\x20restart\x20','\x20in\x20progre','pdate\x20proc','key','ss.\x20Please','\x20changes.','text','bot','ource\x20code','\x20apply\x20the','\x20update...','Already\x20up','git\x20pull','failed.\x20Ca','ccurred\x20du','\x0a\x0aChanges:','o\x20execute\x20','update','isCommand','includes','ess:\x0a\x0a```','clear','\x20date.','y\x20applied.','4756482ipzXTq','message','✅\x20Update\x20s','ode\x20is\x20alr','\x0a```\x0a','uccessful!','trim','client','not\x20send\x20u',']\x20Update\x20s','zed.','split','5289248QCJFyM','2292651zhCXVC','662RYjhCp','2203710vqvlXk','toLowerCas','up.','sendMessag','```','16DRautj','is\x20already',']\x20botInsta','4427374jRnHcH','remoteJid','\x20stderr:\x20','the\x20bot\x20to','d()\x20return','❌\x20Command\x20','```\x0a\x0aPleas','add','ed\x20an\x20empt'];_0x35a2=function(){return _0x2ed405;};return _0x35a2();}export async function cleanup(){const _0x19030c=_0x2a5b75;respondedMsgIds[_0x19030c(0xfe)](),botInstance=null,isUpdating=![],info('['+name+(']\x20cleaned\x20'+_0x19030c(0x112)));}export async function onMessage(_0x909815){const _0x1ecfd3=_0x2a5b75;if(!_0x909815?.[_0x1ecfd3(0xec)]||!_0x909815[_0x1ecfd3(0xfb)])return;const _0x72fa7a=_0x909815['key']['id'];if(_0x72fa7a&&respondedMsgIds[_0x1ecfd3(0xe1)](_0x72fa7a))return;if(_0x72fa7a)respondedMsgIds[_0x1ecfd3(0x11f)](_0x72fa7a);const _0x4829c6=(_0x909815[_0x1ecfd3(0xef)]||'')[_0x1ecfd3(0x107)](),_0xf9fae5=_0x4829c6[_0x1ecfd3(0x10c)](/\s+/)[-0x162d+0x196f*0x1+-0x342][_0x1ecfd3(0x111)+'e']();if(_0xf9fae5!==_0x1ecfd3(0xfa))return;const _0x36a9dd=_0x909815[_0x1ecfd3(0xec)][_0x1ecfd3(0x119)]||'';if(_0x36a9dd['endsWith']('@g.us'))return;if(!botInstance)botInstance=_0x909815[_0x1ecfd3(0xf0)]||_0x909815[_0x1ecfd3(0x108)];if(!botInstance)return warn('['+name+(_0x1ecfd3(0x117)+_0x1ecfd3(0xe7)+'\x20available'+'.'));const _0x1f3f13=await isSudo(botInstance,_0x909815)[_0x1ecfd3(0xe4)](()=>![]);if(!_0x1f3f13)return;const _0x3f5de0=getBotJid();if(!_0x3f5de0){warn('['+name+(_0x1ecfd3(0xe6)+_0x1ecfd3(0x11c)+_0x1ecfd3(0x120)+'y\x20JID.\x20Can'+_0x1ecfd3(0x109)+'pdate\x20stat'+'us.'));return;}if(isUpdating){await botInstance[_0x1ecfd3(0x113)+'e'](_0x3f5de0,{'text':'An\x20update\x20'+_0x1ecfd3(0x116)+_0x1ecfd3(0xea)+_0x1ecfd3(0xed)+_0x1ecfd3(0x121)});return;}isUpdating=!![];try{await botInstance[_0x1ecfd3(0x113)+'e'](_0x3f5de0,{'text':'Starting\x20s'+_0x1ecfd3(0xf1)+_0x1ecfd3(0xf3)});const {stdout:_0x3e021e,stderr:_0x502dc3}=await execAsync(_0x1ecfd3(0xf5));if(_0x502dc3&&!_0x502dc3[_0x1ecfd3(0x111)+'e']()[_0x1ecfd3(0xfc)](_0x1ecfd3(0xe5))){error('['+name+(']\x20git\x20pull'+_0x1ecfd3(0x11a))+_0x502dc3);const _0x28f18f='An\x20error\x20o'+_0x1ecfd3(0xf7)+'ring\x20the\x20u'+_0x1ecfd3(0xeb)+_0x1ecfd3(0xfd)+_0x502dc3+_0x1ecfd3(0x114);await botInstance[_0x1ecfd3(0x113)+'e'](_0x3f5de0,{'text':_0x28f18f});return;}if(_0x3e021e[_0x1ecfd3(0xfc)](_0x1ecfd3(0xf4)+'\x20to\x20date.'))await botInstance[_0x1ecfd3(0x113)+'e'](_0x3f5de0,{'text':'✅\x20Source\x20c'+_0x1ecfd3(0x104)+_0x1ecfd3(0xdf)+_0x1ecfd3(0xff)});else{const _0x41ab76=_0x1ecfd3(0x103)+_0x1ecfd3(0x106)+_0x1ecfd3(0xf8)+_0x1ecfd3(0x105)+_0x3e021e+(_0x1ecfd3(0x11e)+_0x1ecfd3(0xe9)+_0x1ecfd3(0x11b)+_0x1ecfd3(0xf2)+_0x1ecfd3(0xee));await botInstance['sendMessag'+'e'](_0x3f5de0,{'text':_0x41ab76}),info('['+name+(_0x1ecfd3(0x10a)+'uccessfull'+_0x1ecfd3(0x100)));}}catch(_0x42a25c){error(_0x42a25c,'['+name+(']\x20Failed\x20t'+_0x1ecfd3(0xf9)+_0x1ecfd3(0x123)));const _0xbb4a49=_0x1ecfd3(0x11d)+'execution\x20'+_0x1ecfd3(0xf6)+'nnot\x20perfo'+_0x1ecfd3(0xe0)+_0x1ecfd3(0x122)+'```'+_0x42a25c[_0x1ecfd3(0x102)]+_0x1ecfd3(0x114);await botInstance[_0x1ecfd3(0x113)+'e'](_0x3f5de0,{'text':_0xbb4a49});}finally{isUpdating=![];}}