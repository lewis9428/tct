const _0xd3a9c2=_0x3153;(function(_0x2114da,_0x19e085){const _0x4e6125=_0x3153,_0x14fb05=_0x2114da();while(!![]){try{const _0x9c40eb=parseInt(_0x4e6125(0x220))/(0x5ac+0x47*-0x61+0x153c)+parseInt(_0x4e6125(0x225))/(-0x3*0x449+-0x7af*-0x1+0x3*0x1ba)*(parseInt(_0x4e6125(0x1fb))/(0x1b8c+-0x2166+-0x4f*-0x13))+parseInt(_0x4e6125(0x210))/(-0x1428+0x12*-0x16f+0x932*0x5)*(-parseInt(_0x4e6125(0x203))/(-0x19a8*0x1+-0x15*-0x189+-0x690))+-parseInt(_0x4e6125(0x214))/(-0x1103+-0x1331+-0x1*-0x243a)*(-parseInt(_0x4e6125(0x1f3))/(0x7c2+-0x296*0x8+0xcf5*0x1))+-parseInt(_0x4e6125(0x232))/(-0x2*-0xab3+-0x1c6c+-0x56*-0x15)*(parseInt(_0x4e6125(0x21c))/(0x226a+-0x1a56*0x1+-0x80b))+-parseInt(_0x4e6125(0x205))/(0xf25*0x2+-0x4*0x4cc+-0xb10)+-parseInt(_0x4e6125(0x21e))/(-0xc12+0x21af+0xb*-0x1f6);if(_0x9c40eb===_0x19e085)break;else _0x14fb05['push'](_0x14fb05['shift']());}catch(_0x40e5fc){_0x14fb05['push'](_0x14fb05['shift']());}}}(_0x1903,0x5c36e+-0x6c50d+0x31*0x3422));import{exec}from'child_process';import{promisify}from'util';import{info,warn,error}from'../utils/logger.js';function _0x1903(){const _0x5d99ec=['12Engham','text','execution\x20','split','5892JBpiOb','update',']\x20getBotJi','\x20available','add','rm\x20update.','\x0a```\x0a','e\x20restart\x20','59148kPAWpU','\x20apply\x20the','1449591MmgAmX','y\x20applied.','33253CJHnMs','the\x20bot\x20to','Already\x20up','1.1.0','An\x20error\x20o','10Mbakhq','pdate\x20stat','up.','ss.\x20Please','An\x20update\x20','\x20changes.','git\x20pull','\x20in\x20progre','bot','failed.\x20Ca','includes','ring\x20the\x20u','pdate\x20proc','168zkbcox','us.','\x27git\x20pull\x27','endsWith','eady\x20up\x20to','sendMessag','is\x20already','❌\x20Command\x20','warning','```','\x20wait.','ode\x20is\x20alr','has','7637TEycpm',']\x20initiali','\x0a\x0aChanges:','d()\x20return','zed.','ed\x20an\x20empt',']\x20git\x20pull','message','656508gTLmLb','ess:\x0a\x0a```',']\x20Update\x20s','uccessful!','client','key','@g.us',']\x20cleaned\x20','1677865ObQyYb','\x20stderr:\x20','3342800XOnGbj','uccessfull','```\x0a\x0aPleas','toLowerCas',']\x20botInsta','✅\x20Source\x20c','remoteJid','ccurred\x20du','✅\x20Update\x20s','trim','isCommand'];_0x1903=function(){return _0x5d99ec;};return _0x1903();}import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';const execAsync=promisify(exec);export const name=_0xd3a9c2(0x215);export const version=_0xd3a9c2(0x223);function _0x3153(_0x3b947a,_0xa046c0){const _0x273b6a=_0x1903();return _0x3153=function(_0x200559,_0x13252c){_0x200559=_0x200559-(0x14d6+-0x1*0xa4a+-0x1*0x89e);let _0x12c548=_0x273b6a[_0x200559];return _0x12c548;},_0x3153(_0x3b947a,_0xa046c0);}export const priority=-0x256f+-0x1763+0x3ce6;export const commands=['update'];let botInstance=null,respondedMsgIds=new Set(),isUpdating=![];export async function initialize(_0x59fdfb){const _0x34d5fd=_0xd3a9c2;botInstance=_0x59fdfb,info('['+name+(_0x34d5fd(0x1f4)+_0x34d5fd(0x1f7)));}export async function cleanup(){const _0x3b598b=_0xd3a9c2;respondedMsgIds['clear'](),botInstance=null,isUpdating=![],info('['+name+(_0x3b598b(0x202)+_0x3b598b(0x227)));}export async function onMessage(_0x27c2e5){const _0x5c6d86=_0xd3a9c2;if(!_0x27c2e5?.[_0x5c6d86(0x200)]||!_0x27c2e5[_0x5c6d86(0x20f)])return;const _0x5d93e6=_0x27c2e5['key']['id'];if(_0x5d93e6&&respondedMsgIds[_0x5c6d86(0x1f2)](_0x5d93e6))return;if(_0x5d93e6)respondedMsgIds[_0x5c6d86(0x218)](_0x5d93e6);const _0x8c8afc=(_0x27c2e5[_0x5c6d86(0x211)]||'')[_0x5c6d86(0x20e)](),_0x2958b5=_0x8c8afc[_0x5c6d86(0x213)](/\s+/)[-0xbd8*0x1+0xed3+-0x2fb]['toLowerCas'+'e']();if(_0x2958b5!==_0x5c6d86(0x215))return;const _0x35b01e=_0x27c2e5['key'][_0x5c6d86(0x20b)]||'';if(_0x35b01e[_0x5c6d86(0x235)](_0x5c6d86(0x201)))return;if(!botInstance)botInstance=_0x27c2e5[_0x5c6d86(0x22d)]||_0x27c2e5[_0x5c6d86(0x1ff)];if(!botInstance)return warn('['+name+(_0x5c6d86(0x209)+'nce\x20is\x20not'+_0x5c6d86(0x217)+'.'));const _0x4cee26=await isSudo(botInstance,_0x27c2e5)['catch'](()=>![]);if(!_0x4cee26)return;const _0x4c83c8=getBotJid();if(!_0x4c83c8){warn('['+name+(_0x5c6d86(0x216)+_0x5c6d86(0x1f6)+_0x5c6d86(0x1f8)+'y\x20JID.\x20Can'+'not\x20send\x20u'+_0x5c6d86(0x226)+_0x5c6d86(0x233)));return;}if(isUpdating){await botInstance[_0x5c6d86(0x237)+'e'](_0x4c83c8,{'text':_0x5c6d86(0x229)+_0x5c6d86(0x238)+_0x5c6d86(0x22c)+_0x5c6d86(0x228)+_0x5c6d86(0x1f0)});return;}isUpdating=!![];try{await botInstance[_0x5c6d86(0x237)+'e'](_0x4c83c8,{'text':'Starting\x20s'+'ource\x20code'+'\x20update...'});const {stdout:_0x46c5f6,stderr:_0x4232b6}=await execAsync(_0x5c6d86(0x22b));if(_0x4232b6&&!_0x4232b6[_0x5c6d86(0x208)+'e']()[_0x5c6d86(0x22f)](_0x5c6d86(0x1ee))){error('['+name+(_0x5c6d86(0x1f9)+_0x5c6d86(0x204))+_0x4232b6);const _0x3756ac=_0x5c6d86(0x224)+_0x5c6d86(0x20c)+_0x5c6d86(0x230)+_0x5c6d86(0x231)+_0x5c6d86(0x1fc)+_0x4232b6+_0x5c6d86(0x1ef);await botInstance['sendMessag'+'e'](_0x4c83c8,{'text':_0x3756ac});return;}if(_0x46c5f6['includes'](_0x5c6d86(0x222)+'\x20to\x20date.'))await botInstance[_0x5c6d86(0x237)+'e'](_0x4c83c8,{'text':_0x5c6d86(0x20a)+_0x5c6d86(0x1f1)+_0x5c6d86(0x236)+'\x20date.'});else{const _0x473df8=_0x5c6d86(0x20d)+_0x5c6d86(0x1fe)+_0x5c6d86(0x1f5)+_0x5c6d86(0x21a)+_0x46c5f6+(_0x5c6d86(0x207)+_0x5c6d86(0x21b)+_0x5c6d86(0x221)+_0x5c6d86(0x21d)+_0x5c6d86(0x22a));await botInstance[_0x5c6d86(0x237)+'e'](_0x4c83c8,{'text':_0x473df8}),info('['+name+(_0x5c6d86(0x1fd)+_0x5c6d86(0x206)+_0x5c6d86(0x21f)));}}catch(_0x231491){error(_0x231491,'['+name+(']\x20Failed\x20t'+'o\x20execute\x20'+_0x5c6d86(0x234)));const _0x3187dc=_0x5c6d86(0x239)+_0x5c6d86(0x212)+_0x5c6d86(0x22e)+'nnot\x20perfo'+_0x5c6d86(0x219)+'\x0a\x0aReason:\x0a'+_0x5c6d86(0x1ef)+_0x231491[_0x5c6d86(0x1fa)]+_0x5c6d86(0x1ef);await botInstance[_0x5c6d86(0x237)+'e'](_0x4c83c8,{'text':_0x3187dc});}finally{isUpdating=![];}}