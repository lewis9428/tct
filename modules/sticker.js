const _0x4914ec=_0x246a;(function(_0x1c9f11,_0x40a103){const _0x34406c=_0x246a,_0x50b8ab=_0x1c9f11();while(!![]){try{const _0x288535=parseInt(_0x34406c(0x10e))/(0x4*-0x8ef+0x7b*0x2+-0x22c7*-0x1)+-parseInt(_0x34406c(0x10a))/(-0x3a6+-0x1f31+0x22d9)*(-parseInt(_0x34406c(0x116))/(0x1a6f+0x341*-0x2+-0x13ea))+parseInt(_0x34406c(0x16c))/(0x2672+0x2*0x3fb+-0x2e64)*(parseInt(_0x34406c(0x126))/(0x1*0x63+0x18*0x17+-0x286))+parseInt(_0x34406c(0x125))/(0x4*0x62d+-0x251b*-0x1+0x1*-0x3dc9)+parseInt(_0x34406c(0xfe))/(-0x1*-0x23dd+-0x853*-0x1+0x253*-0x13)*(parseInt(_0x34406c(0x189))/(-0x1bac+0x1*-0xcc7+-0xf1*-0x2b))+-parseInt(_0x34406c(0x11f))/(-0x234+0x43b+-0x2*0xff)*(parseInt(_0x34406c(0x14e))/(0x135d*0x2+0x12d6+0x18e*-0x25))+-parseInt(_0x34406c(0x11d))/(-0x1a*0xd0+0x12*0x26+0x127f*0x1);if(_0x288535===_0x40a103)break;else _0x50b8ab['push'](_0x50b8ab['shift']());}catch(_0x4b0283){_0x50b8ab['push'](_0x50b8ab['shift']());}}}(_0x3cae,0x19bc83+0x2b27*-0xc+-0x90684));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';function _0x3cae(){const _0x59578a=['toimage','load\x20sharp','output','\x20image\x20or\x20','function','video','default','essage','\x20video\x20con','ffmpeg\x20pro','includes','yuv420p','scale=512:','format','An\x20unexpec','remoteJid','\x20Maximum\x201','trim','o\x20send\x20err','or\x20message','o\x20convert\x20','video,\x20or\x20','+faststart','ath','jpeg','26850FKWawP','ℹ️\x20Please\x20r','load\x20@whis','string','g\x20tools:\x20','round','keysockets','t\x20to\x20an\x20im','isAnimated','min','ted\x20error\x20','@g.us','y\x20mp4\x20file','uffer\x20obta','-vf','tovideo','icker\x20to\x20v','tmpdir','-loop','bot','asyncItera','max','ror:\x20','led','=rgba,fps=','s).\x20Maximu','long\x20(','eation\x20fai','toString','edMatch\x20er','98564AdkPTs','png','extendedTe','isBuffer','mand.','\x20available','ata\x20extrac','error:\x20','512,format','toLowerCas','Video\x20too\x20','join','quotedMess','convert\x20st','for\x20animat','image','th\x20the\x20com','_bot','re\x20message','split','-vsync','iled','eply\x20to\x20a\x20','hex','-vcodec','number','eply\x20to\x20an','toBuffer','\x20convert\x20i','29000bZmSAX','rotate','sticker','Sticker\x20to','isCommand','y\x20webp\x20fil','readFile','quoted','ticker','push','an\x20animate','-pix_fmt','text','fromMe',']\x20cleaned\x20','m\x20is\x20','No\x20image\x20d','resize','map','randomByte','mp4','libwebp','seconds','send\x20failu',']\x20findStor','concat',']\x20failed\x20t','5\x20seconds\x20','to\x20convert','\x20video:\x20','writeFile','ℹ️\x20This\x20is\x20','webp','end','stickerMes',']\x20initiali','error','512','\x20it\x20to\x20a\x20v','client','\x20image\x20con','ted\x20from\x20s','downloadCo','path','tor','1.2.3','ntentFromM','outputOpti','-an','from','ssing\x20your','-q:v','ons','load\x20ffmpe','produce\x20st','tct','ffprobe','1757RdoBPe','message','key','sendMessag','sfully.','on\x20failed:','run','original_a','jpg','setFfmpegP','p->mp4\x20fai','❌\x20Video\x20is','10oCWbGI','\x20Use\x20the\x20`','\x20request.','jid','718123XFATOH','duration','\x20image:\x20','Failed\x20to\x20','ined\x20from\x20','[sticker]\x20',',crop=512:','❌\x20Failed\x20t','188151JXVRat','send\x20it\x20wi','catch',']\x20onMessag','\x20from\x20@whi','center','d\x20sticker.','22932866YDhoWV','age','5634uEoRYt','o\x20create\x20s','icker\x20buff','hile\x20proce','-movflags','512:force_','7701210CdePkF','305KgPTKu','failed\x20to\x20','essage\x20not','length','has','unlink','.tovideo`\x20','sticker\x20to','videoMessa','\x20too\x20long.','sage','version\x20fa','xtMessage','No\x20media\x20b','led:\x20'];_0x3cae=function(){return _0x59578a;};return _0x3cae();}import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import{Readable}from'stream';import _0x20737e from'fs/promises';import _0x35ad95 from'os';import _0x5aa5c8 from'path';import _0x2ecbb1 from'crypto';export const name=_0x4914ec(0x18b);export const version=_0x4914ec(0xf2);export const priority=0x5*0x3a9+0x5a3+0x2e*-0x85;export const commands=[_0x4914ec(0x18b),'s',_0x4914ec(0x135),_0x4914ec(0x15d)];let botInstance=null,respondedMsgIds=new Set(),_baileysModule=null,_sharp=null,_ffmpegInstaller=null,_fluentFfmpeg=null;async function getBaileysModule(){const _0x5ddfc9=_0x4914ec;if(_baileysModule)return _baileysModule;try{return _baileysModule=await import('@whiskeysockets/baileys'),_baileysModule;}catch(_0x267bac){throw new Error(_0x5ddfc9(0x111)+_0x5ddfc9(0x150)+_0x5ddfc9(0x154)+'/baileys:\x20'+_0x267bac['message']);}}async function getSharp(){const _0x54bc58=_0x4914ec;if(_sharp)return _sharp;try{const _0x8f8178=await import('sharp');return _sharp=_0x8f8178[_0x54bc58(0x13b)]||_0x8f8178,_sharp;}catch(_0x15f26d){throw new Error(_0x54bc58(0x111)+_0x54bc58(0x136)+':\x20'+_0x15f26d[_0x54bc58(0xff)]);}}async function getFfmpeg(){const _0x378990=_0x4914ec;if(_ffmpegInstaller&&_fluentFfmpeg)return{'ffmpegPath':_ffmpegInstaller['path'],'ffmpegLib':_fluentFfmpeg};try{const _0x55c4fb=await import('@ffmpeg-installer/ffmpeg'),_0x10e4bd=await import('fluent-ffmpeg');_ffmpegInstaller=_0x55c4fb[_0x378990(0x13b)]||_0x55c4fb,_fluentFfmpeg=_0x10e4bd[_0x378990(0x13b)]||_0x10e4bd;try{_fluentFfmpeg[_0x378990(0x107)+_0x378990(0x14c)](_ffmpegInstaller[_0x378990(0xf0)]);}catch(_0x4fb420){}return{'ffmpegPath':_ffmpegInstaller['path'],'ffmpegLib':_fluentFfmpeg};}catch(_0x35155e){throw new Error('Failed\x20to\x20'+_0x378990(0xfa)+_0x378990(0x152)+_0x35155e['message']);}}async function streamToBuffer(_0x5a4747){const _0x4d2d39=_0x4914ec;if(!_0x5a4747)return Buffer['alloc'](-0x1c5+-0xc7*0x1f+0x19de);if(typeof _0x5a4747[Symbol[_0x4d2d39(0x162)+_0x4d2d39(0xf1)]]===_0x4d2d39(0x139)){const _0x5e9877=[];for await(const _0x5acf58 of _0x5a4747){_0x5e9877[_0x4d2d39(0x192)](Buffer[_0x4d2d39(0x16f)](_0x5acf58)?_0x5acf58:Buffer[_0x4d2d39(0xf6)](_0x5acf58));}return Buffer['concat'](_0x5e9877);}if(typeof _0x5a4747['on']===_0x4d2d39(0x139))return new Promise((_0x185375,_0x58f248)=>{const _0x6bb37b=_0x4d2d39,_0x21a802=[];_0x5a4747['on']('data',_0x51017a=>_0x21a802[_0x6bb37b(0x192)](Buffer['isBuffer'](_0x51017a)?_0x51017a:Buffer['from'](_0x51017a))),_0x5a4747['on'](_0x6bb37b(0xe6),()=>_0x185375(Buffer[_0x6bb37b(0xde)](_0x21a802))),_0x5a4747['on'](_0x6bb37b(0xe9),_0x58f248);});return Buffer['from'](await _0x5a4747);}const getQuotedMessage=_0x5daf78=>{const _0x1b7ff3=_0x4914ec;return _0x5daf78[_0x1b7ff3(0xff)]?.[_0x1b7ff3(0x16e)+_0x1b7ff3(0x132)]?.['contextInf'+'o']?.[_0x1b7ff3(0x178)+_0x1b7ff3(0x11e)]||_0x5daf78[_0x1b7ff3(0x190)]||null;};async function findStoredMatchFromFindings(_0x19165f=[]){const _0x465cf3=_0x4914ec;try{const _0x39faa9=await listSudo(),_0x36a0e8=new Set(_0x39faa9[_0x465cf3(0xd7)](String));for(const _0x514fb1 of _0x19165f){if(!_0x514fb1||typeof _0x514fb1[_0x465cf3(0x10d)]!==_0x465cf3(0x151))continue;const _0x1561c2=normalizeToJid(_0x514fb1[_0x465cf3(0x10d)]);if(_0x1561c2&&_0x36a0e8[_0x465cf3(0x12a)](_0x1561c2))return _0x1561c2;if(_0x36a0e8[_0x465cf3(0x12a)](_0x514fb1[_0x465cf3(0x10d)]))return _0x514fb1[_0x465cf3(0x10d)];}return null;}catch(_0x1bf229){return warn('['+name+(_0x465cf3(0xdd)+_0x465cf3(0x16b)+_0x465cf3(0x164))+(_0x1bf229?.[_0x465cf3(0xff)]||_0x1bf229)),null;}}function tmpFilename(_0x2bbd86=''){const _0x55eaca=_0x4914ec,_0xf51390=_0x2ecbb1[_0x55eaca(0xd8)+'s'](0x18*-0xff+-0x1be2*-0x1+-0x3f2)[_0x55eaca(0x16a)](_0x55eaca(0x183));return _0x5aa5c8[_0x55eaca(0x177)](_0x35ad95[_0x55eaca(0x15f)](),'sticker-'+_0xf51390+(_0x2bbd86?'.'+_0x2bbd86:''));}export async function initialize(_0x49a35e){const _0x374e99=_0x4914ec;botInstance=_0x49a35e,info('['+name+(_0x374e99(0xe8)+'zed\x20succes'+_0x374e99(0x102)));}export async function cleanup(){const _0x60268c=_0x4914ec;botInstance=null,respondedMsgIds['clear'](),info('['+name+(_0x60268c(0xd3)+'up'));}function _0x246a(_0x145f84,_0x497d5b){const _0x5732a4=_0x3cae();return _0x246a=function(_0x460692,_0x3691de){_0x460692=_0x460692-(-0x7*-0x4e5+0x178e+-0x1*0x3901);let _0x322f14=_0x5732a4[_0x460692];return _0x322f14;},_0x246a(_0x145f84,_0x497d5b);}async function imageBufferToWebp(_0x1dd148,{pack:pack='tct',author:author='tct',quality:quality=0x277*0xa+0x1*-0x1af+0x1*-0x16a7}={}){const _0x5b01db=_0x4914ec,_0x175b67=await getSharp(),_0x50dddc=_0x175b67(_0x1dd148,{'animated':![]})[_0x5b01db(0x18a)]()[_0x5b01db(0xd6)](-0x3d1+-0x5c5*0x5+0x22aa,-0x2205*0x1+-0x3ed+0x27f2,{'fit':'cover','position':_0x5b01db(0x11b)})[_0x5b01db(0xe5)]({'quality':typeof quality===_0x5b01db(0x185)?quality:-0x1*-0x1fe7+-0xb14+-0x1483}),_0x4f5d9b=await _0x50dddc[_0x5b01db(0x187)]();return _0x4f5d9b;}async function videoBufferToWebp(_0x3eb8a9,{maxDurationSec:maxDurationSec=0xa26+0x57b+-0xf92,quality:quality=-0xfe2+-0x1253+0x2280}={}){const _0x552e4f=_0x4914ec,{ffmpegLib:_0x4cc1a3}=await getFfmpeg(),_0x409e34=_0x4cc1a3,_0x103f94=tmpFilename(_0x552e4f(0xd9)),_0x1fc5c6=tmpFilename('webp');try{await _0x20737e[_0x552e4f(0xe3)](_0x103f94,_0x3eb8a9);const _0x1f9bd7=await new Promise((_0x47fe76,_0x7ff38a)=>{const _0x2c14e0=_0x552e4f;_0x409e34[_0x2c14e0(0xfd)](_0x103f94,(_0x155417,_0xc9cecd)=>{const _0x552781=_0x2c14e0;if(_0x155417)return _0x7ff38a(_0x155417);const _0xccbc9c=_0xc9cecd?.[_0x552781(0x142)]?.[_0x552781(0x10f)]||-0x60*-0x35+0x7f*0x1f+0x1*-0x2341;_0x47fe76(Number(_0xccbc9c)||-0x4*-0x984+0x11f1+-0x3801);});});if(_0x1f9bd7>maxDurationSec)throw new Error(_0x552e4f(0x176)+_0x552e4f(0x168)+Math[_0x552e4f(0x153)](_0x1f9bd7)+(_0x552e4f(0x167)+_0x552e4f(0xd4))+maxDurationSec+'s.');await new Promise((_0x169f34,_0x1612d7)=>{const _0x443ecb=_0x552e4f;_0x409e34(_0x103f94)[_0x443ecb(0xf4)+_0x443ecb(0xf9)]([_0x443ecb(0x184),_0x443ecb(0xda),'-vf',_0x443ecb(0x141)+'512:force_'+_0x443ecb(0x105)+'spect_rati'+'o=increase'+_0x443ecb(0x114)+_0x443ecb(0x174)+_0x443ecb(0x166)+'15','-lossless','0',_0x443ecb(0x160),'0','-preset','default',_0x443ecb(0xf5),_0x443ecb(0x180),'0'])[_0x443ecb(0xf4)+_0x443ecb(0xf9)]([_0x443ecb(0xf8),String(Math[_0x443ecb(0x163)](0x1924+-0xb24+-0x6fb*0x2,Math[_0x443ecb(0x157)](-0x1bd*-0x7+-0x138d+0x7c6,quality)))])[_0x443ecb(0x137)](_0x1fc5c6)['on'](_0x443ecb(0xe9),_0x44b334=>{const _0x29c89a=_0x443ecb;_0x1612d7(new Error('ffmpeg\x20web'+'p\x20conversi'+_0x29c89a(0x103)+'\x20'+(_0x44b334?.['message']||_0x44b334)));})['on'](_0x443ecb(0xe6),()=>_0x169f34())['run']();});const _0x1b8979=await _0x20737e[_0x552e4f(0x18f)](_0x1fc5c6);if(!_0x1b8979||_0x1b8979['length']===0x1*0x7+-0x1539+0xa99*0x2)throw new Error(_0x552e4f(0x13e)+'duced\x20empt'+_0x552e4f(0x18e)+'e');return _0x1b8979;}finally{try{await _0x20737e[_0x552e4f(0x12b)](_0x103f94);}catch(_0x4ee4bd){}try{await _0x20737e[_0x552e4f(0x12b)](_0x1fc5c6);}catch(_0x3ef411){}}}async function webpToMp4(_0x3477fc){const _0x1e1289=_0x4914ec,{ffmpegLib:_0x3de2bd}=await getFfmpeg(),_0x14d040=_0x3de2bd,_0x115f04=tmpFilename(_0x1e1289(0xe5)),_0x11529d=tmpFilename(_0x1e1289(0xd9));try{await _0x20737e[_0x1e1289(0xe3)](_0x115f04,_0x3477fc),await new Promise((_0x179b90,_0x574bd3)=>{const _0x5e46c9=_0x1e1289;_0x14d040(_0x115f04)[_0x5e46c9(0xf4)+_0x5e46c9(0xf9)]([_0x5e46c9(0x123),_0x5e46c9(0x14b),_0x5e46c9(0xd0),_0x5e46c9(0x140),_0x5e46c9(0x15c),_0x5e46c9(0x141)+_0x5e46c9(0x124)+_0x5e46c9(0x105)+'spect_rati'+'o=increase'+_0x5e46c9(0x114)+_0x5e46c9(0xea),_0x5e46c9(0xf5)])[_0x5e46c9(0x142)]('mp4')[_0x5e46c9(0x137)](_0x11529d)['on'](_0x5e46c9(0xe9),_0x1d6342=>_0x574bd3(new Error('ffmpeg\x20web'+_0x5e46c9(0x108)+_0x5e46c9(0x134)+(_0x1d6342?.[_0x5e46c9(0xff)]||_0x1d6342))))['on']('end',()=>_0x179b90())[_0x5e46c9(0x104)]();});const _0x29c24a=await _0x20737e[_0x1e1289(0x18f)](_0x11529d);if(!_0x29c24a||_0x29c24a[_0x1e1289(0x129)]===0x214a*0x1+-0x1*0x1b94+-0x5b6*0x1)throw new Error(_0x1e1289(0x13e)+'duced\x20empt'+_0x1e1289(0x15a));return _0x29c24a;}finally{try{await _0x20737e[_0x1e1289(0x12b)](_0x115f04);}catch(_0x156042){}try{await _0x20737e['unlink'](_0x11529d);}catch(_0x5b72c0){}}}async function webpBufferToImage(_0x9ed129,_0xc8f5c3=_0x4914ec(0x16d)){const _0x2404af=_0x4914ec,_0x213b83=await getSharp(),_0x50fbdd=_0x213b83(_0x9ed129,{'animated':![]});if(_0xc8f5c3===_0x2404af(0x14d)||_0xc8f5c3===_0x2404af(0x106))return _0x50fbdd[_0x2404af(0x14d)]({'quality':0x5a})[_0x2404af(0x187)]();return _0x50fbdd[_0x2404af(0x16d)]()[_0x2404af(0x187)]();}export async function onMessage(_0x3aeb8d){const _0x170048=_0x4914ec;try{if(!_0x3aeb8d||!_0x3aeb8d['key']||!_0x3aeb8d[_0x170048(0x18d)])return;if(!botInstance)botInstance=_0x3aeb8d[_0x170048(0x161)]||_0x3aeb8d[_0x170048(0xec)]||_0x3aeb8d[_0x170048(0x17d)]||null;const _0x352bf6=_0x3aeb8d[_0x170048(0x100)]['id'];if(_0x352bf6&&respondedMsgIds[_0x170048(0x12a)](_0x352bf6))return;_0x352bf6&&(respondedMsgIds['add'](_0x352bf6),setTimeout(()=>respondedMsgIds['delete'](_0x352bf6),0x9445*-0x1+-0x92fc+0x527d*0x5));const _0x3e5885=(_0x3aeb8d[_0x170048(0xd1)]||'')['trim'](),[_0xa670b,..._0x37191a]=_0x3e5885[_0x170048(0x17f)](/\s+/),_0xe0a5af=(_0xa670b||'')[_0x170048(0x175)+'e']();if(!commands[_0x170048(0x13f)](_0xe0a5af))return;const _0x1f828d=_0x3aeb8d[_0x170048(0x100)][_0x170048(0x144)]||_0x3aeb8d['remoteJid']||'',_0x30fe86=String(_0x1f828d)['endsWith'](_0x170048(0x159)),_0x542706=getBotJid();let _0x436702=_0x1f828d;const _0x108148=Boolean(_0x3aeb8d['key']?.[_0x170048(0xd2)]);let _0x4d6a22=_0x108148;if(_0x108148&&_0x542706)_0x436702=_0x542706;if(!_0x4d6a22){if(_0x30fe86)_0x4d6a22=await isadmin(botInstance,_0x3aeb8d)[_0x170048(0x118)](()=>![]);else{const _0x1f8b4d=await isSudo(botInstance,_0x3aeb8d)[_0x170048(0x118)](()=>![]);if(_0x1f8b4d){const {findings:_0x37678}=userJidFromCtx(_0x3aeb8d),_0x47ef6e=await findStoredMatchFromFindings(_0x37678);_0x47ef6e&&(_0x4d6a22=!![],_0x436702=_0x47ef6e);}}}if(!_0x4d6a22)return;const _0x6520b1=_0x37191a[_0x170048(0x177)]('\x20');try{switch(_0xe0a5af){case _0x170048(0x18b):case's':await handleStickerCreation(_0x436702,_0x6520b1,_0x3aeb8d);break;case _0x170048(0x135):await handleStickerToImage(_0x436702,_0x3aeb8d);break;case'tovideo':await handleStickerToVideo(_0x436702,_0x3aeb8d);break;}}catch(_0x2c75d6){error(_0x2c75d6,'['+name+(']\x20Handler\x20'+_0x170048(0x173))+(_0x2c75d6?.[_0x170048(0xff)]||_0x2c75d6));try{await botInstance[_0x170048(0x101)+'e'](_0x436702,{'text':_0x170048(0x143)+_0x170048(0x158)+'occurred\x20w'+_0x170048(0x122)+_0x170048(0xf7)+_0x170048(0x10c)},{'quoted':_0x3aeb8d['ms']});}catch(_0x4b3d82){error(_0x4b3d82,'['+name+(_0x170048(0xdf)+_0x170048(0x147)+_0x170048(0x148)));}}}catch(_0x4e3d4f){error(_0x4e3d4f,'['+name+(_0x170048(0x119)+'e\x20top-leve'+'l\x20error:\x20')+(_0x4e3d4f?.['message']||_0x4e3d4f));}}async function handleStickerCreation(_0x1d6198,_0x41c331,_0x414315){const _0x142ba1=_0x4914ec,_0x4b16f0=getQuotedMessage(_0x414315),_0x5e0b04=_0x4b16f0?.['imageMessa'+'ge']||_0x414315[_0x142ba1(0xff)]?.['imageMessa'+'ge'],_0x203263=_0x4b16f0?.[_0x142ba1(0x12e)+'ge']||_0x414315[_0x142ba1(0xff)]?.[_0x142ba1(0x12e)+'ge'];if(!_0x5e0b04&&!_0x203263)return botInstance[_0x142ba1(0x101)+'e'](_0x1d6198,{'text':'ℹ️\x20Please\x20r'+_0x142ba1(0x186)+_0x142ba1(0x138)+_0x142ba1(0x14a)+_0x142ba1(0x117)+_0x142ba1(0x17c)+_0x142ba1(0x170)},{'quoted':_0x414315['ms']});const _0x1db2a0=(_0x41c331||'')[_0x142ba1(0x146)]()||'tct',_0x166f25='tct';try{const _0x1bb782=await getBaileysModule(),_0x5c6473=_0x1bb782[_0x142ba1(0xef)+_0x142ba1(0xf3)+_0x142ba1(0x13c)]||_0x1bb782[_0x142ba1(0x13b)]?.[_0x142ba1(0xef)+_0x142ba1(0xf3)+_0x142ba1(0x13c)];if(!_0x5c6473)throw new Error(_0x142ba1(0xef)+_0x142ba1(0xf3)+_0x142ba1(0x128)+'\x20available'+_0x142ba1(0x11a)+'skeysocket'+'s/baileys');let _0x47a2fc,_0x13d5a1=![];if(_0x5e0b04){const _0x4c3713=await _0x5c6473(_0x5e0b04,_0x142ba1(0x17b));_0x47a2fc=await streamToBuffer(_0x4c3713);}else{if(_0x203263){if((_0x203263[_0x142ba1(0xdb)]||-0x33*-0x75+-0x2*0x3cd+-0x1*0xfb5)>-0x969+-0x3*-0x452+-0x37e)return botInstance[_0x142ba1(0x101)+'e'](_0x1d6198,{'text':_0x142ba1(0x109)+_0x142ba1(0x12f)+_0x142ba1(0x145)+_0x142ba1(0xe0)+_0x142ba1(0x17a)+'ed\x20sticker'+'s.'},{'quoted':_0x414315['ms']});const _0x3469c7=await _0x5c6473(_0x203263,_0x142ba1(0x13a));_0x47a2fc=await streamToBuffer(_0x3469c7),_0x13d5a1=!![];}}if(!_0x47a2fc||_0x47a2fc[_0x142ba1(0x129)]===0x1d0c+-0x1dcb*-0x1+-0x3ad7)throw new Error(_0x142ba1(0x133)+_0x142ba1(0x15b)+_0x142ba1(0x112)+'message');let _0x2bab83;!_0x13d5a1?_0x2bab83=await imageBufferToWebp(_0x47a2fc,{'pack':_0x166f25,'author':_0x1db2a0,'quality':0x50}):_0x2bab83=await videoBufferToWebp(_0x47a2fc,{'maxDurationSec':0xf,'quality':0x4b});if(!_0x2bab83||_0x2bab83['length']===0x95*0x1+-0x4a4+0x40f*0x1)throw new Error(_0x142ba1(0x111)+_0x142ba1(0xfb)+_0x142ba1(0x121)+'er');await botInstance[_0x142ba1(0x101)+'e'](_0x1d6198,{'sticker':_0x2bab83},{'quoted':_0x414315['ms']});}catch(_0x10bbbf){error(_0x10bbbf,_0x142ba1(0x113)+'Sticker\x20cr'+_0x142ba1(0x169)+_0x142ba1(0x165));try{await botInstance['sendMessag'+'e'](_0x1d6198,{'text':_0x142ba1(0x115)+_0x142ba1(0x120)+'ticker:\x20'+(_0x10bbbf?.['message']||_0x10bbbf)},{'quoted':_0x414315['ms']});}catch(_0xa06ee0){error(_0xa06ee0,'[sticker]\x20'+_0x142ba1(0x127)+_0x142ba1(0xdc)+_0x142ba1(0x17e));}}}async function handleStickerToImage(_0x1ef00a,_0xb71740){const _0x72465d=_0x4914ec,_0x219690=getQuotedMessage(_0xb71740);if(!_0x219690?.[_0x72465d(0xe7)+_0x72465d(0x130)])return botInstance[_0x72465d(0x101)+'e'](_0x1ef00a,{'text':_0x72465d(0x14f)+_0x72465d(0x182)+_0x72465d(0x12d)+_0x72465d(0x188)+_0x72465d(0x155)+'age.'},{'quoted':_0xb71740['ms']});if(_0x219690['stickerMes'+_0x72465d(0x130)][_0x72465d(0x156)])return botInstance[_0x72465d(0x101)+'e'](_0x1ef00a,{'text':_0x72465d(0xe4)+_0x72465d(0x193)+_0x72465d(0x11c)+_0x72465d(0x10b)+_0x72465d(0x12c)+'command\x20in'+'stead.'},{'quoted':_0xb71740['ms']});try{const _0x30fb5a=await getBaileysModule(),_0x2d1ce5=_0x30fb5a[_0x72465d(0xef)+'ntentFromM'+_0x72465d(0x13c)]||_0x30fb5a[_0x72465d(0x13b)]?.[_0x72465d(0xef)+_0x72465d(0xf3)+_0x72465d(0x13c)];if(!_0x2d1ce5)throw new Error(_0x72465d(0xef)+_0x72465d(0xf3)+_0x72465d(0x128)+_0x72465d(0x171));const _0x2c5b51=await _0x2d1ce5(_0x219690[_0x72465d(0xe7)+'sage'],_0x72465d(0x17b)),_0x44ccb5=await streamToBuffer(_0x2c5b51);if(!_0x44ccb5||_0x44ccb5['length']===0x2f*-0x6a+-0x504*0x5+0x2*0x1645)throw new Error(_0x72465d(0xd5)+_0x72465d(0x172)+_0x72465d(0xee)+_0x72465d(0x191));const _0x46f11b=await webpBufferToImage(_0x44ccb5,'png');await botInstance[_0x72465d(0x101)+'e'](_0x1ef00a,{'image':_0x46f11b,'caption':_0x72465d(0xfc)},{'quoted':_0xb71740['ms']});}catch(_0x354ab5){error(_0x354ab5,_0x72465d(0x113)+_0x72465d(0x18c)+_0x72465d(0xed)+_0x72465d(0x131)+_0x72465d(0x181));try{await botInstance[_0x72465d(0x101)+'e'](_0x1ef00a,{'text':_0x72465d(0x115)+_0x72465d(0x149)+_0x72465d(0x12d)+_0x72465d(0x110)+(_0x354ab5?.[_0x72465d(0xff)]||_0x354ab5)},{'quoted':_0xb71740['ms']});}catch(_0x2cfa4a){error(_0x2cfa4a,_0x72465d(0x113)+_0x72465d(0x127)+_0x72465d(0xdc)+_0x72465d(0x17e));}}}async function handleStickerToVideo(_0x89df08,_0x263e4d){const _0x312674=_0x4914ec,_0x43e184=getQuotedMessage(_0x263e4d);if(!_0x43e184?.[_0x312674(0xe7)+'sage']||!_0x43e184[_0x312674(0xe7)+'sage'][_0x312674(0x156)])return botInstance[_0x312674(0x101)+'e'](_0x89df08,{'text':'ℹ️\x20Please\x20r'+_0x312674(0x186)+'\x20*animated'+'*\x20sticker\x20'+_0x312674(0xe1)+_0x312674(0xeb)+'ideo.'},{'quoted':_0x263e4d['ms']});try{const _0x11d871=await getBaileysModule(),_0x14909f=_0x11d871['downloadCo'+_0x312674(0xf3)+_0x312674(0x13c)]||_0x11d871[_0x312674(0x13b)]?.[_0x312674(0xef)+_0x312674(0xf3)+_0x312674(0x13c)];if(!_0x14909f)throw new Error(_0x312674(0xef)+_0x312674(0xf3)+_0x312674(0x128)+'\x20available');let _0x188803,_0x579d52;try{_0x188803=await _0x14909f(_0x43e184[_0x312674(0xe7)+_0x312674(0x130)],_0x312674(0x13a)),_0x579d52=await streamToBuffer(_0x188803);}catch(_0x3cba5d){_0x188803=await _0x14909f(_0x43e184[_0x312674(0xe7)+'sage'],_0x312674(0x17b)),_0x579d52=await streamToBuffer(_0x188803);}if(!_0x579d52||_0x579d52['length']===0xbc1+-0x2574+-0x19b3*-0x1)throw new Error('No\x20video\x20d'+'ata\x20extrac'+'ted\x20from\x20s'+_0x312674(0x191));const _0x386c08=await webpToMp4(_0x579d52);if(!_0x386c08||_0x386c08['length']===0xa*0x2fe+0xd59+-0x2b45)throw new Error(_0x312674(0x111)+_0x312674(0x179)+_0x312674(0x15e)+'ideo');await botInstance[_0x312674(0x101)+'e'](_0x89df08,{'video':_0x386c08,'caption':_0x312674(0xfc)},{'quoted':_0x263e4d['ms']});}catch(_0x3bf6d2){error(_0x3bf6d2,_0x312674(0x113)+'Sticker\x20to'+_0x312674(0x13d)+_0x312674(0x131)+_0x312674(0x181));try{await botInstance['sendMessag'+'e'](_0x89df08,{'text':_0x312674(0x115)+_0x312674(0x149)+'sticker\x20to'+_0x312674(0xe2)+(_0x3bf6d2?.[_0x312674(0xff)]||_0x3bf6d2)},{'quoted':_0x263e4d['ms']});}catch(_0x486299){error(_0x486299,_0x312674(0x113)+_0x312674(0x127)+_0x312674(0xdc)+'re\x20message');}}}