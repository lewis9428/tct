function _0x1fc9(){const _0x5f5585=['1340GlmjsV','e\x20top-leve','default','rotate','length','led','ed\x20sticker','Failed\x20to\x20','o\x20create\x20s','long\x20(','client','512','split','catch','ffprobe','ffmpeg\x20pro',']\x20failed\x20t','.tovideo`\x20','mand.','t\x20to\x20an\x20im','480102bZIiIt','-vcodec','jpeg','bot','join','libwebp','-loop','ssing\x20your','s/baileys','p->mp4\x20fai','eply\x20to\x20a\x20','th\x20the\x20com','\x20Maximum\x201','mp4','tmpdir','ideo','delete','y\x20mp4\x20file','function','version\x20fa','readFile','=rgba,fps=','message','tovideo','video,\x20or\x20','age.','sendMessag','failed\x20to\x20','\x20it\x20to\x20a\x20v','quoted','yuv420p','edMatch\x20er','_bot','5\x20seconds\x20','4559328IfBZal','video','xtMessage','imageMessa','ntentFromM','add','convert\x20st','essage',']\x20findStor','tor','outputOpti','ffmpeg\x20web','\x20available','icker\x20to\x20v','run','toString','occurred\x20w','videoMessa','number','o\x20convert\x20','sticker-','push','scale=512:','keysockets','from','sage','stickerMes','min','79338xFlbEz','produce\x20st','jpg','eply\x20to\x20an','\x20video:\x20','\x20image\x20con','y\x20webp\x20fil','-vsync','zed\x20succes','\x20Use\x20the\x20`','re\x20message','error','for\x20animat','skeysocket','hile\x20proce','\x20convert\x20i','l\x20error:\x20','essage\x20not','command\x20in','duced\x20empt','on\x20failed:','hex','ata\x20extrac','117628wjzafJ','asyncItera','image','ticker:\x20',',crop=512:','-preset','stead.','-an','sticker\x20to','ons','ted\x20from\x20s','resize','2315SdKVqz','led:\x20','original_a','sfully.','round','unlink','/baileys:\x20','sticker',']\x20cleaned\x20','output','contextInf',']\x20initiali','center','load\x20sharp','977912UPClzT','extendedTe','icker\x20buff','to\x20convert','*\x20sticker\x20','string','fromMe','1774104FkYvvg','o\x20send\x20err','remoteJid','Sticker\x20to','alloc','ℹ️\x20Please\x20r','toimage','webp','toBuffer','spect_rati','❌\x20Failed\x20t','writeFile','downloadCo','png','ℹ️\x20This\x20is\x20','Video\x20too\x20','endsWith','load\x20@whis','text','age','3WVisPl','toLowerCas','an\x20animate','path','trim','jid','\x20video\x20con','format','iled','setFfmpegP','ticker','quotedMess','key','map','No\x20image\x20d','concat','send\x20failu','-q:v','tct','includes','p\x20conversi','seconds','o=increase','[sticker]\x20','512:force_','eation\x20fai','end','has','clear','isAnimated','\x20from\x20@whi','data'];_0x1fc9=function(){return _0x5f5585;};return _0x1fc9();}const _0x60cb7c=_0x2ba6;(function(_0x50ecad,_0x5cba1e){const _0x91352b=_0x2ba6,_0x28a8f9=_0x50ecad();while(!![]){try{const _0x376510=parseInt(_0x91352b(0x1bc))/(0x205*-0x3+-0x1*0x11f3+0x1803*0x1)+-parseInt(_0x91352b(0x1d3))/(-0xaf2*-0x3+-0x78e+-0xa*0x287)*(parseInt(_0x91352b(0x208))/(-0x15c6+-0xc59*-0x1+0x970))+-parseInt(_0x91352b(0x16a))/(0x18fb*0x1+-0x1*-0xa1f+-0x3*0xbb2)*(-parseInt(_0x91352b(0x1df))/(0x382*-0x1+-0x13a*0x1c+0x25df))+parseInt(_0x91352b(0x1f4))/(0x22dc+0x1f93*-0x1+0x5*-0xa7)+parseInt(_0x91352b(0x17e))/(0x136c+0x2013+0x24*-0x16e)+parseInt(_0x91352b(0x1ed))/(-0x1*0x2054+0x1083+-0x1*-0xfd9)+-parseInt(_0x91352b(0x1a0))/(-0x2379+0xed0+0x14b2);if(_0x376510===_0x5cba1e)break;else _0x28a8f9['push'](_0x28a8f9['shift']());}catch(_0xff6942){_0x28a8f9['push'](_0x28a8f9['shift']());}}}(_0x1fc9,0x1b7*0x61+-0x2b58*0x11+0x49a1b*0x1));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import{Readable}from'stream';import _0x40cd92 from'fs/promises';import _0x482d94 from'os';import _0x548a5a from'path';import _0x52ff6f from'crypto';export const name=_0x60cb7c(0x1e6);export const version='1.2.3';export const priority=0x131+0x43f*-0x5+0x1414;export const commands=[_0x60cb7c(0x1e6),'s',_0x60cb7c(0x1fa),_0x60cb7c(0x195)];let botInstance=null,respondedMsgIds=new Set(),_baileysModule=null,_sharp=null,_ffmpegInstaller=null,_fluentFfmpeg=null;async function getBaileysModule(){const _0x388e2e=_0x60cb7c;if(_baileysModule)return _baileysModule;try{return _baileysModule=await import('@whiskeysockets/baileys'),_baileysModule;}catch(_0x50092b){throw new Error(_0x388e2e(0x171)+_0x388e2e(0x205)+_0x388e2e(0x1b7)+_0x388e2e(0x1e5)+_0x50092b[_0x388e2e(0x194)]);}}async function getSharp(){const _0x17e153=_0x60cb7c;if(_sharp)return _sharp;try{const _0x1613b4=await import('sharp');return _sharp=_0x1613b4[_0x17e153(0x16c)]||_0x1613b4,_sharp;}catch(_0x2b7041){throw new Error(_0x17e153(0x171)+_0x17e153(0x1ec)+':\x20'+_0x2b7041[_0x17e153(0x194)]);}}async function getFfmpeg(){const _0x472fed=_0x60cb7c;if(_ffmpegInstaller&&_fluentFfmpeg)return{'ffmpegPath':_ffmpegInstaller[_0x472fed(0x20b)],'ffmpegLib':_fluentFfmpeg};try{const _0x39dfc0=await import('@ffmpeg-installer/ffmpeg'),_0x3c3184=await import('fluent-ffmpeg');_ffmpegInstaller=_0x39dfc0['default']||_0x39dfc0,_fluentFfmpeg=_0x3c3184[_0x472fed(0x16c)]||_0x3c3184;try{_fluentFfmpeg[_0x472fed(0x211)+'ath'](_ffmpegInstaller[_0x472fed(0x20b)]);}catch(_0x525d67){}return{'ffmpegPath':_ffmpegInstaller['path'],'ffmpegLib':_fluentFfmpeg};}catch(_0x4ce90e){throw new Error(_0x472fed(0x171)+'load\x20ffmpe'+'g\x20tools:\x20'+_0x4ce90e[_0x472fed(0x194)]);}}async function streamToBuffer(_0x2f0d66){const _0x4365af=_0x60cb7c;if(!_0x2f0d66)return Buffer[_0x4365af(0x1f8)](-0x10d8+-0x3*0x4f9+0x1fc3);if(typeof _0x2f0d66[Symbol[_0x4365af(0x1d4)+_0x4365af(0x1a9)]]==='function'){const _0x6e7301=[];for await(const _0x1c1487 of _0x2f0d66){_0x6e7301[_0x4365af(0x1b5)](Buffer['isBuffer'](_0x1c1487)?_0x1c1487:Buffer[_0x4365af(0x1b8)](_0x1c1487));}return Buffer[_0x4365af(0x217)](_0x6e7301);}if(typeof _0x2f0d66['on']===_0x4365af(0x190))return new Promise((_0x2ed2a9,_0x2d2543)=>{const _0x35726a=_0x4365af,_0x220aed=[];_0x2f0d66['on'](_0x35726a(0x169),_0x57ec85=>_0x220aed[_0x35726a(0x1b5)](Buffer['isBuffer'](_0x57ec85)?_0x57ec85:Buffer['from'](_0x57ec85))),_0x2f0d66['on']('end',()=>_0x2ed2a9(Buffer['concat'](_0x220aed))),_0x2f0d66['on']('error',_0x2d2543);});return Buffer[_0x4365af(0x1b8)](await _0x2f0d66);}const getQuotedMessage=_0x43d1f1=>{const _0x330275=_0x60cb7c;return _0x43d1f1[_0x330275(0x194)]?.[_0x330275(0x1ee)+_0x330275(0x1a2)]?.[_0x330275(0x1e9)+'o']?.[_0x330275(0x213)+_0x330275(0x207)]||_0x43d1f1[_0x330275(0x19b)]||null;};async function findStoredMatchFromFindings(_0x281644=[]){const _0x555b9c=_0x60cb7c;try{const _0x3e89df=await listSudo(),_0x45a98a=new Set(_0x3e89df[_0x555b9c(0x215)](String));for(const _0xbcffdd of _0x281644){if(!_0xbcffdd||typeof _0xbcffdd[_0x555b9c(0x20d)]!==_0x555b9c(0x1f2))continue;const _0xd3c510=normalizeToJid(_0xbcffdd[_0x555b9c(0x20d)]);if(_0xd3c510&&_0x45a98a[_0x555b9c(0x165)](_0xd3c510))return _0xd3c510;if(_0x45a98a[_0x555b9c(0x165)](_0xbcffdd[_0x555b9c(0x20d)]))return _0xbcffdd[_0x555b9c(0x20d)];}return null;}catch(_0x2d7a5a){return warn('['+name+(_0x555b9c(0x1a8)+_0x555b9c(0x19d)+'ror:\x20')+(_0x2d7a5a?.[_0x555b9c(0x194)]||_0x2d7a5a)),null;}}function tmpFilename(_0x31cb10=''){const _0x43ebaf=_0x60cb7c,_0x5b2e77=_0x52ff6f['randomByte'+'s'](0x11a1+-0x2239+0x10a0)[_0x43ebaf(0x1af)](_0x43ebaf(0x1d1));return _0x548a5a['join'](_0x482d94[_0x43ebaf(0x18c)](),_0x43ebaf(0x1b4)+_0x5b2e77+(_0x31cb10?'.'+_0x31cb10:''));}export async function initialize(_0x518647){const _0x48d44d=_0x60cb7c;botInstance=_0x518647,info('['+name+(_0x48d44d(0x1ea)+_0x48d44d(0x1c4)+_0x48d44d(0x1e2)));}export async function cleanup(){const _0xcb641f=_0x60cb7c;botInstance=null,respondedMsgIds[_0xcb641f(0x166)](),info('['+name+(_0xcb641f(0x1e7)+'up'));}async function imageBufferToWebp(_0x408b7f,{pack:pack=_0x60cb7c(0x21a),author:author=_0x60cb7c(0x21a),quality:quality=-0x2430+-0x10f6+-0x6*-0x8e9}={}){const _0x29d21c=_0x60cb7c,_0x1ba1a0=await getSharp(),_0x10e683=_0x1ba1a0(_0x408b7f,{'animated':![]})[_0x29d21c(0x16d)]()[_0x29d21c(0x1de)](0x18ea+-0x18c+-0xaaf*0x2,-0x41*0x19+-0x3c7+0xc20,{'fit':'cover','position':_0x29d21c(0x1eb)})[_0x29d21c(0x1fb)]({'quality':typeof quality===_0x29d21c(0x1b2)?quality:-0x808+0x159e+0x6a3*-0x2}),_0x30bda=await _0x10e683[_0x29d21c(0x1fc)]();return _0x30bda;}async function videoBufferToWebp(_0x507b01,{maxDurationSec:maxDurationSec=-0x11b4+-0x47f*-0x7+0x249*-0x6,quality:quality=0x14*-0x1f2+-0x1596+0x3cc9}={}){const _0x2c536d=_0x60cb7c,{ffmpegLib:_0x3e5a08}=await getFfmpeg(),_0x10edd9=_0x3e5a08,_0x1a5e41=tmpFilename(_0x2c536d(0x18b)),_0x4b18b7=tmpFilename(_0x2c536d(0x1fb));try{await _0x40cd92[_0x2c536d(0x1ff)](_0x1a5e41,_0x507b01);const _0x6b4e56=await new Promise((_0x1ec0cc,_0x315d3a)=>{const _0x4d40f8=_0x2c536d;_0x10edd9[_0x4d40f8(0x178)](_0x1a5e41,(_0x35a7b2,_0x291e45)=>{const _0x714191=_0x4d40f8;if(_0x35a7b2)return _0x315d3a(_0x35a7b2);const _0x1c8136=_0x291e45?.[_0x714191(0x20f)]?.['duration']||-0x1c32*0x1+0xd67*-0x1+-0x1cf*-0x17;_0x1ec0cc(Number(_0x1c8136)||-0x1284+0x2619+-0x1395);});});if(_0x6b4e56>maxDurationSec)throw new Error(_0x2c536d(0x203)+_0x2c536d(0x173)+Math[_0x2c536d(0x1e3)](_0x6b4e56)+('s).\x20Maximu'+'m\x20is\x20')+maxDurationSec+'s.');await new Promise((_0xfbfdcf,_0x48c341)=>{const _0x20e3aa=_0x2c536d;_0x10edd9(_0x1a5e41)[_0x20e3aa(0x1aa)+_0x20e3aa(0x1dc)]([_0x20e3aa(0x17f),_0x20e3aa(0x183),'-vf',_0x20e3aa(0x1b6)+_0x20e3aa(0x220)+'original_a'+'spect_rati'+_0x20e3aa(0x21e)+_0x20e3aa(0x1d7)+'512,format'+_0x20e3aa(0x193)+'15','-lossless','0',_0x20e3aa(0x184),'0',_0x20e3aa(0x1d8),_0x20e3aa(0x16c),_0x20e3aa(0x1da),_0x20e3aa(0x1c3),'0'])[_0x20e3aa(0x1aa)+'ons']([_0x20e3aa(0x219),String(Math['max'](0x48d+-0xef7*-0x1+-0x115*0x12,Math[_0x20e3aa(0x1bb)](0x610+-0x11*-0x1c3+0xb*-0x33d,quality)))])[_0x20e3aa(0x1e8)](_0x4b18b7)['on'](_0x20e3aa(0x1c7),_0x18aed6=>{const _0x45a1af=_0x20e3aa;_0x48c341(new Error(_0x45a1af(0x1ab)+_0x45a1af(0x21c)+_0x45a1af(0x1d0)+'\x20'+(_0x18aed6?.[_0x45a1af(0x194)]||_0x18aed6)));})['on']('end',()=>_0xfbfdcf())[_0x20e3aa(0x1ae)]();});const _0x2aafe9=await _0x40cd92[_0x2c536d(0x192)](_0x4b18b7);if(!_0x2aafe9||_0x2aafe9[_0x2c536d(0x16e)]===0x95*-0x2f+-0x318+-0x5*-0x617)throw new Error(_0x2c536d(0x179)+_0x2c536d(0x1cf)+_0x2c536d(0x1c2)+'e');return _0x2aafe9;}finally{try{await _0x40cd92['unlink'](_0x1a5e41);}catch(_0x26ed69){}try{await _0x40cd92[_0x2c536d(0x1e4)](_0x4b18b7);}catch(_0xc39e0b){}}}async function webpToMp4(_0x1b6786){const _0x5acde4=_0x60cb7c,{ffmpegLib:_0x29a3eb}=await getFfmpeg(),_0x3be682=_0x29a3eb,_0x6039ee=tmpFilename(_0x5acde4(0x1fb)),_0x5ac6f5=tmpFilename(_0x5acde4(0x18b));try{await _0x40cd92['writeFile'](_0x6039ee,_0x1b6786),await new Promise((_0x4f279c,_0x474850)=>{const _0x46f3cb=_0x5acde4;_0x3be682(_0x6039ee)[_0x46f3cb(0x1aa)+_0x46f3cb(0x1dc)](['-movflags','+faststart','-pix_fmt',_0x46f3cb(0x19c),'-vf',_0x46f3cb(0x1b6)+_0x46f3cb(0x220)+_0x46f3cb(0x1e1)+_0x46f3cb(0x1fd)+_0x46f3cb(0x21e)+',crop=512:'+_0x46f3cb(0x175),_0x46f3cb(0x1da)])['format'](_0x46f3cb(0x18b))[_0x46f3cb(0x1e8)](_0x5ac6f5)['on']('error',_0xf0561=>_0x474850(new Error(_0x46f3cb(0x1ab)+_0x46f3cb(0x187)+_0x46f3cb(0x1e0)+(_0xf0561?.[_0x46f3cb(0x194)]||_0xf0561))))['on'](_0x46f3cb(0x164),()=>_0x4f279c())['run']();});const _0x442b1c=await _0x40cd92['readFile'](_0x5ac6f5);if(!_0x442b1c||_0x442b1c[_0x5acde4(0x16e)]===-0x91d*0x2+-0x3*0x407+0x1e4f)throw new Error(_0x5acde4(0x179)+_0x5acde4(0x1cf)+_0x5acde4(0x18f));return _0x442b1c;}finally{try{await _0x40cd92[_0x5acde4(0x1e4)](_0x6039ee);}catch(_0x25ed22){}try{await _0x40cd92[_0x5acde4(0x1e4)](_0x5ac6f5);}catch(_0x2a396c){}}}async function webpBufferToImage(_0xb31efa,_0x4822c7=_0x60cb7c(0x201)){const _0x33840f=_0x60cb7c,_0x2af93d=await getSharp(),_0x230ef9=_0x2af93d(_0xb31efa,{'animated':![]});if(_0x4822c7===_0x33840f(0x180)||_0x4822c7===_0x33840f(0x1be))return _0x230ef9[_0x33840f(0x180)]({'quality':0x5a})[_0x33840f(0x1fc)]();return _0x230ef9['png']()[_0x33840f(0x1fc)]();}function _0x2ba6(_0x28d9ab,_0x3247a1){const _0x41e61a=_0x1fc9();return _0x2ba6=function(_0x47b223,_0x2839e9){_0x47b223=_0x47b223-(0x2260+-0xbfd+-0x1500);let _0x3124f4=_0x41e61a[_0x47b223];return _0x3124f4;},_0x2ba6(_0x28d9ab,_0x3247a1);}export async function onMessage(_0xbfcb01){const _0x3e2264=_0x60cb7c;try{if(!_0xbfcb01||!_0xbfcb01['key']||!_0xbfcb01['isCommand'])return;if(!botInstance)botInstance=_0xbfcb01[_0x3e2264(0x181)]||_0xbfcb01[_0x3e2264(0x174)]||_0xbfcb01[_0x3e2264(0x19e)]||null;const _0x3b6116=_0xbfcb01[_0x3e2264(0x214)]['id'];if(_0x3b6116&&respondedMsgIds[_0x3e2264(0x165)](_0x3b6116))return;_0x3b6116&&(respondedMsgIds[_0x3e2264(0x1a5)](_0x3b6116),setTimeout(()=>respondedMsgIds[_0x3e2264(0x18e)](_0x3b6116),-0x9c4f*-0x1+0x228e*-0x6+-0x11*-0x9e5));const _0x40d7ae=(_0xbfcb01[_0x3e2264(0x206)]||'')[_0x3e2264(0x20c)](),[_0x596137,..._0x392adc]=_0x40d7ae[_0x3e2264(0x176)](/\s+/),_0x3f5775=(_0x596137||'')[_0x3e2264(0x209)+'e']();if(!commands[_0x3e2264(0x21b)](_0x3f5775))return;const _0x2823d7=_0xbfcb01['key'][_0x3e2264(0x1f6)]||_0xbfcb01['remoteJid']||'',_0x5b0954=String(_0x2823d7)[_0x3e2264(0x204)]('@g.us'),_0x4f949c=getBotJid();let _0x5488cb=_0x2823d7;const _0x116756=Boolean(_0xbfcb01[_0x3e2264(0x214)]?.[_0x3e2264(0x1f3)]);let _0x3e4425=_0x116756;if(_0x116756&&_0x4f949c)_0x5488cb=_0x4f949c;if(!_0x3e4425){if(_0x5b0954)_0x3e4425=await isadmin(botInstance,_0xbfcb01)['catch'](()=>![]);else{const _0x4e5714=await isSudo(botInstance,_0xbfcb01)[_0x3e2264(0x177)](()=>![]);if(_0x4e5714){const {findings:_0x1f7040}=userJidFromCtx(_0xbfcb01),_0x4b138c=await findStoredMatchFromFindings(_0x1f7040);_0x4b138c&&(_0x3e4425=!![],_0x5488cb=_0x4b138c);}}}if(!_0x3e4425)return;const _0x3be1a5=_0x392adc[_0x3e2264(0x182)]('\x20');try{switch(_0x3f5775){case _0x3e2264(0x1e6):case's':await handleStickerCreation(_0x5488cb,_0x3be1a5,_0xbfcb01);break;case _0x3e2264(0x1fa):await handleStickerToImage(_0x5488cb,_0xbfcb01);break;case _0x3e2264(0x195):await handleStickerToVideo(_0x5488cb,_0xbfcb01);break;}}catch(_0xcb7c9c){error(_0xcb7c9c,'['+name+(']\x20Handler\x20'+'error:\x20')+(_0xcb7c9c?.[_0x3e2264(0x194)]||_0xcb7c9c));try{await botInstance[_0x3e2264(0x198)+'e'](_0x5488cb,{'text':'An\x20unexpec'+'ted\x20error\x20'+_0x3e2264(0x1b0)+_0x3e2264(0x1ca)+_0x3e2264(0x185)+'\x20request.'},{'quoted':_0xbfcb01['ms']});}catch(_0x3049de){error(_0x3049de,'['+name+(_0x3e2264(0x17a)+_0x3e2264(0x1f5)+'or\x20message'));}}}catch(_0x3667dd){error(_0x3667dd,'['+name+(']\x20onMessag'+_0x3e2264(0x16b)+_0x3e2264(0x1cc))+(_0x3667dd?.[_0x3e2264(0x194)]||_0x3667dd));}}async function handleStickerCreation(_0x579134,_0x55c658,_0x11fa70){const _0x54421d=_0x60cb7c,_0x4e13fa=getQuotedMessage(_0x11fa70),_0x1e14cf=_0x4e13fa?.[_0x54421d(0x1a3)+'ge']||_0x11fa70[_0x54421d(0x194)]?.[_0x54421d(0x1a3)+'ge'],_0xe09556=_0x4e13fa?.[_0x54421d(0x1b1)+'ge']||_0x11fa70[_0x54421d(0x194)]?.[_0x54421d(0x1b1)+'ge'];if(!_0x1e14cf&&!_0xe09556)return botInstance['sendMessag'+'e'](_0x579134,{'text':_0x54421d(0x1f9)+'eply\x20to\x20an'+'\x20image\x20or\x20'+_0x54421d(0x196)+'send\x20it\x20wi'+_0x54421d(0x189)+_0x54421d(0x17c)},{'quoted':_0x11fa70['ms']});const _0x4c9541=(_0x55c658||'')['trim']()||_0x54421d(0x21a),_0x180f54=_0x54421d(0x21a);try{const _0x87df1=await getBaileysModule(),_0x5919a2=_0x87df1[_0x54421d(0x200)+_0x54421d(0x1a4)+_0x54421d(0x1a7)]||_0x87df1['default']?.[_0x54421d(0x200)+_0x54421d(0x1a4)+'essage'];if(!_0x5919a2)throw new Error(_0x54421d(0x200)+_0x54421d(0x1a4)+_0x54421d(0x1cd)+_0x54421d(0x1ac)+_0x54421d(0x168)+_0x54421d(0x1c9)+_0x54421d(0x186));let _0x1bedb5,_0x5bf818=![];if(_0x1e14cf){const _0x134153=await _0x5919a2(_0x1e14cf,_0x54421d(0x1d5));_0x1bedb5=await streamToBuffer(_0x134153);}else{if(_0xe09556){if((_0xe09556[_0x54421d(0x21d)]||-0x1c*-0x6d+-0x59c+-0x650)>-0x1*-0x12e9+-0x1*-0x1f39+-0x3213)return botInstance[_0x54421d(0x198)+'e'](_0x579134,{'text':'❌\x20Video\x20is'+'\x20too\x20long.'+_0x54421d(0x18a)+_0x54421d(0x19f)+_0x54421d(0x1c8)+_0x54421d(0x170)+'s.'},{'quoted':_0x11fa70['ms']});const _0x1ff92e=await _0x5919a2(_0xe09556,_0x54421d(0x1a1));_0x1bedb5=await streamToBuffer(_0x1ff92e),_0x5bf818=!![];}}if(!_0x1bedb5||_0x1bedb5[_0x54421d(0x16e)]===-0x2622+-0x2*-0x54b+-0xdc6*-0x2)throw new Error('No\x20media\x20b'+'uffer\x20obta'+'ined\x20from\x20'+_0x54421d(0x194));let _0x39eb5e;!_0x5bf818?_0x39eb5e=await imageBufferToWebp(_0x1bedb5,{'pack':_0x180f54,'author':_0x4c9541,'quality':0x50}):_0x39eb5e=await videoBufferToWebp(_0x1bedb5,{'maxDurationSec':0xf,'quality':0x4b});if(!_0x39eb5e||_0x39eb5e[_0x54421d(0x16e)]===-0x236c+0xfab+-0x1*-0x13c1)throw new Error(_0x54421d(0x171)+_0x54421d(0x1bd)+_0x54421d(0x1ef)+'er');await botInstance[_0x54421d(0x198)+'e'](_0x579134,{'sticker':_0x39eb5e},{'quoted':_0x11fa70['ms']});}catch(_0x34885c){error(_0x34885c,_0x54421d(0x21f)+'Sticker\x20cr'+_0x54421d(0x163)+_0x54421d(0x16f));try{await botInstance['sendMessag'+'e'](_0x579134,{'text':'❌\x20Failed\x20t'+_0x54421d(0x172)+_0x54421d(0x1d6)+(_0x34885c?.[_0x54421d(0x194)]||_0x34885c)},{'quoted':_0x11fa70['ms']});}catch(_0x2e2180){error(_0x2e2180,_0x54421d(0x21f)+_0x54421d(0x199)+'send\x20failu'+_0x54421d(0x1c6));}}}async function handleStickerToImage(_0x54ac8d,_0x2fc947){const _0x429d30=_0x60cb7c,_0x8298e1=getQuotedMessage(_0x2fc947);if(!_0x8298e1?.[_0x429d30(0x1ba)+_0x429d30(0x1b9)])return botInstance['sendMessag'+'e'](_0x54ac8d,{'text':_0x429d30(0x1f9)+_0x429d30(0x188)+'sticker\x20to'+_0x429d30(0x1cb)+_0x429d30(0x17d)+_0x429d30(0x197)},{'quoted':_0x2fc947['ms']});if(_0x8298e1[_0x429d30(0x1ba)+'sage'][_0x429d30(0x167)])return botInstance['sendMessag'+'e'](_0x54ac8d,{'text':_0x429d30(0x202)+_0x429d30(0x20a)+'d\x20sticker.'+_0x429d30(0x1c5)+_0x429d30(0x17b)+_0x429d30(0x1ce)+_0x429d30(0x1d9)},{'quoted':_0x2fc947['ms']});try{const _0x2e4a1a=await getBaileysModule(),_0x34fa9c=_0x2e4a1a['downloadCo'+_0x429d30(0x1a4)+_0x429d30(0x1a7)]||_0x2e4a1a[_0x429d30(0x16c)]?.[_0x429d30(0x200)+_0x429d30(0x1a4)+_0x429d30(0x1a7)];if(!_0x34fa9c)throw new Error(_0x429d30(0x200)+_0x429d30(0x1a4)+_0x429d30(0x1cd)+_0x429d30(0x1ac));const _0xbe385b=await _0x34fa9c(_0x8298e1[_0x429d30(0x1ba)+_0x429d30(0x1b9)],_0x429d30(0x1d5)),_0x440878=await streamToBuffer(_0xbe385b);if(!_0x440878||_0x440878['length']===-0x2*-0x35+0x3*-0x77f+0x1613)throw new Error(_0x429d30(0x216)+'ata\x20extrac'+_0x429d30(0x1dd)+_0x429d30(0x212));const _0x946d63=await webpBufferToImage(_0x440878,'png');await botInstance[_0x429d30(0x198)+'e'](_0x54ac8d,{'image':_0x946d63,'caption':_0x429d30(0x21a)},{'quoted':_0x2fc947['ms']});}catch(_0x4085e0){error(_0x4085e0,_0x429d30(0x21f)+'Sticker\x20to'+_0x429d30(0x1c1)+'version\x20fa'+_0x429d30(0x210));try{await botInstance['sendMessag'+'e'](_0x54ac8d,{'text':_0x429d30(0x1fe)+_0x429d30(0x1b3)+'sticker\x20to'+'\x20image:\x20'+(_0x4085e0?.[_0x429d30(0x194)]||_0x4085e0)},{'quoted':_0x2fc947['ms']});}catch(_0xb73359){error(_0xb73359,_0x429d30(0x21f)+_0x429d30(0x199)+_0x429d30(0x218)+_0x429d30(0x1c6));}}}async function handleStickerToVideo(_0x23cc17,_0x51aa31){const _0x5d4db2=_0x60cb7c,_0x1082fd=getQuotedMessage(_0x51aa31);if(!_0x1082fd?.[_0x5d4db2(0x1ba)+_0x5d4db2(0x1b9)]||!_0x1082fd[_0x5d4db2(0x1ba)+_0x5d4db2(0x1b9)][_0x5d4db2(0x167)])return botInstance[_0x5d4db2(0x198)+'e'](_0x23cc17,{'text':'ℹ️\x20Please\x20r'+_0x5d4db2(0x1bf)+'\x20*animated'+_0x5d4db2(0x1f1)+_0x5d4db2(0x1f0)+_0x5d4db2(0x19a)+'ideo.'},{'quoted':_0x51aa31['ms']});try{const _0x27cadf=await getBaileysModule(),_0x1e75fa=_0x27cadf[_0x5d4db2(0x200)+'ntentFromM'+'essage']||_0x27cadf[_0x5d4db2(0x16c)]?.[_0x5d4db2(0x200)+_0x5d4db2(0x1a4)+'essage'];if(!_0x1e75fa)throw new Error(_0x5d4db2(0x200)+_0x5d4db2(0x1a4)+_0x5d4db2(0x1cd)+_0x5d4db2(0x1ac));let _0x2d6b09,_0x6f1321;try{_0x2d6b09=await _0x1e75fa(_0x1082fd[_0x5d4db2(0x1ba)+'sage'],_0x5d4db2(0x1a1)),_0x6f1321=await streamToBuffer(_0x2d6b09);}catch(_0xd49864){_0x2d6b09=await _0x1e75fa(_0x1082fd[_0x5d4db2(0x1ba)+_0x5d4db2(0x1b9)],_0x5d4db2(0x1d5)),_0x6f1321=await streamToBuffer(_0x2d6b09);}if(!_0x6f1321||_0x6f1321[_0x5d4db2(0x16e)]===-0xa8+0x9*-0x3ee+0x2406)throw new Error('No\x20video\x20d'+_0x5d4db2(0x1d2)+_0x5d4db2(0x1dd)+_0x5d4db2(0x212));const _0x18ceb3=await webpToMp4(_0x6f1321);if(!_0x18ceb3||_0x18ceb3[_0x5d4db2(0x16e)]===-0xce0*0x1+0x1c45+-0xf65)throw new Error('Failed\x20to\x20'+_0x5d4db2(0x1a6)+_0x5d4db2(0x1ad)+_0x5d4db2(0x18d));await botInstance[_0x5d4db2(0x198)+'e'](_0x23cc17,{'video':_0x18ceb3,'caption':'tct'},{'quoted':_0x51aa31['ms']});}catch(_0x4751cc){error(_0x4751cc,_0x5d4db2(0x21f)+_0x5d4db2(0x1f7)+_0x5d4db2(0x20e)+_0x5d4db2(0x191)+_0x5d4db2(0x210));try{await botInstance[_0x5d4db2(0x198)+'e'](_0x23cc17,{'text':_0x5d4db2(0x1fe)+_0x5d4db2(0x1b3)+_0x5d4db2(0x1db)+_0x5d4db2(0x1c0)+(_0x4751cc?.[_0x5d4db2(0x194)]||_0x4751cc)},{'quoted':_0x51aa31['ms']});}catch(_0x460ad0){error(_0x460ad0,'[sticker]\x20'+_0x5d4db2(0x199)+_0x5d4db2(0x218)+_0x5d4db2(0x1c6));}}}