const _0x2117d3=_0x2170;(function(_0x5ca3a1,_0x1771f8){const _0x5be193=_0x2170,_0x3f346e=_0x5ca3a1();while(!![]){try{const _0x484778=parseInt(_0x5be193(0x142))/(-0x5fc*-0x5+0x2431+0x210e*-0x2)+parseInt(_0x5be193(0x152))/(0x127*0x19+0x2112+0x3ddf*-0x1)*(parseInt(_0x5be193(0x163))/(0x575+0x13*0x115+0x3b7*-0x7))+parseInt(_0x5be193(0x165))/(0xd8b*-0x1+-0x2437+-0x22a*-0x17)+parseInt(_0x5be193(0x17f))/(-0x1e7d+0x196*-0xa+0x2e5e)*(parseInt(_0x5be193(0x188))/(0x1*-0xc32+0xe*0x2b+0x9de))+parseInt(_0x5be193(0x176))/(0x4fd+-0x523*0x1+0x2d*0x1)+parseInt(_0x5be193(0x14c))/(0xaad+0x1*-0x2349+-0x1*-0x18a4)*(-parseInt(_0x5be193(0x160))/(-0x7f1+0x3*-0x89f+0x21d7))+-parseInt(_0x5be193(0x140))/(0x6*0x40c+0x1e8f*-0x1+0x15*0x4d);if(_0x484778===_0x1771f8)break;else _0x3f346e['push'](_0x3f346e['shift']());}catch(_0x501881){_0x3f346e['push'](_0x3f346e['shift']());}}}(_0x2daf,0x35*0x1896+-0x43c8c*0x2+0x7cbbf));import{jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';export const name='send';export const version=_0x2117d3(0x19a);export const priority=-0xb03+0x74b*0x3+-0xa7a;export const configKeys=[_0x2117d3(0x146)+_0x2117d3(0x13d)];export const commands=['snd'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(0x8f2+-0x7*0x482+-0x33d*-0x7)*(0x107b+0x13*0x1df+-0x3020);function markSendProcessed(_0x53658f){const _0x2ad323=_0x2117d3;if(!_0x53658f)return;if(processedSendKeys['has'](_0x53658f))try{clearTimeout(processedSendKeys[_0x2ad323(0x187)](_0x53658f));}catch(_0x509f52){}const _0x14f6a3=setTimeout(()=>processedSendKeys[_0x2ad323(0x17b)](_0x53658f),PROCESSED_SEND_TTL_MS);processedSendKeys['set'](_0x53658f,_0x14f6a3);}function isSendProcessed(_0xe47c34){return _0xe47c34&&processedSendKeys['has'](_0xe47c34);}function clearAllProcessedSends(){const _0x16d128=_0x2117d3;for(const _0x187f21 of processedSendKeys['values']())try{clearTimeout(_0x187f21);}catch(_0x5b4aac){}processedSendKeys[_0x16d128(0x158)]();}function setupSendApi(){const _0x6cfd72=_0x2117d3;if(!botRef)return;if(typeof botRef['sendMessag'+'e']===_0x6cfd72(0x178))sendApi=async(_0x4e2cc3,_0x240171,_0x1b4fca={})=>await botRef[_0x6cfd72(0x14b)+'e'](_0x4e2cc3,_0x240171,_0x1b4fca);else botRef[_0x6cfd72(0x16a)]&&typeof botRef[_0x6cfd72(0x16a)][_0x6cfd72(0x14b)+'e']===_0x6cfd72(0x178)?sendApi=async(_0x1264a9,_0x181a83,_0xa18d3d={})=>await botRef[_0x6cfd72(0x16a)][_0x6cfd72(0x14b)+'e'](_0x1264a9,_0x181a83,_0xa18d3d):sendApi=null;}function _0x2daf(){const _0x369fe4=[')\x20or\x20a\x20val','o\x20send\x20a\x20m','nstance','848906DFPnhv','❌\x20Failed\x20t','ly\x20sent\x20to','[send]\x20cle','XXXX\x0aHello','d\x20skipped\x20','clear','\x20in\x20groups','dler\x20error','p.net','ig\x20handler','config\x20res','length','✅\x20Message\x20','1557XBRQxz','alize\x20requ','key','3fRPluG','@s.whatsap','670008JFFIAh','=false)','up\x20command','@g.us','tricted).','sock','id\x20JID.',';\x20set\x20ALLO','[send]\x20ref','`\x20(server-','[send]\x20isa','ReloadConf','[send]\x20sen','reshConfig','replace','licate\x20sen','[send]\x20han','3840039QrEIdy','s\x20only\x20(e.','function','PM\x20default','includes','delete','self.','dApi\x20not\x20a','[send]\x20dup','20jqYaWb','[send]\x20ini','ires\x20bot\x20i','fig:\x20ALLOW','toLowerCas','extendedTe','g\x20to\x20','[send]\x20hot','get','637986DEpPpX','W_GROUP_CO','vailable','sendApi\x20no','catch','a\x20test\x20mes','Only\x20group','essage\x20to\x20','essage>`\x0aE','d\x202547XXXX','t\x20message\x20','indexOf','Could\x20not\x20','[send]\x20gro','the\x20bot\x20it','aned\x20up','to\x20','message','1.0.0','[send]\x20fai','remoteJid','sage.','for\x20','onal\x20digit','Refusing\x20t','trim','t\x20availabl','P_COMMANDS','conversati','\x20internati','14238790qnCYTr','Usage:\x20`sn','406901caNrvt','dmin\x20check','string','et\x20\x22','ALLOW_GROU','split','\x20failed:\x20','\x20error:\x20','text','sendMessag','12008jKxZbT','MMANDS=tru','led\x20sendin'];_0x2daf=function(){return _0x369fe4;};return _0x2daf();}async function safeSend(_0x395557,_0x307b28,_0xb2c755={}){const _0x20c074=_0x2117d3;if(!sendApi){warn(_0x20c074(0x171)+_0x20c074(0x17d)+_0x20c074(0x18a));throw new Error('sendApi\x20no'+_0x20c074(0x13c)+'e');}return await sendApi(_0x395557,_0x307b28,_0xb2c755);}function refreshConfig(){const _0x4f4ec3=_0x2117d3;try{const _0x4030ff=typeof getConfig===_0x4f4ec3(0x178)?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x4030ff[_0x4f4ec3(0x146)+_0x4f4ec3(0x13d)],info('[send]\x20con'+_0x4f4ec3(0x182)+'_GROUP_COM'+'MANDS='+ALLOW_GROUP_COMMANDS);}catch(_0x4c63f3){warn(_0x4f4ec3(0x16d)+_0x4f4ec3(0x172)+_0x4f4ec3(0x149)+(_0x4c63f3?.['message']||_0x4c63f3));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0xb69602=_0x2117d3;try{refreshConfig();}catch(_0x5c0ab2){warn(_0xb69602(0x186)+_0xb69602(0x170)+_0xb69602(0x15c)+_0xb69602(0x149)+(_0x5c0ab2?.['message']||_0x5c0ab2));}});}catch(_0xf5710b){}function _0x2170(_0x23fd0c,_0x4fc8d1){const _0x7ae8a9=_0x2daf();return _0x2170=function(_0x1f420c,_0x45ff02){_0x1f420c=_0x1f420c-(0x94d+0x1f9f+-0x27b5);let _0x22400c=_0x7ae8a9[_0x1f420c];return _0x22400c;},_0x2170(_0x23fd0c,_0x4fc8d1);}refreshConfig();function normalizeTarget(_0x1096b4){const _0x2ad2f0=_0x2117d3;if(!_0x1096b4)return null;let _0x23c392=String(_0x1096b4)['trim']();if(_0x23c392[_0x2ad2f0(0x17a)]('@'))try{return jidNormalizedUser(_0x23c392);}catch(_0x12f2f6){return _0x23c392;}_0x23c392=_0x23c392[_0x2ad2f0(0x173)](/[^\d]/g,'');if(!_0x23c392)return null;if(_0x23c392['length']<0x2*-0xb96+-0x1826+-0x13*-0x27e||_0x23c392['length']>-0x2264+-0x3*-0x742+0xcad)return null;return _0x23c392+(_0x2ad2f0(0x164)+_0x2ad2f0(0x15b));}export async function initialize(_0x1ac9fa){const _0x281535=_0x2117d3;if(!_0x1ac9fa)throw new Error('send.initi'+_0x281535(0x161)+_0x281535(0x181)+_0x281535(0x151));botRef=_0x1ac9fa,setupSendApi(),refreshConfig(),info(_0x281535(0x180)+'tialized\x20('+_0x281535(0x179)+_0x281535(0x16c)+_0x281535(0x189)+_0x281535(0x14d)+'e\x20to\x20allow'+_0x281535(0x159)+')');}export async function onMessage(_0x52d7e4){const _0x2567d5=_0x2117d3;try{if(!_0x52d7e4||!_0x52d7e4[_0x2567d5(0x162)]||!_0x52d7e4[_0x2567d5(0x199)])return;const _0x5e1439=typeof _0x52d7e4[_0x2567d5(0x14a)]===_0x2567d5(0x144)&&_0x52d7e4[_0x2567d5(0x14a)][_0x2567d5(0x13b)]()?_0x52d7e4[_0x2567d5(0x14a)][_0x2567d5(0x13b)]():_0x52d7e4[_0x2567d5(0x199)]?.[_0x2567d5(0x13e)+'on']||_0x52d7e4['message']?.[_0x2567d5(0x184)+'xtMessage']?.[_0x2567d5(0x14a)]||'';if(!_0x5e1439)return;const _0x2f0c0f=_0x5e1439[_0x2567d5(0x13b)](),_0x21c7a8=_0x2f0c0f[_0x2567d5(0x147)](/\s+/),_0x135a5c=_0x21c7a8[-0x19*-0x5c+-0x1d*-0x123+-0x29f3][_0x2567d5(0x183)+'e']();if(!(_0x135a5c==='snd'||/^\/snd\b/i['test'](_0x2f0c0f)))return;const _0x5a4387=_0x52d7e4[_0x2567d5(0x162)][_0x2567d5(0x19c)],_0x19067a=typeof _0x5a4387===_0x2567d5(0x144)&&_0x5a4387['endsWith'](_0x2567d5(0x168));if(_0x19067a){if(!ALLOW_GROUP_COMMANDS){info(_0x2567d5(0x195)+_0x2567d5(0x167)+'\x20ignored\x20('+'ALLOW_GROU'+_0x2567d5(0x13d)+_0x2567d5(0x166));return;}let _0x4d002c=![];try{_0x4d002c=await isadmin(botRef,_0x52d7e4);}catch(_0x1fbe15){warn(_0x2567d5(0x16f)+_0x2567d5(0x143)+_0x2567d5(0x148)+(_0x1fbe15?.[_0x2567d5(0x199)]||_0x1fbe15)),_0x4d002c=![];}if(!_0x4d002c){if(sendApi)try{await safeSend(_0x5a4387,{'text':_0x2567d5(0x18e)+'\x20admins\x20ma'+'y\x20use\x20`snd'+_0x2567d5(0x16e)+_0x2567d5(0x15d)+_0x2567d5(0x169),'quoted':_0x52d7e4[_0x2567d5(0x162)]});}catch(_0x147d22){}return;}}const _0x346c92=_0x21c7a8[0x245*0x4+-0x1*0x245c+-0x27b*-0xb]||null;let _0x54c0e3='';if(_0x346c92){const _0x56872e=_0x2f0c0f[_0x2567d5(0x193)](_0x346c92)+_0x346c92[_0x2567d5(0x15e)];_0x54c0e3=_0x2f0c0f['substring'](_0x56872e)['trim']();}if(!_0x346c92||!_0x54c0e3){if(sendApi){const _0x12b68d=_0x2567d5(0x141)+'d\x20<number\x20'+'or\x20JID>\x20<m'+_0x2567d5(0x190)+'xample:\x0asn'+_0x2567d5(0x191)+_0x2567d5(0x156)+',\x20this\x20is\x20'+_0x2567d5(0x18d)+_0x2567d5(0x137);await safeSend(_0x5a4387,{'text':_0x12b68d,'quoted':_0x52d7e4[_0x2567d5(0x162)]});}return;}const _0xde5d57=normalizeTarget(_0x346c92);if(!_0xde5d57){if(sendApi)await safeSend(_0x5a4387,{'text':_0x2567d5(0x194)+'parse\x20targ'+_0x2567d5(0x145)+_0x346c92+('\x22.\x20Provide'+_0x2567d5(0x13f)+_0x2567d5(0x139)+_0x2567d5(0x177)+'g.\x202547...'+_0x2567d5(0x14f)+_0x2567d5(0x16b)),'quoted':_0x52d7e4[_0x2567d5(0x162)]});return;}try{const _0x1f6217=getBotJid();if(_0x1f6217&&_0xde5d57===_0x1f6217){if(sendApi)await safeSend(_0x5a4387,{'text':_0x2567d5(0x13a)+_0x2567d5(0x150)+_0x2567d5(0x18f)+_0x2567d5(0x196)+_0x2567d5(0x17c),'quoted':_0x52d7e4[_0x2567d5(0x162)]});return;}}catch(_0x5e8009){}const _0x564b21=String(_0x52d7e4[_0x2567d5(0x162)]['id']||''),_0x4db2ce=_0x564b21+'::'+_0xde5d57;if(isSendProcessed(_0x4db2ce)){info(_0x2567d5(0x17e)+_0x2567d5(0x174)+_0x2567d5(0x157)+_0x2567d5(0x138)+_0x4db2ce);return;}markSendProcessed(_0x4db2ce);const _0x2276a8={'text':_0x54c0e3};try{if(!sendApi)throw new Error(_0x2567d5(0x18b)+_0x2567d5(0x13c)+'e');await safeSend(_0xde5d57,_0x2276a8),info(_0x2567d5(0x171)+_0x2567d5(0x192)+'to\x20'+_0xde5d57),sendApi&&await safeSend(_0x5a4387,{'text':_0x2567d5(0x15f)+'successful'+_0x2567d5(0x154)+'\x20'+_0xde5d57+'.','quoted':_0x52d7e4[_0x2567d5(0x162)]})[_0x2567d5(0x18c)](()=>{});}catch(_0x210eed){error(_0x210eed,_0x2567d5(0x19b)+_0x2567d5(0x14e)+_0x2567d5(0x185)+_0xde5d57+':\x20'+(_0x210eed?.['message']||_0x210eed));if(sendApi)await safeSend(_0x5a4387,{'text':_0x2567d5(0x153)+'o\x20deliver\x20'+_0x2567d5(0x198)+_0xde5d57+':\x20'+(_0x210eed?.[_0x2567d5(0x199)]||_0x210eed),'quoted':_0x52d7e4[_0x2567d5(0x162)]})['catch'](()=>{});}}catch(_0x560690){error(_0x560690,_0x2567d5(0x175)+_0x2567d5(0x15a)+':\x20'+(_0x560690?.[_0x2567d5(0x199)]||_0x560690));}}export async function cleanup(){const _0x5c35fe=_0x2117d3;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x5c35fe(0x155)+_0x5c35fe(0x197));}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};