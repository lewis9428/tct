const _0x3b840d=_0x1ac4;function _0x4b46(){const _0x132b71=['4491DPlpKi',']\x20cleanup\x20','3577512PuYoZv','AUTOREACT_','value','\x20updated_a','iled:\x20','\x20for\x20statu','text','STATUS','listRespon','\x27enabled\x27,','\x20(fallback','INSERT\x20INT','\x20without\x20u','t)\x20VALUES\x20','1153218Sgsaif',']\x20messages','instance','\x20\x20\x20\x20ON\x20CON','messages.u','REPLACE\x20IN','selectedRo','LE\x20IF\x20NOT\x20','IGNORE_BOT','enable','EXISTS\x20aut','e\x20error:\x20','\x20\x20\x20\x20->\x20sho','message','react_pref','\x20DEFAULT\x200','split',']\x20created\x20','[unknown]','ponseMessa','uires\x20bot\x20','30mtNwDD','conversati',']\x20hotReloa','efault\x20ena','rval\x20(ms):','sock','ted_at\x20col','remoteJid','ist','ENABLED','\x20status\x20\x20\x20','_USER','294995acSAnK',']\x20Enabled.','sureTable)','set','e\x20bot\x20JID\x20','\x20\x20\x20key\x20TEX',']\x20initiali','dated_at).','t\x20user:\x20','\x0a\x20\x20\x20\x20\x20\x20);','\x20off|disab','ed\x27','DB\x20error).','slice',']\x20cleaned\x20','state','xtMessage','*AutoReact','o\x20enable\x20(','26408ewbjIm','LL,\x0a\x20\x20\x20\x20\x20\x20','\x20available','tatus','ALTER\x20TABL','isArray','hod\x20availa','utoreact_p','FLICT(key)','6220536QFaUAF',')\x20VALUES\x20(','umn\x20(will\x20','r:\x20','\x20to\x20status',',\x20MinInter','trim','e\x20(fallbac','caption','\x20SET\x20value','tuses\x0a','key','selectedBu',']\x20Failed\x20t','umn','INTEGER\x20DE','ble\x20reacti','t_prefs\x20AD','seMessage','exec','false',']\x20failed\x20t','now','catch','SELECT\x20val','delete','run','\x0aTerminalR','KEY,\x0a\x20\x20\x20\x20\x20','pdated_at\x20',']\x20ensureTa','392atjZOO',']\x20no\x20sendM','alization\x20','ndler\x20erro','w\x20current\x20','disable','61195MgLojQ','ct_prefs\x20(','join','(\x27enabled\x27','failed\x20(en','abled=','usReaction','Status\x20(PM','state/conf','cluded.upd','\x20\x20\x20\x20->\x20ena',']\x20inner\x20ha',']\x20Cannot\x20r','te:\x20*','continue):','O\x20autoreac',']\x20reacted\x20',']\x20refreshC','.upsert\x20ha','at\x20INTEGER','no\x20column','D\x20COLUMN\x20u','toreact_pr','le\x20\x20->\x20dis','ailed:\x20','(DB\x20error)','=excluded.','CREATE\x20TAB','\x20?)','wId','ble\x20error:','eply\x20to\x20ow','AL_MS','o\x20disable\x20','irmation\x20f','autoReactS','all','MIN_INTERV','videoMessa','aded\x20confi','ctReply','random','updated_at','participan','llback\x20fai',']\x20saved\x20en','\x20insert\x20fa',',\x20reaction','singleSele','default\x20en','led=','ng\x20to\x20stat','k\x20insert).','efs\x20WHERE\x20',']\x20sendStat','3846bQOfho','le_info(\x27a','true','ble\x20to\x20sen','PRAGMA\x20tab','ttonId','has\x20no\x20col','key=\x27enabl','ated_at','status@bro','EXT\x20NOT\x20NU','oreact_pre','length','isCommand','value,\x20upd','t_prefs\x20(k','function','REACTIONS','has','error:\x20',']\x20saveEnab','[autoreact','sed).\x20enab','get','s\x20(with\x20up',',\x27false\x27,\x20','name','led:\x20','is\x20not\x20ava','sendMessag','ey,\x20value,','tion','psert','essage\x20API','ue\x20FROM\x20au','s\x20reaction','onfig\x20erro','urrent\x20Sta','\x20DO\x20UPDATE','imageMessa','floor','6937kVuxUd','map','adcast',']\x20hot-relo','o\x20add\x20upda','ated_at=ex',']\x20ensure\x20d','toLowerCas','key,\x20value','\x20on|enable','table\x20auto','ing\x20to\x20sta','*\x0aMin\x20Inte','\x0aIgnore\x20bo','T\x20PRIMARY\x20',']\x20readEnab','ed\x27\x20LIMIT\x20','extendedTe','2YQptYF','\x20autoreact','INSERT\x20OR\x20','includes','ledFromDb\x20','status'];_0x4b46=function(){return _0x132b71;};return _0x4b46();}(function(_0x5ef992,_0x2ec6a8){const _0x4e287d=_0x1ac4,_0x43d697=_0x5ef992();while(!![]){try{const _0x3478ce=parseInt(_0x4e287d(0x152))/(-0xa6b+0x1*-0x1ec9+-0x3bf*-0xb)*(-parseInt(_0x4e287d(0x11b))/(-0x1c95+0x84a+-0x144d*-0x1))+-parseInt(_0x4e287d(0x123))/(0xb6f*-0x1+-0x1a71*0x1+0x25e3)+-parseInt(_0x4e287d(0x18d))/(0xed+0x1b7e+-0x1c67)*(-parseInt(_0x4e287d(0x193))/(-0xdf2+0x23de*-0x1+0x31d5))+-parseInt(_0x4e287d(0xe0))/(0x12f3+0x13d*-0x1d+0x10fc)*(parseInt(_0x4e287d(0x109))/(0x1bf4+-0x1065*-0x1+-0x2c52))+parseInt(_0x4e287d(0x165))/(0x5*-0x4fd+0x25ea+0xcf1*-0x1)*(parseInt(_0x4e287d(0x121))/(0x4b5+-0x1*0x25a+-0x252))+-parseInt(_0x4e287d(0x146))/(-0xfba*0x2+-0xf39+0x2eb7)*(parseInt(_0x4e287d(0x131))/(-0x1ef7+-0x973+-0x2875*-0x1))+parseInt(_0x4e287d(0x16e))/(0x1df3+0x171*0xa+-0x8dd*0x5);if(_0x3478ce===_0x2ec6a8)break;else _0x43d697['push'](_0x43d697['shift']());}catch(_0x32ac7d){_0x43d697['push'](_0x43d697['shift']());}}}(_0x4b46,0xcb72a+0x147b08*0x1+-0x9e3*0x1ed));import{info,warn}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name=_0x3b840d(0xcc)+_0x3b840d(0x168);export const version='1.2.0';export const priority=-0x2*0x10c9+0x1*-0x19d3+0x3bb4;export const configKeys=[_0x3b840d(0x124)+_0x3b840d(0x12a)];export const commands=['autoreact'];function _0x1ac4(_0x1b9e84,_0x3faece){const _0x6b6889=_0x4b46();return _0x1ac4=function(_0x102bfc,_0x59f756){_0x102bfc=_0x102bfc-(-0x5*0x2f9+0x7*0x56f+-0x2*0xb32);let _0x2224c0=_0x6b6889[_0x102bfc];return _0x2224c0;},_0x1ac4(_0x1b9e84,_0x3faece);}const FALLBACKS={'MIN_INTERVAL_MS':0x1388,'REACTIONS':['ðŸš€','ðŸŒŽ','â™»ï¸'],'IGNORE_BOT_USER':![]};let botRef=null,shuttingDown=![],lastReactionTime=0x1*-0x7df+0x1beb+-0x140c,messageHandler=null;const CFG={'MIN_INTERVAL_MS':FALLBACKS[_0x3b840d(0xce)+_0x3b840d(0xc9)],'REACTIONS':FALLBACKS['REACTIONS'][_0x3b840d(0x15f)](),'IGNORE_BOT_USER':FALLBACKS['IGNORE_BOT'+'_USER']};function refreshConfig(){const _0x1bf75d=_0x3b840d;try{const _0x1a115d=getConfig()||{},_0x20b186=_0x1a115d&&_0x1a115d['AUTOREACT_'+_0x1bf75d(0x12a)]?_0x1a115d[_0x1bf75d(0x124)+_0x1bf75d(0x12a)]:{};CFG['MIN_INTERV'+_0x1bf75d(0xc9)]=Number(_0x20b186[_0x1bf75d(0xce)+_0x1bf75d(0xc9)])||CFG['MIN_INTERV'+_0x1bf75d(0xc9)],CFG[_0x1bf75d(0x139)+_0x1bf75d(0x151)]=typeof _0x20b186['IGNORE_BOT'+_0x1bf75d(0x151)]==='boolean'?_0x20b186['IGNORE_BOT'+_0x1bf75d(0x151)]:CFG[_0x1bf75d(0x139)+'_USER'];if(Array['isArray'](_0x20b186[_0x1bf75d(0xf1)])&&_0x20b186['REACTIONS'][_0x1bf75d(0xec)]>0x5ea*-0x2+0x20a9+-0x14d5*0x1)CFG['REACTIONS']=_0x20b186[_0x1bf75d(0xf1)][_0x1bf75d(0x15f)]();else typeof _0x20b186[_0x1bf75d(0xf1)]==='string'&&_0x20b186[_0x1bf75d(0xf1)][_0x1bf75d(0x174)]()[_0x1bf75d(0xec)]>-0xcb5+-0x2653+0x3308&&(CFG[_0x1bf75d(0xf1)]=_0x20b186[_0x1bf75d(0xf1)][_0x1bf75d(0x141)](',')[_0x1bf75d(0x10a)](_0x1a01b5=>_0x1a01b5['trim']())['filter'](Boolean));}catch(_0x177558){warn('['+name+(_0x1bf75d(0x1a4)+_0x1bf75d(0x104)+_0x1bf75d(0x171))+(_0x177558?.['message']||_0x177558));}}try{hotReloadConfig&&hotReloadConfig(()=>{const _0x5d0eef=_0x3b840d;refreshConfig(),info('['+name+(_0x5d0eef(0x10c)+_0x5d0eef(0xd0)+'g.'));});}catch(_0xaace04){warn('['+name+(_0x3b840d(0x148)+'dConfig\x20re'+'gistration'+'\x20failed:\x20')+(_0xaace04?.[_0x3b840d(0x13e)]||_0xaace04));}refreshConfig();async function ensureTable(){const _0x444016=_0x3b840d;try{let _0x3e2a20=[];try{const _0x43e8c3=await db[_0x444016(0xcd)](_0x444016(0xe4)+_0x444016(0xe1)+_0x444016(0x16c)+'refs\x27)');_0x3e2a20=(_0x43e8c3||[])[_0x444016(0x10a)](_0xb089ef=>_0xb089ef[_0x444016(0xfa)]);}catch(_0x350441){_0x3e2a20=[];}if(!_0x3e2a20['length'])await db[_0x444016(0x181)](_0x444016(0x1ae)+_0x444016(0x138)+_0x444016(0x13b)+_0x444016(0xeb)+'fs\x20(\x0a\x20\x20\x20\x20\x20'+_0x444016(0x157)+_0x444016(0x117)+_0x444016(0x18a)+'\x20\x20\x20value\x20T'+_0x444016(0xea)+_0x444016(0x166)+'\x20\x20updated_'+_0x444016(0x1a6)+_0x444016(0x140)+_0x444016(0x15b)),info('['+name+(_0x444016(0x142)+_0x444016(0x113)+_0x444016(0x13f)+_0x444016(0xf8)+_0x444016(0x159))),_0x3e2a20=[_0x444016(0x179),_0x444016(0x125),'updated_at'];else{if(!_0x3e2a20[_0x444016(0x11e)](_0x444016(0xd3)))try{await db[_0x444016(0x188)](_0x444016(0x169)+'E\x20autoreac'+_0x444016(0x17f)+_0x444016(0x1a8)+_0x444016(0x18b)+_0x444016(0x17d)+'FAULT\x200'),info('['+name+(']\x20migrated'+'\x20autoreact'+'_prefs:\x20ad'+'ded\x20column'+_0x444016(0x126)+'t.'));}catch(_0x21d4a7){warn('['+name+(_0x444016(0x183)+_0x444016(0x10d)+_0x444016(0x14c)+_0x444016(0x170)+_0x444016(0x1a1)+'\x20')+(_0x21d4a7?.[_0x444016(0x13e)]||_0x21d4a7));}}try{const _0x4bfa02=await db['get'](_0x444016(0x186)+_0x444016(0x102)+_0x444016(0x1a9)+_0x444016(0xde)+_0x444016(0xe7)+_0x444016(0x15d));if(!_0x4bfa02){const _0x3a8fc3=Math['floor'](Date[_0x444016(0x184)]()/(-0x1f7b*-0x1+-0x3*0x86+-0x1a01));await db['run'](_0x444016(0x12e)+'O\x20autoreac'+_0x444016(0xef)+_0x444016(0xfe)+_0x444016(0x126)+_0x444016(0x130)+'(\x27enabled\x27'+_0x444016(0xf9)+'?)',[_0x3a8fc3]),info('['+name+(']\x20created\x20'+'default\x20en'+'abled=fals'+'e'));}}catch(_0x20a2b9){const _0x53d2b5=String(_0x20a2b9?.[_0x444016(0x13e)]||'')[_0x444016(0x110)+'e']();if(_0x53d2b5[_0x444016(0x11e)](_0x444016(0x1a7))||_0x53d2b5['includes'](_0x444016(0xe6)+_0x444016(0x17c)))try{const _0x1b84b4=Math['floor'](Date[_0x444016(0x184)]()/(-0x737+-0x493*0x5+0x2*0x10ff));await db[_0x444016(0x188)](_0x444016(0x11d)+_0x444016(0x136)+'TO\x20autorea'+'ct_prefs\x20('+_0x444016(0x111)+_0x444016(0x16f)+_0x444016(0x12c)+'\x27false\x27)'),info('['+name+(_0x444016(0x142)+_0x444016(0xda)+'abled=fals'+_0x444016(0x175)+_0x444016(0xdd)));}catch(_0x257249){warn('['+name+(']\x20fallback'+_0x444016(0xd7)+_0x444016(0x127))+(_0x257249?.[_0x444016(0x13e)]||_0x257249));}else warn('['+name+(_0x444016(0x10f)+_0x444016(0x149)+'bled\x20row\x20f'+_0x444016(0x1ab))+(_0x20a2b9?.[_0x444016(0x13e)]||_0x20a2b9));}}catch(_0x58c40b){warn('['+name+(_0x444016(0x18c)+_0x444016(0x1b1)+'\x20')+(_0x58c40b?.['message']||_0x58c40b));throw _0x58c40b;}}async function readEnabledFromDb(){const _0x25025c=_0x3b840d;try{const _0x16a78d=await db[_0x25025c(0xf7)](_0x25025c(0x186)+_0x25025c(0x102)+_0x25025c(0x1a9)+'efs\x20WHERE\x20'+'key=\x27enabl'+_0x25025c(0x119)+'1');if(!_0x16a78d)return![];const _0x2e3fa5=String(_0x16a78d[_0x25025c(0x125)])[_0x25025c(0x110)+'e']();return _0x2e3fa5==='true'||_0x2e3fa5==='1';}catch(_0x5f1e54){return warn('['+name+(_0x25025c(0x118)+_0x25025c(0x11f)+_0x25025c(0xf3))+(_0x5f1e54?.[_0x25025c(0x13e)]||_0x5f1e54)),![];}}async function saveEnabledToDb(_0x5629dd){const _0x31b510=_0x3b840d;try{const _0x55149a=_0x5629dd?_0x31b510(0xe2):_0x31b510(0x182),_0x27ca9a=Math[_0x31b510(0x108)](Date[_0x31b510(0x184)]()/(-0x1955*0x1+0x257+0xb*0x272));return await db[_0x31b510(0x188)]('INSERT\x20INT'+_0x31b510(0x1a2)+_0x31b510(0xef)+_0x31b510(0xfe)+_0x31b510(0x126)+_0x31b510(0x130)+_0x31b510(0x196)+',\x20?,\x20?)\x0a\x20\x20'+_0x31b510(0x134)+_0x31b510(0x16d)+_0x31b510(0x106)+_0x31b510(0x177)+_0x31b510(0x1ad)+_0x31b510(0xee)+_0x31b510(0x10e)+_0x31b510(0x19c)+_0x31b510(0xe8),[_0x55149a,_0x27ca9a]),info('['+name+(_0x31b510(0xd6)+_0x31b510(0x198))+_0x55149a),!![];}catch(_0x48582b){const _0x1067db=String(_0x48582b?.[_0x31b510(0x13e)]||'')['toLowerCas'+'e']();if(_0x1067db[_0x31b510(0x11e)]('has\x20no\x20col'+_0x31b510(0x17c))||_0x1067db['includes'](_0x31b510(0x1a7)))try{return await db['run']('INSERT\x20OR\x20'+_0x31b510(0x136)+'TO\x20autorea'+_0x31b510(0x194)+_0x31b510(0x111)+_0x31b510(0x16f)+_0x31b510(0x12c)+_0x31b510(0x1af),[val]),info('['+name+(_0x31b510(0xd6)+_0x31b510(0x198))+val+(_0x31b510(0x12d)+_0x31b510(0x12f)+'pdated_at)')),!![];}catch(_0x2b0670){return warn('['+name+(']\x20saveEnab'+'ledToDb\x20fa'+_0x31b510(0xd5)+_0x31b510(0xfb))+(_0x2b0670?.[_0x31b510(0x13e)]||_0x2b0670)),![];}return warn('['+name+(_0x31b510(0xf4)+'ledToDb\x20er'+'ror:\x20')+(_0x48582b?.['message']||_0x48582b)),![];}}function pickReactionEmoji(){const _0x16065d=_0x3b840d;if(!Array[_0x16065d(0x16a)](CFG[_0x16065d(0xf1)])||CFG[_0x16065d(0xf1)][_0x16065d(0xec)]===-0x1*0xa1b+-0x172f+-0x214a*-0x1)return null;return CFG['REACTIONS'][Math['floor'](Math[_0x16065d(0xd2)]()*CFG[_0x16065d(0xf1)][_0x16065d(0xec)])];}async function sendStatusReaction(_0x32353b,_0x52bf3e,_0x41659b){const _0x2d3c03=_0x3b840d;if(!_0x32353b||!_0x32353b[_0x2d3c03(0x179)]||!_0x52bf3e)return![];const _0x4d7228=_0x32353b[_0x2d3c03(0x179)]['remoteJid'],_0x33e5a1=_0x32353b['key']['participan'+'t'];try{const _0x3617fc={};if(_0x33e5a1||_0x41659b)_0x3617fc['statusJidL'+_0x2d3c03(0x14e)]=[_0x33e5a1,_0x41659b]['filter'](Boolean);if(botRef&&botRef[_0x2d3c03(0x14b)]&&typeof botRef[_0x2d3c03(0x14b)][_0x2d3c03(0xfd)+'e']==='function')return await botRef[_0x2d3c03(0x14b)]['sendMessag'+'e'](_0x4d7228,{'react':{'key':_0x32353b[_0x2d3c03(0x179)],'text':_0x52bf3e}},_0x3617fc),!![];else return botRef&&typeof botRef['sendMessag'+'e']===_0x2d3c03(0xf0)?(await botRef['sendMessag'+'e'](_0x4d7228,{'react':{'key':_0x32353b['key'],'text':_0x52bf3e}},_0x3617fc),!![]):(warn('['+name+(_0x2d3c03(0x18e)+_0x2d3c03(0x101)+_0x2d3c03(0x167)+_0x2d3c03(0x128)+_0x2d3c03(0x103))),![]);}catch(_0x7d80a6){return warn('['+name+(_0x2d3c03(0xdf)+_0x2d3c03(0x199)+'\x20failed:\x20')+(_0x7d80a6?.['message']||_0x7d80a6)),![];}}function createMessageHandler(){return async function _0x1e92e0(_0x5ae91f){const _0x3acb1e=_0x1ac4;try{if(shuttingDown)return;refreshConfig();const _0x59eee2=await readEnabledFromDb();if(!_0x59eee2)return;const {messages:_0x2d74ef}=_0x5ae91f||{};if(!Array['isArray'](_0x2d74ef)||_0x2d74ef[_0x3acb1e(0xec)]===-0x2414*-0x1+0x1009+-0x341d)return;const _0x232449=Date[_0x3acb1e(0x184)](),_0x43b398=getBotJid();if(!_0x43b398&&CFG['IGNORE_BOT'+'_USER'])return;for(const _0x15a435 of _0x2d74ef){try{if(!_0x15a435||!_0x15a435['key'])continue;if(_0x15a435[_0x3acb1e(0x179)][_0x3acb1e(0x14d)]!==_0x3acb1e(0xe9)+_0x3acb1e(0x10b))continue;if(_0x232449-lastReactionTime<Number(CFG[_0x3acb1e(0xce)+_0x3acb1e(0xc9)]||FALLBACKS[_0x3acb1e(0xce)+_0x3acb1e(0xc9)]))continue;const _0x4fecc6=pickReactionEmoji();if(!_0x4fecc6)continue;const _0x5693c5=await sendStatusReaction(_0x15a435,_0x4fecc6,_0x43b398);_0x5693c5&&(lastReactionTime=Date['now'](),info('['+name+_0x3acb1e(0x1a3)+_0x4fecc6+(_0x3acb1e(0x172)+'\x20from\x20')+(_0x15a435['key'][_0x3acb1e(0xd4)+'t']||_0x3acb1e(0x143))),await new Promise(_0x2cc396=>setTimeout(_0x2cc396,0xd7*0xf+-0x2ea+-0x7bb*0x1)));}catch(_0x3e0094){warn('['+name+(_0x3acb1e(0x19e)+_0x3acb1e(0x190)+_0x3acb1e(0x171))+(_0x3e0094?.[_0x3acb1e(0x13e)]||_0x3e0094));}}}catch(_0x16ccc5){warn('['+name+(_0x3acb1e(0x132)+_0x3acb1e(0x1a5)+'ndler\x20erro'+_0x3acb1e(0x171))+(_0x16ccc5?.[_0x3acb1e(0x13e)]||_0x16ccc5));}};}const processedCmdKeys=new Map(),CMD_DEDUPE_TTL_MS=(-0x16a*0x1b+-0x73d*0x1+0x2d89)*(-0xf84*-0x2+0xcb5*-0x1+-0x1*0xe6b);function markCmdProcessed(_0x48835b){const _0x17dbce=_0x3b840d;if(!_0x48835b)return;if(processedCmdKeys['has'](_0x48835b))try{clearTimeout(processedCmdKeys[_0x17dbce(0xf7)](_0x48835b));}catch(_0x5e2b61){};const _0x41e898=setTimeout(()=>processedCmdKeys[_0x17dbce(0x187)](_0x48835b),CMD_DEDUPE_TTL_MS);processedCmdKeys[_0x17dbce(0x155)](_0x48835b,_0x41e898);}function isCmdProcessed(_0x2396e9){const _0x2b09c6=_0x3b840d;return _0x2396e9&&processedCmdKeys[_0x2b09c6(0xf2)](_0x2396e9);}export async function onMessage(_0x428d75){const _0x16b511=_0x3b840d;try{if(!_0x428d75||!_0x428d75['key']||!_0x428d75[_0x16b511(0x13e)]||!_0x428d75[_0x16b511(0xed)])return;if(isJidGroup(_0x428d75['key'][_0x16b511(0x14d)]))return;const _0x148c07=_0x428d75[_0x16b511(0x179)]['fromMe'],_0x1b7838=await isSudo(botRef,_0x428d75)[_0x16b511(0x185)](()=>![]);if(!_0x148c07&&!_0x1b7838)return;let _0x4a959d;if(_0x148c07){_0x4a959d=getBotJid();if(!_0x4a959d){warn('['+name+(_0x16b511(0x19f)+_0x16b511(0xc8)+'ner\x20becaus'+_0x16b511(0x156)+_0x16b511(0xfc)+'ilable.'));return;}}else _0x4a959d=_0x428d75[_0x16b511(0x179)][_0x16b511(0x14d)];const _0x31cade=String(_0x428d75[_0x16b511(0x179)]['remoteJid']||'')+'::'+String(_0x428d75[_0x16b511(0x179)]['id']||_0x428d75[_0x16b511(0x179)][_0x16b511(0xd4)+'t']||'');if(isCmdProcessed(_0x31cade))return;markCmdProcessed(_0x31cade);const _0x3c0d81=typeof _0x428d75[_0x16b511(0x129)]==='string'&&_0x428d75[_0x16b511(0x129)][_0x16b511(0x174)]()[_0x16b511(0xec)]?_0x428d75[_0x16b511(0x129)][_0x16b511(0x174)]():function _0x2989b6(_0xeee7d2){const _0x23190f=_0x16b511;if(!_0xeee7d2||!_0xeee7d2[_0x23190f(0x13e)])return'';const _0x42227f=_0xeee7d2[_0x23190f(0x13e)];if(_0x42227f[_0x23190f(0x147)+'on'])return _0x42227f[_0x23190f(0x147)+'on'];if(_0x42227f[_0x23190f(0x11a)+_0x23190f(0x162)]?.['text'])return _0x42227f[_0x23190f(0x11a)+_0x23190f(0x162)][_0x23190f(0x129)];if(_0x42227f[_0x23190f(0x107)+'ge']?.['caption'])return _0x42227f['imageMessa'+'ge']['caption'];if(_0x42227f[_0x23190f(0xcf)+'ge']?.[_0x23190f(0x176)])return _0x42227f[_0x23190f(0xcf)+'ge'][_0x23190f(0x176)];if(_0x42227f['buttonsRes'+_0x23190f(0x144)+'ge']?.[_0x23190f(0x17a)+'ttonId'])return _0x42227f['buttonsRes'+_0x23190f(0x144)+'ge'][_0x23190f(0x17a)+_0x23190f(0xe5)];if(_0x42227f['listRespon'+_0x23190f(0x180)]?.[_0x23190f(0xd9)+'ctReply']?.[_0x23190f(0x137)+_0x23190f(0x1b0)])return _0x42227f[_0x23190f(0x12b)+_0x23190f(0x180)][_0x23190f(0xd9)+_0x23190f(0xd1)]['selectedRo'+'wId'];return'';}(_0x428d75)||'';if(!_0x3c0d81)return;const _0x56ed4=(_0x3c0d81[_0x16b511(0x141)](/\r?\n/)[-0x2c4+0x1*-0x953+0xc17]||'')[_0x16b511(0x174)](),_0xf4e90a=_0x56ed4[_0x16b511(0x141)](/\s+/),_0x157c89=(_0xf4e90a[-0x2*0x868+-0x59*-0x21+0x557]||'')[_0x16b511(0x110)+'e']();if(!commands['includes'](_0x157c89))return;const _0x3f4c4f=(_0xf4e90a[0xceb+0x45*0x3f+-0x3*0x9f7]||'')[_0x16b511(0x110)+'e']();if(['on',_0x16b511(0x13a),_0x16b511(0xe2),'1']['includes'](_0x3f4c4f)){const _0x4dd7dc=await saveEnabledToDb(!![]);if(_0x4dd7dc)await sendConfirmation(_0x4a959d,'[autoreact'+_0x16b511(0x153));else await sendConfirmation(_0x4a959d,_0x16b511(0xf5)+_0x16b511(0x17b)+_0x16b511(0x164)+_0x16b511(0x15e));return;}if(['off',_0x16b511(0x192),_0x16b511(0x182),'0'][_0x16b511(0x11e)](_0x3f4c4f)){const _0x15f417=await saveEnabledToDb(![]);if(_0x15f417)await sendConfirmation(_0x4a959d,_0x16b511(0xf5)+']\x20Disabled'+'.');else await sendConfirmation(_0x4a959d,'[autoreact'+_0x16b511(0x17b)+_0x16b511(0xca)+_0x16b511(0x1ac)+'.');return;}if(_0x3f4c4f===_0x16b511(0x120)||_0x3f4c4f===_0x16b511(0x161)||!_0x3f4c4f){const _0x462e6d=await readEnabledFromDb(),_0x13101f=_0x462e6d?_0x16b511(0x14f):'DISABLED';await sendConfirmation(_0x4a959d,_0x16b511(0x163)+_0x16b511(0x19a)+'-only)*\x0a\x0aC'+_0x16b511(0x105)+_0x16b511(0x1a0)+_0x13101f+(_0x16b511(0x115)+_0x16b511(0x14a)+'\x20')+CFG[_0x16b511(0xce)+'AL_MS']+(_0x16b511(0x189)+'eactions:\x20')+CFG[_0x16b511(0xf1)][_0x16b511(0x195)]('\x20')+(_0x16b511(0x116)+_0x16b511(0x15a))+CFG[_0x16b511(0x139)+'_USER']);return;}await sendConfirmation(_0x4a959d,'Usage\x20(PM\x20'+'only):\x0a'+(_0x16b511(0x11c)+_0x16b511(0x112)+_0x16b511(0x19d)+_0x16b511(0x17e)+_0x16b511(0xdc)+'uses\x0a')+('\x20autoreact'+_0x16b511(0x15c)+_0x16b511(0x1aa)+'able\x20react'+_0x16b511(0x114)+_0x16b511(0x178))+('\x20autoreact'+_0x16b511(0x150)+_0x16b511(0x13d)+_0x16b511(0x191)+_0x16b511(0x19b)+'ig'));}catch(_0x3c8706){warn('['+name+(']\x20onMessag'+_0x16b511(0x13c))+(_0x3c8706?.['message']||_0x3c8706));}}async function sendConfirmation(_0x349e7b,_0x58e6ca){const _0x43f26c=_0x3b840d;try{if(!_0x349e7b)return;if(botRef&&botRef[_0x43f26c(0x14b)]&&typeof botRef['sock'][_0x43f26c(0xfd)+'e']==='function')await botRef[_0x43f26c(0x14b)][_0x43f26c(0xfd)+'e'](_0x349e7b,{'text':_0x58e6ca});else botRef&&typeof botRef['sendMessag'+'e']===_0x43f26c(0xf0)?await botRef[_0x43f26c(0xfd)+'e'](_0x349e7b,{'text':_0x58e6ca}):warn('['+name+(_0x43f26c(0x18e)+'essage\x20met'+_0x43f26c(0x16b)+_0x43f26c(0xe3)+'d\x20confirma'+_0x43f26c(0xff)));}catch(_0x1f64c6){warn('['+name+(']\x20sendConf'+_0x43f26c(0xcb)+_0x43f26c(0x1ab))+(_0x1f64c6?.[_0x43f26c(0x13e)]||_0x1f64c6));}}export async function initialize(_0x17c61b){const _0x5ea8c1=_0x3b840d;if(!_0x17c61b)throw new Error('autoReactS'+'tatus.init'+'ialize\x20req'+_0x5ea8c1(0x145)+_0x5ea8c1(0x133));botRef=_0x17c61b,shuttingDown=![],refreshConfig(),await ensureTable()[_0x5ea8c1(0x185)](_0x4f4a29=>{const _0x10e9b4=_0x5ea8c1;warn('['+name+(']\x20DB\x20initi'+_0x10e9b4(0x18f)+_0x10e9b4(0x197)+_0x10e9b4(0x154)+':\x20')+(_0x4f4a29?.['message']||_0x4f4a29));});const _0x298a47=await readEnabledFromDb();messageHandler=createMessageHandler(),startManagedListener({'botRef':botRef,'eventName':_0x5ea8c1(0x135)+_0x5ea8c1(0x100),'handler':messageHandler,'moduleName':name}),info('['+name+(_0x5ea8c1(0x158)+'zed\x20(DB-ba'+_0x5ea8c1(0xf6)+_0x5ea8c1(0xdb))+(_0x298a47?'true':'false')+(_0x5ea8c1(0x173)+'valMs=')+CFG['MIN_INTERV'+_0x5ea8c1(0xc9)]+(_0x5ea8c1(0xd8)+'s=')+CFG[_0x5ea8c1(0xf1)]['join']('\x20'));}export async function cleanup(){const _0x18ee57=_0x3b840d;try{stopManagedListener(name,'messages.u'+_0x18ee57(0x100)),shuttingDown=!![],lastReactionTime=0x5e3*-0x2+0xb91+0x35,messageHandler=null;}catch(_0x185352){warn('['+name+(_0x18ee57(0x122)+'error:\x20')+(_0x185352?.[_0x18ee57(0x13e)]||_0x185352));}finally{botRef=null,info('['+name+(_0x18ee57(0x160)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};