const _0x4d86d9=_0x3696;(function(_0x401ad2,_0x5e4549){const _0x54b382=_0x3696,_0x23b53a=_0x401ad2();while(!![]){try{const _0x454a90=-parseInt(_0x54b382(0x19e))/(-0x7*0x3b+0x25ca+-0x242c)*(-parseInt(_0x54b382(0x18f))/(0x9*-0x1a0+-0x163a+-0x7*-0x544))+-parseInt(_0x54b382(0x1b8))/(-0x23d5+0xdf3*-0x1+0x31cb)+parseInt(_0x54b382(0x1d2))/(0x1*0x15b9+-0x7*0x253+0x1*-0x570)*(parseInt(_0x54b382(0x160))/(-0x1*-0xb+-0x49*0x35+0xf17*0x1))+-parseInt(_0x54b382(0x1ce))/(-0xc3e+-0x1*-0x1feb+-0x13a7)*(-parseInt(_0x54b382(0x158))/(-0x10f1+-0x9a9+-0x191*-0x11))+parseInt(_0x54b382(0x14b))/(-0x149a*-0x1+0x217c+0xbb*-0x4a)+-parseInt(_0x54b382(0x157))/(0x2172+0xcbc+-0x2e25)+-parseInt(_0x54b382(0x1ba))/(-0x1*-0xfc1+0x21de+0x1087*-0x3)*(parseInt(_0x54b382(0x1a4))/(0x2221+0x1f99+-0x41af));if(_0x454a90===_0x5e4549)break;else _0x23b53a['push'](_0x23b53a['shift']());}catch(_0x183ff6){_0x23b53a['push'](_0x23b53a['shift']());}}}(_0x41dc,0x5bed3+-0x73c6d+0x1057e6));import{info,warn}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';function _0x3696(_0x575b21,_0xdb85fb){const _0x2e1f62=_0x41dc();return _0x3696=function(_0xe8b58c,_0x9db178){_0xe8b58c=_0xe8b58c-(0x1*-0x262b+0x1*-0x3ff+0x2b62);let _0x189c3f=_0x2e1f62[_0xe8b58c];return _0x189c3f;},_0x3696(_0x575b21,_0xdb85fb);}import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name=_0x4d86d9(0x1da)+'tatus';export const version=_0x4d86d9(0x217);export const priority=-0x1b28+-0x1eff+-0x7*-0x85a;export const configKeys=[_0x4d86d9(0x1b6)+'STATUS'];export const commands=[_0x4d86d9(0x143)];const FALLBACKS={'MIN_INTERVAL_MS':0x1388,'REACTIONS':['🚀','🌎','♻️'],'IGNORE_BOT_USER':![]};let botRef=null,shuttingDown=![],lastReactionTime=-0x1322+0x185b+-0x539,messageHandler=null;const CFG={'MIN_INTERVAL_MS':FALLBACKS[_0x4d86d9(0x16e)+'AL_MS'],'REACTIONS':FALLBACKS[_0x4d86d9(0x1b7)][_0x4d86d9(0x163)](),'IGNORE_BOT_USER':FALLBACKS[_0x4d86d9(0x17e)+_0x4d86d9(0x17c)]};function _0x41dc(){const _0x4c2465=['[unknown]','failed\x20(en','ledFromDb\x20','has',']\x20fallback','ledToDb\x20er','\x20off|disab','INSERT\x20INT','cluded.upd','O\x20autoreac','\x20on|enable','_prefs:\x20ad','true','seMessage','38sWgNFA','e\x20bot\x20JID\x20','disable','participan','t_prefs\x20(k','bled\x20row\x20f','catch','t_prefs\x20AD','\x0aTerminalR',']\x20hot-relo','t)\x20VALUES\x20','efs\x20WHERE\x20','statusJidL','eply\x20to\x20ow',']\x20Failed\x20t','85933uDpHIV','FLICT(key)','at\x20INTEGER','ble\x20reacti','random','xtMessage','9908151SRfLEm','\x20?)','essage\x20API',',\x20?,\x20?)\x0a\x20\x20','no\x20column','text','o\x20disable\x20','\x20without\x20u','s\x20(with\x20up','te:\x20*','buttonsRes','EXT\x20NOT\x20NU','ner\x20becaus',']\x20created\x20','T\x20PRIMARY\x20','\x20available','PRAGMA\x20tab',',\x20reaction','AUTOREACT_','REACTIONS','675396RAWkwh','error:\x20','10wOeVyi','zed\x20(DB-ba','llback\x20fai',']\x20ensure\x20d','key=\x27enabl',']\x20inner\x20ha','iled:\x20','valMs=','sed).\x20enab','FAULT\x200','sock','status@bro','le_info(\x27a','s\x20reaction','trim','messages.u','*\x0aMin\x20Inte','ctReply','\x27enabled\x27,','isCommand','620166bfywfV','ue\x20FROM\x20au',']\x20Disabled','false','508ufUdMy','toLowerCas','alization\x20','string','rval\x20(ms):','continue):','AL_MS','\x20insert\x20fa','autoReactS','pdated_at)',']\x20ensureTa','length','\x20autoreact','TO\x20autorea','selectedBu','isArray','KEY,\x0a\x20\x20\x20\x20\x20','fs\x20(\x0a\x20\x20\x20\x20\x20','\x20\x20\x20\x20->\x20ena','led:\x20','\x20\x20\x20value\x20T','remoteJid','EXISTS\x20aut','t\x20user:\x20','ialize\x20req','updated_at','oreact_pre','ndler\x20erro','selectedRo',']\x20failed\x20t','dated_at).',']\x20hotReloa','e\x20error:\x20','abled=','hod\x20availa','aded\x20confi','o\x20add\x20upda','umn\x20(will\x20','ailed:\x20',')\x20VALUES\x20(','sendMessag','\x0aIgnore\x20bo','caption','state/conf','tatus.init','state','wId','singleSele',']\x20migrated','run','DB\x20error).','able\x20react','now',']\x20saved\x20en','w\x20current\x20','Usage\x20(PM\x20','adcast','get','ey,\x20value,','ct_prefs\x20(','Status\x20(PM','DISABLED','ttonId','r:\x20','ponseMessa','imageMessa','INTEGER\x20DE',']\x20cleanup\x20',']\x20refreshC','1.2.0','d\x20confirma','off','ng\x20to\x20stat','only):\x0a','\x20\x20\x20\x20->\x20sho','exec','\x20status\x20\x20\x20','(\x27enabled\x27','ed\x27','default\x20en',']\x20saveEnab','key','REPLACE\x20IN','extendedTe','autoreact','E\x20autoreac','set','=excluded.','ble\x20error:','k\x20insert).','\x20failed:\x20','delete','9199632cTDogr','ENABLED','ilable.',']\x20onMessag','floor','-only)*\x0a\x0aC','includes','psert','enable','ted_at\x20col','abled=fals','\x27false\x27)','11236977ERlJqQ','7KvcEMv','efault\x20ena','ated_at','\x20\x20updated_',']\x20cleaned\x20','led=','filter','umn','18180PKaQcE','ledToDb\x20fa','has\x20no\x20col','slice','INSERT\x20OR\x20','table\x20auto','ror:\x20','\x20updated_a','message','boolean','\x0a\x20\x20\x20\x20\x20\x20);',',\x20MinInter',']\x20sendStat','eactions:\x20','MIN_INTERV','value','[autoreact','\x20DEFAULT\x200','status','ded\x20column','LL,\x0a\x20\x20\x20\x20\x20\x20','conversati','\x20from\x20','function','D\x20COLUMN\x20u','SELECT\x20val','(DB\x20error)','split','_USER','join','IGNORE_BOT','STATUS',']\x20no\x20sendM'];_0x41dc=function(){return _0x4c2465;};return _0x41dc();}function refreshConfig(){const _0x1f6946=_0x4d86d9;try{const _0x32158f=getConfig()||{},_0x2e391c=_0x32158f&&_0x32158f[_0x1f6946(0x1b6)+_0x1f6946(0x17f)]?_0x32158f['AUTOREACT_'+_0x1f6946(0x17f)]:{};CFG[_0x1f6946(0x16e)+_0x1f6946(0x1d8)]=Number(_0x2e391c[_0x1f6946(0x16e)+'AL_MS'])||CFG[_0x1f6946(0x16e)+_0x1f6946(0x1d8)],CFG[_0x1f6946(0x17e)+'_USER']=typeof _0x2e391c[_0x1f6946(0x17e)+_0x1f6946(0x17c)]===_0x1f6946(0x169)?_0x2e391c[_0x1f6946(0x17e)+_0x1f6946(0x17c)]:CFG[_0x1f6946(0x17e)+_0x1f6946(0x17c)];if(Array[_0x1f6946(0x1e1)](_0x2e391c[_0x1f6946(0x1b7)])&&_0x2e391c[_0x1f6946(0x1b7)][_0x1f6946(0x1dd)]>0x234d+0xbca+-0x1*0x2f17)CFG[_0x1f6946(0x1b7)]=_0x2e391c[_0x1f6946(0x1b7)]['slice']();else typeof _0x2e391c[_0x1f6946(0x1b7)]===_0x1f6946(0x1d5)&&_0x2e391c[_0x1f6946(0x1b7)][_0x1f6946(0x1c8)]()[_0x1f6946(0x1dd)]>-0xa58+-0x13*0x1af+0x1*0x2a55&&(CFG[_0x1f6946(0x1b7)]=_0x2e391c[_0x1f6946(0x1b7)]['split'](',')['map'](_0x34202c=>_0x34202c[_0x1f6946(0x1c8)]())[_0x1f6946(0x15e)](Boolean));}catch(_0x344ba2){warn('['+name+(_0x1f6946(0x216)+'onfig\x20erro'+_0x1f6946(0x211))+(_0x344ba2?.[_0x1f6946(0x168)]||_0x344ba2));}}try{hotReloadConfig&&hotReloadConfig(()=>{const _0xbe80ba=_0x4d86d9;refreshConfig(),info('['+name+(_0xbe80ba(0x198)+_0xbe80ba(0x1f5)+'g.'));});}catch(_0x1d553e){warn('['+name+(_0x4d86d9(0x1f1)+'dConfig\x20re'+'gistration'+_0x4d86d9(0x149))+(_0x1d553e?.[_0x4d86d9(0x168)]||_0x1d553e));}refreshConfig();async function ensureTable(){const _0x4f78f8=_0x4d86d9;try{let _0x49d897=[];try{const _0x54c081=await db['all'](_0x4f78f8(0x1b4)+_0x4f78f8(0x1c6)+'utoreact_p'+'refs\x27)');_0x49d897=(_0x54c081||[])['map'](_0x4b22a6=>_0x4b22a6['name']);}catch(_0x21b9f2){_0x49d897=[];}if(!_0x49d897[_0x4f78f8(0x1dd)])await db[_0x4f78f8(0x13a)]('CREATE\x20TAB'+'LE\x20IF\x20NOT\x20'+_0x4f78f8(0x1e8)+_0x4f78f8(0x1ec)+_0x4f78f8(0x1e3)+'\x20\x20\x20key\x20TEX'+_0x4f78f8(0x1b2)+_0x4f78f8(0x1e2)+_0x4f78f8(0x1e6)+_0x4f78f8(0x1af)+_0x4f78f8(0x174)+_0x4f78f8(0x15b)+_0x4f78f8(0x1a0)+_0x4f78f8(0x171)+_0x4f78f8(0x16a)),info('['+name+(_0x4f78f8(0x1b1)+_0x4f78f8(0x165)+'react_pref'+_0x4f78f8(0x1ac)+_0x4f78f8(0x1f0))),_0x49d897=[_0x4f78f8(0x140),_0x4f78f8(0x16f),_0x4f78f8(0x1eb)];else{if(!_0x49d897[_0x4f78f8(0x151)](_0x4f78f8(0x1eb)))try{await db['run']('ALTER\x20TABL'+_0x4f78f8(0x144)+_0x4f78f8(0x196)+_0x4f78f8(0x178)+'pdated_at\x20'+_0x4f78f8(0x214)+_0x4f78f8(0x1c3)),info('['+name+(_0x4f78f8(0x202)+_0x4f78f8(0x1de)+_0x4f78f8(0x18c)+_0x4f78f8(0x173)+_0x4f78f8(0x167)+'t.'));}catch(_0x327830){warn('['+name+(_0x4f78f8(0x1ef)+_0x4f78f8(0x1f6)+_0x4f78f8(0x154)+_0x4f78f8(0x1f7)+_0x4f78f8(0x1d7)+'\x20')+(_0x327830?.[_0x4f78f8(0x168)]||_0x327830));}}try{const _0xf9422c=await db[_0x4f78f8(0x20b)](_0x4f78f8(0x179)+_0x4f78f8(0x1cf)+'toreact_pr'+_0x4f78f8(0x19a)+_0x4f78f8(0x1be)+_0x4f78f8(0x13d));if(!_0xf9422c){const _0x3e0286=Math[_0x4f78f8(0x14f)](Date[_0x4f78f8(0x206)]()/(0x7f7*0x1+-0x25df+-0x2*-0x10e8));await db[_0x4f78f8(0x203)](_0x4f78f8(0x188)+_0x4f78f8(0x18a)+_0x4f78f8(0x193)+_0x4f78f8(0x20c)+_0x4f78f8(0x167)+'t)\x20VALUES\x20'+_0x4f78f8(0x13c)+',\x27false\x27,\x20'+'?)',[_0x3e0286]),info('['+name+(_0x4f78f8(0x1b1)+_0x4f78f8(0x13e)+'abled=fals'+'e'));}}catch(_0x494ae6){const _0x78ba62=String(_0x494ae6?.[_0x4f78f8(0x168)]||'')[_0x4f78f8(0x1d3)+'e']();if(_0x78ba62[_0x4f78f8(0x151)](_0x4f78f8(0x1a8))||_0x78ba62[_0x4f78f8(0x151)]('has\x20no\x20col'+_0x4f78f8(0x15f)))try{const _0x9795ed=Math[_0x4f78f8(0x14f)](Date['now']()/(-0x959*-0x4+-0x9*0x447+0x503));await db[_0x4f78f8(0x203)](_0x4f78f8(0x164)+_0x4f78f8(0x141)+_0x4f78f8(0x1df)+'ct_prefs\x20('+'key,\x20value'+_0x4f78f8(0x1f9)+_0x4f78f8(0x1cc)+_0x4f78f8(0x156)),info('['+name+(']\x20created\x20'+_0x4f78f8(0x13e)+_0x4f78f8(0x155)+'e\x20(fallbac'+_0x4f78f8(0x148)));}catch(_0x14b860){warn('['+name+(_0x4f78f8(0x185)+_0x4f78f8(0x1d9)+_0x4f78f8(0x1c0))+(_0x14b860?.[_0x4f78f8(0x168)]||_0x14b860));}else warn('['+name+(_0x4f78f8(0x1bd)+_0x4f78f8(0x159)+_0x4f78f8(0x194)+_0x4f78f8(0x1f8))+(_0x494ae6?.[_0x4f78f8(0x168)]||_0x494ae6));}}catch(_0x419136){warn('['+name+(_0x4f78f8(0x1dc)+_0x4f78f8(0x147)+'\x20')+(_0x419136?.[_0x4f78f8(0x168)]||_0x419136));throw _0x419136;}}async function readEnabledFromDb(){const _0x301f0c=_0x4d86d9;try{const _0x310438=await db[_0x301f0c(0x20b)](_0x301f0c(0x179)+_0x301f0c(0x1cf)+'toreact_pr'+_0x301f0c(0x19a)+_0x301f0c(0x1be)+'ed\x27\x20LIMIT\x20'+'1');if(!_0x310438)return![];const _0x59cf87=String(_0x310438[_0x301f0c(0x16f)])[_0x301f0c(0x1d3)+'e']();return _0x59cf87==='true'||_0x59cf87==='1';}catch(_0x312d45){return warn('['+name+(']\x20readEnab'+_0x301f0c(0x183)+_0x301f0c(0x1b9))+(_0x312d45?.['message']||_0x312d45)),![];}}async function saveEnabledToDb(_0x2fc77f){const _0x456d24=_0x4d86d9;try{const _0x6350ea=_0x2fc77f?_0x456d24(0x18d):_0x456d24(0x1d1),_0x43b2a3=Math[_0x456d24(0x14f)](Date[_0x456d24(0x206)]()/(0xfbb+0xf*-0x115+-0x3*-0x178));return await db[_0x456d24(0x203)](_0x456d24(0x188)+_0x456d24(0x18a)+'t_prefs\x20(k'+_0x456d24(0x20c)+_0x456d24(0x167)+_0x456d24(0x199)+_0x456d24(0x13c)+_0x456d24(0x1a7)+'\x20\x20\x20\x20ON\x20CON'+_0x456d24(0x19f)+'\x20DO\x20UPDATE'+'\x20SET\x20value'+_0x456d24(0x146)+'value,\x20upd'+'ated_at=ex'+_0x456d24(0x189)+_0x456d24(0x15a),[_0x6350ea,_0x43b2a3]),info('['+name+(_0x456d24(0x207)+_0x456d24(0x1f3))+_0x6350ea),!![];}catch(_0x10f5e8){const _0x1b5343=String(_0x10f5e8?.[_0x456d24(0x168)]||'')['toLowerCas'+'e']();if(_0x1b5343[_0x456d24(0x151)](_0x456d24(0x162)+_0x456d24(0x15f))||_0x1b5343[_0x456d24(0x151)](_0x456d24(0x1a8)))try{return await db[_0x456d24(0x203)]('INSERT\x20OR\x20'+_0x456d24(0x141)+_0x456d24(0x1df)+_0x456d24(0x20d)+'key,\x20value'+_0x456d24(0x1f9)+_0x456d24(0x1cc)+_0x456d24(0x1a5),[val]),info('['+name+(_0x456d24(0x207)+'abled=')+val+('\x20(fallback'+_0x456d24(0x1ab)+_0x456d24(0x1db))),!![];}catch(_0x2fcdeb){return warn('['+name+(_0x456d24(0x13f)+_0x456d24(0x161)+_0x456d24(0x1bc)+_0x456d24(0x1e5))+(_0x2fcdeb?.[_0x456d24(0x168)]||_0x2fcdeb)),![];}return warn('['+name+(_0x456d24(0x13f)+_0x456d24(0x186)+_0x456d24(0x166))+(_0x10f5e8?.[_0x456d24(0x168)]||_0x10f5e8)),![];}}function pickReactionEmoji(){const _0x2d1806=_0x4d86d9;if(!Array[_0x2d1806(0x1e1)](CFG[_0x2d1806(0x1b7)])||CFG[_0x2d1806(0x1b7)]['length']===-0xd82+0x7*-0x51b+0x7*0x709)return null;return CFG[_0x2d1806(0x1b7)][Math[_0x2d1806(0x14f)](Math[_0x2d1806(0x1a2)]()*CFG[_0x2d1806(0x1b7)][_0x2d1806(0x1dd)])];}async function sendStatusReaction(_0x1704e4,_0x5e593a,_0x1fb90b){const _0x30af6d=_0x4d86d9;if(!_0x1704e4||!_0x1704e4[_0x30af6d(0x140)]||!_0x5e593a)return![];const _0x35ca87=_0x1704e4['key']['remoteJid'],_0x509e61=_0x1704e4[_0x30af6d(0x140)][_0x30af6d(0x192)+'t'];try{const _0x49de63={};if(_0x509e61||_0x1fb90b)_0x49de63[_0x30af6d(0x19b)+'ist']=[_0x509e61,_0x1fb90b][_0x30af6d(0x15e)](Boolean);if(botRef&&botRef[_0x30af6d(0x1c4)]&&typeof botRef['sock'][_0x30af6d(0x1fa)+'e']===_0x30af6d(0x177))return await botRef['sock'][_0x30af6d(0x1fa)+'e'](_0x35ca87,{'react':{'key':_0x1704e4[_0x30af6d(0x140)],'text':_0x5e593a}},_0x49de63),!![];else return botRef&&typeof botRef[_0x30af6d(0x1fa)+'e']===_0x30af6d(0x177)?(await botRef['sendMessag'+'e'](_0x35ca87,{'react':{'key':_0x1704e4[_0x30af6d(0x140)],'text':_0x5e593a}},_0x49de63),!![]):(warn('['+name+(_0x30af6d(0x180)+_0x30af6d(0x1a6)+_0x30af6d(0x1b3)+'\x20for\x20statu'+_0x30af6d(0x1c7))),![]);}catch(_0x2cadab){return warn('['+name+(_0x30af6d(0x16c)+'usReaction'+_0x30af6d(0x149))+(_0x2cadab?.['message']||_0x2cadab)),![];}}function createMessageHandler(){return async function _0x1de1fa(_0x3f8167){const _0x583417=_0x3696;try{if(shuttingDown)return;refreshConfig();const _0x48d0bc=await readEnabledFromDb();if(!_0x48d0bc)return;const {messages:_0x3f09f3}=_0x3f8167||{};if(!Array[_0x583417(0x1e1)](_0x3f09f3)||_0x3f09f3[_0x583417(0x1dd)]===-0x672+0x2f9*0xb+-0x1a41*0x1)return;const _0x13d0a8=Date[_0x583417(0x206)](),_0x588cc0=getBotJid();if(!_0x588cc0&&CFG['IGNORE_BOT'+_0x583417(0x17c)])return;for(const _0x41e273 of _0x3f09f3){try{if(!_0x41e273||!_0x41e273['key'])continue;if(_0x41e273['key'][_0x583417(0x1e7)]!==_0x583417(0x1c5)+_0x583417(0x20a))continue;if(_0x13d0a8-lastReactionTime<Number(CFG['MIN_INTERV'+_0x583417(0x1d8)]||FALLBACKS[_0x583417(0x16e)+_0x583417(0x1d8)]))continue;const _0x428ee9=pickReactionEmoji();if(!_0x428ee9)continue;const _0x236e55=await sendStatusReaction(_0x41e273,_0x428ee9,_0x588cc0);_0x236e55&&(lastReactionTime=Date[_0x583417(0x206)](),info('['+name+']\x20reacted\x20'+_0x428ee9+('\x20to\x20status'+_0x583417(0x176))+(_0x41e273[_0x583417(0x140)][_0x583417(0x192)+'t']||_0x583417(0x181))),await new Promise(_0xe83562=>setTimeout(_0xe83562,-0x228c+0xc*-0x2cc+0x4610)));}catch(_0x49459e){warn('['+name+(_0x583417(0x1bf)+'ndler\x20erro'+_0x583417(0x211))+(_0x49459e?.[_0x583417(0x168)]||_0x49459e));}}}catch(_0x157474){warn('['+name+(']\x20messages'+'.upsert\x20ha'+_0x583417(0x1ed)+_0x583417(0x211))+(_0x157474?.['message']||_0x157474));}};}const processedCmdKeys=new Map(),CMD_DEDUPE_TTL_MS=(0x1*0x164f+0x6f7+0x3a5*-0x8)*(-0x79*0x19+0x16b+0xe4e);function markCmdProcessed(_0x15b22e){const _0x22a1eb=_0x4d86d9;if(!_0x15b22e)return;if(processedCmdKeys[_0x22a1eb(0x184)](_0x15b22e))try{clearTimeout(processedCmdKeys[_0x22a1eb(0x20b)](_0x15b22e));}catch(_0x575418){};const _0x2a8aca=setTimeout(()=>processedCmdKeys[_0x22a1eb(0x14a)](_0x15b22e),CMD_DEDUPE_TTL_MS);processedCmdKeys[_0x22a1eb(0x145)](_0x15b22e,_0x2a8aca);}function isCmdProcessed(_0x379226){const _0x15e6aa=_0x4d86d9;return _0x379226&&processedCmdKeys[_0x15e6aa(0x184)](_0x379226);}export async function onMessage(_0xb476e4){const _0x5eb29f=_0x4d86d9;try{if(!_0xb476e4||!_0xb476e4[_0x5eb29f(0x140)]||!_0xb476e4[_0x5eb29f(0x168)]||!_0xb476e4[_0x5eb29f(0x1cd)])return;if(isJidGroup(_0xb476e4[_0x5eb29f(0x140)][_0x5eb29f(0x1e7)]))return;const _0xff939e=_0xb476e4['key']['fromMe'],_0x20316b=await isSudo(botRef,_0xb476e4)[_0x5eb29f(0x195)](()=>![]);if(!_0xff939e&&!_0x20316b)return;let _0x5cb41b;if(_0xff939e){_0x5cb41b=getBotJid();if(!_0x5cb41b){warn('['+name+(']\x20Cannot\x20r'+_0x5eb29f(0x19c)+_0x5eb29f(0x1b0)+_0x5eb29f(0x190)+'is\x20not\x20ava'+_0x5eb29f(0x14d)));return;}}else _0x5cb41b=_0xb476e4[_0x5eb29f(0x140)][_0x5eb29f(0x1e7)];const _0x1a85ee=String(_0xb476e4[_0x5eb29f(0x140)][_0x5eb29f(0x1e7)]||'')+'::'+String(_0xb476e4[_0x5eb29f(0x140)]['id']||_0xb476e4[_0x5eb29f(0x140)][_0x5eb29f(0x192)+'t']||'');if(isCmdProcessed(_0x1a85ee))return;markCmdProcessed(_0x1a85ee);const _0x103a91=typeof _0xb476e4['text']===_0x5eb29f(0x1d5)&&_0xb476e4[_0x5eb29f(0x1a9)]['trim']()[_0x5eb29f(0x1dd)]?_0xb476e4[_0x5eb29f(0x1a9)][_0x5eb29f(0x1c8)]():function _0x40b681(_0x4c36a2){const _0x247923=_0x5eb29f;if(!_0x4c36a2||!_0x4c36a2['message'])return'';const _0x4d5388=_0x4c36a2[_0x247923(0x168)];if(_0x4d5388[_0x247923(0x175)+'on'])return _0x4d5388[_0x247923(0x175)+'on'];if(_0x4d5388[_0x247923(0x142)+_0x247923(0x1a3)]?.['text'])return _0x4d5388['extendedTe'+'xtMessage'][_0x247923(0x1a9)];if(_0x4d5388['imageMessa'+'ge']?.[_0x247923(0x1fc)])return _0x4d5388[_0x247923(0x213)+'ge'][_0x247923(0x1fc)];if(_0x4d5388['videoMessa'+'ge']?.['caption'])return _0x4d5388['videoMessa'+'ge'][_0x247923(0x1fc)];if(_0x4d5388['buttonsRes'+_0x247923(0x212)+'ge']?.[_0x247923(0x1e0)+_0x247923(0x210)])return _0x4d5388[_0x247923(0x1ae)+_0x247923(0x212)+'ge'][_0x247923(0x1e0)+_0x247923(0x210)];if(_0x4d5388['listRespon'+_0x247923(0x18e)]?.[_0x247923(0x201)+_0x247923(0x1cb)]?.[_0x247923(0x1ee)+'wId'])return _0x4d5388['listRespon'+'seMessage'][_0x247923(0x201)+_0x247923(0x1cb)][_0x247923(0x1ee)+_0x247923(0x200)];return'';}(_0xb476e4)||'';if(!_0x103a91)return;const _0x47a7ad=(_0x103a91[_0x5eb29f(0x17b)](/\r?\n/)[0x16f*-0x11+0x553+0x130c]||'')['trim'](),_0x1051cc=_0x47a7ad['split'](/\s+/),_0x2a32c7=(_0x1051cc[-0xeef*-0x1+0x1209+-0x8*0x41f]||'')[_0x5eb29f(0x1d3)+'e']();if(!commands[_0x5eb29f(0x151)](_0x2a32c7))return;const _0x209b77=(_0x1051cc[-0x3*0x599+-0x237a+0x1a23*0x2]||'')[_0x5eb29f(0x1d3)+'e']();if(['on',_0x5eb29f(0x153),_0x5eb29f(0x18d),'1'][_0x5eb29f(0x151)](_0x209b77)){const _0x32baaf=await saveEnabledToDb(!![]);if(_0x32baaf)await sendConfirmation(_0x5cb41b,_0x5eb29f(0x170)+']\x20Enabled.');else await sendConfirmation(_0x5cb41b,_0x5eb29f(0x170)+_0x5eb29f(0x19d)+'o\x20enable\x20('+_0x5eb29f(0x204));return;}if([_0x5eb29f(0x219),_0x5eb29f(0x191),'false','0']['includes'](_0x209b77)){const _0x4e9ca3=await saveEnabledToDb(![]);if(_0x4e9ca3)await sendConfirmation(_0x5cb41b,_0x5eb29f(0x170)+_0x5eb29f(0x1d0)+'.');else await sendConfirmation(_0x5cb41b,'[autoreact'+_0x5eb29f(0x19d)+_0x5eb29f(0x1aa)+_0x5eb29f(0x17a)+'.');return;}if(_0x209b77===_0x5eb29f(0x172)||_0x209b77===_0x5eb29f(0x1ff)||!_0x209b77){const _0x16fba1=await readEnabledFromDb(),_0x24c197=_0x16fba1?_0x5eb29f(0x14c):_0x5eb29f(0x20f);await sendConfirmation(_0x5cb41b,'*AutoReact'+_0x5eb29f(0x20e)+_0x5eb29f(0x150)+'urrent\x20Sta'+_0x5eb29f(0x1ad)+_0x24c197+(_0x5eb29f(0x1ca)+_0x5eb29f(0x1d6)+'\x20')+CFG['MIN_INTERV'+'AL_MS']+(_0x5eb29f(0x197)+_0x5eb29f(0x16d))+CFG[_0x5eb29f(0x1b7)][_0x5eb29f(0x17d)]('\x20')+(_0x5eb29f(0x1fb)+_0x5eb29f(0x1e9))+CFG[_0x5eb29f(0x17e)+'_USER']);return;}await sendConfirmation(_0x5cb41b,_0x5eb29f(0x209)+_0x5eb29f(0x138)+('\x20autoreact'+_0x5eb29f(0x18b)+_0x5eb29f(0x1e4)+_0x5eb29f(0x1a1)+_0x5eb29f(0x21a)+'uses\x0a')+(_0x5eb29f(0x1de)+_0x5eb29f(0x187)+'le\x20\x20->\x20dis'+_0x5eb29f(0x205)+'ing\x20to\x20sta'+'tuses\x0a')+(_0x5eb29f(0x1de)+_0x5eb29f(0x13b)+_0x5eb29f(0x139)+_0x5eb29f(0x208)+_0x5eb29f(0x1fd)+'ig'));}catch(_0x51c28f){warn('['+name+(_0x5eb29f(0x14e)+_0x5eb29f(0x1f2))+(_0x51c28f?.[_0x5eb29f(0x168)]||_0x51c28f));}}async function sendConfirmation(_0x4b39a6,_0x41ac6a){const _0x4b4e77=_0x4d86d9;try{if(!_0x4b39a6)return;if(botRef&&botRef[_0x4b4e77(0x1c4)]&&typeof botRef[_0x4b4e77(0x1c4)][_0x4b4e77(0x1fa)+'e']===_0x4b4e77(0x177))await botRef['sock'][_0x4b4e77(0x1fa)+'e'](_0x4b39a6,{'text':_0x41ac6a});else botRef&&typeof botRef['sendMessag'+'e']===_0x4b4e77(0x177)?await botRef[_0x4b4e77(0x1fa)+'e'](_0x4b39a6,{'text':_0x41ac6a}):warn('['+name+(']\x20no\x20sendM'+'essage\x20met'+_0x4b4e77(0x1f4)+'ble\x20to\x20sen'+_0x4b4e77(0x218)+'tion'));}catch(_0xc9ca41){warn('['+name+(']\x20sendConf'+'irmation\x20f'+_0x4b4e77(0x1f8))+(_0xc9ca41?.[_0x4b4e77(0x168)]||_0xc9ca41));}}export async function initialize(_0x4210fc){const _0x31e1b0=_0x4d86d9;if(!_0x4210fc)throw new Error(_0x31e1b0(0x1da)+_0x31e1b0(0x1fe)+_0x31e1b0(0x1ea)+'uires\x20bot\x20'+'instance');botRef=_0x4210fc,shuttingDown=![],refreshConfig(),await ensureTable()[_0x31e1b0(0x195)](_0x1e8055=>{const _0x52f158=_0x31e1b0;warn('['+name+(']\x20DB\x20initi'+_0x52f158(0x1d4)+_0x52f158(0x182)+'sureTable)'+':\x20')+(_0x1e8055?.[_0x52f158(0x168)]||_0x1e8055));});const _0x97a337=await readEnabledFromDb();messageHandler=createMessageHandler(),startManagedListener({'botRef':botRef,'eventName':_0x31e1b0(0x1c9)+_0x31e1b0(0x152),'handler':messageHandler,'moduleName':name}),info('['+name+(']\x20initiali'+_0x31e1b0(0x1bb)+_0x31e1b0(0x1c2)+_0x31e1b0(0x15d))+(_0x97a337?'true':_0x31e1b0(0x1d1))+(_0x31e1b0(0x16b)+_0x31e1b0(0x1c1))+CFG[_0x31e1b0(0x16e)+_0x31e1b0(0x1d8)]+(_0x31e1b0(0x1b5)+'s=')+CFG[_0x31e1b0(0x1b7)][_0x31e1b0(0x17d)]('\x20'));}export async function cleanup(){const _0x2b425c=_0x4d86d9;try{stopManagedListener(name,_0x2b425c(0x1c9)+_0x2b425c(0x152)),shuttingDown=!![],lastReactionTime=0xb9+-0x8*0xc1+0x54f,messageHandler=null;}catch(_0x121639){warn('['+name+(_0x2b425c(0x215)+_0x2b425c(0x1b9))+(_0x121639?.[_0x2b425c(0x168)]||_0x121639));}finally{botRef=null,info('['+name+(_0x2b425c(0x15c)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};