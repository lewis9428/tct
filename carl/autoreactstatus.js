const _0x416291=_0x3930;(function(_0x5500fd,_0x582a7c){const _0x1aa326=_0x3930,_0x1015fb=_0x5500fd();while(!![]){try{const _0x18dae3=-parseInt(_0x1aa326(0x1ec))/(-0x70+0x4*0x763+0x1*-0x1d1b)*(-parseInt(_0x1aa326(0x16d))/(-0x1*0x12b5+0xfa2+0x315))+-parseInt(_0x1aa326(0x1df))/(0x1218+0x16e*-0x1+-0x10a7)*(parseInt(_0x1aa326(0x1be))/(0x1*-0x1cdd+0x223*0xe+0x109*-0x1))+-parseInt(_0x1aa326(0x209))/(0xb84+-0x123c+0x5*0x159)*(-parseInt(_0x1aa326(0x211))/(0x8e0+-0x116a*0x1+0x890))+parseInt(_0x1aa326(0x15f))/(0x1241+0xba1+-0x1*0x1ddb)*(parseInt(_0x1aa326(0x187))/(0x121f*-0x2+-0x230+0x2676))+parseInt(_0x1aa326(0x1f3))/(-0x12a7*-0x2+-0x2625+-0x1c*-0x8)*(parseInt(_0x1aa326(0x150))/(-0x1eef+0x1*-0x1511+0x340a))+parseInt(_0x1aa326(0x130))/(-0xbc+-0x4d3+0x59a)+-parseInt(_0x1aa326(0x1af))/(0xa*0x383+-0x1961*-0x1+-0x1*0x3c73)*(parseInt(_0x1aa326(0x1a2))/(-0xa53*-0x1+0x5*-0x67f+0x1635));if(_0x18dae3===_0x582a7c)break;else _0x1015fb['push'](_0x1015fb['shift']());}catch(_0x20d74f){_0x1015fb['push'](_0x1015fb['shift']());}}}(_0x2307,-0x45e3e*0x1+0x25*0x65c6+0x9f));import{info,warn}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x2307(){const _0x5ef488=['filter','react_pref','ilable.','STATUS','function','fs\x20(\x0a\x20\x20\x20\x20\x20','150624BJeyQE','floor','dConfig\x20re','statusJidL','text','\x27false\x27)','xtMessage','able\x20react','ledToDb\x20er','e\x20bot\x20JID\x20',']\x20ensure\x20d','random','\x20\x20\x20\x20->\x20sho','value,\x20upd','value',']\x20Failed\x20t','Status\x20(PM',']\x20readEnab','pdated_at\x20','s\x20reaction',']\x20cleaned\x20','t_prefs\x20(k','exec','disable','KEY,\x0a\x20\x20\x20\x20\x20','isCommand','\x20\x20\x20\x20ON\x20CON','702FgwyMK','string','DB\x20error).','rval\x20(ms):','ue\x20FROM\x20au','ledFromDb\x20','\x20?)','extendedTe','slice','uires\x20bot\x20','adcast','message',')\x20VALUES\x20(','523044eBqHbP','utoreact_p','instance','ng\x20to\x20stat','te:\x20*','[autoreact','LL,\x0a\x20\x20\x20\x20\x20\x20','INTEGER\x20DE','\x20\x20\x20\x20->\x20ena','d\x20confirma','caption','essage\x20API','autoReactS','_prefs:\x20ad','essage\x20met','2058188iWywuC','\x20DEFAULT\x200','off','\x20DO\x20UPDATE','listRespon','buttonsRes',']\x20inner\x20ha','ndler\x20erro','led:\x20','singleSele','zed\x20(DB-ba','fromMe','ponseMessa','length','status',']\x20initiali','irmation\x20f','INSERT\x20OR\x20','eply\x20to\x20ow','led=','INSERT\x20INT','has\x20no\x20col','DISABLED',']\x20ensureTa','toLowerCas','t_prefs\x20AD','O\x20autoreac','REPLACE\x20IN',']\x20Cannot\x20r','bled\x20row\x20f','abled=','\x20autoreact','status@bro','3joxDra','t\x20user:\x20','updated_at','participan','REACTIONS','sed).\x20enab','AL_MS','-only)*\x0a\x0aC','ated_at=ex','videoMessa','remoteJid','sock','ner\x20becaus','2nnUheu','w\x20current\x20','ENABLED','ialize\x20req','ed\x27','hod\x20availa','ct_prefs\x20(','5256tVKHoR','key,\x20value','key=\x27enabl','eactions:\x20',']\x20sendStat','ey,\x20value,',',\x27false\x27,\x20','imageMessa','\x20from\x20','e\x20error:\x20','conversati',']\x20Enabled.','*\x0aMin\x20Inte','seMessage','boolean','EXT\x20NOT\x20NU','s\x20(with\x20up','alization\x20','state','default\x20en','run','t)\x20VALUES\x20','150145EiKknH','wId','T\x20PRIMARY\x20','\x20for\x20statu','isArray','selectedBu','map','_USER','12NrQOxX','*AutoReact','get','le\x20\x20->\x20dis','ror:\x20','catch',']\x20Disabled',']\x20saveEnab','selectedRo','EXISTS\x20aut','SELECT\x20val','only):\x0a','trim','6737038HVNDMk','AUTOREACT_','o\x20enable\x20(','\x27enabled\x27,',']\x20created\x20','sendMessag',']\x20messages','umn\x20(will\x20','has','psert','umn','ble\x20to\x20sen',']\x20failed\x20t','\x20updated_a','valMs=','\x20failed:\x20',']\x20no\x20sendM','r:\x20','tion','gistration','no\x20column','.upsert\x20ha','ed\x27\x20LIMIT\x20','o\x20add\x20upda','aded\x20confi','ble\x20reacti','\x20insert\x20fa','[unknown]','\x0aTerminalR','messages.u','tatus','split','16860WViuwb','all','MIN_INTERV','\x20\x20\x20value\x20T','toreact_pr','failed\x20(en','=excluded.','\x20\x20\x20key\x20TEX',',\x20MinInter','join','\x0a\x20\x20\x20\x20\x20\x20);','IGNORE_BOT','false','dated_at).','efs\x20WHERE\x20','266zyqnJi','delete','includes','table\x20auto','ailed:\x20',',\x20?,\x20?)\x0a\x20\x20','TO\x20autorea','usReaction',']\x20saved\x20en','cluded.upd','tuses\x0a','now','abled=fals',']\x20onMessag','1173528wZjVNy','error:\x20','ctReply','is\x20not\x20ava','true','tatus.init','FAULT\x200',']\x20refreshC','PRAGMA\x20tab','CREATE\x20TAB','continue):','ist',']\x20sendConf','\x20off|disab','ttonId','(\x27enabled\x27','\x0aIgnore\x20bo','key','urrent\x20Sta','uses\x0a'];_0x2307=function(){return _0x5ef488;};return _0x2307();}import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name='autoReactS'+_0x416291(0x14e);export const version='1.2.0';export const priority=0xa5f*-0x3+-0x261+0x1fd*0x11;export const configKeys=[_0x416291(0x131)+'STATUS'];export const commands=['autoreact'];const FALLBACKS={'MIN_INTERVAL_MS':0x1388,'REACTIONS':['🚀','🌎','♻️'],'IGNORE_BOT_USER':![]};function _0x3930(_0x3e6ea4,_0x4bc11f){const _0x5a6fe1=_0x2307();return _0x3930=function(_0x9b757c,_0x2cc951){_0x9b757c=_0x9b757c-(-0x1353+0x50*0x63+0xa*-0x10b);let _0x394273=_0x5a6fe1[_0x9b757c];return _0x394273;},_0x3930(_0x3e6ea4,_0x4bc11f);}let botRef=null,shuttingDown=![],lastReactionTime=-0xf46+0x1309*0x2+0x4*-0x5b3,messageHandler=null;const CFG={'MIN_INTERVAL_MS':FALLBACKS[_0x416291(0x152)+_0x416291(0x1e5)],'REACTIONS':FALLBACKS[_0x416291(0x1e3)][_0x416291(0x1aa)](),'IGNORE_BOT_USER':FALLBACKS[_0x416291(0x15b)+_0x416291(0x210)]};function refreshConfig(){const _0x540f6a=_0x416291;try{const _0x21a6be=getConfig()||{},_0x411e97=_0x21a6be&&_0x21a6be[_0x540f6a(0x131)+'STATUS']?_0x21a6be[_0x540f6a(0x131)+_0x540f6a(0x184)]:{};CFG[_0x540f6a(0x152)+'AL_MS']=Number(_0x411e97[_0x540f6a(0x152)+_0x540f6a(0x1e5)])||CFG[_0x540f6a(0x152)+_0x540f6a(0x1e5)],CFG[_0x540f6a(0x15b)+_0x540f6a(0x210)]=typeof _0x411e97[_0x540f6a(0x15b)+_0x540f6a(0x210)]===_0x540f6a(0x201)?_0x411e97[_0x540f6a(0x15b)+'_USER']:CFG[_0x540f6a(0x15b)+'_USER'];if(Array[_0x540f6a(0x20d)](_0x411e97[_0x540f6a(0x1e3)])&&_0x411e97['REACTIONS']['length']>-0x1730+0x8b0+0xe80)CFG[_0x540f6a(0x1e3)]=_0x411e97[_0x540f6a(0x1e3)][_0x540f6a(0x1aa)]();else typeof _0x411e97[_0x540f6a(0x1e3)]===_0x540f6a(0x1a3)&&_0x411e97[_0x540f6a(0x1e3)][_0x540f6a(0x12f)]()['length']>-0xa1e+0x73*0x3f+-0x1*0x122f&&(CFG[_0x540f6a(0x1e3)]=_0x411e97[_0x540f6a(0x1e3)]['split'](',')['map'](_0xf0b78a=>_0xf0b78a['trim']())[_0x540f6a(0x181)](Boolean));}catch(_0x374f6e){warn('['+name+(_0x540f6a(0x174)+'onfig\x20erro'+'r:\x20')+(_0x374f6e?.[_0x540f6a(0x1ad)]||_0x374f6e));}}try{hotReloadConfig&&hotReloadConfig(()=>{const _0x185e34=_0x416291;refreshConfig(),info('['+name+(']\x20hot-relo'+_0x185e34(0x148)+'g.'));});}catch(_0x2f1ee2){warn('['+name+(']\x20hotReloa'+_0x416291(0x189)+_0x416291(0x143)+_0x416291(0x13f))+(_0x2f1ee2?.[_0x416291(0x1ad)]||_0x2f1ee2));}refreshConfig();async function ensureTable(){const _0x372666=_0x416291;try{let _0xaec49c=[];try{const _0x2d4063=await db[_0x372666(0x151)](_0x372666(0x175)+'le_info(\x27a'+_0x372666(0x1b0)+'refs\x27)');_0xaec49c=(_0x2d4063||[])[_0x372666(0x20f)](_0x136ba2=>_0x136ba2['name']);}catch(_0x3339f1){_0xaec49c=[];}if(!_0xaec49c[_0x372666(0x1cb)])await db[_0x372666(0x19d)](_0x372666(0x176)+'LE\x20IF\x20NOT\x20'+_0x372666(0x21a)+'oreact_pre'+_0x372666(0x186)+_0x372666(0x157)+_0x372666(0x20b)+_0x372666(0x19f)+_0x372666(0x153)+_0x372666(0x202)+_0x372666(0x1b5)+'\x20\x20updated_'+'at\x20INTEGER'+_0x372666(0x1bf)+_0x372666(0x15a)),info('['+name+(_0x372666(0x134)+_0x372666(0x162)+_0x372666(0x182)+_0x372666(0x203)+_0x372666(0x15d))),_0xaec49c=[_0x372666(0x17e),_0x372666(0x195),_0x372666(0x1e1)];else{if(!_0xaec49c[_0x372666(0x161)](_0x372666(0x1e1)))try{await db[_0x372666(0x207)]('ALTER\x20TABL'+'E\x20autoreac'+_0x372666(0x1d7)+'D\x20COLUMN\x20u'+_0x372666(0x199)+_0x372666(0x1b6)+_0x372666(0x173)),info('['+name+(']\x20migrated'+_0x372666(0x1dd)+_0x372666(0x1bc)+'ded\x20column'+'\x20updated_a'+'t.'));}catch(_0x503df6){warn('['+name+(_0x372666(0x13c)+_0x372666(0x147)+'ted_at\x20col'+_0x372666(0x137)+_0x372666(0x177)+'\x20')+(_0x503df6?.['message']||_0x503df6));}}try{const _0x3c6b0c=await db[_0x372666(0x213)](_0x372666(0x21b)+_0x372666(0x1a6)+_0x372666(0x154)+_0x372666(0x15e)+'key=\x27enabl'+_0x372666(0x1f0));if(!_0x3c6b0c){const _0x4cd691=Math[_0x372666(0x188)](Date['now']()/(-0x16ed*0x1+0xd3e+0xd97));await db[_0x372666(0x207)](_0x372666(0x1d2)+_0x372666(0x1d8)+'t_prefs\x20(k'+_0x372666(0x1f8)+_0x372666(0x13d)+_0x372666(0x208)+_0x372666(0x17c)+_0x372666(0x1f9)+'?)',[_0x4cd691]),info('['+name+(_0x372666(0x134)+_0x372666(0x206)+_0x372666(0x16b)+'e'));}}catch(_0x21504a){const _0x32cf6e=String(_0x21504a?.[_0x372666(0x1ad)]||'')[_0x372666(0x1d6)+'e']();if(_0x32cf6e['includes'](_0x372666(0x144))||_0x32cf6e[_0x372666(0x161)](_0x372666(0x1d3)+'umn'))try{const _0xd2428b=Math['floor'](Date['now']()/(-0xea4+-0x1c34+-0x22*-0x160));await db[_0x372666(0x207)]('INSERT\x20OR\x20'+_0x372666(0x1d9)+_0x372666(0x165)+_0x372666(0x1f2)+_0x372666(0x1f4)+_0x372666(0x1ae)+'\x27enabled\x27,'+_0x372666(0x18c)),info('['+name+(']\x20created\x20'+_0x372666(0x206)+_0x372666(0x16b)+'e\x20(fallbac'+'k\x20insert).'));}catch(_0x2699b4){warn('['+name+(']\x20fallback'+_0x372666(0x14a)+'iled:\x20')+(_0x2699b4?.['message']||_0x2699b4));}else warn('['+name+(_0x372666(0x191)+'efault\x20ena'+_0x372666(0x1db)+_0x372666(0x163))+(_0x21504a?.[_0x372666(0x1ad)]||_0x21504a));}}catch(_0x8da679){warn('['+name+(_0x372666(0x1d5)+'ble\x20error:'+'\x20')+(_0x8da679?.[_0x372666(0x1ad)]||_0x8da679));throw _0x8da679;}}async function readEnabledFromDb(){const _0x7a02d0=_0x416291;try{const _0x1f0d85=await db[_0x7a02d0(0x213)](_0x7a02d0(0x21b)+_0x7a02d0(0x1a6)+'toreact_pr'+_0x7a02d0(0x15e)+_0x7a02d0(0x1f5)+_0x7a02d0(0x146)+'1');if(!_0x1f0d85)return![];const _0x473dd0=String(_0x1f0d85[_0x7a02d0(0x195)])[_0x7a02d0(0x1d6)+'e']();return _0x473dd0===_0x7a02d0(0x171)||_0x473dd0==='1';}catch(_0xbbde64){return warn('['+name+(_0x7a02d0(0x198)+_0x7a02d0(0x1a7)+_0x7a02d0(0x16e))+(_0xbbde64?.['message']||_0xbbde64)),![];}}async function saveEnabledToDb(_0x5e70dd){const _0xe7f5c9=_0x416291;try{const _0x272e39=_0x5e70dd?_0xe7f5c9(0x171):_0xe7f5c9(0x15c),_0x2286a7=Math[_0xe7f5c9(0x188)](Date[_0xe7f5c9(0x16a)]()/(0x1*0x191c+0x148a+-0x29be));return await db[_0xe7f5c9(0x207)]('INSERT\x20INT'+'O\x20autoreac'+_0xe7f5c9(0x19c)+_0xe7f5c9(0x1f8)+_0xe7f5c9(0x13d)+'t)\x20VALUES\x20'+_0xe7f5c9(0x17c)+_0xe7f5c9(0x164)+_0xe7f5c9(0x1a1)+'FLICT(key)'+_0xe7f5c9(0x1c1)+'\x20SET\x20value'+_0xe7f5c9(0x156)+_0xe7f5c9(0x194)+_0xe7f5c9(0x1e7)+_0xe7f5c9(0x168)+'ated_at',[_0x272e39,_0x2286a7]),info('['+name+(_0xe7f5c9(0x167)+_0xe7f5c9(0x1dc))+_0x272e39),!![];}catch(_0x1f25fe){const _0x2c8fc7=String(_0x1f25fe?.['message']||'')[_0xe7f5c9(0x1d6)+'e']();if(_0x2c8fc7['includes'](_0xe7f5c9(0x1d3)+_0xe7f5c9(0x13a))||_0x2c8fc7[_0xe7f5c9(0x161)]('no\x20column'))try{return await db[_0xe7f5c9(0x207)](_0xe7f5c9(0x1cf)+_0xe7f5c9(0x1d9)+_0xe7f5c9(0x165)+_0xe7f5c9(0x1f2)+'key,\x20value'+_0xe7f5c9(0x1ae)+_0xe7f5c9(0x133)+_0xe7f5c9(0x1a8),[val]),info('['+name+(']\x20saved\x20en'+_0xe7f5c9(0x1dc))+val+('\x20(fallback'+'\x20without\x20u'+'pdated_at)')),!![];}catch(_0x3457b7){return warn('['+name+(']\x20saveEnab'+'ledToDb\x20fa'+'llback\x20fai'+_0xe7f5c9(0x1c6))+(_0x3457b7?.[_0xe7f5c9(0x1ad)]||_0x3457b7)),![];}return warn('['+name+(_0xe7f5c9(0x218)+_0xe7f5c9(0x18f)+_0xe7f5c9(0x215))+(_0x1f25fe?.[_0xe7f5c9(0x1ad)]||_0x1f25fe)),![];}}function pickReactionEmoji(){const _0x468a54=_0x416291;if(!Array[_0x468a54(0x20d)](CFG[_0x468a54(0x1e3)])||CFG['REACTIONS']['length']===0x1*0x64e+-0xa3*0x7+-0xb*0x2b)return null;return CFG[_0x468a54(0x1e3)][Math[_0x468a54(0x188)](Math[_0x468a54(0x192)]()*CFG[_0x468a54(0x1e3)][_0x468a54(0x1cb)])];}async function sendStatusReaction(_0x10c4e1,_0x4ba3af,_0x32c4ab){const _0xb8dbb6=_0x416291;if(!_0x10c4e1||!_0x10c4e1['key']||!_0x4ba3af)return![];const _0x38d77b=_0x10c4e1[_0xb8dbb6(0x17e)]['remoteJid'],_0x396c18=_0x10c4e1[_0xb8dbb6(0x17e)]['participan'+'t'];try{const _0x5ce18a={};if(_0x396c18||_0x32c4ab)_0x5ce18a[_0xb8dbb6(0x18a)+_0xb8dbb6(0x178)]=[_0x396c18,_0x32c4ab][_0xb8dbb6(0x181)](Boolean);if(botRef&&botRef['sock']&&typeof botRef[_0xb8dbb6(0x1ea)][_0xb8dbb6(0x135)+'e']===_0xb8dbb6(0x185))return await botRef[_0xb8dbb6(0x1ea)][_0xb8dbb6(0x135)+'e'](_0x38d77b,{'react':{'key':_0x10c4e1['key'],'text':_0x4ba3af}},_0x5ce18a),!![];else return botRef&&typeof botRef['sendMessag'+'e']===_0xb8dbb6(0x185)?(await botRef[_0xb8dbb6(0x135)+'e'](_0x38d77b,{'react':{'key':_0x10c4e1[_0xb8dbb6(0x17e)],'text':_0x4ba3af}},_0x5ce18a),!![]):(warn('['+name+(_0xb8dbb6(0x140)+_0xb8dbb6(0x1ba)+'\x20available'+_0xb8dbb6(0x20c)+_0xb8dbb6(0x19a))),![]);}catch(_0x57ac38){return warn('['+name+(_0xb8dbb6(0x1f7)+_0xb8dbb6(0x166)+_0xb8dbb6(0x13f))+(_0x57ac38?.[_0xb8dbb6(0x1ad)]||_0x57ac38)),![];}}function createMessageHandler(){return async function _0x1983a8(_0x5c7484){const _0x54bf9d=_0x3930;try{if(shuttingDown)return;refreshConfig();const _0x2a9371=await readEnabledFromDb();if(!_0x2a9371)return;const {messages:_0x551214}=_0x5c7484||{};if(!Array[_0x54bf9d(0x20d)](_0x551214)||_0x551214[_0x54bf9d(0x1cb)]===0x6*-0x4e1+0x1a56+-0x2*-0x178)return;const _0x1e3974=Date['now'](),_0x5baf70=getBotJid();if(!_0x5baf70&&CFG[_0x54bf9d(0x15b)+_0x54bf9d(0x210)])return;for(const _0x153fa6 of _0x551214){try{if(!_0x153fa6||!_0x153fa6[_0x54bf9d(0x17e)])continue;if(_0x153fa6[_0x54bf9d(0x17e)][_0x54bf9d(0x1e9)]!==_0x54bf9d(0x1de)+_0x54bf9d(0x1ac))continue;if(_0x1e3974-lastReactionTime<Number(CFG[_0x54bf9d(0x152)+_0x54bf9d(0x1e5)]||FALLBACKS['MIN_INTERV'+'AL_MS']))continue;const _0x171203=pickReactionEmoji();if(!_0x171203)continue;const _0x52bf7e=await sendStatusReaction(_0x153fa6,_0x171203,_0x5baf70);_0x52bf7e&&(lastReactionTime=Date[_0x54bf9d(0x16a)](),info('['+name+']\x20reacted\x20'+_0x171203+('\x20to\x20status'+_0x54bf9d(0x1fb))+(_0x153fa6[_0x54bf9d(0x17e)][_0x54bf9d(0x1e2)+'t']||_0x54bf9d(0x14b))),await new Promise(_0x28e284=>setTimeout(_0x28e284,0xb*0x7f+0xaf*0xf+-0xdc2)));}catch(_0x33060f){warn('['+name+(_0x54bf9d(0x1c4)+'ndler\x20erro'+'r:\x20')+(_0x33060f?.['message']||_0x33060f));}}}catch(_0x47e4b5){warn('['+name+(_0x54bf9d(0x136)+_0x54bf9d(0x145)+_0x54bf9d(0x1c5)+_0x54bf9d(0x141))+(_0x47e4b5?.[_0x54bf9d(0x1ad)]||_0x47e4b5));}};}const processedCmdKeys=new Map(),CMD_DEDUPE_TTL_MS=(0xc60+0x254+-0xe96)*(-0x264+-0xf54+0x2*0xad0);function markCmdProcessed(_0x43501a){const _0x5d593e=_0x416291;if(!_0x43501a)return;if(processedCmdKeys[_0x5d593e(0x138)](_0x43501a))try{clearTimeout(processedCmdKeys[_0x5d593e(0x213)](_0x43501a));}catch(_0x49a97e){};const _0xbc8fac=setTimeout(()=>processedCmdKeys[_0x5d593e(0x160)](_0x43501a),CMD_DEDUPE_TTL_MS);processedCmdKeys['set'](_0x43501a,_0xbc8fac);}function isCmdProcessed(_0x30e93a){return _0x30e93a&&processedCmdKeys['has'](_0x30e93a);}export async function onMessage(_0x1be4f0){const _0x8ae4c3=_0x416291;try{if(!_0x1be4f0||!_0x1be4f0[_0x8ae4c3(0x17e)]||!_0x1be4f0['message']||!_0x1be4f0[_0x8ae4c3(0x1a0)])return;if(isJidGroup(_0x1be4f0[_0x8ae4c3(0x17e)][_0x8ae4c3(0x1e9)]))return;const _0x27fc02=_0x1be4f0[_0x8ae4c3(0x17e)][_0x8ae4c3(0x1c9)],_0x5ebce4=await isSudo(botRef,_0x1be4f0)[_0x8ae4c3(0x216)](()=>![]);if(!_0x27fc02&&!_0x5ebce4)return;let _0x1c54dc;if(_0x27fc02){_0x1c54dc=getBotJid();if(!_0x1c54dc){warn('['+name+(_0x8ae4c3(0x1da)+_0x8ae4c3(0x1d0)+_0x8ae4c3(0x1eb)+_0x8ae4c3(0x190)+_0x8ae4c3(0x170)+_0x8ae4c3(0x183)));return;}}else _0x1c54dc=_0x1be4f0[_0x8ae4c3(0x17e)]['remoteJid'];const _0x5dfc9c=String(_0x1be4f0['key']['remoteJid']||'')+'::'+String(_0x1be4f0['key']['id']||_0x1be4f0['key'][_0x8ae4c3(0x1e2)+'t']||'');if(isCmdProcessed(_0x5dfc9c))return;markCmdProcessed(_0x5dfc9c);const _0x2098c7=typeof _0x1be4f0[_0x8ae4c3(0x18b)]===_0x8ae4c3(0x1a3)&&_0x1be4f0[_0x8ae4c3(0x18b)]['trim']()[_0x8ae4c3(0x1cb)]?_0x1be4f0[_0x8ae4c3(0x18b)][_0x8ae4c3(0x12f)]():function _0x12b9c4(_0x171956){const _0x15d71c=_0x8ae4c3;if(!_0x171956||!_0x171956[_0x15d71c(0x1ad)])return'';const _0x4a1509=_0x171956[_0x15d71c(0x1ad)];if(_0x4a1509[_0x15d71c(0x1fd)+'on'])return _0x4a1509[_0x15d71c(0x1fd)+'on'];if(_0x4a1509[_0x15d71c(0x1a9)+_0x15d71c(0x18d)]?.['text'])return _0x4a1509[_0x15d71c(0x1a9)+'xtMessage'][_0x15d71c(0x18b)];if(_0x4a1509[_0x15d71c(0x1fa)+'ge']?.[_0x15d71c(0x1b9)])return _0x4a1509['imageMessa'+'ge'][_0x15d71c(0x1b9)];if(_0x4a1509[_0x15d71c(0x1e8)+'ge']?.['caption'])return _0x4a1509[_0x15d71c(0x1e8)+'ge'][_0x15d71c(0x1b9)];if(_0x4a1509[_0x15d71c(0x1c3)+'ponseMessa'+'ge']?.[_0x15d71c(0x20e)+_0x15d71c(0x17b)])return _0x4a1509[_0x15d71c(0x1c3)+_0x15d71c(0x1ca)+'ge'][_0x15d71c(0x20e)+_0x15d71c(0x17b)];if(_0x4a1509[_0x15d71c(0x1c2)+_0x15d71c(0x200)]?.[_0x15d71c(0x1c7)+_0x15d71c(0x16f)]?.[_0x15d71c(0x219)+_0x15d71c(0x20a)])return _0x4a1509[_0x15d71c(0x1c2)+_0x15d71c(0x200)][_0x15d71c(0x1c7)+_0x15d71c(0x16f)]['selectedRo'+_0x15d71c(0x20a)];return'';}(_0x1be4f0)||'';if(!_0x2098c7)return;const _0x21e11a=(_0x2098c7[_0x8ae4c3(0x14f)](/\r?\n/)[0x2114+0x33*0xad+-0x438b]||'')[_0x8ae4c3(0x12f)](),_0x9c4a7e=_0x21e11a[_0x8ae4c3(0x14f)](/\s+/),_0x5499c6=(_0x9c4a7e[0x2579*-0x1+0x1*-0x287+0x2800]||'')[_0x8ae4c3(0x1d6)+'e']();if(!commands[_0x8ae4c3(0x161)](_0x5499c6))return;const _0x322c79=(_0x9c4a7e[-0x1*-0x6b7+0x201e+-0x26d4]||'')[_0x8ae4c3(0x1d6)+'e']();if(['on','enable',_0x8ae4c3(0x171),'1'][_0x8ae4c3(0x161)](_0x322c79)){const _0x651775=await saveEnabledToDb(!![]);if(_0x651775)await sendConfirmation(_0x1c54dc,_0x8ae4c3(0x1b4)+_0x8ae4c3(0x1fe));else await sendConfirmation(_0x1c54dc,_0x8ae4c3(0x1b4)+_0x8ae4c3(0x196)+_0x8ae4c3(0x132)+_0x8ae4c3(0x1a4));return;}if([_0x8ae4c3(0x1c0),_0x8ae4c3(0x19e),_0x8ae4c3(0x15c),'0'][_0x8ae4c3(0x161)](_0x322c79)){const _0x11bfea=await saveEnabledToDb(![]);if(_0x11bfea)await sendConfirmation(_0x1c54dc,_0x8ae4c3(0x1b4)+_0x8ae4c3(0x217)+'.');else await sendConfirmation(_0x1c54dc,_0x8ae4c3(0x1b4)+_0x8ae4c3(0x196)+'o\x20disable\x20'+'(DB\x20error)'+'.');return;}if(_0x322c79===_0x8ae4c3(0x1cc)||_0x322c79===_0x8ae4c3(0x205)||!_0x322c79){const _0x1cc1b6=await readEnabledFromDb(),_0x1b25cc=_0x1cc1b6?_0x8ae4c3(0x1ee):_0x8ae4c3(0x1d4);await sendConfirmation(_0x1c54dc,_0x8ae4c3(0x212)+_0x8ae4c3(0x197)+_0x8ae4c3(0x1e6)+_0x8ae4c3(0x17f)+_0x8ae4c3(0x1b3)+_0x1b25cc+(_0x8ae4c3(0x1ff)+_0x8ae4c3(0x1a5)+'\x20')+CFG[_0x8ae4c3(0x152)+'AL_MS']+(_0x8ae4c3(0x14c)+_0x8ae4c3(0x1f6))+CFG[_0x8ae4c3(0x1e3)][_0x8ae4c3(0x159)]('\x20')+(_0x8ae4c3(0x17d)+_0x8ae4c3(0x1e0))+CFG['IGNORE_BOT'+_0x8ae4c3(0x210)]);return;}await sendConfirmation(_0x1c54dc,'Usage\x20(PM\x20'+_0x8ae4c3(0x21c)+(_0x8ae4c3(0x1dd)+'\x20on|enable'+_0x8ae4c3(0x1b7)+_0x8ae4c3(0x149)+_0x8ae4c3(0x1b2)+_0x8ae4c3(0x180))+(_0x8ae4c3(0x1dd)+_0x8ae4c3(0x17a)+_0x8ae4c3(0x214)+_0x8ae4c3(0x18e)+'ing\x20to\x20sta'+_0x8ae4c3(0x169))+(_0x8ae4c3(0x1dd)+'\x20status\x20\x20\x20'+_0x8ae4c3(0x193)+_0x8ae4c3(0x1ed)+'state/conf'+'ig'));}catch(_0x128f4d){warn('['+name+(_0x8ae4c3(0x16c)+_0x8ae4c3(0x1fc))+(_0x128f4d?.[_0x8ae4c3(0x1ad)]||_0x128f4d));}}async function sendConfirmation(_0x2a89ae,_0x5c311f){const _0x4ab11f=_0x416291;try{if(!_0x2a89ae)return;if(botRef&&botRef['sock']&&typeof botRef[_0x4ab11f(0x1ea)][_0x4ab11f(0x135)+'e']===_0x4ab11f(0x185))await botRef[_0x4ab11f(0x1ea)]['sendMessag'+'e'](_0x2a89ae,{'text':_0x5c311f});else botRef&&typeof botRef[_0x4ab11f(0x135)+'e']==='function'?await botRef[_0x4ab11f(0x135)+'e'](_0x2a89ae,{'text':_0x5c311f}):warn('['+name+(']\x20no\x20sendM'+_0x4ab11f(0x1bd)+_0x4ab11f(0x1f1)+_0x4ab11f(0x13b)+_0x4ab11f(0x1b8)+_0x4ab11f(0x142)));}catch(_0x137e4e){warn('['+name+(_0x4ab11f(0x179)+_0x4ab11f(0x1ce)+'ailed:\x20')+(_0x137e4e?.[_0x4ab11f(0x1ad)]||_0x137e4e));}}export async function initialize(_0x21f9d6){const _0x5d4b9b=_0x416291;if(!_0x21f9d6)throw new Error(_0x5d4b9b(0x1bb)+_0x5d4b9b(0x172)+_0x5d4b9b(0x1ef)+_0x5d4b9b(0x1ab)+_0x5d4b9b(0x1b1));botRef=_0x21f9d6,shuttingDown=![],refreshConfig(),await ensureTable()[_0x5d4b9b(0x216)](_0x5a8178=>{const _0x3f7db8=_0x5d4b9b;warn('['+name+(']\x20DB\x20initi'+_0x3f7db8(0x204)+_0x3f7db8(0x155)+'sureTable)'+':\x20')+(_0x5a8178?.[_0x3f7db8(0x1ad)]||_0x5a8178));});const _0x4dd4e5=await readEnabledFromDb();messageHandler=createMessageHandler(),startManagedListener({'botRef':botRef,'eventName':_0x5d4b9b(0x14d)+_0x5d4b9b(0x139),'handler':messageHandler,'moduleName':name}),info('['+name+(_0x5d4b9b(0x1cd)+_0x5d4b9b(0x1c8)+_0x5d4b9b(0x1e4)+_0x5d4b9b(0x1d1))+(_0x4dd4e5?_0x5d4b9b(0x171):'false')+(_0x5d4b9b(0x158)+_0x5d4b9b(0x13e))+CFG[_0x5d4b9b(0x152)+_0x5d4b9b(0x1e5)]+(',\x20reaction'+'s=')+CFG[_0x5d4b9b(0x1e3)][_0x5d4b9b(0x159)]('\x20'));}export async function cleanup(){const _0xd1917e=_0x416291;try{stopManagedListener(name,_0xd1917e(0x14d)+_0xd1917e(0x139)),shuttingDown=!![],lastReactionTime=-0x1*0xe65+-0x792+-0x1*-0x15f7,messageHandler=null;}catch(_0x2339c0){warn('['+name+(']\x20cleanup\x20'+_0xd1917e(0x16e))+(_0x2339c0?.['message']||_0x2339c0));}finally{botRef=null,info('['+name+(_0xd1917e(0x19b)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};