function _0x319d(_0x23a33a,_0x214723){const _0x3c7397=_0x1cb3();return _0x319d=function(_0xf50a80,_0x2bc187){_0xf50a80=_0xf50a80-(-0x22e7+0x1*0x2345+-0x4*-0x40);let _0x4d5d1c=_0x3c7397[_0xf50a80];return _0x4d5d1c;},_0x319d(_0x23a33a,_0x214723);}const _0x2d3b66=_0x319d;(function(_0x65d121,_0x292def){const _0x341113=_0x319d,_0x358296=_0x65d121();while(!![]){try{const _0x346824=parseInt(_0x341113(0x1ae))/(0x2*0x744+-0x11*-0x79+-0x2*0xb48)+-parseInt(_0x341113(0x1df))/(-0x22d7+-0x964+0x2c3d)*(parseInt(_0x341113(0x19a))/(-0x74e+0x14fc+-0xdab*0x1))+-parseInt(_0x341113(0x174))/(-0x27*0xf+0x1876+-0x1f*0xb7)+parseInt(_0x341113(0x1de))/(0x116*0x11+-0x2206+0x1*0xf95)*(-parseInt(_0x341113(0x1bc))/(0x1570+-0x27c+0x1*-0x12ee))+-parseInt(_0x341113(0x160))/(0x16cf+0x12dd+-0x29a5)*(parseInt(_0x341113(0x16e))/(0x158d+-0x271*0x2+-0x10a3))+parseInt(_0x341113(0x198))/(-0x15b9+-0x1*0x1461+-0x1*-0x2a23)+parseInt(_0x341113(0x16d))/(-0x10*0x175+0x2a7*-0x1+-0x8ab*-0x3)*(parseInt(_0x341113(0x1bf))/(-0x212a+-0x2*-0x135d+-0x585));if(_0x346824===_0x292def)break;else _0x358296['push'](_0x358296['shift']());}catch(_0x389f14){_0x358296['push'](_0x358296['shift']());}}}(_0x1cb3,0x87ea*0x31+0x1bca6+0x1*-0xe81a1));import{performance}from'perf_hooks';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x2d3b66(0x1c7);function _0x1cb3(){const _0x12d8fe=['\x20cleanup\x20e','isValid','╭─❏\x20pong\x20❏','105vsqHKk','unknown','ping\x20histo','\x20failed:\x20','finalDest\x20','g\x20box\x20to\x20','\x20(proc=','\x20—\x20Proc:\x20','isArray',':\x20hotReloa','Last\x20','1.3.6-fixe','toLowerCas','1357430vaIFYJ','884264AqXQJD','══⊷','unresolved','dConfig\x20re','chat','size','5017880FtAMpM','findings','endsWith','add','mFindings\x20','networkLat','get',';\x20skipping','join','slice','ndler\x20erro','dConfig\x20ha','map','TIMEZONE','story\x20yet.','@g.us','shift','reverse','now','Africa/Nai','\x20handler\x20e',':\x20final\x20de','at\x20','CONDS','No\x20ping\x20hi','ping\x20',':\x20sent\x20pin','split','ED_WITH_SE','from',':\x20findStor','fromMe','toFixed',',\x20net=','N/A','message','6162390BsRqei',':\x20initiali','1971147gXONDR','ency','stination\x20','jid','\x20initializ','\x0a│\x20','zed.','delete','DATETIME_M','gistration','number','sendMessag',':\x20isSudo\x20c','failed\x20to\x20',':\x20invalid\x20','has',',\x20origin=','length','may\x20be\x20lim','_bot','1648106gCNOMg','or\x20origin\x20','\x20origin\x20ch','error:\x20',':\x20timezone','TIMEZONE_N','\x20attemptin','toLocaleSt','Measuring\x20','processLat','itialized;',':\x20botInsta','tmp','robi','3660690oAaDOc','o\x20failed\x20f','t\x20determin','220lRkLMo',':\x20fallback',':\x20network\x20','asurement\x20','fromMillis','bot','\x20retry\x20als','text','ping','clear','\x20(origin:\x20','\x20cleaned\x20u','\x20send.','heck\x20threw',':\x20retrying','r:\x20','key','type;\x20skip','trim','skipping.','\x20•\x20Net:\x20',':\x20failed\x20t','\x20pings:\x0a','remoteJid','tency...','onfig\x20erro','zoneName','ring','\x0a╰════════','ited.','ping\x20send.','5aVACUI','2VQdtYG'];_0x1cb3=function(){return _0x12d8fe;};return _0x1cb3();}export const version=_0x2d3b66(0x16b)+'d';export const priority=0x23*-0xc2+0x19*-0x21+0x1dc9;let botInstance=null;const lastPingAt=new Map(),PING_COOLDOWN_MS=-0x54e+-0xd69+0x459*0x7,PING_HISTORY_MAX=-0x2424+-0x1ce0+-0x4ac*-0xe,pingHistory=[];let respondedMsgIds=new Set(),DEFAULT_TIMEZONE=_0x2d3b66(0x187)+_0x2d3b66(0x1bb);function refreshConfig(){const _0x5ba17b=_0x2d3b66;try{const _0x1fbd42=typeof getConfig==='function'?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x1fbd42[_0x5ba17b(0x181)]||_0x1fbd42[_0x5ba17b(0x1b3)+'AME']||DEFAULT_TIMEZONE,info(name+(_0x5ba17b(0x1b2)+'\x20set\x20to\x20')+DEFAULT_TIMEZONE);}catch(_0x3bcbd7){warn(name+(':\x20refreshC'+_0x5ba17b(0x1d8)+_0x5ba17b(0x1ce))+(_0x3bcbd7?.[_0x5ba17b(0x197)]||_0x3bcbd7));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0x8c9679=_0x2d3b66;try{refreshConfig();}catch(_0x4c2854){warn(name+(_0x8c9679(0x169)+_0x8c9679(0x17f)+_0x8c9679(0x17e)+_0x8c9679(0x1ce))+(_0x4c2854?.[_0x8c9679(0x197)]||_0x4c2854));}});}catch(_0x2810e5){warn(name+(':\x20hotReloa'+_0x2d3b66(0x171)+_0x2d3b66(0x1a3)+_0x2d3b66(0x163))+(_0x2810e5?.['message']||_0x2810e5));}refreshConfig();function pushHistory(_0x339419){const _0x36452d=_0x2d3b66;pingHistory['push'](_0x339419);if(pingHistory[_0x36452d(0x1ab)]>PING_HISTORY_MAX)pingHistory[_0x36452d(0x184)]();}function formatTimestamp(_0x2b9b7e=Date[_0x2d3b66(0x186)](),_0x5a2b9c=DEFAULT_TIMEZONE){const _0xc4553e=_0x2d3b66;try{const _0x3eedd3=DateTime[_0xc4553e(0x1c3)](_0x2b9b7e)['setZone'](_0x5a2b9c);if(!_0x3eedd3[_0xc4553e(0x15e)])return new Date(_0x2b9b7e)[_0xc4553e(0x1b5)+_0xc4553e(0x1da)]();return _0x3eedd3[_0xc4553e(0x1b5)+_0xc4553e(0x1da)](DateTime[_0xc4553e(0x1a2)+_0xc4553e(0x190)+_0xc4553e(0x18b)])+'\x20('+_0x3eedd3[_0xc4553e(0x1d9)]+')';}catch(_0x4ae84d){return new Date(_0x2b9b7e)[_0xc4553e(0x1b5)+_0xc4553e(0x1da)]();}}function buildBox(_0x5c2a68,_0x250340,_0x5eee76=null){const _0x16bb46=_0x2d3b66;if(!_0x5eee76)_0x5eee76=formatTimestamp(Date['now'](),DEFAULT_TIMEZONE);return _0x16bb46(0x15f)+'═══⊷\x0a│\x20⏱\x20P'+'roc:\x20'+_0x5c2a68+_0x16bb46(0x1d3)+_0x250340+_0x16bb46(0x19f)+_0x5eee76+(_0x16bb46(0x1db)+_0x16bb46(0x16f));}export async function initialize(_0x21270b){const _0x1ad317=_0x2d3b66;try{botInstance=_0x21270b,refreshConfig(),info(name+(_0x1ad317(0x199)+_0x1ad317(0x1a0)));}catch(_0x25d041){warn(name+(_0x1ad317(0x19e)+'e\x20error:\x20')+(_0x25d041?.[_0x1ad317(0x197)]||_0x25d041));}}async function findStoredMatchFromFindings(_0x299e5f=[]){const _0x4a525a=_0x2d3b66;try{if(!Array[_0x4a525a(0x168)](_0x299e5f)||_0x299e5f[_0x4a525a(0x1ab)]===0x2e*0x84+0x3ec*0x4+-0x2768)return null;const _0x3bdaa2=await listSudo();if(!Array[_0x4a525a(0x168)](_0x3bdaa2)||_0x3bdaa2[_0x4a525a(0x1ab)]===-0xa1*-0x9+0x2*0x7ed+-0x1583)return null;const _0x41ec29=new Set(_0x3bdaa2['map'](_0x59e2ef=>String(_0x59e2ef)));for(const _0x273632 of _0x299e5f){if(!_0x273632||!_0x273632['jid']||typeof _0x273632[_0x4a525a(0x19d)]!=='string')continue;try{const _0x470c74=normalizeToJid(_0x273632[_0x4a525a(0x19d)]);if(_0x470c74&&_0x41ec29[_0x4a525a(0x1a9)](_0x470c74))return _0x470c74;const _0x54cba4=(String(_0x273632[_0x4a525a(0x19d)])[_0x4a525a(0x18f)]('@')[-0x20*-0x106+-0x16ea+0x1*-0x9d6]||'')[_0x4a525a(0x18f)](':')[0x395+-0x89a+-0x505*-0x1]||null;if(_0x54cba4)for(const _0x1f4170 of _0x41ec29){const _0x241b44=String(_0x1f4170)[_0x4a525a(0x18f)]('@')[-0x1572+0xca*0xe+-0xb*-0xf2]||null;if(_0x241b44&&_0x54cba4===_0x241b44)return _0x1f4170;}if(_0x41ec29[_0x4a525a(0x1a9)](_0x273632[_0x4a525a(0x19d)]))return _0x273632['jid'];}catch(_0x593d15){}}return null;}catch(_0x3e96e8){return warn(name+(_0x4a525a(0x192)+'edMatchFro'+_0x4a525a(0x178)+_0x4a525a(0x1b1))+(_0x3e96e8?.[_0x4a525a(0x197)]||_0x3e96e8)),null;}}export async function onMessage(_0x182dc5){const _0x52a00a=_0x2d3b66;try{if(!_0x182dc5||!_0x182dc5[_0x52a00a(0x1cf)])return;const _0x24c200=_0x182dc5['key']?.['id'];if(_0x24c200){if(respondedMsgIds[_0x52a00a(0x1a9)](_0x24c200))return;respondedMsgIds['add'](_0x24c200),setTimeout(()=>{const _0x452cb1=_0x52a00a;respondedMsgIds[_0x452cb1(0x1a1)](_0x24c200);},-0x1*0x9581+-0x5f47+0x8*0x3be5);}const _0x30ac20=_0x182dc5[_0x52a00a(0x1d6)]||_0x182dc5[_0x52a00a(0x1cf)]?.[_0x52a00a(0x1d6)]||_0x52a00a(0x161);if(_0x30ac20===_0x52a00a(0x161)){warn(name+(':\x20could\x20no'+_0x52a00a(0x1be)+'e\x20chatId;\x20'+_0x52a00a(0x1d2)));return;}if(!_0x182dc5['isCommand'])return;const _0x82a0ec=(_0x182dc5[_0x52a00a(0x1c6)]||'')[_0x52a00a(0x1d1)]();if(!_0x82a0ec)return;const _0x40e0bc=_0x82a0ec[_0x52a00a(0x16c)+'e'](),_0x3571af=_0x40e0bc===_0x52a00a(0x162)+'ry'||_0x40e0bc==='ping\x20stats',_0x3f3e41=_0x40e0bc===_0x52a00a(0x1c7)||_0x40e0bc['startsWith'](_0x52a00a(0x18d));if(!_0x3571af&&!_0x3f3e41)return;!botInstance&&(botInstance=_0x182dc5[_0x52a00a(0x1c4)]||_0x182dc5['client']||_0x182dc5[_0x52a00a(0x1ad)]||null,!botInstance&&warn(name+(_0x52a00a(0x1b9)+'nce\x20not\x20in'+_0x52a00a(0x1b8)+_0x52a00a(0x1b4)+'g\x20to\x20conti'+'nue\x20but\x20su'+'do\x20checks\x20'+_0x52a00a(0x1ac)+_0x52a00a(0x1dc))));const _0x429f66=Boolean(_0x182dc5['key'][_0x52a00a(0x193)]);let _0xf41dd0=![];try{_0xf41dd0=Boolean(await isSudo(botInstance,_0x182dc5));}catch(_0x559721){warn(name+(_0x52a00a(0x1a6)+_0x52a00a(0x1cc)+':\x20')+(_0x559721?.[_0x52a00a(0x197)]||_0x559721)),_0xf41dd0=![];}if(!_0x429f66&&!_0xf41dd0)return;const _0x1a6fe9=String(_0x30ac20)[_0x52a00a(0x176)](_0x52a00a(0x183)),_0x2db27d=getBotJid();if(_0x3571af){const _0x176f25=_0x1a6fe9?_0x30ac20:_0x2db27d||_0x30ac20;if(pingHistory[_0x52a00a(0x1ab)]===-0x1*-0x139+-0x1447*-0x1+0x1*-0x1580){if(botInstance)await botInstance[_0x52a00a(0x1a5)+'e'](_0x176f25,{'text':_0x52a00a(0x18c)+_0x52a00a(0x182)});return;}const _0x39c206=pingHistory['slice']()[_0x52a00a(0x185)]()[_0x52a00a(0x17d)](-0x1*-0x1d0b+0x22e*-0xe+0xd*0x1d,-0xa36+0x1*0x731+0x319)[_0x52a00a(0x180)]((_0x54eeb1,_0x1baa78)=>{const _0x2b9959=_0x52a00a,_0x1660a8=formatTimestamp(_0x54eeb1['ts'],DEFAULT_TIMEZONE),_0x3c09f8=typeof _0x54eeb1['processLat'+_0x2b9959(0x19b)]===_0x2b9959(0x1a4)?_0x54eeb1[_0x2b9959(0x1b7)+_0x2b9959(0x19b)][_0x2b9959(0x194)](-0x3c*0x40+-0x305*-0x5+-0x17)+'ms':_0x2b9959(0x196),_0x199ebe=typeof _0x54eeb1['networkLat'+_0x2b9959(0x19b)]===_0x2b9959(0x1a4)?_0x54eeb1[_0x2b9959(0x179)+_0x2b9959(0x19b)][_0x2b9959(0x194)](-0x1369*-0x1+-0x3eb+0xf7c*-0x1)+'ms':'N/A';return _0x1baa78+(-0x1bd*-0x4+0x2347+-0x2a3a*0x1)+'.\x20'+_0x1660a8+_0x2b9959(0x167)+_0x3c09f8+_0x2b9959(0x1d3)+_0x199ebe+_0x2b9959(0x1c9)+_0x54eeb1[_0x2b9959(0x172)]+')';})[_0x52a00a(0x17c)]('\x0a');if(botInstance)await botInstance[_0x52a00a(0x1a5)+'e'](_0x176f25,{'text':_0x52a00a(0x16a)+Math['min'](-0x11e3+-0x53+-0x925*-0x2,pingHistory[_0x52a00a(0x1ab)])+_0x52a00a(0x1d5)+_0x39c206});return;}if(!_0x3f3e41)return;const _0xa2a5ae=lastPingAt[_0x52a00a(0x17a)](_0x30ac20)||-0x1cb4+0x24a*-0x9+0x314e,_0x20bea3=Date[_0x52a00a(0x186)]();if(_0x20bea3-_0xa2a5ae<PING_COOLDOWN_MS)return;lastPingAt['set'](_0x30ac20,_0x20bea3),setTimeout(()=>lastPingAt['delete'](_0x30ac20),PING_COOLDOWN_MS+(0x5*-0x5ab+0x258d+-0x8d2));let _0x1ad9a7=null;if(_0x1a6fe9)_0x1ad9a7=_0x30ac20;else{if(_0x429f66)_0x1ad9a7=_0x2db27d||_0x30ac20;else{if(_0xf41dd0){const _0x449839=userJidFromCtx(_0x182dc5),_0x133612=await findStoredMatchFromFindings(_0x449839[_0x52a00a(0x175)]);if(!_0x133612)return;_0x1ad9a7=_0x133612;}else return;}}if(!_0x1ad9a7){warn(name+(_0x52a00a(0x189)+_0x52a00a(0x19c)+_0x52a00a(0x170)+_0x52a00a(0x17b)+_0x52a00a(0x1cb)));return;}const _0x4345e3=String(_0x1ad9a7);try{_0x1ad9a7=String(_0x1ad9a7);}catch(_0x54028c){warn(name+(_0x52a00a(0x1a8)+_0x52a00a(0x164)+_0x52a00a(0x1d0)+_0x52a00a(0x1dd)));return;}const _0x473d40=performance[_0x52a00a(0x186)](),_0x884bc2=formatTimestamp(Date['now'](),DEFAULT_TIMEZONE),_0x594ce3=buildBox(_0x52a00a(0x1ba),_0x52a00a(0x1ba),_0x884bc2),_0x15a8fc=performance[_0x52a00a(0x186)](),_0x240d28=Number((_0x15a8fc-_0x473d40)[_0x52a00a(0x194)](0x24df*0x1+0x866+-0x1*0x2d43));let _0xb06f31=null;try{const _0x333b2a=_0x52a00a(0x1b6)+'network\x20la'+_0x52a00a(0x1d7),_0x1e5b99=performance[_0x52a00a(0x186)](),_0x564e73=await botInstance[_0x52a00a(0x1a5)+'e'](_0x1ad9a7,{'text':_0x333b2a}),_0xea43bb=performance[_0x52a00a(0x186)]();_0xb06f31=Number((_0xea43bb-_0x1e5b99)[_0x52a00a(0x194)](0xf4*0x2+0x2628+-0x280e));const _0x34e399=_0x564e73?.['key']?.['id']||_0x564e73?.['id'];_0x34e399&&(respondedMsgIds[_0x52a00a(0x177)](_0x34e399),setTimeout(()=>respondedMsgIds[_0x52a00a(0x1a1)](_0x34e399),-0x23aa+-0x7e85+0x18c8f));}catch(_0x5f06a8){warn(name+(_0x52a00a(0x1c1)+'latency\x20me'+_0x52a00a(0x1c2)+_0x52a00a(0x1a7))+_0x1ad9a7+':\x20'+(_0x5f06a8?.['message']||_0x5f06a8)),_0xb06f31=null;}const _0x8c4b71=_0x240d28[_0x52a00a(0x194)](-0x1e11+0x670+0x17a3)+'ms',_0x56156a=typeof _0xb06f31==='number'?_0xb06f31[_0x52a00a(0x194)](0x2244+0xa2*-0x37+0x8c)+'ms':_0x52a00a(0x196),_0x151608=buildBox(_0x8c4b71,_0x56156a,_0x884bc2);try{const _0x13092d=await botInstance['sendMessag'+'e'](_0x1ad9a7,{'text':_0x151608}),_0x155979=_0x13092d?.[_0x52a00a(0x1cf)]?.['id']||_0x13092d?.['id'];_0x155979&&(respondedMsgIds[_0x52a00a(0x177)](_0x155979),setTimeout(()=>respondedMsgIds['delete'](_0x155979),(-0x18a0+-0x1e8e+0x3733)*(-0xde6f+-0xf278+0x2bb47))),info(name+(_0x52a00a(0x18e)+_0x52a00a(0x165))+_0x1ad9a7+_0x52a00a(0x166)+_0x8c4b71+_0x52a00a(0x195)+_0x56156a+_0x52a00a(0x1aa)+_0x30ac20+')'),pushHistory({'ts':Date[_0x52a00a(0x186)](),'chat':_0x30ac20,'processLatency':_0x240d28,'networkLatency':_0xb06f31});}catch(_0x300878){error(_0x300878,name+(_0x52a00a(0x1d4)+'o\x20send\x20pin'+_0x52a00a(0x165))+_0x1ad9a7);if(_0x1ad9a7!==_0x30ac20)try{warn(name+(_0x52a00a(0x1cd)+'\x20to\x20send\x20p'+'ing\x20box\x20to'+_0x52a00a(0x1b0)+_0x52a00a(0x18a))+_0x30ac20+('\x20as\x20a\x20fall'+'back.'));const _0xa7875e=await botInstance[_0x52a00a(0x1a5)+'e'](_0x30ac20,{'text':_0x151608}),_0x2b93bc=_0xa7875e?.[_0x52a00a(0x1cf)]?.['id']||_0xa7875e?.['id'];if(_0x2b93bc)respondedMsgIds[_0x52a00a(0x177)](_0x2b93bc);pushHistory({'ts':Date[_0x52a00a(0x186)](),'chat':_0x30ac20,'processLatency':_0x240d28,'networkLatency':_0xb06f31});}catch(_0x4abb4a){error(_0x4abb4a,name+(_0x52a00a(0x1c0)+_0x52a00a(0x1c5)+_0x52a00a(0x1bd)+_0x52a00a(0x1af))+_0x30ac20);}}if(respondedMsgIds[_0x52a00a(0x173)]>-0x8de+-0x21b0+0x3e16){const _0x1d2cff=Array[_0x52a00a(0x191)](respondedMsgIds),_0x452de9=new Set(_0x1d2cff[_0x52a00a(0x17d)](-(-0x1*-0x126c+0x1421+-0x1ad5)));respondedMsgIds=_0x452de9;}}catch(_0x303333){error(_0x303333,name+(_0x52a00a(0x188)+'rror'));}}export async function cleanup(){const _0x9c879a=_0x2d3b66;try{botInstance=null,lastPingAt['clear'](),pingHistory[_0x9c879a(0x1ab)]=-0x9e7*0x3+-0x42b*-0x2+0x155f,respondedMsgIds[_0x9c879a(0x1c8)]&&respondedMsgIds[_0x9c879a(0x1c8)](),info(name+(_0x9c879a(0x1ca)+'p'));}catch(_0x5d1065){warn(name+(_0x9c879a(0x1e0)+'rror:\x20')+(_0x5d1065?.[_0x9c879a(0x197)]||_0x5d1065));}}