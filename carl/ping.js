const _0x21b5ba=_0x21cf;(function(_0x54212f,_0x567927){const _0x38b0d3=_0x21cf,_0x142587=_0x54212f();while(!![]){try{const _0x3f53c1=parseInt(_0x38b0d3(0x146))/(0x2664+-0x17*0x3a+0x95*-0x39)*(parseInt(_0x38b0d3(0x136))/(0x1*0x1f5b+0x1c*0x10f+-0x1*0x3cfd))+-parseInt(_0x38b0d3(0x19a))/(-0x3a4+-0x2d2+0x679)+-parseInt(_0x38b0d3(0x153))/(0x1*-0x1ace+-0x231d+0x15*0x2f3)*(-parseInt(_0x38b0d3(0x123))/(0x1*-0xb59+0x1b8c+0x13*-0xda))+parseInt(_0x38b0d3(0x18f))/(-0x3*0x3c7+-0xd75+0x18d0)*(parseInt(_0x38b0d3(0x181))/(0x9*0xa3+-0x1*-0x1609+-0x1bbd))+-parseInt(_0x38b0d3(0x141))/(-0x898+-0xfc1+0x1861)*(parseInt(_0x38b0d3(0x11f))/(-0x2385+0xa81*-0x3+0x4311))+parseInt(_0x38b0d3(0x126))/(-0xe3*0x17+0xabb*0x2+-0x107)*(-parseInt(_0x38b0d3(0x121))/(0x21ad+0x2a1+-0x2443))+-parseInt(_0x38b0d3(0x170))/(0x256d+0x1fcf+-0x4530)*(parseInt(_0x38b0d3(0x190))/(0x6*0x4b3+0x2*0xf3d+0x15d*-0x2b));if(_0x3f53c1===_0x567927)break;else _0x142587['push'](_0x142587['shift']());}catch(_0x598ccb){_0x142587['push'](_0x142587['shift']());}}}(_0x1120,-0x25f44+-0x1*-0x1fa47+0x3292a*0x2));function _0x1120(){const _0x415f20=['65DzaCzj','\x20set\x20to\x20','shift','clear','client','TIMEZONE_N','do\x20checks\x20','startsWith','r:\x20',':\x20hotReloa','420567OybNME','ping',':\x20final\x20de','ndler\x20erro','\x20retry\x20als','t\x20determin','\x20initializ',':\x20findStor','toFixed','\x20failed:\x20','now','3744cmfRUX','nue\x20but\x20su','15279sSaUIN','min','275445kPbVFS','roc:\x20','ency','520BdttoZ','processLat','add','function','split','stination\x20','edMatchFro','isValid','slice','network\x20la','ping\x20stats','latency\x20me','number','itialized;',':\x20isSudo\x20c','tency...','164678KeUHiN','ring','remoteJid','push','N/A','\x20(proc=','ited.','endsWith','jid','robi','unknown','7272KnJORV','message','\x20pings:\x0a','╭─❏\x20pong\x20❏','chat','9PDdzgn',':\x20failed\x20t','\x20send.','length','at\x20',':\x20botInsta','No\x20ping\x20hi','\x0a│\x20','tmp','failed\x20to\x20',';\x20skipping','networkLat','asurement\x20','52YXQTZC',':\x20timezone','@g.us','_bot','heck\x20threw','e\x20error:\x20','ing\x20box\x20to','o\x20failed\x20f','g\x20to\x20conti','g\x20box\x20to\x20','get',':\x20initiali','\x20(origin:\x20',':\x20retrying','finalDest\x20','sendMessag','unresolved','map',':\x20sent\x20pin','mFindings\x20',':\x20network\x20','o\x20send\x20pin','\x20origin\x20ch','has','\x20cleanup\x20e','\x20cleaned\x20u','dConfig\x20re','isCommand','Last\x20','1928100erRvPq','zed.','set','ping\x20','DATETIME_M','TIMEZONE',':\x20invalid\x20','isArray','onfig\x20erro','\x20as\x20a\x20fall',':\x20could\x20no','rror','key','toLocaleSt','\x20—\x20Proc:\x20','\x20handler\x20e','toLowerCas','1981YwmMso','bot','fromMillis','reverse',',\x20net=','\x20attemptin','\x20•\x20Net:\x20','join','ping\x20histo','ED_WITH_SE','nce\x20not\x20in','═══⊷\x0a│\x20⏱\x20P','delete','back.','6894szLFGz'];_0x1120=function(){return _0x415f20;};return _0x1120();}import{performance}from'perf_hooks';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';function _0x21cf(_0xc41329,_0x562284){const _0x57956e=_0x1120();return _0x21cf=function(_0x564c41,_0x4cb99c){_0x564c41=_0x564c41-(0x674+0x3ad+0x905*-0x1);let _0x362692=_0x57956e[_0x564c41];return _0x362692;},_0x21cf(_0xc41329,_0x562284);}import{getConfig,hotReloadConfig}from'../utils/config.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x21b5ba(0x19b);export const version='1.3.6-fixe'+'d';export const priority=0x17ca+0x54b+-0x1d0b;let botInstance=null;const lastPingAt=new Map(),PING_COOLDOWN_MS=0x1d91*-0x1+0xe73+0x1ad6,PING_HISTORY_MAX=-0x17c9+0x194b+-0x11e,pingHistory=[];let respondedMsgIds=new Set(),DEFAULT_TIMEZONE='Africa/Nai'+_0x21b5ba(0x13f);function refreshConfig(){const _0x2389da=_0x21b5ba;try{const _0x1ddb3d=typeof getConfig===_0x2389da(0x129)?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x1ddb3d[_0x2389da(0x175)]||_0x1ddb3d[_0x2389da(0x195)+'AME']||DEFAULT_TIMEZONE,info(name+(_0x2389da(0x154)+_0x2389da(0x191))+DEFAULT_TIMEZONE);}catch(_0x9bbc5f){warn(name+(':\x20refreshC'+_0x2389da(0x178)+_0x2389da(0x198))+(_0x9bbc5f?.[_0x2389da(0x142)]||_0x9bbc5f));}}try{typeof hotReloadConfig===_0x21b5ba(0x129)&&hotReloadConfig(()=>{const _0x15d0c0=_0x21b5ba;try{refreshConfig();}catch(_0x4b0e7f){warn(name+(_0x15d0c0(0x199)+'dConfig\x20ha'+_0x15d0c0(0x19d)+_0x15d0c0(0x198))+(_0x4b0e7f?.['message']||_0x4b0e7f));}});}catch(_0x4f3977){warn(name+(_0x21b5ba(0x199)+_0x21b5ba(0x16d)+'gistration'+_0x21b5ba(0x11d))+(_0x4f3977?.['message']||_0x4f3977));}refreshConfig();function pushHistory(_0x434e35){const _0x707ec9=_0x21b5ba;pingHistory[_0x707ec9(0x139)](_0x434e35);if(pingHistory[_0x707ec9(0x149)]>PING_HISTORY_MAX)pingHistory[_0x707ec9(0x192)]();}function formatTimestamp(_0x2ac037=Date[_0x21b5ba(0x11e)](),_0x1fe1d8=DEFAULT_TIMEZONE){const _0x5a1d49=_0x21b5ba;try{const _0x5c0f24=DateTime[_0x5a1d49(0x183)](_0x2ac037)['setZone'](_0x1fe1d8);if(!_0x5c0f24[_0x5a1d49(0x12d)])return new Date(_0x2ac037)[_0x5a1d49(0x17d)+_0x5a1d49(0x137)]();return _0x5c0f24['toLocaleSt'+_0x5a1d49(0x137)](DateTime[_0x5a1d49(0x174)+_0x5a1d49(0x18a)+'CONDS'])+'\x20('+_0x5c0f24['zoneName']+')';}catch(_0x3805f8){return new Date(_0x2ac037)[_0x5a1d49(0x17d)+_0x5a1d49(0x137)]();}}function buildBox(_0x3f18bd,_0x395f35,_0x1de2d1=null){const _0x59e156=_0x21b5ba;if(!_0x1de2d1)_0x1de2d1=formatTimestamp(Date[_0x59e156(0x11e)](),DEFAULT_TIMEZONE);return _0x59e156(0x144)+_0x59e156(0x18c)+_0x59e156(0x124)+_0x3f18bd+'\x20•\x20Net:\x20'+_0x395f35+_0x59e156(0x14d)+_0x1de2d1+('\x0a╰════════'+'══⊷');}export async function initialize(_0xf5b3af){const _0x3d3689=_0x21b5ba;try{botInstance=_0xf5b3af,refreshConfig(),info(name+(_0x3d3689(0x15e)+_0x3d3689(0x171)));}catch(_0x5be58a){warn(name+(_0x3d3689(0x1a0)+_0x3d3689(0x158))+(_0x5be58a?.[_0x3d3689(0x142)]||_0x5be58a));}}async function findStoredMatchFromFindings(_0x4bcd94=[]){const _0x4efa31=_0x21b5ba;try{if(!Array[_0x4efa31(0x177)](_0x4bcd94)||_0x4bcd94[_0x4efa31(0x149)]===-0x1f87+-0x1813*-0x1+-0x3ba*-0x2)return null;const _0x2e87c8=await listSudo();if(!Array[_0x4efa31(0x177)](_0x2e87c8)||_0x2e87c8['length']===0x1e3e+-0x2*0xb29+-0x7ec)return null;const _0x190c33=new Set(_0x2e87c8['map'](_0x4cceb0=>String(_0x4cceb0)));for(const _0x439ceb of _0x4bcd94){if(!_0x439ceb||!_0x439ceb[_0x4efa31(0x13e)]||typeof _0x439ceb[_0x4efa31(0x13e)]!=='string')continue;try{const _0x5176d7=normalizeToJid(_0x439ceb['jid']);if(_0x5176d7&&_0x190c33[_0x4efa31(0x16a)](_0x5176d7))return _0x5176d7;const _0x1af195=(String(_0x439ceb[_0x4efa31(0x13e)])['split']('@')[-0x3*0xb26+-0x10c8+0x323a]||'')[_0x4efa31(0x12a)](':')[-0x1e43+-0xb54+0x2997]||null;if(_0x1af195)for(const _0x247394 of _0x190c33){const _0x3858dd=String(_0x247394)[_0x4efa31(0x12a)]('@')[0x1570+0x1d*0xcf+-0x1*0x2ce3]||null;if(_0x3858dd&&_0x1af195===_0x3858dd)return _0x247394;}if(_0x190c33[_0x4efa31(0x16a)](_0x439ceb[_0x4efa31(0x13e)]))return _0x439ceb['jid'];}catch(_0x1c0c80){}}return null;}catch(_0x4b7032){return warn(name+(_0x4efa31(0x1a1)+_0x4efa31(0x12c)+_0x4efa31(0x166)+'error:\x20')+(_0x4b7032?.[_0x4efa31(0x142)]||_0x4b7032)),null;}}export async function onMessage(_0x3970ca){const _0x9f0ddd=_0x21b5ba;try{if(!_0x3970ca||!_0x3970ca['key'])return;const _0x3b7f0f=_0x3970ca['key']?.['id'];if(_0x3b7f0f){if(respondedMsgIds[_0x9f0ddd(0x16a)](_0x3b7f0f))return;respondedMsgIds[_0x9f0ddd(0x128)](_0x3b7f0f),setTimeout(()=>{const _0xb04089=_0x9f0ddd;respondedMsgIds[_0xb04089(0x18d)](_0x3b7f0f);},0x828b+0x42c2+0x2513);}const _0xd1b66e=_0x3970ca[_0x9f0ddd(0x138)]||_0x3970ca[_0x9f0ddd(0x17c)]?.[_0x9f0ddd(0x138)]||_0x9f0ddd(0x140);if(_0xd1b66e===_0x9f0ddd(0x140)){warn(name+(_0x9f0ddd(0x17a)+_0x9f0ddd(0x19f)+'e\x20chatId;\x20'+'skipping.'));return;}if(!_0x3970ca[_0x9f0ddd(0x16e)])return;const _0x1c299f=(_0x3970ca['text']||'')['trim']();if(!_0x1c299f)return;const _0x27df4e=_0x1c299f[_0x9f0ddd(0x180)+'e'](),_0x142a4d=_0x27df4e===_0x9f0ddd(0x189)+'ry'||_0x27df4e===_0x9f0ddd(0x130),_0x4b4472=_0x27df4e==='ping'||_0x27df4e[_0x9f0ddd(0x197)](_0x9f0ddd(0x173));if(!_0x142a4d&&!_0x4b4472)return;!botInstance&&(botInstance=_0x3970ca[_0x9f0ddd(0x182)]||_0x3970ca[_0x9f0ddd(0x194)]||_0x3970ca[_0x9f0ddd(0x156)]||null,!botInstance&&warn(name+(_0x9f0ddd(0x14b)+_0x9f0ddd(0x18b)+_0x9f0ddd(0x133)+_0x9f0ddd(0x186)+_0x9f0ddd(0x15b)+_0x9f0ddd(0x120)+_0x9f0ddd(0x196)+'may\x20be\x20lim'+_0x9f0ddd(0x13c))));const _0x39e45c=Boolean(_0x3970ca[_0x9f0ddd(0x17c)]['fromMe']);let _0x5e6727=![];try{_0x5e6727=Boolean(await isSudo(botInstance,_0x3970ca));}catch(_0x14f22d){warn(name+(_0x9f0ddd(0x134)+_0x9f0ddd(0x157)+':\x20')+(_0x14f22d?.[_0x9f0ddd(0x142)]||_0x14f22d)),_0x5e6727=![];}if(!_0x39e45c&&!_0x5e6727)return;const _0x2a0d55=String(_0xd1b66e)[_0x9f0ddd(0x13d)](_0x9f0ddd(0x155)),_0x173fd6=getBotJid();if(_0x142a4d){const _0x2309ce=_0x2a0d55?_0xd1b66e:_0x173fd6||_0xd1b66e;if(pingHistory[_0x9f0ddd(0x149)]===-0x8de+-0x996+0x1274){if(botInstance)await botInstance[_0x9f0ddd(0x162)+'e'](_0x2309ce,{'text':_0x9f0ddd(0x14c)+'story\x20yet.'});return;}const _0x5c83df=pingHistory[_0x9f0ddd(0x12e)]()[_0x9f0ddd(0x184)]()[_0x9f0ddd(0x12e)](0x12fa+0x1b32+-0x1*0x2e2c,0x1091+0x2b*-0xf+-0xdf8)[_0x9f0ddd(0x164)]((_0x2e6e37,_0x86cdb6)=>{const _0x2a52b1=_0x9f0ddd,_0xb806ae=formatTimestamp(_0x2e6e37['ts'],DEFAULT_TIMEZONE),_0xb02c93=typeof _0x2e6e37[_0x2a52b1(0x127)+_0x2a52b1(0x125)]===_0x2a52b1(0x132)?_0x2e6e37[_0x2a52b1(0x127)+_0x2a52b1(0x125)][_0x2a52b1(0x11c)](-0x3a*-0x21+0x2545+-0x2cbd)+'ms':_0x2a52b1(0x13a),_0x10a4ca=typeof _0x2e6e37[_0x2a52b1(0x151)+_0x2a52b1(0x125)]===_0x2a52b1(0x132)?_0x2e6e37[_0x2a52b1(0x151)+_0x2a52b1(0x125)][_0x2a52b1(0x11c)](-0xb69+-0x9e*0x25+0x2241)+'ms':_0x2a52b1(0x13a);return _0x86cdb6+(0x1ee4+-0x234b+0x5e*0xc)+'.\x20'+_0xb806ae+_0x2a52b1(0x17e)+_0xb02c93+_0x2a52b1(0x187)+_0x10a4ca+_0x2a52b1(0x15f)+_0x2e6e37[_0x2a52b1(0x145)]+')';})[_0x9f0ddd(0x188)]('\x0a');if(botInstance)await botInstance[_0x9f0ddd(0x162)+'e'](_0x2309ce,{'text':_0x9f0ddd(0x16f)+Math[_0x9f0ddd(0x122)](0x1*0x1399+0x15f*-0x8+-0x88d,pingHistory['length'])+_0x9f0ddd(0x143)+_0x5c83df});return;}if(!_0x4b4472)return;const _0x2fafc9=lastPingAt[_0x9f0ddd(0x15d)](_0xd1b66e)||-0x9d1*-0x1+-0x1361+-0xcc*-0xc,_0x48ec99=Date[_0x9f0ddd(0x11e)]();if(_0x48ec99-_0x2fafc9<PING_COOLDOWN_MS)return;lastPingAt[_0x9f0ddd(0x172)](_0xd1b66e,_0x48ec99),setTimeout(()=>lastPingAt[_0x9f0ddd(0x18d)](_0xd1b66e),PING_COOLDOWN_MS+(0x38c*0x4+-0x1*-0x1975+-0x2741));let _0x34f53f=null;if(_0x2a0d55)_0x34f53f=_0xd1b66e;else{if(_0x39e45c)_0x34f53f=_0x173fd6||_0xd1b66e;else{if(_0x5e6727){const _0x32c7b6=userJidFromCtx(_0x3970ca),_0x2d987e=await findStoredMatchFromFindings(_0x32c7b6['findings']);if(!_0x2d987e)return;_0x34f53f=_0x2d987e;}else return;}}if(!_0x34f53f){warn(name+(_0x9f0ddd(0x19c)+_0x9f0ddd(0x12b)+_0x9f0ddd(0x163)+_0x9f0ddd(0x150)+_0x9f0ddd(0x148)));return;}const _0x5367db=String(_0x34f53f);try{_0x34f53f=String(_0x34f53f);}catch(_0x11e29b){warn(name+(_0x9f0ddd(0x176)+_0x9f0ddd(0x161)+'type;\x20skip'+'ping\x20send.'));return;}const _0x27700e=performance[_0x9f0ddd(0x11e)](),_0x4a4ad6=formatTimestamp(Date['now'](),DEFAULT_TIMEZONE),_0x2d5c9e=buildBox(_0x9f0ddd(0x14e),_0x9f0ddd(0x14e),_0x4a4ad6),_0x315931=performance['now'](),_0x51cc56=Number((_0x315931-_0x27700e)[_0x9f0ddd(0x11c)](-0x1*-0xbed+0xabc+-0x16a7));let _0x2ce16a=null;try{const _0x263447='Measuring\x20'+_0x9f0ddd(0x12f)+_0x9f0ddd(0x135),_0x199e2b=performance[_0x9f0ddd(0x11e)](),_0x2a4f85=await botInstance['sendMessag'+'e'](_0x34f53f,{'text':_0x263447}),_0x5f0e17=performance[_0x9f0ddd(0x11e)]();_0x2ce16a=Number((_0x5f0e17-_0x199e2b)['toFixed'](0x2*-0x11c3+0x257c+-0x1f4));const _0x59018c=_0x2a4f85?.[_0x9f0ddd(0x17c)]?.['id']||_0x2a4f85?.['id'];_0x59018c&&(respondedMsgIds[_0x9f0ddd(0x128)](_0x59018c),setTimeout(()=>respondedMsgIds[_0x9f0ddd(0x18d)](_0x59018c),0x27a*-0x8a+0x5*0x1ddd+-0x1aad3*-0x1));}catch(_0x59a07c){warn(name+(_0x9f0ddd(0x167)+_0x9f0ddd(0x131)+_0x9f0ddd(0x152)+_0x9f0ddd(0x14f))+_0x34f53f+':\x20'+(_0x59a07c?.[_0x9f0ddd(0x142)]||_0x59a07c)),_0x2ce16a=null;}const _0x319b5a=_0x51cc56[_0x9f0ddd(0x11c)](-0x2647+-0x68f*0x2+0x3367)+'ms',_0x46e4b3=typeof _0x2ce16a===_0x9f0ddd(0x132)?_0x2ce16a['toFixed'](0xa12+-0x1*-0x92a+-0x133a)+'ms':_0x9f0ddd(0x13a),_0x2cd27a=buildBox(_0x319b5a,_0x46e4b3,_0x4a4ad6);try{const _0x404ac7=await botInstance[_0x9f0ddd(0x162)+'e'](_0x34f53f,{'text':_0x2cd27a}),_0x3a7206=_0x404ac7?.[_0x9f0ddd(0x17c)]?.['id']||_0x404ac7?.['id'];_0x3a7206&&(respondedMsgIds[_0x9f0ddd(0x128)](_0x3a7206),setTimeout(()=>respondedMsgIds[_0x9f0ddd(0x18d)](_0x3a7206),(0x1*-0x2441+0x2*0x6b1+-0x24a*-0xa)*(-0x2c*-0x8f5+0xb9aa+0x3991*-0x6))),info(name+(_0x9f0ddd(0x165)+'g\x20box\x20to\x20')+_0x34f53f+_0x9f0ddd(0x13b)+_0x319b5a+_0x9f0ddd(0x185)+_0x46e4b3+',\x20origin='+_0xd1b66e+')'),pushHistory({'ts':Date[_0x9f0ddd(0x11e)](),'chat':_0xd1b66e,'processLatency':_0x51cc56,'networkLatency':_0x2ce16a});}catch(_0x4dabf1){error(_0x4dabf1,name+(_0x9f0ddd(0x147)+_0x9f0ddd(0x168)+_0x9f0ddd(0x15c))+_0x34f53f);if(_0x34f53f!==_0xd1b66e)try{warn(name+(_0x9f0ddd(0x160)+'\x20to\x20send\x20p'+_0x9f0ddd(0x159)+_0x9f0ddd(0x169)+_0x9f0ddd(0x14a))+_0xd1b66e+(_0x9f0ddd(0x179)+_0x9f0ddd(0x18e)));const _0x9c755b=await botInstance[_0x9f0ddd(0x162)+'e'](_0xd1b66e,{'text':_0x2cd27a}),_0x1c9190=_0x9c755b?.[_0x9f0ddd(0x17c)]?.['id']||_0x9c755b?.['id'];if(_0x1c9190)respondedMsgIds[_0x9f0ddd(0x128)](_0x1c9190);pushHistory({'ts':Date[_0x9f0ddd(0x11e)](),'chat':_0xd1b66e,'processLatency':_0x51cc56,'networkLatency':_0x2ce16a});}catch(_0x2aa57a){error(_0x2aa57a,name+(':\x20fallback'+_0x9f0ddd(0x19e)+_0x9f0ddd(0x15a)+'or\x20origin\x20')+_0xd1b66e);}}if(respondedMsgIds['size']>0x5*0x492+-0x6*-0x609+-0xe6*0x2c){const _0x27affb=Array['from'](respondedMsgIds),_0x2c53a2=new Set(_0x27affb[_0x9f0ddd(0x12e)](-(-0x72e+0x1434+-0x14e)));respondedMsgIds=_0x2c53a2;}}catch(_0x58ea56){error(_0x58ea56,name+(_0x9f0ddd(0x17f)+_0x9f0ddd(0x17b)));}}export async function cleanup(){const _0x582956=_0x21b5ba;try{botInstance=null,lastPingAt[_0x582956(0x193)](),pingHistory[_0x582956(0x149)]=-0x769+-0x7*0x34a+0x1e6f,respondedMsgIds[_0x582956(0x193)]&&respondedMsgIds[_0x582956(0x193)](),info(name+(_0x582956(0x16c)+'p'));}catch(_0x590531){warn(name+(_0x582956(0x16b)+'rror:\x20')+(_0x590531?.[_0x582956(0x142)]||_0x590531));}}