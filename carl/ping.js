const _0x55502e=_0x4df2;(function(_0x4ed3bf,_0x4d792a){const _0x29445e=_0x4df2,_0x1432ab=_0x4ed3bf();while(!![]){try{const _0xda161b=parseInt(_0x29445e(0x18a))/(0x2*-0xaee+0x2*0xed6+-0x7cf)*(parseInt(_0x29445e(0x1a0))/(0x1ca*-0x6+-0x3*0x6d7+0x97*0x35))+parseInt(_0x29445e(0x1bf))/(-0x44*0x25+0x13*0x61+0x2a4)*(parseInt(_0x29445e(0x183))/(0x162f+0x1c72+0x10df*-0x3))+-parseInt(_0x29445e(0x16b))/(0x186d*0x1+-0x2b1+0x147*-0x11)*(-parseInt(_0x29445e(0x193))/(0xae9+0x6*0x2e7+-0x1c4d))+parseInt(_0x29445e(0x1af))/(-0xe11+0x16*0x65+0x1ce*0x3)+parseInt(_0x29445e(0x1a8))/(0x22c1+-0x21ac+-0x10d)*(-parseInt(_0x29445e(0x196))/(-0x202b+0x21fb+-0x1c7))+parseInt(_0x29445e(0x1b3))/(0x22aa+-0x9*0x242+-0x1*0xe4e)*(-parseInt(_0x29445e(0x1c9))/(0x2*0xce6+-0x6d*0x55+0xa70))+parseInt(_0x29445e(0x1d9))/(-0xfc1+0x21e2*0x1+0x1*-0x1215);if(_0xda161b===_0x4d792a)break;else _0x1432ab['push'](_0x1432ab['shift']());}catch(_0xeaa2ff){_0x1432ab['push'](_0x1432ab['shift']());}}}(_0x46be,-0x24*-0x831+-0x5b3c*0xe+0xf5ac2*0x1));import{performance}from'perf_hooks';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x55502e(0x1db);export const version=_0x55502e(0x19d)+'d';export const priority=-0x2*0xf86+0xb*0x28c+0x312;let botInstance=null;function _0x4df2(_0x1bd9f2,_0x14f28a){const _0x18f6b7=_0x46be();return _0x4df2=function(_0x4bf145,_0x9cbb8f){_0x4bf145=_0x4bf145-(0x655*0x2+-0x15fb+0xaaf);let _0x51e23e=_0x18f6b7[_0x4bf145];return _0x51e23e;},_0x4df2(_0x1bd9f2,_0x14f28a);}const lastPingAt=new Map(),PING_COOLDOWN_MS=0x17c*-0x17+0x216e+0xc6e,PING_HISTORY_MAX=-0x6*0x622+-0xce0+0x1908*0x2,pingHistory=[];let respondedMsgIds=new Set(),DEFAULT_TIMEZONE=_0x55502e(0x1c0)+_0x55502e(0x17a);function refreshConfig(){const _0x494aa9=_0x55502e;try{const _0x3cd5d3=typeof getConfig===_0x494aa9(0x1cb)?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x3cd5d3['TIMEZONE']||_0x3cd5d3['TIMEZONE_N'+'AME']||DEFAULT_TIMEZONE,info(name+(_0x494aa9(0x15f)+_0x494aa9(0x180))+DEFAULT_TIMEZONE);}catch(_0x41ebff){warn(name+(_0x494aa9(0x1a5)+_0x494aa9(0x1dd)+_0x494aa9(0x1c2))+(_0x41ebff?.[_0x494aa9(0x1a3)]||_0x41ebff));}}try{typeof hotReloadConfig===_0x55502e(0x1cb)&&hotReloadConfig(()=>{const _0x46d2db=_0x55502e;try{refreshConfig();}catch(_0x4e911a){warn(name+(_0x46d2db(0x1b4)+_0x46d2db(0x19e)+_0x46d2db(0x1be)+_0x46d2db(0x1c2))+(_0x4e911a?.['message']||_0x4e911a));}});}catch(_0x8b31d8){warn(name+(_0x55502e(0x1b4)+_0x55502e(0x16d)+_0x55502e(0x161)+'\x20failed:\x20')+(_0x8b31d8?.[_0x55502e(0x1a3)]||_0x8b31d8));}refreshConfig();function pushHistory(_0x2c3820){const _0x18bb17=_0x55502e;pingHistory[_0x18bb17(0x1cf)](_0x2c3820);if(pingHistory[_0x18bb17(0x1b2)]>PING_HISTORY_MAX)pingHistory[_0x18bb17(0x1d8)]();}function formatTimestamp(_0x285c89=Date[_0x55502e(0x1d3)](),_0x4bf13e=DEFAULT_TIMEZONE){const _0x49655a=_0x55502e;try{const _0x3b4300=DateTime[_0x49655a(0x16c)](_0x285c89)[_0x49655a(0x1c7)](_0x4bf13e);if(!_0x3b4300[_0x49655a(0x181)])return new Date(_0x285c89)['toLocaleSt'+_0x49655a(0x198)]();return _0x3b4300['toLocaleSt'+_0x49655a(0x198)](DateTime[_0x49655a(0x173)+_0x49655a(0x18b)+_0x49655a(0x1cd)])+'\x20('+_0x3b4300[_0x49655a(0x174)]+')';}catch(_0x3bcc58){return new Date(_0x285c89)['toLocaleSt'+_0x49655a(0x198)]();}}function buildBox(_0xdc88e5,_0x475ad1,_0x443593=null){const _0x3ead5a=_0x55502e;if(!_0x443593)_0x443593=formatTimestamp(Date[_0x3ead5a(0x1d3)](),DEFAULT_TIMEZONE);return _0x3ead5a(0x17e)+'═══⊷\x0a│\x20⏱\x20P'+_0x3ead5a(0x170)+_0xdc88e5+_0x3ead5a(0x1a6)+_0x475ad1+_0x3ead5a(0x18c)+_0x443593+('\x0a╰════════'+_0x3ead5a(0x1de));}export async function initialize(_0x5c9a2e){const _0x3dd458=_0x55502e;try{botInstance=_0x5c9a2e,refreshConfig(),info(name+(_0x3dd458(0x1b0)+_0x3dd458(0x1b1)));}catch(_0x403020){warn(name+(_0x3dd458(0x167)+'e\x20error:\x20')+(_0x403020?.[_0x3dd458(0x1a3)]||_0x403020));}}async function findStoredMatchFromFindings(_0x9ce7dc=[]){const _0x216831=_0x55502e;try{if(!Array[_0x216831(0x168)](_0x9ce7dc)||_0x9ce7dc['length']===-0xddf+0x1cff*-0x1+0x2ade)return null;const _0x3352c0=await listSudo();if(!Array[_0x216831(0x168)](_0x3352c0)||_0x3352c0[_0x216831(0x1b2)]===0x5*0x6a+-0x2443+-0x2231*-0x1)return null;const _0x480015=new Set(_0x3352c0['map'](_0x159dfd=>String(_0x159dfd)));for(const _0x35cfca of _0x9ce7dc){if(!_0x35cfca||!_0x35cfca[_0x216831(0x15e)]||typeof _0x35cfca[_0x216831(0x15e)]!==_0x216831(0x178))continue;try{const _0x23dae9=normalizeToJid(_0x35cfca[_0x216831(0x15e)]);if(_0x23dae9&&_0x480015[_0x216831(0x19f)](_0x23dae9))return _0x23dae9;const _0x226335=(String(_0x35cfca[_0x216831(0x15e)])[_0x216831(0x1c3)]('@')[0x1*-0x1d27+-0x3*0x632+0x2fbd]||'')[_0x216831(0x1c3)](':')[-0x24b8+0x728+0xb0*0x2b]||null;if(_0x226335)for(const _0xf2f4af of _0x480015){const _0x49409d=String(_0xf2f4af)['split']('@')[0x1229+0xb40+-0x1d69]||null;if(_0x49409d&&_0x226335===_0x49409d)return _0xf2f4af;}if(_0x480015['has'](_0x35cfca[_0x216831(0x15e)]))return _0x35cfca[_0x216831(0x15e)];}catch(_0x43f01e){}}return null;}catch(_0x434aa1){return warn(name+(_0x216831(0x171)+_0x216831(0x1a7)+'mFindings\x20'+_0x216831(0x188))+(_0x434aa1?.[_0x216831(0x1a3)]||_0x434aa1)),null;}}export async function onMessage(_0x4cddab){const _0xe18a5a=_0x55502e;try{if(!_0x4cddab||!_0x4cddab[_0xe18a5a(0x1a4)])return;const _0x2ee2b3=_0x4cddab[_0xe18a5a(0x1a4)]?.['id'];if(_0x2ee2b3){if(respondedMsgIds['has'](_0x2ee2b3))return;respondedMsgIds[_0xe18a5a(0x1bd)](_0x2ee2b3),setTimeout(()=>{const _0x3726e3=_0xe18a5a;respondedMsgIds[_0x3726e3(0x189)](_0x2ee2b3);},-0xef8e+0x1*-0x81a6+0x2*0x12dca);}const _0x4de2f6=_0x4cddab[_0xe18a5a(0x192)]||_0x4cddab['key']?.['remoteJid']||_0xe18a5a(0x16f);if(_0x4de2f6===_0xe18a5a(0x16f)){warn(name+(_0xe18a5a(0x169)+_0xe18a5a(0x19a)+'e\x20chatId;\x20'+'skipping.'));return;}if(!_0x4cddab[_0xe18a5a(0x160)])return;const _0x92ab0d=(_0x4cddab[_0xe18a5a(0x197)]||'')[_0xe18a5a(0x1bc)]();if(!_0x92ab0d)return;const _0x17cb92=_0x92ab0d[_0xe18a5a(0x1a2)+'e'](),_0x289144=_0x17cb92===_0xe18a5a(0x190)+'ry'||_0x17cb92==='ping\x20stats',_0x21d0ba=_0x17cb92===_0xe18a5a(0x1db)||_0x17cb92[_0xe18a5a(0x1c6)](_0xe18a5a(0x175));if(!_0x289144&&!_0x21d0ba)return;!botInstance&&(botInstance=_0x4cddab[_0xe18a5a(0x1d7)]||_0x4cddab[_0xe18a5a(0x176)]||_0x4cddab[_0xe18a5a(0x194)]||null,!botInstance&&warn(name+(_0xe18a5a(0x1c1)+_0xe18a5a(0x16e)+'itialized;'+_0xe18a5a(0x1d5)+'g\x20to\x20conti'+'nue\x20but\x20su'+_0xe18a5a(0x195)+_0xe18a5a(0x1df)+_0xe18a5a(0x1bb))));const _0x3836d1=Boolean(_0x4cddab[_0xe18a5a(0x1a4)][_0xe18a5a(0x1b8)]);let _0x56a4e9=![];try{_0x56a4e9=Boolean(await isSudo(botInstance,_0x4cddab));}catch(_0x1c9994){warn(name+(_0xe18a5a(0x17c)+'heck\x20threw'+':\x20')+(_0x1c9994?.[_0xe18a5a(0x1a3)]||_0x1c9994)),_0x56a4e9=![];}if(!_0x3836d1&&!_0x56a4e9)return;const _0x387180=String(_0x4de2f6)['endsWith'](_0xe18a5a(0x1b7)),_0x524e2b=getBotJid();if(_0x289144){const _0x13e679=_0x387180?_0x4de2f6:_0x524e2b||_0x4de2f6;if(pingHistory[_0xe18a5a(0x1b2)]===0x19*-0xfb+-0xabb*-0x1+0xdc8){if(botInstance)await botInstance[_0xe18a5a(0x179)+'e'](_0x13e679,{'text':_0xe18a5a(0x19c)+'story\x20yet.'});return;}const _0x4cac58=pingHistory[_0xe18a5a(0x1d2)]()[_0xe18a5a(0x16a)]()[_0xe18a5a(0x1d2)](0x20fc+0x60a+-0x2706,-0x3*-0x581+0xe5d+-0x1ecc)['map']((_0x3b4630,_0x3bf44e)=>{const _0x12cd27=_0xe18a5a,_0xbb437a=formatTimestamp(_0x3b4630['ts'],DEFAULT_TIMEZONE),_0x5677b8=typeof _0x3b4630[_0x12cd27(0x162)+_0x12cd27(0x1ad)]===_0x12cd27(0x1aa)?_0x3b4630[_0x12cd27(0x162)+_0x12cd27(0x1ad)]['toFixed'](-0x1068+0x1*0x751+0x919)+'ms':_0x12cd27(0x1ae),_0x3f534e=typeof _0x3b4630[_0x12cd27(0x165)+'ency']===_0x12cd27(0x1aa)?_0x3b4630[_0x12cd27(0x165)+'ency']['toFixed'](0xac5+0xda*-0xc+0x1*-0x8b)+'ms':'N/A';return _0x3bf44e+(0xda5*0x1+-0x106c+0x164*0x2)+'.\x20'+_0xbb437a+'\x20—\x20Proc:\x20'+_0x5677b8+'\x20•\x20Net:\x20'+_0x3f534e+'\x20(origin:\x20'+_0x3b4630[_0x12cd27(0x1d4)]+')';})[_0xe18a5a(0x17f)]('\x0a');if(botInstance)await botInstance[_0xe18a5a(0x179)+'e'](_0x13e679,{'text':_0xe18a5a(0x1c8)+Math['min'](-0x1*0x1547+-0x31*-0x63+0x268,pingHistory[_0xe18a5a(0x1b2)])+'\x20pings:\x0a'+_0x4cac58});return;}if(!_0x21d0ba)return;const _0x8a4830=lastPingAt[_0xe18a5a(0x1ac)](_0x4de2f6)||-0x108a+-0x6da+0x5d9*0x4,_0x3583f3=Date['now']();if(_0x3583f3-_0x8a4830<PING_COOLDOWN_MS)return;lastPingAt[_0xe18a5a(0x18f)](_0x4de2f6,_0x3583f3),setTimeout(()=>lastPingAt[_0xe18a5a(0x189)](_0x4de2f6),PING_COOLDOWN_MS+(-0x1268+-0x8d4+-0x20*-0xdd));let _0x3d0281=null;if(_0x387180)_0x3d0281=_0x4de2f6;else{if(_0x3836d1)_0x3d0281=_0x524e2b||_0x4de2f6;else{if(_0x56a4e9){const _0x5e2f46=userJidFromCtx(_0x4cddab),_0x2082cd=await findStoredMatchFromFindings(_0x5e2f46[_0xe18a5a(0x1a1)]);if(!_0x2082cd)return;_0x3d0281=_0x2082cd;}else return;}}if(!_0x3d0281){warn(name+(_0xe18a5a(0x182)+'stination\x20'+'unresolved'+_0xe18a5a(0x1a9)+'\x20send.'));return;}const _0x18bcc7=String(_0x3d0281);try{_0x3d0281=String(_0x3d0281);}catch(_0xa2ff56){warn(name+(_0xe18a5a(0x18e)+_0xe18a5a(0x1b9)+_0xe18a5a(0x1da)+_0xe18a5a(0x1ca)));return;}const _0x1f73c6=performance[_0xe18a5a(0x1d3)](),_0x4edbc2=formatTimestamp(Date['now'](),DEFAULT_TIMEZONE),_0x3a69fe=buildBox('tmp',_0xe18a5a(0x19b),_0x4edbc2),_0x44fdca=performance[_0xe18a5a(0x1d3)](),_0x58365b=Number((_0x44fdca-_0x1f73c6)['toFixed'](-0x1a55+-0x9*0x4a+0x1cf1));let _0x5a2717=null;try{const _0x20c767=_0xe18a5a(0x172)+_0xe18a5a(0x1ce)+'tency...',_0x13faf5=performance[_0xe18a5a(0x1d3)](),_0x5ca51b=await botInstance['sendMessag'+'e'](_0x3d0281,{'text':_0x20c767}),_0x2ff911=performance[_0xe18a5a(0x1d3)]();_0x5a2717=Number((_0x2ff911-_0x13faf5)[_0xe18a5a(0x163)](0xe3*-0x2+-0x1927+0x1aef));const _0x174d6f=_0x5ca51b?.['key']?.['id']||_0x5ca51b?.['id'];_0x174d6f&&(respondedMsgIds['add'](_0x174d6f),setTimeout(()=>respondedMsgIds[_0xe18a5a(0x189)](_0x174d6f),-0x2cb0+-0x1cdf*0x5+0x1a76b));}catch(_0xba617d){warn(name+(_0xe18a5a(0x17b)+_0xe18a5a(0x185)+_0xe18a5a(0x187)+_0xe18a5a(0x186))+_0x3d0281+':\x20'+(_0xba617d?.['message']||_0xba617d)),_0x5a2717=null;}const _0x137a37=_0x58365b[_0xe18a5a(0x163)](-0xa5a+-0x2f9*0x9+0x251d)+'ms',_0xace25a=typeof _0x5a2717===_0xe18a5a(0x1aa)?_0x5a2717['toFixed'](-0x1fba+-0xc4+0x2080)+'ms':_0xe18a5a(0x1ae),_0x4938c3=buildBox(_0x137a37,_0xace25a,_0x4edbc2);try{const _0xaa4553=await botInstance[_0xe18a5a(0x179)+'e'](_0x3d0281,{'text':_0x4938c3}),_0x46c314=_0xaa4553?.[_0xe18a5a(0x1a4)]?.['id']||_0xaa4553?.['id'];_0x46c314&&(respondedMsgIds['add'](_0x46c314),setTimeout(()=>respondedMsgIds['delete'](_0x46c314),(0x1390+0x3e*0x3+-0x1445)*(-0x1b12e+0x2c93*0x8+0x136f6))),info(name+(':\x20sent\x20pin'+_0xe18a5a(0x1dc))+_0x3d0281+_0xe18a5a(0x177)+_0x137a37+',\x20net='+_0xace25a+_0xe18a5a(0x17d)+_0x4de2f6+')'),pushHistory({'ts':Date['now'](),'chat':_0x4de2f6,'processLatency':_0x58365b,'networkLatency':_0x5a2717});}catch(_0x3e42ef){error(_0x3e42ef,name+(_0xe18a5a(0x191)+'o\x20send\x20pin'+_0xe18a5a(0x1dc))+_0x3d0281);if(_0x3d0281!==_0x4de2f6)try{warn(name+(':\x20retrying'+_0xe18a5a(0x164)+_0xe18a5a(0x1cc)+_0xe18a5a(0x1ab)+'at\x20')+_0x4de2f6+(_0xe18a5a(0x166)+_0xe18a5a(0x1ba)));const _0x3dcc54=await botInstance[_0xe18a5a(0x179)+'e'](_0x4de2f6,{'text':_0x4938c3}),_0x4db4d5=_0x3dcc54?.[_0xe18a5a(0x1a4)]?.['id']||_0x3dcc54?.['id'];if(_0x4db4d5)respondedMsgIds[_0xe18a5a(0x1bd)](_0x4db4d5);pushHistory({'ts':Date[_0xe18a5a(0x1d3)](),'chat':_0x4de2f6,'processLatency':_0x58365b,'networkLatency':_0x5a2717});}catch(_0x18d28e){error(_0x18d28e,name+(_0xe18a5a(0x1c4)+_0xe18a5a(0x199)+_0xe18a5a(0x1d0)+'or\x20origin\x20')+_0x4de2f6);}}if(respondedMsgIds[_0xe18a5a(0x1d1)]>0x54a+0x1b03+-0xcc5){const _0x268f71=Array[_0xe18a5a(0x18d)](respondedMsgIds),_0x2d15e6=new Set(_0x268f71[_0xe18a5a(0x1d2)](-(-0x6a3*-0x3+-0x1197+0x966)));respondedMsgIds=_0x2d15e6;}}catch(_0x2c40a7){error(_0x2c40a7,name+(_0xe18a5a(0x1b6)+'rror'));}}export async function cleanup(){const _0x33f875=_0x55502e;try{botInstance=null,lastPingAt['clear'](),pingHistory[_0x33f875(0x1b2)]=-0x1326+0x14ff+-0x1d9,respondedMsgIds['clear']&&respondedMsgIds[_0x33f875(0x184)](),info(name+(_0x33f875(0x1d6)+'p'));}catch(_0x1a8bfd){warn(name+(_0x33f875(0x1b5)+_0x33f875(0x1c5))+(_0x1a8bfd?.['message']||_0x1a8bfd));}}function _0x46be(){const _0x46ea62=['\x20retry\x20als','t\x20determin','tmp','No\x20ping\x20hi','1.3.6-fixe','dConfig\x20ha','has','6HpbqLY','findings','toLowerCas','message','key',':\x20refreshC','\x20•\x20Net:\x20','edMatchFro','10164008MIczSr',';\x20skipping','number','\x20origin\x20ch','get','ency','N/A','9936409FuesIy',':\x20initiali','zed.','length','6790BnquSG',':\x20hotReloa','\x20cleanup\x20e','\x20handler\x20e','@g.us','fromMe','finalDest\x20','back.','ited.','trim','add','ndler\x20erro','56397dEbjgp','Africa/Nai',':\x20botInsta','r:\x20','split',':\x20fallback','rror:\x20','startsWith','setZone','Last\x20','22913xLXCKC','ping\x20send.','function','ing\x20box\x20to','CONDS','network\x20la','push','o\x20failed\x20f','size','slice','now','chat','\x20attemptin','\x20cleaned\x20u','bot','shift','5961468GeXMmk','type;\x20skip','ping','g\x20box\x20to\x20','onfig\x20erro','══⊷','may\x20be\x20lim','jid',':\x20timezone','isCommand','gistration','processLat','toFixed','\x20to\x20send\x20p','networkLat','\x20as\x20a\x20fall','\x20initializ','isArray',':\x20could\x20no','reverse','855hwsprr','fromMillis','dConfig\x20re','nce\x20not\x20in','unknown','roc:\x20',':\x20findStor','Measuring\x20','DATETIME_M','zoneName','ping\x20','client','\x20(proc=','string','sendMessag','robi',':\x20network\x20',':\x20isSudo\x20c',',\x20origin=','╭─❏\x20pong\x20❏','join','\x20set\x20to\x20','isValid',':\x20final\x20de','120wFsbBt','clear','latency\x20me','failed\x20to\x20','asurement\x20','error:\x20','delete','291127LYcCAv','ED_WITH_SE','\x0a│\x20','from',':\x20invalid\x20','set','ping\x20histo',':\x20failed\x20t','remoteJid','3018QciJXk','_bot','do\x20checks\x20','9Zyyiyw','text','ring'];_0x46be=function(){return _0x46ea62;};return _0x46be();}