const _0x2ebee2=_0xa216;(function(_0x36f847,_0x44a512){const _0xdcee7a=_0xa216,_0x5c03b6=_0x36f847();while(!![]){try{const _0x284aee=parseInt(_0xdcee7a(0x15b))/(0x67*0x47+0x1d5d+-0x39ed)*(-parseInt(_0xdcee7a(0x179))/(-0xef5*-0x1+-0x4b8+-0x61*0x1b))+parseInt(_0xdcee7a(0x158))/(0x4*-0x168+-0x2059+0x25fc)*(parseInt(_0xdcee7a(0x1a6))/(-0xd1d*0x1+0x3*-0x534+0x1cbd))+parseInt(_0xdcee7a(0x193))/(-0x2f5*0x1+0xb0*-0x35+0x276a)+parseInt(_0xdcee7a(0x155))/(0x216f+-0x2*-0x1269+-0x463b)+parseInt(_0xdcee7a(0x1af))/(-0x12b2+-0x1e4+0x149d)+-parseInt(_0xdcee7a(0x150))/(-0x201a+-0x1694+0x36b6)*(parseInt(_0xdcee7a(0x1ab))/(-0x260d+0x8d7*-0x3+-0x25*-0x1bf))+-parseInt(_0xdcee7a(0x1ac))/(0x609*0x5+-0x188f*-0x1+-0x1b59*0x2);if(_0x284aee===_0x44a512)break;else _0x5c03b6['push'](_0x5c03b6['shift']());}catch(_0x4a935b){_0x5c03b6['push'](_0x5c03b6['shift']());}}}(_0x240d,-0x7db3+0xc1+0x3d579));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';function _0x240d(){const _0xf6127=['mp3','sendMessag','13698ebNZwD','3454350vkMePh','\x20to\x20downlo','or\x20a\x20ringt','448119FDTHaP','i.bk9.dev/','üì•\x20Download','ringtone','data','mediafire.','content\x20at','download_u','BK9','\x20Facebook,','‚ùå\x20An\x20error','http','bot','vide\x20a\x20URL',']\x20botInsta','twitter.co','sfully.','string','facebook.c','url','message','1256jchjLP','while\x20sear',',\x20Mediafir','error:\x20','[ringtone]','223848cxgPzk','\x20that\x20URL.','x.com','3TyyUXV','ingTone?q=','\x20Failed\x20to','1262vQKtmq','audio/mpeg','\x20Pinterest','zed\x20succes','\x20content.\x20','for\x20\x22','@g.us','üîç\x20Searchin','pinterest.','Instagram,','ediafire?u',',\x20TikTok,\x20','1.3.1','t\x20find\x20dow','rl=','jid','nstagram?u',']\x20initiali','get','key','map','test','.\x20Supporte','toLowerCas','downloaded','edMatch\x20er','download/i','\x20get\x20ringt','‚ùå\x20An\x20unexp','e.\x0a\x0atct','128qCKuIA','includes','download/m','ching\x20for\x20','the\x20ringto','Unsupporte','witter?url','d:\x20Twitter','nloadable\x20','dla','tiktok.com','tct','client','clear','\x22...','one\x20found\x20','video','text','download/p','interest?u','Please\x20pro','download/t','ing,\x20pleas','startsWith','d\x20for\x20','https://ap','2012685vFgrxH','[dla]\x20Down','has','downloader','trim','catch','load\x20faile','result','b?url=','Link\x20may\x20b',']\x20handler\x20','‚ùå\x20Could\x20no','r\x20occurred','g\x20for\x20ring','isCommand','e\x20wait...','join','com','pin.it','1522264JNBjYG','iktok?url=','\x0a\x0atct'];_0x240d=function(){return _0xf6127;};return _0x240d();}import _0x85d245 from'axios';export const name=_0x2ebee2(0x196);export const version=_0x2ebee2(0x167);export const priority=-0x857+-0x2674+-0x1*-0x2ed5;export const commands=[_0x2ebee2(0x182),_0x2ebee2(0x1b2)];let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x268afb=[]){const _0x5716db=_0x2ebee2;try{const _0x398cf2=new Set((await listSudo())[_0x5716db(0x16f)](String));for(const _0x196b15 of _0x268afb){if(!_0x196b15?.[_0x5716db(0x16a)]||typeof _0x196b15[_0x5716db(0x16a)]!=='string')continue;const _0x46824b=normalizeToJid(_0x196b15[_0x5716db(0x16a)]);if(_0x46824b&&_0x398cf2[_0x5716db(0x195)](_0x46824b))return _0x46824b;if(_0x398cf2[_0x5716db(0x195)](_0x196b15[_0x5716db(0x16a)]))return _0x196b15[_0x5716db(0x16a)];}}catch(_0x50ec8b){warn('['+name+(']\x20findStor'+_0x5716db(0x174)+'ror:\x20')+(_0x50ec8b[_0x5716db(0x14f)]||_0x50ec8b));}return null;}function extractDownloadUrl(_0x32165a){const _0x1ce238=_0x2ebee2;if(!_0x32165a)return null;if(typeof _0x32165a===_0x1ce238(0x14c)&&_0x32165a[_0x1ce238(0x190)](_0x1ce238(0x146)))return _0x32165a;if(typeof _0x32165a!=='object')return null;const _0x443bb4=[_0x1ce238(0x1b6)+'rl',_0x1ce238(0x14e),'HD','hd','dllink',_0x1ce238(0x189),'audio',_0x1ce238(0x19a),_0x1ce238(0x1b7)];for(const _0x117d6f of _0x443bb4){if(_0x32165a[_0x117d6f]){const _0x5df9c9=extractDownloadUrl(_0x32165a[_0x117d6f]);if(_0x5df9c9)return _0x5df9c9;}}return null;}function _0xa216(_0x2d1a46,_0x267775){const _0x36c869=_0x240d();return _0xa216=function(_0x2a11ef,_0x2582db){_0x2a11ef=_0x2a11ef-(0x1d31+-0x251f+-0x16*-0x6b);let _0xc1c11=_0x36c869[_0x2a11ef];return _0xc1c11;},_0xa216(_0x2d1a46,_0x267775);}export async function initialize(_0x2b7eac){const _0x201a8e=_0x2ebee2;botInstance=_0x2b7eac,info('['+name+(_0x201a8e(0x16c)+_0x201a8e(0x15e)+_0x201a8e(0x14b)));}export async function cleanup(){const _0x310aa5=_0x2ebee2;botInstance=null,respondedMsgIds[_0x310aa5(0x186)](),info('['+name+(']\x20cleaned\x20'+'up'));}export async function onMessage(_0x1c9ba4){const _0x39c189=_0x2ebee2;if(!_0x1c9ba4?.[_0x39c189(0x16e)]||!_0x1c9ba4[_0x39c189(0x1a1)])return;const _0x4a8352=_0x1c9ba4[_0x39c189(0x16e)]['id'];if(_0x4a8352&&respondedMsgIds[_0x39c189(0x195)](_0x4a8352))return;_0x4a8352&&(respondedMsgIds['add'](_0x4a8352),setTimeout(()=>respondedMsgIds['delete'](_0x4a8352),0x1*0x3c59+-0x21*-0x61f+-0x9128));const _0x4c9f21=(_0x1c9ba4[_0x39c189(0x18a)]||'')[_0x39c189(0x197)](),[_0x1393ef,..._0x461731]=_0x4c9f21['split'](/\s+/),_0x2490a9=_0x1393ef[_0x39c189(0x172)+'e']();if(!commands[_0x39c189(0x17a)](_0x2490a9))return;if(!botInstance){botInstance=_0x1c9ba4[_0x39c189(0x147)]||_0x1c9ba4[_0x39c189(0x185)]||null;if(!botInstance){warn('['+name+(_0x39c189(0x149)+'nce\x20missin'+'g.'));return;}}const _0x5128aa=getBotJid();let _0x1521b6=_0x5128aa;const _0x26a229=_0x1c9ba4[_0x39c189(0x16e)]['remoteJid']||'',_0x728d9a=_0x26a229['endsWith'](_0x39c189(0x161)),_0x22d092=Boolean(_0x1c9ba4[_0x39c189(0x16e)]['fromMe']);if(!_0x22d092){if(_0x728d9a){const _0x100350=await isadmin(botInstance,_0x1c9ba4)[_0x39c189(0x198)](()=>![]);if(!_0x100350)return;_0x1521b6=_0x26a229;}else{const _0xfd4c66=await isSudo(botInstance,_0x1c9ba4)['catch'](()=>![]);if(!_0xfd4c66)return;const {findings:_0x515d0b}=userJidFromCtx(_0x1c9ba4),_0x150a43=await findStoredMatchFromFindings(_0x515d0b);if(!_0x150a43)return;_0x1521b6=_0x150a43;}}const _0x76397f=_0x461731[_0x39c189(0x1a3)]('\x20');try{switch(_0x2490a9){case'dla':await handleUniversalDownloader(_0x1521b6,_0x76397f,_0x1c9ba4);break;case _0x39c189(0x1b2):await handleRingtone(_0x1521b6,_0x76397f,_0x1c9ba4);break;}}catch(_0x2e2553){error(_0x2e2553,'['+name+(_0x39c189(0x19d)+_0x39c189(0x153))+_0x2e2553[_0x39c189(0x14f)]),await botInstance[_0x39c189(0x1aa)+'e'](_0x1521b6,{'text':_0x39c189(0x177)+'ected\x20erro'+_0x39c189(0x19f)+'.'},{'quoted':_0x1c9ba4['ms']});}}async function handleUniversalDownloader(_0x109920,_0x35aaaf,_0x2108ec){const _0x51eb93=_0x2ebee2;if(!_0x35aaaf)return botInstance[_0x51eb93(0x1aa)+'e'](_0x109920,{'text':_0x51eb93(0x18d)+_0x51eb93(0x148)+_0x51eb93(0x1ad)+'ad\x20from.\x0a\x0a'+'tct'},{'quoted':_0x2108ec['ms']});await botInstance[_0x51eb93(0x1aa)+'e'](_0x109920,{'text':_0x51eb93(0x1b1)+_0x51eb93(0x18f)+_0x51eb93(0x1a2)},{'quoted':_0x2108ec['ms']});let _0x14ec6d;if(_0x35aaaf['includes'](_0x51eb93(0x14a)+'m')||_0x35aaaf[_0x51eb93(0x17a)](_0x51eb93(0x157)))_0x14ec6d='https://ap'+_0x51eb93(0x1b0)+_0x51eb93(0x18e)+_0x51eb93(0x17f)+'='+encodeURIComponent(_0x35aaaf);else{if(_0x35aaaf[_0x51eb93(0x17a)](_0x51eb93(0x183)))_0x14ec6d=_0x51eb93(0x192)+_0x51eb93(0x1b0)+_0x51eb93(0x18e)+_0x51eb93(0x1a7)+encodeURIComponent(_0x35aaaf);else{if(_0x35aaaf[_0x51eb93(0x17a)]('instagram.'+_0x51eb93(0x1a4)))_0x14ec6d=_0x51eb93(0x192)+_0x51eb93(0x1b0)+_0x51eb93(0x175)+_0x51eb93(0x16b)+_0x51eb93(0x169)+encodeURIComponent(_0x35aaaf);else{if(_0x35aaaf[_0x51eb93(0x17a)](_0x51eb93(0x14d)+'om')||_0x35aaaf[_0x51eb93(0x17a)]('fb.watch'))_0x14ec6d=_0x51eb93(0x192)+'i.bk9.dev/'+'download/f'+_0x51eb93(0x19b)+encodeURIComponent(_0x35aaaf);else{if(_0x35aaaf[_0x51eb93(0x17a)](_0x51eb93(0x163)+_0x51eb93(0x1a4))||_0x35aaaf[_0x51eb93(0x17a)](_0x51eb93(0x1a5)))_0x14ec6d=_0x51eb93(0x192)+'i.bk9.dev/'+_0x51eb93(0x18b)+_0x51eb93(0x18c)+_0x51eb93(0x169)+encodeURIComponent(_0x35aaaf);else{if(_0x35aaaf[_0x51eb93(0x17a)](_0x51eb93(0x1b4)+'com'))_0x14ec6d=_0x51eb93(0x192)+_0x51eb93(0x1b0)+_0x51eb93(0x17b)+_0x51eb93(0x165)+_0x51eb93(0x169)+encodeURIComponent(_0x35aaaf);else return botInstance[_0x51eb93(0x1aa)+'e'](_0x109920,{'text':_0x51eb93(0x17e)+'d\x20platform'+_0x51eb93(0x171)+_0x51eb93(0x180)+_0x51eb93(0x166)+_0x51eb93(0x164)+_0x51eb93(0x144)+_0x51eb93(0x15d)+_0x51eb93(0x152)+_0x51eb93(0x178)},{'quoted':_0x2108ec['ms']});}}}}}try{const _0x19499e=await _0x85d245['get'](_0x14ec6d,{'timeout':0x7530}),_0x5d59de=extractDownloadUrl(_0x19499e[_0x51eb93(0x1b3)]);if(!_0x5d59de)return botInstance[_0x51eb93(0x1aa)+'e'](_0x109920,{'text':_0x51eb93(0x19e)+_0x51eb93(0x168)+_0x51eb93(0x181)+_0x51eb93(0x1b5)+_0x51eb93(0x156)+_0x51eb93(0x1a8)},{'quoted':_0x2108ec['ms']});const _0x4e3dcf=/\.(mp4|mov)(\?.*)?$/[_0x51eb93(0x170)](_0x5d59de);_0x4e3dcf?await botInstance[_0x51eb93(0x1aa)+'e'](_0x109920,{'video':{'url':_0x5d59de},'caption':_0x51eb93(0x184)},{'quoted':_0x2108ec['ms']}):await botInstance[_0x51eb93(0x1aa)+'e'](_0x109920,{'document':{'url':_0x5d59de},'fileName':_0x51eb93(0x173)+'_file','caption':'tct'},{'quoted':_0x2108ec['ms']});}catch(_0x2c46ea){error(_0x2c46ea,_0x51eb93(0x194)+_0x51eb93(0x199)+_0x51eb93(0x191)+_0x35aaaf),await botInstance[_0x51eb93(0x1aa)+'e'](_0x109920,{'text':'‚ùå\x20Failed\x20t'+'o\x20download'+_0x51eb93(0x15f)+_0x51eb93(0x19c)+'e\x20invalid.'+_0x51eb93(0x1a8)},{'quoted':_0x2108ec['ms']});}}async function handleRingtone(_0x562b5a,_0x442dc1,_0xa65588){const _0x523023=_0x2ebee2;if(!_0x442dc1)return botInstance[_0x523023(0x1aa)+'e'](_0x562b5a,{'text':'Please\x20pro'+'vide\x20a\x20sea'+'rch\x20term\x20f'+_0x523023(0x1ae)+'one.\x0a\x0atct'},{'quoted':_0xa65588['ms']});await botInstance[_0x523023(0x1aa)+'e'](_0x562b5a,{'text':_0x523023(0x162)+_0x523023(0x1a0)+'tone:\x20\x22'+_0x442dc1+_0x523023(0x187)},{'quoted':_0xa65588['ms']});try{const _0x3c17cd=_0x523023(0x192)+_0x523023(0x1b0)+'download/R'+_0x523023(0x159)+encodeURIComponent(_0x442dc1),_0x4b374b=await _0x85d245[_0x523023(0x16d)](_0x3c17cd,{'timeout':0x4e20}),_0x15a0e2=extractDownloadUrl(_0x4b374b[_0x523023(0x1b3)]);if(!_0x15a0e2)return botInstance[_0x523023(0x1aa)+'e'](_0x562b5a,{'text':'‚ùå\x20No\x20ringt'+_0x523023(0x188)+_0x523023(0x160)+_0x442dc1+'\x22.\x0a\x0atct'},{'quoted':_0xa65588['ms']});await botInstance[_0x523023(0x1aa)+'e'](_0x562b5a,{'audio':{'url':_0x15a0e2},'mimetype':_0x523023(0x15c),'fileName':_0x442dc1+('_ringtone.'+_0x523023(0x1a9))},{'quoted':_0xa65588['ms']});}catch(_0x4465b8){error(_0x4465b8,_0x523023(0x154)+_0x523023(0x15a)+_0x523023(0x176)+'one\x20for\x20\x22'+_0x442dc1+'\x22'),await botInstance[_0x523023(0x1aa)+'e'](_0x562b5a,{'text':_0x523023(0x145)+'\x20occurred\x20'+_0x523023(0x151)+_0x523023(0x17c)+_0x523023(0x17d)+'ne.\x0a\x0atct'},{'quoted':_0xa65588['ms']});}}