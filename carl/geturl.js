const _0x2cec0d=_0x1fe5;(function(_0x4e6e55,_0x36e2c0){const _0x33f7d3=_0x1fe5,_0x1de15f=_0x4e6e55();while(!![]){try{const _0x40c095=-parseInt(_0x33f7d3(0x1d5))/(-0x4cb*-0x5+-0x75*-0x1+-0x7*0x37d)+-parseInt(_0x33f7d3(0x1e2))/(0x67*0x53+-0x114*-0x9+-0x2b17)*(-parseInt(_0x33f7d3(0x212))/(-0xf39+-0x5*-0x7cd+-0x1*0x17c5))+parseInt(_0x33f7d3(0x1e3))/(-0xc9b+0xa*0x1dc+-0x5f9)+parseInt(_0x33f7d3(0x1be))/(0x1*-0x1f39+0xe99*-0x1+-0x2dd7*-0x1)+-parseInt(_0x33f7d3(0x215))/(0xef7*0x1+0x17b0+-0x1d*0x155)*(-parseInt(_0x33f7d3(0x1ab))/(0x8f*0x1f+-0xb5*0xb+-0x1*0x983))+-parseInt(_0x33f7d3(0x1bc))/(-0x445+0x8d6+-0x489)+-parseInt(_0x33f7d3(0x20c))/(0x2*-0x277+0x2285*-0x1+0x277c)*(parseInt(_0x33f7d3(0x1d0))/(-0x1073+-0x3d*-0x8b+-0x10a2));if(_0x40c095===_0x36e2c0)break;else _0x1de15f['push'](_0x1de15f['shift']());}catch(_0x4f9e6c){_0x1de15f['push'](_0x1de15f['shift']());}}}(_0x4942,-0xcf65*0x5+0xe83f+0xf807d));function _0x4942(){const _0x832596=['image','17171fNmCyD','uploader','split','CLOUDINARY','nce\x20missin','end','\x20Upload\x20Er','edia.\x20Plea','message','add','\x20video,\x20au','writeFile','ted\x20media\x20','_API_KEY','üö®\x20The\x20vide','catch','config','837072JxAXmp','Cloudinary','1131365irffVP','join','replace','map','for\x20messag',':\x20findStor','dirname','data','\x20handler\x20e','upload','L:\x0a','\x20cleaned\x20u','string','_API_SECRE','exists','üìÑ\x20Document','secure_url','\x20cleanup\x20e','17182970FPBZMG','sendMessag','mp3','audio','extendedTe','712575dnKjfY','get\x20a\x20URL.','ror:\x20','auto',':\x20successf','ssage','eo,\x20audio,','ed\x20and\x20sen','üñºÔ∏è\x20Image\x20UR','e\x20final\x20de','\x20an\x20image,','\x20URL:\x0a','ully\x20creat','3077276VkeDfk','5831472cySngB','quotedMess','‚ö†\x20Unsuppor','the\x20.env','type.\x20Repl','key','video','clear','in.\x20add\x20cl','ne.','nt.','t\x20URL\x20for\x20','videoMessa',':\x20initiali','trim','client','o\x20is\x20too\x20l','imageMessa','documentMe','50MB).\x20Ple','document','push',':\x20Could\x20no','arge\x20(max\x20','xtMessage','1.0.1',':\x20botInsta','temp_','ploads','ase\x20send\x20a','rror:\x20','se\x20try\x20aga','has','üîä\x20Audio\x20UR','zed.','isCommand','jid','t\x20determin','\x20to\x20','y\x20with\x20an\x20','\x20smaller\x20o','9ZsZrCZ','audioMessa','stination\x20','oudinary\x20a','edMatch\x20er','text','3aanpkl','\x20or\x20docume','toLowerCas','300bspqaB','whatsapp_u'];_0x4942=function(){return _0x832596;};return _0x4942();}import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{downloadContentFromMessage}from'@whiskeysockets/baileys';function _0x1fe5(_0x51c6aa,_0x865c98){const _0x4dbfe1=_0x4942();return _0x1fe5=function(_0x37fec7,_0x14bbd6){_0x37fec7=_0x37fec7-(-0xe2*0x1+-0x24e9*-0x1+-0xa6*0x35);let _0x2290e2=_0x4dbfe1[_0x37fec7];return _0x2290e2;},_0x1fe5(_0x51c6aa,_0x865c98);}import _0x164dc1 from'fs-extra';import _0x4665d9 from'path';import{v2 as _0x383b9e}from'cloudinary';import{fileURLToPath}from'url';export const name='url';export const version=_0x2cec0d(0x1fc);export const priority=0x18a1+0x6ce+-0x1f65;let botInstance=null,respondedMsgIds=new Set();const __filename=fileURLToPath(import.meta['url']),__dirname=_0x4665d9[_0x2cec0d(0x1c4)](__filename),config=getConfig();_0x383b9e[_0x2cec0d(0x1bb)]({'cloud_name':config['CLOUDINARY'+'_CLOUD_NAM'+'E'],'api_key':config[_0x2cec0d(0x1ae)+_0x2cec0d(0x1b8)],'api_secret':config['CLOUDINARY'+_0x2cec0d(0x1cb)+'T'],'secure':!![]});async function streamToBuffer(_0x40ab31){return new Promise((_0x37fc89,_0xca55c7)=>{const _0x4ba60f=_0x1fe5,_0x3a3fb8=[];_0x40ab31['on'](_0x4ba60f(0x1c5),_0x4a17e1=>_0x3a3fb8[_0x4ba60f(0x1f8)](_0x4a17e1)),_0x40ab31['on'](_0x4ba60f(0x1b0),()=>_0x37fc89(Buffer['concat'](_0x3a3fb8))),_0x40ab31['on']('error',_0xca55c7);});}async function downloadMedia(_0x15b4cd,_0x524e26){const _0x36729b=_0x2cec0d,_0x44f13f=await downloadContentFromMessage(_0x15b4cd,_0x524e26),_0x18ead0=await streamToBuffer(_0x44f13f),_0x4ab142=_0x524e26==='audio'?_0x36729b(0x1d2):_0x15b4cd['mimetype'][_0x36729b(0x1ad)]('/')[-0xce4+-0xd4e+0x1a33]?.['split'](';')[0x1621+-0x594+0x108d*-0x1]||'bin',_0x5e204f=_0x4665d9[_0x36729b(0x1bf)](__dirname,_0x36729b(0x1fe)+Date['now']()+'.'+_0x4ab142);return await _0x164dc1[_0x36729b(0x1b6)](_0x5e204f,_0x18ead0),_0x5e204f;}async function uploadToCloudinary(_0x49b035,_0x3836db){const _0x2a7106=_0x2cec0d;try{const _0x110825={'resource_type':_0x3836db===_0x2a7106(0x1e9)?_0x2a7106(0x1e9):_0x2a7106(0x1d8),'folder':_0x2a7106(0x1a9)+_0x2a7106(0x1ff)},_0x4f00e9=await _0x383b9e[_0x2a7106(0x1ac)][_0x2a7106(0x1c7)](_0x49b035,_0x110825);return _0x4f00e9[_0x2a7106(0x1ce)][_0x2a7106(0x1c0)](/^https?:\/\//,'');}catch(_0x4f1bf9){throw new Error(_0x2a7106(0x1bd)+_0x2a7106(0x1b1)+_0x2a7106(0x1d7)+_0x4f1bf9[_0x2a7106(0x1b3)]);}}async function findStoredMatchFromFindings(_0x8e98a3=[]){const _0x417af5=_0x2cec0d;try{const _0x292502=await listSudo(),_0x782e8b=new Set(_0x292502[_0x417af5(0x1c1)](String));for(const _0x2bf5de of _0x8e98a3){if(!_0x2bf5de||typeof _0x2bf5de['jid']!==_0x417af5(0x1ca))continue;const _0x4b5717=normalizeToJid(_0x2bf5de[_0x417af5(0x207)]);if(_0x4b5717&&_0x782e8b[_0x417af5(0x203)](_0x4b5717))return _0x4b5717;if(_0x782e8b[_0x417af5(0x203)](_0x2bf5de[_0x417af5(0x207)]))return _0x2bf5de[_0x417af5(0x207)];}return null;}catch(_0x55c920){return warn(name+(_0x417af5(0x1c3)+_0x417af5(0x210)+_0x417af5(0x1d7))+(_0x55c920?.[_0x417af5(0x1b3)]||_0x55c920)),null;}}export async function initialize(_0x10de9a){const _0x13f8cb=_0x2cec0d;botInstance=_0x10de9a,info(name+(_0x13f8cb(0x1f0)+_0x13f8cb(0x205)));}export async function onMessage(_0x144451){const _0x50f05b=_0x2cec0d;if(!_0x144451?.[_0x50f05b(0x1e8)]||!_0x144451[_0x50f05b(0x206)])return;const _0x47609a=_0x144451[_0x50f05b(0x1e8)]['id'];if(_0x47609a&&respondedMsgIds[_0x50f05b(0x203)](_0x47609a))return;if(_0x47609a)respondedMsgIds[_0x50f05b(0x1b4)](_0x47609a);const _0x58d9e0=(_0x144451[_0x50f05b(0x211)]||'')[_0x50f05b(0x1f1)]();if(!_0x58d9e0[_0x50f05b(0x214)+'e']()['startsWith']('url'))return;if(!botInstance)botInstance=_0x144451['bot']||_0x144451[_0x50f05b(0x1f2)];if(!botInstance){warn(name+(_0x50f05b(0x1fd)+_0x50f05b(0x1af)+'g'));return;}const _0x5d7568=getBotJid();let _0x20d0f7;if(_0x144451[_0x50f05b(0x1e8)]['fromMe'])_0x20d0f7=_0x5d7568;else{const _0x3cb0ff=await isSudo(botInstance,_0x144451)[_0x50f05b(0x1ba)](()=>![]);if(!_0x3cb0ff)return;const {findings:_0x5902b7}=userJidFromCtx(_0x144451),_0x3063c6=await findStoredMatchFromFindings(_0x5902b7);if(!_0x3063c6)return;_0x20d0f7=_0x3063c6;}if(!_0x20d0f7){warn(name+(_0x50f05b(0x1f9)+_0x50f05b(0x208)+_0x50f05b(0x1de)+_0x50f05b(0x20e)+_0x50f05b(0x1c2)+'e.'));return;}const _0x67b4c2=_0x144451['message']?.[_0x50f05b(0x1d4)+_0x50f05b(0x1fb)]?.['contextInf'+'o']?.[_0x50f05b(0x1e4)+'age']||_0x144451['quoted']||null;if(!_0x67b4c2){await botInstance[_0x50f05b(0x1d1)+'e'](_0x20d0f7,{'text':'üìå\x20Reply\x20to'+_0x50f05b(0x1df)+_0x50f05b(0x1b5)+'dio,\x20or\x20do'+'cument\x20to\x20'+_0x50f05b(0x1d6)});return;}let _0x8df8d7,_0x3eecba;try{if(_0x67b4c2[_0x50f05b(0x1ef)+'ge']){const _0x44697c=_0x67b4c2[_0x50f05b(0x1ef)+'ge']['fileLength'];if(_0x44697c>(0x264f+-0xc*-0x3e+-0x2905)*(0x7fc+-0x2595+0x2199)*(-0x1*-0x2d+0x7*0x254+0x67*-0x1f)){await botInstance[_0x50f05b(0x1d1)+'e'](_0x20d0f7,{'text':_0x50f05b(0x1b9)+_0x50f05b(0x1f3)+_0x50f05b(0x1fa)+_0x50f05b(0x1f6)+_0x50f05b(0x200)+_0x50f05b(0x20b)+_0x50f05b(0x1ec)});return;}_0x8df8d7=await downloadMedia(_0x67b4c2[_0x50f05b(0x1ef)+'ge'],'video'),_0x3eecba=_0x50f05b(0x1e9);}else{if(_0x67b4c2[_0x50f05b(0x1f4)+'ge'])_0x8df8d7=await downloadMedia(_0x67b4c2[_0x50f05b(0x1f4)+'ge'],_0x50f05b(0x1aa)),_0x3eecba='image';else{if(_0x67b4c2[_0x50f05b(0x20d)+'ge'])_0x8df8d7=await downloadMedia(_0x67b4c2[_0x50f05b(0x20d)+'ge'],_0x50f05b(0x1d3)),_0x3eecba=_0x50f05b(0x1d3);else{if(_0x67b4c2[_0x50f05b(0x1f5)+_0x50f05b(0x1da)])_0x8df8d7=await downloadMedia(_0x67b4c2[_0x50f05b(0x1f5)+_0x50f05b(0x1da)],'document'),_0x3eecba=_0x50f05b(0x1f7);else{await botInstance['sendMessag'+'e'](_0x20d0f7,{'text':_0x50f05b(0x1e5)+_0x50f05b(0x1b7)+_0x50f05b(0x1e7)+_0x50f05b(0x20a)+'image,\x20vid'+_0x50f05b(0x1db)+_0x50f05b(0x213)+_0x50f05b(0x1ed)});return;}}}}const _0xa88aab=await uploadToCloudinary(_0x8df8d7,_0x3eecba);await _0x164dc1['unlink'](_0x8df8d7);const _0x3f4206={'image':_0x50f05b(0x1dd)+'L:\x0a'+_0xa88aab,'video':'üé•\x20Video\x20UR'+_0x50f05b(0x1c8)+_0xa88aab,'audio':_0x50f05b(0x204)+'L\x20(MP3):\x0a'+_0xa88aab,'document':_0x50f05b(0x1cd)+_0x50f05b(0x1e0)+_0xa88aab},_0x5ce4b1=_0x3f4206[_0x3eecba]||'‚úÖ\x20File\x20URL'+':\x0a'+_0xa88aab;await botInstance[_0x50f05b(0x1d1)+'e'](_0x20d0f7,{'text':_0x5ce4b1}),info(name+(_0x50f05b(0x1d9)+_0x50f05b(0x1e1)+_0x50f05b(0x1dc)+_0x50f05b(0x1ee)+'a\x20')+_0x3eecba+_0x50f05b(0x209)+_0x20d0f7);}catch(_0x34372d){error(_0x34372d,name+(_0x50f05b(0x1c6)+'rror')),_0x8df8d7&&await _0x164dc1[_0x50f05b(0x1cc)](_0x8df8d7)&&await _0x164dc1['unlink'](_0x8df8d7),await botInstance['sendMessag'+'e'](_0x20d0f7,{'text':'‚ùå\x20Error\x20pr'+'ocessing\x20m'+_0x50f05b(0x1b2)+_0x50f05b(0x202)+_0x50f05b(0x1eb)+_0x50f05b(0x20f)+'pi\x20key\x20in\x20'+_0x50f05b(0x1e6)});}}export async function cleanup(){const _0x328f1c=_0x2cec0d;try{botInstance=null,respondedMsgIds[_0x328f1c(0x1ea)](),info(name+(_0x328f1c(0x1c9)+'p'));}catch(_0xf5de9c){warn(name+(_0x328f1c(0x1cf)+_0x328f1c(0x201))+(_0xf5de9c?.['message']||_0xf5de9c));}}