const _0x28dd70=_0x213d;function _0x1f72(){const _0x2e153f=['45668HGCxUr','fromMe','image','ilable\x20on\x20','osend.init','instance','isArray','luded.valu','back\x20to\x20bu',']\x20forward\x20','clear','?)\x0a\x20\x20\x20\x20\x20\x20\x20','status_aut','OSEND_MAX_','AD_BYTES_W','DOWNLOAD_B','autostatus','RIMARY\x20KEY','ue,\x20update','\x20);','ated_at\x20IN','3267480YJvPzd','d_at)\x20VALU','imageMessa','participan','T(key)\x20DO\x20','ONDED_TRIM','now','sage','153LrfNXW','ilt-in\x20def','TRIM_KEEP','OSEND',']\x20download','NOT\x20NULL,\x0a','TEGER\x20DEFA','o\x20import\x20B','toLowerCas','length','key','iled:\x20','videoMessa','ward',']\x20large\x20','aults.','message\x20er','show','default','us\x20toggled','LE\x20IF\x20NOT\x20','function','\x20bytes\x20(id','toString','✔️\x20autostat',']\x20onMessag','\x20•\x20Status','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','_KEEP','@g.us','ward\x20error',']\x20no\x20sendM','ialize\x20req','mentionedJ','off','STATUS_AUT','alue\x20TEXT\x20','us\x20set\x20to\x20','SELECT\x20val','sticker','essage','2695680mYRfoC','caption','ed.updated','ULT\x200\x0a\x20\x20\x20\x20','error:\x20','messages.u','dListener\x20','us:\x20','MAX_DOWNLO','video','ffer\x20for\x20','e,\x20updated','split','remoteJid','sock','slice','994868zQemQw','size','\x20download:','aileys','push','ARN','mimetype','LIMIT','❌\x20Failed\x20t',']\x20getConfi','message','true','adcast','type','value',']\x20empty\x20bu','RESPONDED_','\x20value=exc','18WrjUto','contextInf','ror:\x20','conversati','documentMe','toUpperCas','INSERT\x20INT','from','YTES_WARN','CREATE\x20TAB',']\x20autostat','ptt','concat',',\x20cannot\x20r','failed:\x20','audioMessa','EXISTS\x20','floor','ue\x20FROM\x20','get','\x20status\x20','ONDED_LIMI','status','6914QOlERd','ON\x20CONFLIC','trim','extendedTe','text',']\x20failed\x20t','psert','has','xtMessage','ssage','join','isFinite','downloadCo','id()\x20empty','string','osend','enabled','/send\x20buil','886480ptXAFi','21175850lJZbcL',']\x20cleanup\x20','stickerMes','OSEND_RESP',']\x20handleSt',']\x20forwarde','Status','93vJVeIb','node','ntentFromM','\x20available','sendMessag','e\x20error:\x20','atusAndFor','\x20\x20\x20\x20\x20\x20\x20upd','cannot\x20for','status@bro',']\x20getPref\x20','document','audio','exec','1.1.0'];_0x1f72=function(){return _0x2e153f;};return _0x1f72();}(function(_0x53cbf8,_0xb1ea94){const _0x167c40=_0x213d,_0x24953d=_0x53cbf8();while(!![]){try{const _0x1c0ff0=parseInt(_0x167c40(0x11b))/(-0x11*-0x10d+0x29*-0x11+-0xf23*0x1)*(-parseInt(_0x167c40(0xd5))/(0xaa5+-0x25c+0xd*-0xa3))+parseInt(_0x167c40(0xef))/(0xe5*-0x13+-0x85d+0x195f)*(-parseInt(_0x167c40(0xfe))/(-0x63*-0x9+0x2459+-0x310*0xd))+parseInt(_0x167c40(0xe7))/(-0x1212+0x6bf*0x3+-0x16*0x19)+-parseInt(_0x167c40(0xbe))/(-0x1*0x13a1+-0x18fd+0x2ca4)*(parseInt(_0x167c40(0x154))/(0x4ce+-0xe35+0x1*0x96e))+-parseInt(_0x167c40(0x113))/(0x2*0x3bf+-0x1*0x243d+-0x8b*-0x35)+-parseInt(_0x167c40(0x144))/(-0x2389+0x1*-0x1fb2+0x4344)+parseInt(_0x167c40(0xe8))/(-0x986+-0x1a7f+0x240f);if(_0x1c0ff0===_0xb1ea94)break;else _0x24953d['push'](_0x24953d['shift']());}catch(_0x43695a){_0x24953d['push'](_0x24953d['shift']());}}}(_0x1f72,-0xbf15+0x17829*-0x1+0x67408));import _0x4778ca from'path';import{warn,error,info}from'../utils/logger.js';import{db}from'../utils/database.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';export const name=_0x28dd70(0x10a)+_0x28dd70(0xe4);export const version=_0x28dd70(0xfd);export const priority=-0x1c87+-0xe81+-0x2b7b*-0x1;export const commands=[_0x28dd70(0x10e)];export const configKeys=['STATUS_AUT'+_0x28dd70(0xeb)+'ONDED_LIMI'+'T',_0x28dd70(0x13e)+_0x28dd70(0xeb)+_0x28dd70(0x118)+_0x28dd70(0x137),_0x28dd70(0x13e)+'OSEND_MAX_'+_0x28dd70(0x10d)+_0x28dd70(0xc6)];let CFG={};try{CFG=typeof getConfig===_0x28dd70(0x130)?getConfig()||{}:{};}catch(_0x2a5a2d){warn('['+name+(_0x28dd70(0x15d)+'g()\x20threw:'+'\x20')+(_0x2a5a2d?.[_0x28dd70(0x15e)]||_0x2a5a2d)+('.\x20Falling\x20'+_0x28dd70(0x106)+_0x28dd70(0x11c)+_0x28dd70(0x12a))),CFG={};}function toPositiveInt(_0x5d953c,_0xf65b3c){const _0x5ccc99=_0x28dd70,_0x254bc3=Number(_0x5d953c);if(!Number[_0x5ccc99(0xe0)](_0x254bc3)||_0x254bc3<=0x8ec*0x1+0x171*0xd+-0x1*0x1ba9)return _0xf65b3c;return Math[_0x5ccc99(0xcf)](_0x254bc3);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(0xbe2+0x23b2*-0x1+0x17da)*(0x580*-0x6+-0x21f4+-0x2*-0x237a)*(0xbfe+0x16fe+-0x1efc)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG['STATUS_AUT'+_0x28dd70(0xeb)+_0x28dd70(0xd3)+'T']??(CFG[_0x28dd70(0x13e)+_0x28dd70(0x11e)]&&CFG['STATUS_AUT'+_0x28dd70(0x11e)][_0x28dd70(0xbc)+_0x28dd70(0x15b)]),FALLBACKS[_0x28dd70(0xbc)+_0x28dd70(0x15b)]),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0x28dd70(0x13e)+_0x28dd70(0xeb)+_0x28dd70(0x118)+'_KEEP']??(CFG[_0x28dd70(0x13e)+_0x28dd70(0x11e)]&&CFG[_0x28dd70(0x13e)+'OSEND'][_0x28dd70(0xbc)+_0x28dd70(0x11d)]),FALLBACKS[_0x28dd70(0xbc)+_0x28dd70(0x11d)]),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG[_0x28dd70(0x13e)+_0x28dd70(0x10b)+_0x28dd70(0x10d)+_0x28dd70(0xc6)]??(CFG['STATUS_AUT'+_0x28dd70(0x11e)]&&CFG[_0x28dd70(0x13e)+_0x28dd70(0x11e)][_0x28dd70(0x14c)+_0x28dd70(0x10c)+_0x28dd70(0x159)]),FALLBACKS[_0x28dd70(0x14c)+'AD_BYTES_W'+_0x28dd70(0x159)])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0x28dd70(0x10e)+'_prefs';let respondedMsgIds=new Set();function trackSent(_0x31f261){const _0x632fcf=_0x28dd70;try{const _0x1e7d90=_0x31f261?.[_0x632fcf(0x125)]?.['id']||_0x31f261?.['id']||_0x31f261?.['messages']&&_0x31f261['messages'][0x1*0xb5b+-0x15ce+0x19*0x6b]?.[_0x632fcf(0x125)]?.['id']||Array[_0x632fcf(0x104)](_0x31f261)&&_0x31f261[0x146d+-0x44c+-0x1021]?.['key']?.['id']||null;if(!_0x1e7d90)return;respondedMsgIds['add'](String(_0x1e7d90));if(respondedMsgIds[_0x632fcf(0x155)]>DEFAULTS[_0x632fcf(0xbc)+'LIMIT']){const _0x1104af=Array[_0x632fcf(0xc5)](respondedMsgIds);respondedMsgIds=new Set(_0x1104af[_0x632fcf(0x153)](-DEFAULTS[_0x632fcf(0xbc)+_0x632fcf(0x11d)]));}}catch(_0x4b3cf4){}}function isOurSentId(_0x1f0b1f){const _0x5d329b=_0x28dd70;return _0x1f0b1f&&respondedMsgIds[_0x5d329b(0xdc)](String(_0x1f0b1f));}async function getBaileysHelpers(){const _0x40a9d4=_0x28dd70;if(_baileysHelpers)return _baileysHelpers;try{const _0x431ed5=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x431ed5[_0x40a9d4(0xe1)+_0x40a9d4(0xf1)+_0x40a9d4(0x143)]||_0x431ed5[_0x40a9d4(0x12d)]?.[_0x40a9d4(0xe1)+_0x40a9d4(0xf1)+'essage']};if(!_baileysHelpers[_0x40a9d4(0xe1)+'ntentFromM'+_0x40a9d4(0x143)])throw new Error('downloadCo'+_0x40a9d4(0xf1)+'essage\x20not'+_0x40a9d4(0xf2));return _baileysHelpers;}catch(_0x1daf0c){error(_0x1daf0c,'['+name+(_0x40a9d4(0xda)+_0x40a9d4(0x122)+_0x40a9d4(0x157)));throw _0x1daf0c;}}async function streamToBuffer(_0x330d14){const _0x1f3ad6=_0x28dd70,_0x31b2a5=[];for await(const _0xf36c65 of _0x330d14)_0x31b2a5[_0x1f3ad6(0x158)](Buffer['isBuffer'](_0xf36c65)?_0xf36c65:Buffer['from'](_0xf36c65));return Buffer[_0x1f3ad6(0xca)](_0x31b2a5);}async function ensureTables(){const _0x4c3fa1=_0x28dd70;await db[_0x4c3fa1(0xfc)](_0x4c3fa1(0xc7)+_0x4c3fa1(0x12f)+_0x4c3fa1(0xce)+PREFS_TABLE+(_0x4c3fa1(0x136)+'key\x20TEXT\x20P'+_0x4c3fa1(0x10f)+',\x0a\x20\x20\x20\x20\x20\x20\x20v'+_0x4c3fa1(0x13f)+_0x4c3fa1(0x120)+_0x4c3fa1(0xf6)+_0x4c3fa1(0x112)+_0x4c3fa1(0x121)+_0x4c3fa1(0x147)+_0x4c3fa1(0x111)));}function _0x213d(_0x4bf029,_0x37f21a){const _0x4a955a=_0x1f72();return _0x213d=function(_0x3f7e89,_0x5cf1dc){_0x3f7e89=_0x3f7e89-(0x269d+-0x1ab4+-0xb2e);let _0xcde644=_0x4a955a[_0x3f7e89];return _0xcde644;},_0x213d(_0x4bf029,_0x37f21a);}async function getPref(_0x175975){const _0x1cc221=_0x28dd70;try{const _0x2af3c1=await db[_0x1cc221(0xd1)](_0x1cc221(0x141)+_0x1cc221(0xd0)+PREFS_TABLE+('\x20WHERE\x20key'+'\x20=\x20?'),[_0x175975]);return _0x2af3c1?_0x2af3c1[_0x1cc221(0x162)]:null;}catch(_0x4d6aa0){return warn('['+name+(_0x1cc221(0xf9)+_0x1cc221(0x148))+(_0x4d6aa0?.[_0x1cc221(0x15e)]||_0x4d6aa0)),null;}}async function setPref(_0x56da4a,_0x313ecb){const _0x2ef2b1=_0x28dd70;try{const _0x42d948=Math[_0x2ef2b1(0xcf)](Date[_0x2ef2b1(0x119)]()/(-0x1945+0x2b3*-0x8+0x1*0x32c5));return await db['run'](_0x2ef2b1(0xc4)+'O\x20'+PREFS_TABLE+('\x20(key,\x20val'+_0x2ef2b1(0x110)+_0x2ef2b1(0x114)+'ES\x20(?,\x20?,\x20'+_0x2ef2b1(0x109)+_0x2ef2b1(0xd6)+_0x2ef2b1(0x117)+'UPDATE\x20SET'+_0x2ef2b1(0xbd)+_0x2ef2b1(0x105)+_0x2ef2b1(0x14f)+'_at=exclud'+_0x2ef2b1(0x146)+'_at;'),[_0x56da4a,String(_0x313ecb),_0x42d948]),!![];}catch(_0x599674){return warn('['+name+(']\x20setPref\x20'+_0x2ef2b1(0xcc))+(_0x599674?.[_0x2ef2b1(0x15e)]||_0x599674)),![];}}async function isEnabled(){const _0x102537=_0x28dd70,_0x2d551f=await getPref(_0x102537(0xe5));return _0x2d551f==='1'||_0x2d551f===_0x102537(0x15f);}function detectContentAndNode(_0x15fe2a){const _0x2d6582=_0x28dd70,_0x355546=_0x15fe2a?.[_0x2d6582(0x15e)]||{};if(_0x355546[_0x2d6582(0x115)+'ge'])return{'type':_0x2d6582(0x100),'node':_0x355546[_0x2d6582(0x115)+'ge']};if(_0x355546[_0x2d6582(0x127)+'ge'])return{'type':_0x2d6582(0x14d),'node':_0x355546[_0x2d6582(0x127)+'ge']};if(_0x355546[_0x2d6582(0xcd)+'ge'])return{'type':_0x2d6582(0xfb),'node':_0x355546[_0x2d6582(0xcd)+'ge']};if(_0x355546[_0x2d6582(0xc2)+_0x2d6582(0xde)])return{'type':_0x2d6582(0xfa),'node':_0x355546[_0x2d6582(0xc2)+'ssage']};if(_0x355546[_0x2d6582(0xea)+_0x2d6582(0x11a)])return{'type':'sticker','node':_0x355546[_0x2d6582(0xea)+_0x2d6582(0x11a)]};if(_0x355546[_0x2d6582(0xd8)+_0x2d6582(0xdd)]?.[_0x2d6582(0xd9)])return{'type':_0x2d6582(0xd9),'text':_0x355546[_0x2d6582(0xd8)+_0x2d6582(0xdd)][_0x2d6582(0xd9)]};if(_0x355546['conversati'+'on'])return{'type':_0x2d6582(0xd9),'text':_0x355546[_0x2d6582(0xc1)+'on']};return null;}async function buildImmediatePayload(_0x3496a1){const _0xc7b956=_0x28dd70,_0x3cc467=detectContentAndNode(_0x3496a1);if(!_0x3cc467)return null;const _0x5cae84=_0x3496a1?.[_0xc7b956(0x125)]?.[_0xc7b956(0x116)+'t']||'',_0x15924f=_0x3496a1?.['pushName']||'',_0x48835f=_0x5cae84?_0x5cae84[_0xc7b956(0x150)]('@')[-0x1b54+-0x431+0x1f85]:_0x15924f||'',_0x14ee51=_0x48835f?_0x48835f+_0xc7b956(0x135):_0xc7b956(0xee);if(_0x3cc467[_0xc7b956(0x161)]===_0xc7b956(0xd9)){const _0x1253a8=_0x3cc467[_0xc7b956(0xd9)]||'',_0x5d1c43=_0x48835f?_0x48835f+':\x20'+_0x1253a8:_0x1253a8,_0x29de9b={'text':_0x5d1c43};if(_0x5cae84)_0x29de9b[_0xc7b956(0xbf)+'o']={'mentionedJid':[_0x5cae84]};return _0x29de9b;}const {downloadContentFromMessage:_0xb5ae00}=await getBaileysHelpers(),_0x231b6e=_0x3cc467[_0xc7b956(0xf0)],_0x58c795=_0x3cc467[_0xc7b956(0x161)];try{const _0x2f007b=await _0xb5ae00(_0x231b6e,_0x58c795),_0x518e8f=await streamToBuffer(_0x2f007b);if(!_0x518e8f||!_0x518e8f[_0xc7b956(0x124)])return warn('['+name+(_0xc7b956(0xbb)+_0xc7b956(0x14e))+_0x58c795+_0xc7b956(0xd2)+(_0x3496a1?.[_0xc7b956(0x125)]?.['id']||'')),null;_0x518e8f[_0xc7b956(0x124)]>DEFAULTS[_0xc7b956(0x14c)+_0xc7b956(0x10c)+_0xc7b956(0x159)]&&warn('['+name+_0xc7b956(0x129)+_0x58c795+(_0xc7b956(0x156)+'\x20')+_0x518e8f['length']+(_0xc7b956(0x131)+'\x20')+(_0x3496a1?.[_0xc7b956(0x125)]?.['id']||'')+')');let _0x5fe656=null;const _0x5b3182=(_0x231b6e?.[_0xc7b956(0x15a)]||'')[_0xc7b956(0x123)+'e']();if(_0x58c795===_0xc7b956(0x100)){const _0xdcf97=[];if(_0x231b6e?.[_0xc7b956(0x145)])_0xdcf97['push'](_0x231b6e[_0xc7b956(0x145)]);_0xdcf97[_0xc7b956(0x158)](_0x14ee51),_0x5fe656={'image':_0x518e8f,'caption':_0xdcf97['join']('\x0a'),'mimetype':_0x5b3182||undefined};}else{if(_0x58c795==='video'){const _0x522237=[];if(_0x231b6e?.[_0xc7b956(0x145)])_0x522237[_0xc7b956(0x158)](_0x231b6e[_0xc7b956(0x145)]);_0x522237['push'](_0x14ee51),_0x5fe656={'video':_0x518e8f,'caption':_0x522237[_0xc7b956(0xdf)]('\x0a'),'mimetype':_0x5b3182||undefined};}else{if(_0x58c795===_0xc7b956(0xfb))_0x5fe656={'audio':_0x518e8f,'ptt':!!_0x231b6e?.[_0xc7b956(0xc9)],'mimetype':_0x5b3182||undefined};else{if(_0x58c795==='document'){const _0x1053cf=_0x231b6e?.['fileName']||''+(_0x3496a1?.[_0xc7b956(0x125)]?.['id']||_0xc7b956(0xd4));_0x5fe656={'document':_0x518e8f,'fileName':_0x1053cf,'mimetype':_0x5b3182||undefined,'caption':_0x14ee51};}else _0x58c795===_0xc7b956(0x142)&&(_0x5fe656={'sticker':_0x518e8f});}}}return _0x5fe656&&_0x5cae84&&(_0x5fe656[_0xc7b956(0xbf)+'o']=_0x5fe656[_0xc7b956(0xbf)+'o']||{},_0x5fe656[_0xc7b956(0xbf)+'o'][_0xc7b956(0x13c)+'id']=[_0x5cae84]),_0x5fe656;}catch(_0x5b7220){return warn('['+name+(_0xc7b956(0x11f)+_0xc7b956(0xe6)+'d\x20failed:\x20')+(_0x5b7220?.[_0xc7b956(0x15e)]||_0x5b7220)),null;}}async function handleStatusAndForward(_0x4c3305){const _0xace9c2=_0x28dd70;try{if(!_0x4c3305||!_0x4c3305[_0xace9c2(0x125)])return;const _0x1fcdc5=String(_0x4c3305[_0xace9c2(0x125)]['remoteJid']||'')[_0xace9c2(0x123)+'e']();if(_0x1fcdc5!==_0xace9c2(0xf8)+_0xace9c2(0x160))return;if(!await isEnabled())return;const _0x46a13a=getBotJid();if(!_0x46a13a){warn('['+name+(']\x20bot\x20JID\x20'+'is\x20empty,\x20'+_0xace9c2(0xf7)+_0xace9c2(0x128)));return;}const _0x5c5a57=await buildImmediatePayload(_0x4c3305);if(!_0x5c5a57)return;let _0x19463c=null;if(botRef&&botRef[_0xace9c2(0x152)]&&typeof botRef[_0xace9c2(0x152)][_0xace9c2(0xf3)+'e']===_0xace9c2(0x130))_0x19463c=await botRef['sock'][_0xace9c2(0xf3)+'e'](_0x46a13a,_0x5c5a57);else{if(botRef&&typeof botRef[_0xace9c2(0xf3)+'e']===_0xace9c2(0x130))_0x19463c=await botRef[_0xace9c2(0xf3)+'e'](_0x46a13a,_0x5c5a57);else{warn('['+name+(_0xace9c2(0x13a)+'essage\x20ava'+_0xace9c2(0x101)+'botRef'));return;}}trackSent(_0x19463c),info('['+name+(_0xace9c2(0xed)+'d\x20status\x20')+(_0x4c3305[_0xace9c2(0x125)]['id']||'')+'\x20->\x20'+_0x46a13a);}catch(_0x53e972){warn('['+name+(_0xace9c2(0xec)+_0xace9c2(0xf5)+_0xace9c2(0x139)+':\x20')+(_0x53e972?.[_0xace9c2(0x15e)]||_0x53e972));}}async function rawMessagesUpsertHandler({messages:_0x16295a}){const _0x1c776f=_0x28dd70;if(!Array[_0x1c776f(0x104)](_0x16295a))return;if(!await isEnabled())return;for(const _0x104685 of _0x16295a){try{if(!_0x104685||!_0x104685[_0x1c776f(0x125)])continue;if(isOurSentId(_0x104685[_0x1c776f(0x125)]?.['id']))continue;if(_0x104685['key'][_0x1c776f(0xff)])continue;const _0x22603b=String(_0x104685[_0x1c776f(0x125)][_0x1c776f(0x151)]||'')[_0x1c776f(0x123)+'e']();_0x22603b===_0x1c776f(0xf8)+_0x1c776f(0x160)&&await handleStatusAndForward(_0x104685)['catch'](_0x203e1d=>warn('['+name+(_0x1c776f(0x107)+'attempt\x20fa'+_0x1c776f(0x126))+(_0x203e1d?.[_0x1c776f(0x15e)]||_0x203e1d)));}catch(_0x4da642){warn('['+name+(']\x20raw\x20per-'+_0x1c776f(0x12b)+_0x1c776f(0xc0))+(_0x4da642?.['message']||_0x4da642));}}}function getMessageTextFromCtx(_0x2b5e48){const _0x41c54f=_0x28dd70;if(!_0x2b5e48||!_0x2b5e48[_0x41c54f(0x15e)])return'';const _0x1dd4b3=_0x2b5e48['message'];if(_0x1dd4b3[_0x41c54f(0xc1)+'on'])return _0x1dd4b3[_0x41c54f(0xc1)+'on'];if(_0x1dd4b3[_0x41c54f(0xd8)+'xtMessage']?.[_0x41c54f(0xd9)])return _0x1dd4b3[_0x41c54f(0xd8)+'xtMessage']['text'];if(_0x1dd4b3['imageMessa'+'ge']?.[_0x41c54f(0x145)])return _0x1dd4b3['imageMessa'+'ge']['caption'];if(_0x1dd4b3[_0x41c54f(0x127)+'ge']?.[_0x41c54f(0x145)])return _0x1dd4b3['videoMessa'+'ge']['caption'];return'';}export async function onMessage(_0x14c8fb){const _0xd4d320=_0x28dd70;try{if(!_0x14c8fb||!_0x14c8fb['key']||!_0x14c8fb[_0xd4d320(0x15e)])return;const _0x13d1c2=_0x14c8fb[_0xd4d320(0x125)][_0xd4d320(0x151)];if(typeof _0x13d1c2==='string'&&_0x13d1c2['endsWith'](_0xd4d320(0x138)))return;if(!_0x14c8fb[_0xd4d320(0x125)]['fromMe'])return;if(_0x14c8fb[_0xd4d320(0x125)]['id']&&isOurSentId(_0x14c8fb['key']['id']))return;const _0x30fb4e=typeof _0x14c8fb['text']===_0xd4d320(0xe3)&&_0x14c8fb[_0xd4d320(0xd9)][_0xd4d320(0xd7)]()['length']?_0x14c8fb[_0xd4d320(0xd9)][_0xd4d320(0xd7)]():'',_0x34feed=(getMessageTextFromCtx(_0x14c8fb)||'')[_0xd4d320(0x132)]()[_0xd4d320(0xd7)](),_0x5a7b00=(_0x30fb4e||_0x34feed||'')[_0xd4d320(0x150)](/\r?\n/)[-0x20c0+-0x349+0x2409][_0xd4d320(0xd7)]();if(!_0x5a7b00)return;const _0x2d11bc=/^autostatus(?:\s+(on|off|show))?$/i[_0xd4d320(0xfc)](_0x5a7b00);if(!_0x2d11bc)return;const _0x2ccf8e=(_0x2d11bc[0x43f*-0x3+0xe*-0x22b+0xc5*0x38]||'show')[_0xd4d320(0x123)+'e'](),_0xf0a9be=getBotJid();if(!_0xf0a9be){warn('['+name+(']\x20onMessag'+'e:\x20getBotJ'+_0xd4d320(0xe2)+_0xd4d320(0xcb)+'eply'));return;}if(_0x2ccf8e===_0xd4d320(0x12c)){const _0x973126=await isEnabled(),_0x53333c=_0xd4d320(0x133)+_0xd4d320(0x14b)+(_0x973126?'ON':'OFF'),_0x922986=await(botRef?.[_0xd4d320(0x152)]?.['sendMessag'+'e']?botRef['sock'][_0xd4d320(0xf3)+'e'](_0xf0a9be,{'text':_0x53333c}):botRef[_0xd4d320(0xf3)+'e'](_0xf0a9be,{'text':_0x53333c}));trackSent(_0x922986);return;}if(_0x2ccf8e==='on'||_0x2ccf8e===_0xd4d320(0x13d)){const _0xe3b2e4=_0x2ccf8e==='on'?'1':'0',_0x38f460=await setPref(_0xd4d320(0xe5),_0xe3b2e4),_0x18526f=_0x38f460?_0xd4d320(0x133)+_0xd4d320(0x140)+_0x2ccf8e[_0xd4d320(0xc3)+'e']():_0xd4d320(0x15c)+'o\x20set\x20auto'+'status',_0x380afb=await(botRef?.[_0xd4d320(0x152)]?.[_0xd4d320(0xf3)+'e']?botRef[_0xd4d320(0x152)][_0xd4d320(0xf3)+'e'](_0xf0a9be,{'text':_0x18526f}):botRef[_0xd4d320(0xf3)+'e'](_0xf0a9be,{'text':_0x18526f}));trackSent(_0x380afb),info('['+name+(_0xd4d320(0xc8)+_0xd4d320(0x12e)+'\x20->\x20')+_0x2ccf8e[_0xd4d320(0xc3)+'e']());return;}}catch(_0x703a4c){warn('['+name+(_0xd4d320(0x134)+_0xd4d320(0xf4))+(_0x703a4c?.[_0xd4d320(0x15e)]||_0x703a4c));}}export async function initialize(_0x33fd88){const _0x18b5c3=_0x28dd70;if(!_0x33fd88)throw new Error('status_aut'+_0x18b5c3(0x102)+_0x18b5c3(0x13b)+'uires\x20bot\x20'+_0x18b5c3(0x103));botRef=_0x33fd88,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x18b5c3(0x149)+_0x18b5c3(0xdb),'handler':rawMessagesUpsertHandler,'moduleName':name});}export async function cleanup(){const _0x27bc5e=_0x28dd70;try{stopManagedListener(name,_0x27bc5e(0x149)+_0x27bc5e(0xdb));}catch(_0x387b5b){warn('['+name+(_0x27bc5e(0xe9)+'stopManage'+_0x27bc5e(0x14a)+_0x27bc5e(0x148))+(_0x387b5b?.[_0x27bc5e(0x15e)]||_0x387b5b));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x27bc5e(0x108)]===_0x27bc5e(0x130))respondedMsgIds[_0x27bc5e(0x108)]();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};