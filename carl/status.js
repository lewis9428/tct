const _0x4b94c6=_0x3a13;(function(_0x498f54,_0x4aa88d){const _0x5a2678=_0x3a13,_0x31fbce=_0x498f54();while(!![]){try{const _0x26ed46=-parseInt(_0x5a2678(0x121))/(-0x1f3*-0x1+-0x18ff+-0x7af*-0x3)+-parseInt(_0x5a2678(0x139))/(-0xdc6+-0x5e7*-0x4+-0x44*0x25)*(-parseInt(_0x5a2678(0xf3))/(-0x763*-0x2+0x1*-0x10c3+0x200))+parseInt(_0x5a2678(0xdf))/(-0xf2b*-0x2+-0xb*-0x3d+-0x20f1)+parseInt(_0x5a2678(0xe4))/(0x1632+0x286+-0x18b3*0x1)*(-parseInt(_0x5a2678(0x11e))/(-0x178d+0x12a0+0x7*0xb5))+-parseInt(_0x5a2678(0xae))/(-0x1998+0x765*0x1+-0x2*-0x91d)+-parseInt(_0x5a2678(0xd2))/(-0xfe3+0x2d*-0x35+0x22*0xbe)+-parseInt(_0x5a2678(0xb5))/(0x16e4+0x139d+-0x2a78)*(-parseInt(_0x5a2678(0x117))/(-0x1ce7+-0x1*0xb92+-0x3*-0xd81));if(_0x26ed46===_0x4aa88d)break;else _0x31fbce['push'](_0x31fbce['shift']());}catch(_0x179cf3){_0x31fbce['push'](_0x31fbce['shift']());}}}(_0x254e,-0x104f9+-0x1f*-0x3cfc+-0x1f514*0x1));import _0x4ad1b7 from'path';import{warn,error,info}from'../utils/logger.js';import{db}from'../utils/database.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';export const name=_0x4b94c6(0x14c)+_0x4b94c6(0xb0);export const version=_0x4b94c6(0xca);export const priority=-0xbee+0x1*-0x167d+-0x2*-0x116f;export const commands=[_0x4b94c6(0xc3)];export const configKeys=['STATUS_AUT'+_0x4b94c6(0xea)+_0x4b94c6(0xad)+'T',_0x4b94c6(0x13c)+_0x4b94c6(0xea)+'ONDED_TRIM'+_0x4b94c6(0x135),_0x4b94c6(0x13c)+_0x4b94c6(0xc5)+'DOWNLOAD_B'+'YTES_WARN'];let CFG={};try{CFG=typeof getConfig===_0x4b94c6(0x113)?getConfig()||{}:{};}catch(_0x165261){warn('['+name+(_0x4b94c6(0xf8)+_0x4b94c6(0x107)+'\x20')+(_0x165261?.[_0x4b94c6(0x110)]||_0x165261)+(_0x4b94c6(0xf0)+_0x4b94c6(0xe6)+_0x4b94c6(0xfd)+_0x4b94c6(0xb8))),CFG={};}function toPositiveInt(_0x14e251,_0x5af561){const _0x5c6db2=_0x4b94c6,_0x1339a0=Number(_0x14e251);if(!Number[_0x5c6db2(0xa4)](_0x1339a0)||_0x1339a0<=-0xa18+0x2f*-0x2f+0x12b9)return _0x5af561;return Math[_0x5c6db2(0xfb)](_0x1339a0);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(-0x4*0x2d7+-0x1*-0x150b+0x337*-0x3)*(0x21a+0x1*0x1835+0x164f*-0x1)*(-0x1f8f+0x80c+0x1b83)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG['STATUS_AUT'+'OSEND_RESP'+_0x4b94c6(0xad)+'T']??(CFG[_0x4b94c6(0x13c)+_0x4b94c6(0xd4)]&&CFG['STATUS_AUT'+_0x4b94c6(0xd4)][_0x4b94c6(0x122)+_0x4b94c6(0x104)]),FALLBACKS['RESPONDED_'+_0x4b94c6(0x104)]),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0x4b94c6(0x13c)+_0x4b94c6(0xea)+_0x4b94c6(0xa9)+'_KEEP']??(CFG[_0x4b94c6(0x13c)+_0x4b94c6(0xd4)]&&CFG[_0x4b94c6(0x13c)+_0x4b94c6(0xd4)][_0x4b94c6(0x122)+_0x4b94c6(0xfc)]),FALLBACKS[_0x4b94c6(0x122)+'TRIM_KEEP']),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG[_0x4b94c6(0x13c)+_0x4b94c6(0xc5)+_0x4b94c6(0xcf)+_0x4b94c6(0xf7)]??(CFG[_0x4b94c6(0x13c)+'OSEND']&&CFG[_0x4b94c6(0x13c)+_0x4b94c6(0xd4)][_0x4b94c6(0xb7)+_0x4b94c6(0x126)+'ARN']),FALLBACKS[_0x4b94c6(0xb7)+_0x4b94c6(0x126)+'ARN'])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0x4b94c6(0xc3)+'_prefs';let respondedMsgIds=new Set();function trackSent(_0x28d54e){const _0x168d84=_0x4b94c6;try{const _0x38e429=_0x28d54e?.[_0x168d84(0xcc)]?.['id']||_0x28d54e?.['id']||_0x28d54e?.[_0x168d84(0x12f)]&&_0x28d54e[_0x168d84(0x12f)][0x17*-0x6e+0x1105*0x1+-0x723]?.[_0x168d84(0xcc)]?.['id']||Array[_0x168d84(0x116)](_0x28d54e)&&_0x28d54e[-0x9d4+0x2698+-0x1*0x1cc4]?.[_0x168d84(0xcc)]?.['id']||null;if(!_0x38e429)return;respondedMsgIds[_0x168d84(0x124)](String(_0x38e429));if(respondedMsgIds['size']>DEFAULTS['RESPONDED_'+_0x168d84(0x104)]){const _0x204f94=Array['from'](respondedMsgIds);respondedMsgIds=new Set(_0x204f94[_0x168d84(0xe5)](-DEFAULTS[_0x168d84(0x122)+_0x168d84(0xfc)]));}}catch(_0x29bf4c){}}function _0x3a13(_0x42a5ff,_0x322007){const _0x4e87d5=_0x254e();return _0x3a13=function(_0x3d1f18,_0x21204b){_0x3d1f18=_0x3d1f18-(-0x7c+0x1*0x2451+-0x2332);let _0x143d26=_0x4e87d5[_0x3d1f18];return _0x143d26;},_0x3a13(_0x42a5ff,_0x322007);}function isOurSentId(_0x17723d){const _0xc2d1f3=_0x4b94c6;return _0x17723d&&respondedMsgIds[_0xc2d1f3(0xe7)](String(_0x17723d));}async function getBaileysHelpers(){const _0x69dc39=_0x4b94c6;if(_baileysHelpers)return _baileysHelpers;try{const _0x3151cc=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x3151cc['downloadCo'+_0x69dc39(0xe3)+_0x69dc39(0xfe)]||_0x3151cc['default']?.[_0x69dc39(0x114)+_0x69dc39(0xe3)+_0x69dc39(0xfe)]};if(!_baileysHelpers[_0x69dc39(0x114)+_0x69dc39(0xe3)+_0x69dc39(0xfe)])throw new Error(_0x69dc39(0x114)+_0x69dc39(0xe3)+_0x69dc39(0x12b)+_0x69dc39(0x148));return _baileysHelpers;}catch(_0x5ca031){error(_0x5ca031,'['+name+(_0x69dc39(0xdc)+_0x69dc39(0x131)+'aileys'));throw _0x5ca031;}}async function streamToBuffer(_0x156ada){const _0x18bbd8=_0x4b94c6,_0x5ad2ae=[];for await(const _0x38e78d of _0x156ada)_0x5ad2ae[_0x18bbd8(0x130)](Buffer['isBuffer'](_0x38e78d)?_0x38e78d:Buffer[_0x18bbd8(0xc1)](_0x38e78d));return Buffer[_0x18bbd8(0xba)](_0x5ad2ae);}async function ensureTables(){const _0x1df69e=_0x4b94c6;await db[_0x1df69e(0xb3)](_0x1df69e(0xab)+'LE\x20IF\x20NOT\x20'+_0x1df69e(0xf5)+PREFS_TABLE+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x1df69e(0xed)+_0x1df69e(0xe8)+_0x1df69e(0x14a)+_0x1df69e(0xaa)+'NOT\x20NULL,\x0a'+_0x1df69e(0xff)+'ated_at\x20IN'+'TEGER\x20DEFA'+_0x1df69e(0xc2)+_0x1df69e(0xeb)));}async function getPref(_0x2db6e0){const _0x64e00c=_0x4b94c6;try{const _0x54715b=await db[_0x64e00c(0x11c)](_0x64e00c(0xbe)+_0x64e00c(0xef)+PREFS_TABLE+(_0x64e00c(0x133)+_0x64e00c(0xa6)),[_0x2db6e0]);return _0x54715b?_0x54715b['value']:null;}catch(_0x368bc6){return warn('['+name+(']\x20getPref\x20'+_0x64e00c(0x10b))+(_0x368bc6?.[_0x64e00c(0x110)]||_0x368bc6)),null;}}function _0x254e(){const _0x596dde=['type','get','videoMessa','12nfTKAl','mentionedJ','OFF','386131SbruPK','RESPONDED_','length','add','join','AD_BYTES_W','_at=exclud','sendMessag',']\x20no\x20sendM',']\x20raw\x20per-','essage\x20not','image','caption','messages.u','messages','push','o\x20import\x20B','cannot\x20for','\x20WHERE\x20key','atusAndFor','_KEEP','toUpperCas','xtMessage','ward\x20error','39466sPxbmY',']\x20forwarde','attempt\x20fa','STATUS_AUT','stickerMes','d\x20status\x20','psert',']\x20setPref\x20','sage','status','run','status@bro','toLowerCas','stopManage','extendedTe','\x20available','is\x20empty,\x20',',\x0a\x20\x20\x20\x20\x20\x20\x20v','osend.init','status_aut','ialize\x20req','us\x20set\x20to\x20','isFinite','off','\x20=\x20?','audio','ES\x20(?,\x20?,\x20','ONDED_TRIM','alue\x20TEXT\x20','CREATE\x20TAB','ssage','ONDED_LIMI','2054703FihHlq','now','osend',',\x20cannot\x20r','contextInf','exec','?)\x0a\x20\x20\x20\x20\x20\x20\x20','729ukGnPk','e,\x20updated','MAX_DOWNLO','aults.','adcast','concat','ed.updated','e:\x20getBotJ','trim','SELECT\x20val','string','\x20status\x20','from','ULT\x200\x0a\x20\x20\x20\x20','autostatus','remoteJid','OSEND_MAX_','instance','INSERT\x20INT','document','ARN','1.1.0','ffer\x20for\x20','key',']\x20forward\x20','documentMe','DOWNLOAD_B','enabled','\x20value=exc','695984pMnMAP','@g.us','OSEND','id()\x20empty','\x20•\x20Status','node','_at;',']\x20empty\x20bu',']\x20bot\x20JID\x20','/send\x20buil',']\x20failed\x20t',']\x20cleanup\x20','\x20->\x20','1032420oRlqvA','sock','ror:\x20','dListener\x20','ntentFromM','115090lAuQhx','slice','back\x20to\x20bu','has','RIMARY\x20KEY','luded.valu','OSEND_RESP','\x20);','sticker','key\x20TEXT\x20P',']\x20download','ue\x20FROM\x20','.\x20Falling\x20','pushName','split','84aeoYEm','fromMe','EXISTS\x20','o\x20set\x20auto','YTES_WARN',']\x20getConfi','✔️\x20autostat','essage\x20ava','floor','TRIM_KEEP','ilt-in\x20def','essage','\x20\x20\x20\x20\x20\x20\x20upd','eply','imageMessa','text','ptt','LIMIT','show','uires\x20bot\x20','g()\x20threw:','audioMessa','d_at)\x20VALU','us\x20toggled','error:\x20','clear','\x20(key,\x20val','❌\x20Failed\x20t','UPDATE\x20SET','message','conversati','ON\x20CONFLIC','function','downloadCo',']\x20onMessag','isArray','35920SlKBbH','ue,\x20update','true','e\x20error:\x20'];_0x254e=function(){return _0x596dde;};return _0x254e();}async function setPref(_0x39d847,_0x5a01e0){const _0x1b51d3=_0x4b94c6;try{const _0x56d644=Math['floor'](Date[_0x1b51d3(0xaf)]()/(-0x1*0x20e3+-0x198b*0x1+0x3e56));return await db[_0x1b51d3(0x143)](_0x1b51d3(0xc7)+'O\x20'+PREFS_TABLE+(_0x1b51d3(0x10d)+_0x1b51d3(0x118)+_0x1b51d3(0x109)+_0x1b51d3(0xa8)+_0x1b51d3(0xb4)+_0x1b51d3(0x112)+'T(key)\x20DO\x20'+_0x1b51d3(0x10f)+_0x1b51d3(0xd1)+_0x1b51d3(0xe9)+_0x1b51d3(0xb6)+_0x1b51d3(0x127)+_0x1b51d3(0xbb)+_0x1b51d3(0xd8)),[_0x39d847,String(_0x5a01e0),_0x56d644]),!![];}catch(_0x1319e0){return warn('['+name+(_0x1b51d3(0x140)+'failed:\x20')+(_0x1319e0?.[_0x1b51d3(0x110)]||_0x1319e0)),![];}}async function isEnabled(){const _0x3bea5a=_0x4b94c6,_0x5db1f8=await getPref(_0x3bea5a(0xd0));return _0x5db1f8==='1'||_0x5db1f8===_0x3bea5a(0x119);}function detectContentAndNode(_0x294b5c){const _0x253b20=_0x4b94c6,_0x17f464=_0x294b5c?.['message']||{};if(_0x17f464[_0x253b20(0x101)+'ge'])return{'type':_0x253b20(0x12c),'node':_0x17f464[_0x253b20(0x101)+'ge']};if(_0x17f464[_0x253b20(0x11d)+'ge'])return{'type':'video','node':_0x17f464[_0x253b20(0x11d)+'ge']};if(_0x17f464[_0x253b20(0x108)+'ge'])return{'type':_0x253b20(0xa7),'node':_0x17f464[_0x253b20(0x108)+'ge']};if(_0x17f464[_0x253b20(0xce)+_0x253b20(0xac)])return{'type':_0x253b20(0xc8),'node':_0x17f464['documentMe'+_0x253b20(0xac)]};if(_0x17f464[_0x253b20(0x13d)+_0x253b20(0x141)])return{'type':'sticker','node':_0x17f464[_0x253b20(0x13d)+_0x253b20(0x141)]};if(_0x17f464[_0x253b20(0x147)+_0x253b20(0x137)]?.['text'])return{'type':_0x253b20(0x102),'text':_0x17f464['extendedTe'+_0x253b20(0x137)][_0x253b20(0x102)]};if(_0x17f464[_0x253b20(0x111)+'on'])return{'type':'text','text':_0x17f464[_0x253b20(0x111)+'on']};return null;}async function buildImmediatePayload(_0x465dec){const _0x15f68a=_0x4b94c6,_0x329085=detectContentAndNode(_0x465dec);if(!_0x329085)return null;const _0x1d8a8e=_0x465dec?.[_0x15f68a(0xcc)]?.['participan'+'t']||'',_0x25d778=_0x465dec?.[_0x15f68a(0xf1)]||'',_0x3be29e=_0x1d8a8e?_0x1d8a8e[_0x15f68a(0xf2)]('@')[-0x2550+0x1261+0x12ef]:_0x25d778||'',_0x6a7c06=_0x3be29e?_0x3be29e+_0x15f68a(0xd6):'Status';if(_0x329085[_0x15f68a(0x11b)]===_0x15f68a(0x102)){const _0x51cafd=_0x329085[_0x15f68a(0x102)]||'',_0x5e2119=_0x3be29e?_0x3be29e+':\x20'+_0x51cafd:_0x51cafd,_0x23b7b3={'text':_0x5e2119};if(_0x1d8a8e)_0x23b7b3[_0x15f68a(0xb2)+'o']={'mentionedJid':[_0x1d8a8e]};return _0x23b7b3;}const {downloadContentFromMessage:_0xc7e074}=await getBaileysHelpers(),_0x4a800c=_0x329085[_0x15f68a(0xd7)],_0x590dab=_0x329085[_0x15f68a(0x11b)];try{const _0xd4bc2d=await _0xc7e074(_0x4a800c,_0x590dab),_0x17657f=await streamToBuffer(_0xd4bc2d);if(!_0x17657f||!_0x17657f[_0x15f68a(0x123)])return warn('['+name+(_0x15f68a(0xd9)+_0x15f68a(0xcb))+_0x590dab+_0x15f68a(0xc0)+(_0x465dec?.[_0x15f68a(0xcc)]?.['id']||'')),null;_0x17657f[_0x15f68a(0x123)]>DEFAULTS[_0x15f68a(0xb7)+_0x15f68a(0x126)+_0x15f68a(0xc9)]&&warn('['+name+']\x20large\x20'+_0x590dab+('\x20download:'+'\x20')+_0x17657f['length']+('\x20bytes\x20(id'+'\x20')+(_0x465dec?.[_0x15f68a(0xcc)]?.['id']||'')+')');let _0x5c41e7=null;const _0x413d94=(_0x4a800c?.['mimetype']||'')[_0x15f68a(0x145)+'e']();if(_0x590dab===_0x15f68a(0x12c)){const _0x514591=[];if(_0x4a800c?.[_0x15f68a(0x12d)])_0x514591[_0x15f68a(0x130)](_0x4a800c[_0x15f68a(0x12d)]);_0x514591['push'](_0x6a7c06),_0x5c41e7={'image':_0x17657f,'caption':_0x514591[_0x15f68a(0x125)]('\x0a'),'mimetype':_0x413d94||undefined};}else{if(_0x590dab==='video'){const _0x46222b=[];if(_0x4a800c?.[_0x15f68a(0x12d)])_0x46222b[_0x15f68a(0x130)](_0x4a800c[_0x15f68a(0x12d)]);_0x46222b[_0x15f68a(0x130)](_0x6a7c06),_0x5c41e7={'video':_0x17657f,'caption':_0x46222b[_0x15f68a(0x125)]('\x0a'),'mimetype':_0x413d94||undefined};}else{if(_0x590dab===_0x15f68a(0xa7))_0x5c41e7={'audio':_0x17657f,'ptt':!!_0x4a800c?.[_0x15f68a(0x103)],'mimetype':_0x413d94||undefined};else{if(_0x590dab===_0x15f68a(0xc8)){const _0x3aaf68=_0x4a800c?.['fileName']||''+(_0x465dec?.[_0x15f68a(0xcc)]?.['id']||_0x15f68a(0x142));_0x5c41e7={'document':_0x17657f,'fileName':_0x3aaf68,'mimetype':_0x413d94||undefined,'caption':_0x6a7c06};}else _0x590dab===_0x15f68a(0xec)&&(_0x5c41e7={'sticker':_0x17657f});}}}return _0x5c41e7&&_0x1d8a8e&&(_0x5c41e7[_0x15f68a(0xb2)+'o']=_0x5c41e7['contextInf'+'o']||{},_0x5c41e7[_0x15f68a(0xb2)+'o'][_0x15f68a(0x11f)+'id']=[_0x1d8a8e]),_0x5c41e7;}catch(_0x39fafa){return warn('['+name+(_0x15f68a(0xee)+_0x15f68a(0xdb)+'d\x20failed:\x20')+(_0x39fafa?.[_0x15f68a(0x110)]||_0x39fafa)),null;}}async function handleStatusAndForward(_0x45adf5){const _0x45ade4=_0x4b94c6;try{if(!_0x45adf5||!_0x45adf5[_0x45ade4(0xcc)])return;const _0x17a342=String(_0x45adf5[_0x45ade4(0xcc)][_0x45ade4(0xc4)]||'')[_0x45ade4(0x145)+'e']();if(_0x17a342!=='status@bro'+_0x45ade4(0xb9))return;if(!await isEnabled())return;const _0x199284=getBotJid();if(!_0x199284){warn('['+name+(_0x45ade4(0xda)+_0x45ade4(0x149)+_0x45ade4(0x132)+'ward'));return;}const _0x3a1100=await buildImmediatePayload(_0x45adf5);if(!_0x3a1100)return;let _0x4e2142=null;if(botRef&&botRef[_0x45ade4(0xe0)]&&typeof botRef[_0x45ade4(0xe0)][_0x45ade4(0x128)+'e']===_0x45ade4(0x113))_0x4e2142=await botRef[_0x45ade4(0xe0)][_0x45ade4(0x128)+'e'](_0x199284,_0x3a1100);else{if(botRef&&typeof botRef[_0x45ade4(0x128)+'e']==='function')_0x4e2142=await botRef[_0x45ade4(0x128)+'e'](_0x199284,_0x3a1100);else{warn('['+name+(_0x45ade4(0x129)+_0x45ade4(0xfa)+'ilable\x20on\x20'+'botRef'));return;}}trackSent(_0x4e2142),info('['+name+(_0x45ade4(0x13a)+_0x45ade4(0x13e))+(_0x45adf5[_0x45ade4(0xcc)]['id']||'')+_0x45ade4(0xde)+_0x199284);}catch(_0x56e0a5){warn('['+name+(']\x20handleSt'+_0x45ade4(0x134)+_0x45ade4(0x138)+':\x20')+(_0x56e0a5?.[_0x45ade4(0x110)]||_0x56e0a5));}}async function rawMessagesUpsertHandler({messages:_0x4d623d}){const _0x490f28=_0x4b94c6;if(!Array[_0x490f28(0x116)](_0x4d623d))return;if(!await isEnabled())return;for(const _0x2ea1da of _0x4d623d){try{if(!_0x2ea1da||!_0x2ea1da['key'])continue;if(isOurSentId(_0x2ea1da[_0x490f28(0xcc)]?.['id']))continue;if(_0x2ea1da[_0x490f28(0xcc)][_0x490f28(0xf4)])continue;const _0x32c9ba=String(_0x2ea1da['key'][_0x490f28(0xc4)]||'')[_0x490f28(0x145)+'e']();_0x32c9ba===_0x490f28(0x144)+_0x490f28(0xb9)&&await handleStatusAndForward(_0x2ea1da)['catch'](_0x45e385=>warn('['+name+(_0x490f28(0xcd)+_0x490f28(0x13b)+'iled:\x20')+(_0x45e385?.[_0x490f28(0x110)]||_0x45e385)));}catch(_0x3dcae0){warn('['+name+(_0x490f28(0x12a)+'message\x20er'+_0x490f28(0xe1))+(_0x3dcae0?.[_0x490f28(0x110)]||_0x3dcae0));}}}function getMessageTextFromCtx(_0xff9f4f){const _0x25ecac=_0x4b94c6;if(!_0xff9f4f||!_0xff9f4f[_0x25ecac(0x110)])return'';const _0x489f23=_0xff9f4f[_0x25ecac(0x110)];if(_0x489f23[_0x25ecac(0x111)+'on'])return _0x489f23[_0x25ecac(0x111)+'on'];if(_0x489f23[_0x25ecac(0x147)+'xtMessage']?.['text'])return _0x489f23[_0x25ecac(0x147)+_0x25ecac(0x137)][_0x25ecac(0x102)];if(_0x489f23[_0x25ecac(0x101)+'ge']?.[_0x25ecac(0x12d)])return _0x489f23[_0x25ecac(0x101)+'ge'][_0x25ecac(0x12d)];if(_0x489f23[_0x25ecac(0x11d)+'ge']?.['caption'])return _0x489f23[_0x25ecac(0x11d)+'ge'][_0x25ecac(0x12d)];return'';}export async function onMessage(_0x53e166){const _0x547f44=_0x4b94c6;try{if(!_0x53e166||!_0x53e166[_0x547f44(0xcc)]||!_0x53e166[_0x547f44(0x110)])return;const _0x8e9937=_0x53e166['key'][_0x547f44(0xc4)];if(typeof _0x8e9937===_0x547f44(0xbf)&&_0x8e9937['endsWith'](_0x547f44(0xd3)))return;if(!_0x53e166[_0x547f44(0xcc)][_0x547f44(0xf4)])return;if(_0x53e166[_0x547f44(0xcc)]['id']&&isOurSentId(_0x53e166[_0x547f44(0xcc)]['id']))return;const _0x542659=typeof _0x53e166[_0x547f44(0x102)]==='string'&&_0x53e166[_0x547f44(0x102)][_0x547f44(0xbd)]()['length']?_0x53e166[_0x547f44(0x102)][_0x547f44(0xbd)]():'',_0x555c76=(getMessageTextFromCtx(_0x53e166)||'')['toString']()['trim'](),_0x274bec=(_0x542659||_0x555c76||'')[_0x547f44(0xf2)](/\r?\n/)[-0x1*-0x1ecb+0x19cd+-0x3898]['trim']();if(!_0x274bec)return;const _0x34b2ba=/^autostatus(?:\s+(on|off|show))?$/i[_0x547f44(0xb3)](_0x274bec);if(!_0x34b2ba)return;const _0x38d74a=(_0x34b2ba[-0x82f+-0x136e*0x2+-0x2f0c*-0x1]||_0x547f44(0x105))[_0x547f44(0x145)+'e'](),_0x53a80f=getBotJid();if(!_0x53a80f){warn('['+name+(_0x547f44(0x115)+_0x547f44(0xbc)+_0x547f44(0xd5)+_0x547f44(0xb1)+_0x547f44(0x100)));return;}if(_0x38d74a==='show'){const _0x3938c8=await isEnabled(),_0x13f265=_0x547f44(0xf9)+'us:\x20'+(_0x3938c8?'ON':_0x547f44(0x120)),_0x63dd9a=await(botRef?.[_0x547f44(0xe0)]?.[_0x547f44(0x128)+'e']?botRef[_0x547f44(0xe0)][_0x547f44(0x128)+'e'](_0x53a80f,{'text':_0x13f265}):botRef[_0x547f44(0x128)+'e'](_0x53a80f,{'text':_0x13f265}));trackSent(_0x63dd9a);return;}if(_0x38d74a==='on'||_0x38d74a===_0x547f44(0xa5)){const _0x4452e1=_0x38d74a==='on'?'1':'0',_0x468319=await setPref('enabled',_0x4452e1),_0x267a5b=_0x468319?_0x547f44(0xf9)+_0x547f44(0xa3)+_0x38d74a[_0x547f44(0x136)+'e']():_0x547f44(0x10e)+_0x547f44(0xf6)+_0x547f44(0x142),_0x107014=await(botRef?.[_0x547f44(0xe0)]?.[_0x547f44(0x128)+'e']?botRef[_0x547f44(0xe0)][_0x547f44(0x128)+'e'](_0x53a80f,{'text':_0x267a5b}):botRef['sendMessag'+'e'](_0x53a80f,{'text':_0x267a5b}));trackSent(_0x107014),info('['+name+(']\x20autostat'+_0x547f44(0x10a)+_0x547f44(0xde))+_0x38d74a[_0x547f44(0x136)+'e']());return;}}catch(_0x339255){warn('['+name+(_0x547f44(0x115)+_0x547f44(0x11a))+(_0x339255?.[_0x547f44(0x110)]||_0x339255));}}export async function initialize(_0x5135ec){const _0x19296a=_0x4b94c6;if(!_0x5135ec)throw new Error(_0x19296a(0x14c)+_0x19296a(0x14b)+_0x19296a(0x14d)+_0x19296a(0x106)+_0x19296a(0xc6));botRef=_0x5135ec,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':'messages.u'+_0x19296a(0x13f),'handler':rawMessagesUpsertHandler,'moduleName':name});}export async function cleanup(){const _0x4b8b56=_0x4b94c6;try{stopManagedListener(name,_0x4b8b56(0x12e)+_0x4b8b56(0x13f));}catch(_0x84c6ee){warn('['+name+(_0x4b8b56(0xdd)+_0x4b8b56(0x146)+_0x4b8b56(0xe2)+_0x4b8b56(0x10b))+(_0x84c6ee?.[_0x4b8b56(0x110)]||_0x84c6ee));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x4b8b56(0x10c)]===_0x4b8b56(0x113))respondedMsgIds[_0x4b8b56(0x10c)]();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};