const _0x297f9d=_0x36dd;(function(_0x1a5aff,_0x154016){const _0x24c675=_0x36dd,_0x2f7ed5=_0x1a5aff();while(!![]){try{const _0x5b1995=parseInt(_0x24c675(0xc6))/(0x2*-0xa2b+-0x1903*-0x1+-0x2e*0x1a)*(-parseInt(_0x24c675(0xf1))/(0x187+0x1336+-0x14bb))+parseInt(_0x24c675(0xd7))/(0x1ec8+-0x1df9+-0xcc)*(-parseInt(_0x24c675(0xf7))/(-0x107b+-0x1000+-0xad5*-0x3))+parseInt(_0x24c675(0x94))/(0xc60+0x7c7+-0x1422)*(parseInt(_0x24c675(0xa5))/(-0x1f46+0x13fd+-0x3c5*-0x3))+parseInt(_0x24c675(0xd2))/(-0x230b*0x1+0x1c51+0x6c1)*(-parseInt(_0x24c675(0xdc))/(0x1008+0x2663*0x1+-0x3663))+parseInt(_0x24c675(0x96))/(0x110b+-0x53f*-0x2+-0x1b80)*(parseInt(_0x24c675(0x8f))/(0x4*-0x445+0x629+0xff*0xb))+parseInt(_0x24c675(0xb7))/(-0x1958+-0xd7d+0x4*0x9b8)+-parseInt(_0x24c675(0xcd))/(-0x1d6*-0x13+-0xa*-0x2a5+-0x3d48)*(-parseInt(_0x24c675(0xb8))/(0x15f4*0x1+-0x5cb*0x1+-0x4*0x407));if(_0x5b1995===_0x154016)break;else _0x2f7ed5['push'](_0x2f7ed5['shift']());}catch(_0x11b617){_0x2f7ed5['push'](_0x2f7ed5['shift']());}}}(_0x4f6c,-0x1183e2+-0x3*0x4364b+-0x1b822*-0x17));import _0x27a46e from'path';import{warn,error,info}from'../utils/logger.js';import{db}from'../utils/database.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getBotJid}from'../utils/bot-state.js';function _0x36dd(_0x2008fd,_0x51b0ab){const _0x39d6ab=_0x4f6c();return _0x36dd=function(_0x5c2137,_0x473bed){_0x5c2137=_0x5c2137-(0x13c+-0xb72*0x1+0x5*0x227);let _0x36ea1b=_0x39d6ab[_0x5c2137];return _0x36ea1b;},_0x36dd(_0x2008fd,_0x51b0ab);}import{getConfig}from'../utils/config.js';export const name=_0x297f9d(0x118)+_0x297f9d(0xeb);export const version=_0x297f9d(0xc3);export const priority=0x3*0xc23+-0x236d+-0x89;export const commands=[_0x297f9d(0xe7)];export const configKeys=[_0x297f9d(0xa6)+_0x297f9d(0xfb)+_0x297f9d(0xf3)+'T',_0x297f9d(0xa6)+_0x297f9d(0xfb)+'ONDED_TRIM'+_0x297f9d(0xe3),'STATUS_AUT'+_0x297f9d(0x129)+_0x297f9d(0x107)+_0x297f9d(0x10b)];let CFG={};try{CFG=typeof getConfig===_0x297f9d(0x95)?getConfig()||{}:{};}catch(_0x5d00de){warn('['+name+(_0x297f9d(0x110)+_0x297f9d(0x90)+'\x20')+(_0x5d00de?.[_0x297f9d(0xd5)]||_0x5d00de)+(_0x297f9d(0x9f)+_0x297f9d(0xb3)+_0x297f9d(0x12e)+_0x297f9d(0xc5))),CFG={};}function toPositiveInt(_0x24410f,_0x2acc53){const _0x290715=Number(_0x24410f);if(!Number['isFinite'](_0x290715)||_0x290715<=-0x1a4f+-0x1f6c+0x39bb)return _0x2acc53;return Math['floor'](_0x290715);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(-0x1826+-0x333*0x3+0x21c9)*(0x15e3+0xcc3+-0x1ea6)*(0x5*-0x73b+0x58f*-0x7+-0x73*-0xb0)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG[_0x297f9d(0xa6)+_0x297f9d(0xfb)+'ONDED_LIMI'+'T']??(CFG[_0x297f9d(0xa6)+_0x297f9d(0xce)]&&CFG[_0x297f9d(0xa6)+_0x297f9d(0xce)][_0x297f9d(0x131)+_0x297f9d(0xc7)]),FALLBACKS[_0x297f9d(0x131)+'LIMIT']),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0x297f9d(0xa6)+_0x297f9d(0xfb)+_0x297f9d(0x138)+_0x297f9d(0xe3)]??(CFG['STATUS_AUT'+'OSEND']&&CFG['STATUS_AUT'+_0x297f9d(0xce)][_0x297f9d(0x131)+'TRIM_KEEP']),FALLBACKS[_0x297f9d(0x131)+_0x297f9d(0xe9)]),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG['STATUS_AUT'+_0x297f9d(0x129)+_0x297f9d(0x107)+_0x297f9d(0x10b)]??(CFG[_0x297f9d(0xa6)+_0x297f9d(0xce)]&&CFG[_0x297f9d(0xa6)+'OSEND']['MAX_DOWNLO'+_0x297f9d(0xe2)+_0x297f9d(0x93)]),FALLBACKS[_0x297f9d(0x102)+_0x297f9d(0xe2)+_0x297f9d(0x93)])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0x297f9d(0xe7)+_0x297f9d(0xa9);let respondedMsgIds=new Set();function trackSent(_0x4be3a5){const _0x2dfd3a=_0x297f9d;try{const _0x284e2a=_0x4be3a5?.['key']?.['id']||_0x4be3a5?.['id']||_0x4be3a5?.['messages']&&_0x4be3a5[_0x2dfd3a(0x128)][-0x6d4+-0x23e8+-0x14*-0x223]?.[_0x2dfd3a(0xaa)]?.['id']||Array[_0x2dfd3a(0x134)](_0x4be3a5)&&_0x4be3a5[0x1cae+-0x1284+-0xa2a]?.[_0x2dfd3a(0xaa)]?.['id']||null;if(!_0x284e2a)return;respondedMsgIds['add'](String(_0x284e2a));if(respondedMsgIds[_0x2dfd3a(0x9e)]>DEFAULTS[_0x2dfd3a(0x131)+_0x2dfd3a(0xc7)]){const _0x171f97=Array[_0x2dfd3a(0x111)](respondedMsgIds);respondedMsgIds=new Set(_0x171f97['slice'](-DEFAULTS[_0x2dfd3a(0x131)+_0x2dfd3a(0xe9)]));}}catch(_0x1f9101){}}function isOurSentId(_0x227141){const _0x46763a=_0x297f9d;return _0x227141&&respondedMsgIds[_0x46763a(0xba)](String(_0x227141));}async function getBaileysHelpers(){const _0x112645=_0x297f9d;if(_baileysHelpers)return _baileysHelpers;try{const _0xb67e2b=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0xb67e2b[_0x112645(0x8e)+_0x112645(0x101)+_0x112645(0xdf)]||_0xb67e2b[_0x112645(0xb5)]?.[_0x112645(0x8e)+'ntentFromM'+_0x112645(0xdf)]};if(!_baileysHelpers[_0x112645(0x8e)+'ntentFromM'+_0x112645(0xdf)])throw new Error(_0x112645(0x8e)+_0x112645(0x101)+_0x112645(0xbf)+'\x20available');return _baileysHelpers;}catch(_0xbe25ac){error(_0xbe25ac,'['+name+(_0x112645(0xaf)+'o\x20import\x20B'+_0x112645(0xea)));throw _0xbe25ac;}}async function streamToBuffer(_0x2bb154){const _0x222734=_0x297f9d,_0x5d60c1=[];for await(const _0x25d211 of _0x2bb154)_0x5d60c1[_0x222734(0x11d)](Buffer[_0x222734(0xbb)](_0x25d211)?_0x25d211:Buffer[_0x222734(0x111)](_0x25d211));return Buffer[_0x222734(0xf5)](_0x5d60c1);}async function ensureTables(){const _0x245a03=_0x297f9d;await db[_0x245a03(0x112)](_0x245a03(0x12c)+_0x245a03(0xe0)+_0x245a03(0x11c)+PREFS_TABLE+(_0x245a03(0x135)+_0x245a03(0xd6)+_0x245a03(0xe6)+',\x0a\x20\x20\x20\x20\x20\x20\x20v'+_0x245a03(0xbc)+_0x245a03(0x136)+_0x245a03(0xa8)+'ated_at\x20IN'+_0x245a03(0x121)+_0x245a03(0x10c)+_0x245a03(0xd3)));}function _0x4f6c(){const _0x560ce7=['TEGER\x20DEFA',']\x20getPref\x20','audioMessa','e:\x20getBotJ','\x20->\x20','videoMessa','\x20status\x20','messages','OSEND_MAX_','ilable\x20on\x20','❌\x20Failed\x20t','CREATE\x20TAB','join','ilt-in\x20def','OFF','T(key)\x20DO\x20','RESPONDED_','length','string','isArray','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','NOT\x20NULL,\x0a','imageMessa','ONDED_TRIM','contextInf','downloadCo','2590dZQOpi','g()\x20threw:','split','_at;','ARN','4870QayLMH','function','17379nEprKD',',\x20cannot\x20r','message\x20er','mimetype',']\x20forward\x20',']\x20onMessag','essage\x20ava','video','size','.\x20Falling\x20',']\x20handleSt','show','ffer\x20for\x20','image','UPDATE\x20SET','1038EyebjU','STATUS_AUT','sticker','\x20\x20\x20\x20\x20\x20\x20upd','_prefs','key','luded.valu','ON\x20CONFLIC',']\x20cleanup\x20','value',']\x20failed\x20t','trim','ward','sage','back\x20to\x20bu','ptt','default','id()\x20empty','6812124hxUAfb','7618DIEeqF','conversati','has','isBuffer','alue\x20TEXT\x20','fromMe','now','essage\x20not','ed.updated',']\x20forwarde','true','1.1.0','d\x20failed:\x20','aults.','1aVemSW','LIMIT','error:\x20','ssage','off','sendMessag','e,\x20updated','23796zCBQUe','OSEND','\x20=\x20?','participan','e\x20error:\x20','7336jsUSGZ','\x20);','status@bro','message','key\x20TEXT\x20P','609tGlDqm','ue\x20FROM\x20','fileName',']\x20raw\x20per-','endsWith','6904wSPZdy','remoteJid','toUpperCas','essage','LE\x20IF\x20NOT\x20','d\x20status\x20','AD_BYTES_W','_KEEP','toLowerCas','sock','RIMARY\x20KEY','autostatus','botRef','TRIM_KEEP','aileys','osend','status','run','messages.u','stopManage','ue,\x20update','1645692Dptozz','extendedTe','ONDED_LIMI','Status','concat',']\x20autostat','2112onJwYK','adcast','stickerMes','documentMe','OSEND_RESP','audio','eply','is\x20empty,\x20','cannot\x20for',']\x20empty\x20bu','ntentFromM','MAX_DOWNLO','document','ES\x20(?,\x20?,\x20','✔️\x20autostat',']\x20setPref\x20','DOWNLOAD_B','xtMessage','caption','\x20bytes\x20(id','YTES_WARN','ULT\x200\x0a\x20\x20\x20\x20','us:\x20','pushName','iled:\x20',']\x20getConfi','from','exec',']\x20large\x20','enabled','us\x20toggled','us\x20set\x20to\x20','text','status_aut','ialize\x20req','node','clear','EXISTS\x20','push','dListener\x20','instance','osend.init'];_0x4f6c=function(){return _0x560ce7;};return _0x4f6c();}async function getPref(_0x1b5121){const _0x442fbd=_0x297f9d;try{const _0x3a9638=await db['get']('SELECT\x20val'+_0x442fbd(0xd8)+PREFS_TABLE+('\x20WHERE\x20key'+_0x442fbd(0xcf)),[_0x1b5121]);return _0x3a9638?_0x3a9638[_0x442fbd(0xae)]:null;}catch(_0x5e396b){return warn('['+name+(_0x442fbd(0x122)+_0x442fbd(0xc8))+(_0x5e396b?.[_0x442fbd(0xd5)]||_0x5e396b)),null;}}async function setPref(_0x47be0d,_0xd004f9){const _0x16e411=_0x297f9d;try{const _0x38eb7f=Math['floor'](Date[_0x16e411(0xbe)]()/(0x1*-0x1a17+-0x1905+-0x7*-0x7dc));return await db[_0x16e411(0xed)]('INSERT\x20INT'+'O\x20'+PREFS_TABLE+('\x20(key,\x20val'+_0x16e411(0xf0)+'d_at)\x20VALU'+_0x16e411(0x104)+'?)\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x16e411(0xac)+_0x16e411(0x130)+_0x16e411(0xa4)+'\x20value=exc'+_0x16e411(0xab)+_0x16e411(0xcc)+'_at=exclud'+_0x16e411(0xc0)+_0x16e411(0x92)),[_0x47be0d,String(_0xd004f9),_0x38eb7f]),!![];}catch(_0x627427){return warn('['+name+(_0x16e411(0x106)+'failed:\x20')+(_0x627427?.[_0x16e411(0xd5)]||_0x627427)),![];}}async function isEnabled(){const _0x5b1674=_0x297f9d,_0x103bc1=await getPref('enabled');return _0x103bc1==='1'||_0x103bc1===_0x5b1674(0xc2);}function detectContentAndNode(_0x4bea59){const _0x4dac32=_0x297f9d,_0x26d2e2=_0x4bea59?.[_0x4dac32(0xd5)]||{};if(_0x26d2e2[_0x4dac32(0x137)+'ge'])return{'type':_0x4dac32(0xa3),'node':_0x26d2e2[_0x4dac32(0x137)+'ge']};if(_0x26d2e2[_0x4dac32(0x126)+'ge'])return{'type':_0x4dac32(0x9d),'node':_0x26d2e2['videoMessa'+'ge']};if(_0x26d2e2[_0x4dac32(0x123)+'ge'])return{'type':_0x4dac32(0xfc),'node':_0x26d2e2[_0x4dac32(0x123)+'ge']};if(_0x26d2e2[_0x4dac32(0xfa)+_0x4dac32(0xc9)])return{'type':'document','node':_0x26d2e2['documentMe'+_0x4dac32(0xc9)]};if(_0x26d2e2[_0x4dac32(0xf9)+_0x4dac32(0xb2)])return{'type':'sticker','node':_0x26d2e2[_0x4dac32(0xf9)+'sage']};if(_0x26d2e2[_0x4dac32(0xf2)+_0x4dac32(0x108)]?.[_0x4dac32(0x117)])return{'type':'text','text':_0x26d2e2[_0x4dac32(0xf2)+_0x4dac32(0x108)][_0x4dac32(0x117)]};if(_0x26d2e2[_0x4dac32(0xb9)+'on'])return{'type':_0x4dac32(0x117),'text':_0x26d2e2[_0x4dac32(0xb9)+'on']};return null;}async function buildImmediatePayload(_0x595185){const _0x3490e5=_0x297f9d,_0xb67b6b=detectContentAndNode(_0x595185);if(!_0xb67b6b)return null;const _0x595151=_0x595185?.[_0x3490e5(0xaa)]?.[_0x3490e5(0xd0)+'t']||'',_0x8390ca=_0x595185?.[_0x3490e5(0x10e)]||'',_0x12dd5f=_0x595151?_0x595151[_0x3490e5(0x91)]('@')[0x1*0x149a+0xc1c+-0x20b6]:_0x8390ca||'',_0x4994f2=_0x12dd5f?_0x12dd5f+'\x20•\x20Status':_0x3490e5(0xf4);if(_0xb67b6b['type']===_0x3490e5(0x117)){const _0x1c294c=_0xb67b6b[_0x3490e5(0x117)]||'',_0x140165=_0x12dd5f?_0x12dd5f+':\x20'+_0x1c294c:_0x1c294c,_0x3bc730={'text':_0x140165};if(_0x595151)_0x3bc730[_0x3490e5(0x8d)+'o']={'mentionedJid':[_0x595151]};return _0x3bc730;}const {downloadContentFromMessage:_0x4c26d2}=await getBaileysHelpers(),_0x366d1a=_0xb67b6b[_0x3490e5(0x11a)],_0x9b71df=_0xb67b6b['type'];try{const _0x25f4a3=await _0x4c26d2(_0x366d1a,_0x9b71df),_0x51561c=await streamToBuffer(_0x25f4a3);if(!_0x51561c||!_0x51561c['length'])return warn('['+name+(_0x3490e5(0x100)+_0x3490e5(0xa2))+_0x9b71df+_0x3490e5(0x127)+(_0x595185?.[_0x3490e5(0xaa)]?.['id']||'')),null;_0x51561c[_0x3490e5(0x132)]>DEFAULTS['MAX_DOWNLO'+_0x3490e5(0xe2)+'ARN']&&warn('['+name+_0x3490e5(0x113)+_0x9b71df+('\x20download:'+'\x20')+_0x51561c['length']+(_0x3490e5(0x10a)+'\x20')+(_0x595185?.[_0x3490e5(0xaa)]?.['id']||'')+')');let _0x3b3a4e=null;const _0x298bfc=(_0x366d1a?.[_0x3490e5(0x99)]||'')[_0x3490e5(0xe4)+'e']();if(_0x9b71df===_0x3490e5(0xa3)){const _0x3db908=[];if(_0x366d1a?.[_0x3490e5(0x109)])_0x3db908[_0x3490e5(0x11d)](_0x366d1a[_0x3490e5(0x109)]);_0x3db908[_0x3490e5(0x11d)](_0x4994f2),_0x3b3a4e={'image':_0x51561c,'caption':_0x3db908[_0x3490e5(0x12d)]('\x0a'),'mimetype':_0x298bfc||undefined};}else{if(_0x9b71df==='video'){const _0x499b4e=[];if(_0x366d1a?.['caption'])_0x499b4e['push'](_0x366d1a[_0x3490e5(0x109)]);_0x499b4e[_0x3490e5(0x11d)](_0x4994f2),_0x3b3a4e={'video':_0x51561c,'caption':_0x499b4e[_0x3490e5(0x12d)]('\x0a'),'mimetype':_0x298bfc||undefined};}else{if(_0x9b71df===_0x3490e5(0xfc))_0x3b3a4e={'audio':_0x51561c,'ptt':!!_0x366d1a?.[_0x3490e5(0xb4)],'mimetype':_0x298bfc||undefined};else{if(_0x9b71df===_0x3490e5(0x103)){const _0x2962da=_0x366d1a?.[_0x3490e5(0xd9)]||''+(_0x595185?.[_0x3490e5(0xaa)]?.['id']||_0x3490e5(0xec));_0x3b3a4e={'document':_0x51561c,'fileName':_0x2962da,'mimetype':_0x298bfc||undefined,'caption':_0x4994f2};}else _0x9b71df===_0x3490e5(0xa7)&&(_0x3b3a4e={'sticker':_0x51561c});}}}return _0x3b3a4e&&_0x595151&&(_0x3b3a4e[_0x3490e5(0x8d)+'o']=_0x3b3a4e['contextInf'+'o']||{},_0x3b3a4e['contextInf'+'o']['mentionedJ'+'id']=[_0x595151]),_0x3b3a4e;}catch(_0x40ed2c){return warn('['+name+(']\x20download'+'/send\x20buil'+_0x3490e5(0xc4))+(_0x40ed2c?.['message']||_0x40ed2c)),null;}}async function handleStatusAndForward(_0x1486ea){const _0x5e2dcc=_0x297f9d;try{if(!_0x1486ea||!_0x1486ea[_0x5e2dcc(0xaa)])return;const _0x2d55f2=String(_0x1486ea['key'][_0x5e2dcc(0xdd)]||'')[_0x5e2dcc(0xe4)+'e']();if(_0x2d55f2!==_0x5e2dcc(0xd4)+_0x5e2dcc(0xf8))return;if(!await isEnabled())return;const _0x4c910e=getBotJid();if(!_0x4c910e){warn('['+name+(']\x20bot\x20JID\x20'+_0x5e2dcc(0xfe)+_0x5e2dcc(0xff)+_0x5e2dcc(0xb1)));return;}const _0x35dd38=await buildImmediatePayload(_0x1486ea);if(!_0x35dd38)return;let _0x3dbd3b=null;if(botRef&&botRef['sock']&&typeof botRef[_0x5e2dcc(0xe5)][_0x5e2dcc(0xcb)+'e']==='function')_0x3dbd3b=await botRef[_0x5e2dcc(0xe5)]['sendMessag'+'e'](_0x4c910e,_0x35dd38);else{if(botRef&&typeof botRef[_0x5e2dcc(0xcb)+'e']===_0x5e2dcc(0x95))_0x3dbd3b=await botRef['sendMessag'+'e'](_0x4c910e,_0x35dd38);else{warn('['+name+(']\x20no\x20sendM'+_0x5e2dcc(0x9c)+_0x5e2dcc(0x12a)+_0x5e2dcc(0xe8)));return;}}trackSent(_0x3dbd3b),info('['+name+(_0x5e2dcc(0xc1)+_0x5e2dcc(0xe1))+(_0x1486ea[_0x5e2dcc(0xaa)]['id']||'')+'\x20->\x20'+_0x4c910e);}catch(_0x313e03){warn('['+name+(_0x5e2dcc(0xa0)+'atusAndFor'+'ward\x20error'+':\x20')+(_0x313e03?.[_0x5e2dcc(0xd5)]||_0x313e03));}}async function rawMessagesUpsertHandler({messages:_0x2005d1}){const _0x3e8e99=_0x297f9d;if(!Array['isArray'](_0x2005d1))return;if(!await isEnabled())return;for(const _0x199c9c of _0x2005d1){try{if(!_0x199c9c||!_0x199c9c[_0x3e8e99(0xaa)])continue;if(isOurSentId(_0x199c9c[_0x3e8e99(0xaa)]?.['id']))continue;if(_0x199c9c[_0x3e8e99(0xaa)][_0x3e8e99(0xbd)])continue;const _0x5aca32=String(_0x199c9c[_0x3e8e99(0xaa)]['remoteJid']||'')[_0x3e8e99(0xe4)+'e']();_0x5aca32===_0x3e8e99(0xd4)+'adcast'&&await handleStatusAndForward(_0x199c9c)['catch'](_0x3d2aa4=>warn('['+name+(_0x3e8e99(0x9a)+'attempt\x20fa'+_0x3e8e99(0x10f))+(_0x3d2aa4?.[_0x3e8e99(0xd5)]||_0x3d2aa4)));}catch(_0x2c4043){warn('['+name+(_0x3e8e99(0xda)+_0x3e8e99(0x98)+'ror:\x20')+(_0x2c4043?.['message']||_0x2c4043));}}}function getMessageTextFromCtx(_0x473996){const _0x3e4f4c=_0x297f9d;if(!_0x473996||!_0x473996[_0x3e4f4c(0xd5)])return'';const _0x37d637=_0x473996[_0x3e4f4c(0xd5)];if(_0x37d637[_0x3e4f4c(0xb9)+'on'])return _0x37d637['conversati'+'on'];if(_0x37d637[_0x3e4f4c(0xf2)+_0x3e4f4c(0x108)]?.[_0x3e4f4c(0x117)])return _0x37d637[_0x3e4f4c(0xf2)+_0x3e4f4c(0x108)][_0x3e4f4c(0x117)];if(_0x37d637[_0x3e4f4c(0x137)+'ge']?.['caption'])return _0x37d637[_0x3e4f4c(0x137)+'ge'][_0x3e4f4c(0x109)];if(_0x37d637[_0x3e4f4c(0x126)+'ge']?.['caption'])return _0x37d637[_0x3e4f4c(0x126)+'ge'][_0x3e4f4c(0x109)];return'';}export async function onMessage(_0x2d5de1){const _0x252e41=_0x297f9d;try{if(!_0x2d5de1||!_0x2d5de1[_0x252e41(0xaa)]||!_0x2d5de1[_0x252e41(0xd5)])return;const _0x277a8f=_0x2d5de1['key'][_0x252e41(0xdd)];if(typeof _0x277a8f==='string'&&_0x277a8f[_0x252e41(0xdb)]('@g.us'))return;if(!_0x2d5de1[_0x252e41(0xaa)][_0x252e41(0xbd)])return;if(_0x2d5de1[_0x252e41(0xaa)]['id']&&isOurSentId(_0x2d5de1['key']['id']))return;const _0x1a0a54=typeof _0x2d5de1['text']===_0x252e41(0x133)&&_0x2d5de1[_0x252e41(0x117)][_0x252e41(0xb0)]()[_0x252e41(0x132)]?_0x2d5de1[_0x252e41(0x117)][_0x252e41(0xb0)]():'',_0x418322=(getMessageTextFromCtx(_0x2d5de1)||'')['toString']()[_0x252e41(0xb0)](),_0x437b51=(_0x1a0a54||_0x418322||'')[_0x252e41(0x91)](/\r?\n/)[0x1384+0x1404+-0x2788][_0x252e41(0xb0)]();if(!_0x437b51)return;const _0x3f3c9e=/^autostatus(?:\s+(on|off|show))?$/i[_0x252e41(0x112)](_0x437b51);if(!_0x3f3c9e)return;const _0x318e78=(_0x3f3c9e[-0xcb8+0xde*0xd+-0x173*-0x1]||_0x252e41(0xa1))[_0x252e41(0xe4)+'e'](),_0x2ad6ce=getBotJid();if(!_0x2ad6ce){warn('['+name+(_0x252e41(0x9b)+_0x252e41(0x124)+_0x252e41(0xb6)+_0x252e41(0x97)+_0x252e41(0xfd)));return;}if(_0x318e78===_0x252e41(0xa1)){const _0x31b604=await isEnabled(),_0x561970=_0x252e41(0x105)+_0x252e41(0x10d)+(_0x31b604?'ON':_0x252e41(0x12f)),_0x551435=await(botRef?.[_0x252e41(0xe5)]?.[_0x252e41(0xcb)+'e']?botRef[_0x252e41(0xe5)]['sendMessag'+'e'](_0x2ad6ce,{'text':_0x561970}):botRef[_0x252e41(0xcb)+'e'](_0x2ad6ce,{'text':_0x561970}));trackSent(_0x551435);return;}if(_0x318e78==='on'||_0x318e78===_0x252e41(0xca)){const _0x47dd49=_0x318e78==='on'?'1':'0',_0x3668f4=await setPref(_0x252e41(0x114),_0x47dd49),_0xe21634=_0x3668f4?_0x252e41(0x105)+_0x252e41(0x116)+_0x318e78['toUpperCas'+'e']():_0x252e41(0x12b)+'o\x20set\x20auto'+'status',_0x4bf97b=await(botRef?.[_0x252e41(0xe5)]?.[_0x252e41(0xcb)+'e']?botRef[_0x252e41(0xe5)][_0x252e41(0xcb)+'e'](_0x2ad6ce,{'text':_0xe21634}):botRef[_0x252e41(0xcb)+'e'](_0x2ad6ce,{'text':_0xe21634}));trackSent(_0x4bf97b),info('['+name+(_0x252e41(0xf6)+_0x252e41(0x115)+_0x252e41(0x125))+_0x318e78[_0x252e41(0xde)+'e']());return;}}catch(_0x7eaea6){warn('['+name+(_0x252e41(0x9b)+_0x252e41(0xd1))+(_0x7eaea6?.[_0x252e41(0xd5)]||_0x7eaea6));}}export async function initialize(_0x5a1627){const _0x4ebaba=_0x297f9d;if(!_0x5a1627)throw new Error(_0x4ebaba(0x118)+_0x4ebaba(0x120)+_0x4ebaba(0x119)+'uires\x20bot\x20'+_0x4ebaba(0x11f));botRef=_0x5a1627,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x4ebaba(0xee)+'psert','handler':rawMessagesUpsertHandler,'moduleName':name});}export async function cleanup(){const _0x50919c=_0x297f9d;try{stopManagedListener(name,'messages.u'+'psert');}catch(_0x2468a4){warn('['+name+(_0x50919c(0xad)+_0x50919c(0xef)+_0x50919c(0x11e)+_0x50919c(0xc8))+(_0x2468a4?.[_0x50919c(0xd5)]||_0x2468a4));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x50919c(0x11b)]===_0x50919c(0x95))respondedMsgIds[_0x50919c(0x11b)]();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};