const _0x5489ab=_0x23a4;(function(_0xe2f7f6,_0x40500d){const _0x3cb31c=_0x23a4,_0x469e99=_0xe2f7f6();while(!![]){try{const _0x11fe51=parseInt(_0x3cb31c(0x257))/(0x1*0x897+0x2*0xabe+0xf09*-0x2)*(-parseInt(_0x3cb31c(0x210))/(0x16*0x2f+-0xd19+0x911))+-parseInt(_0x3cb31c(0x253))/(-0xbd+-0xa70+0x598*0x2)*(-parseInt(_0x3cb31c(0x161))/(0x179c+0x3d*0x2f+0x1*-0x22cb))+-parseInt(_0x3cb31c(0x1f3))/(0x1755+0xc83*-0x3+0xb*0x14b)+-parseInt(_0x3cb31c(0x1b1))/(-0x9*0x7e+-0x312*0x9+-0x4a*-0x6f)*(-parseInt(_0x3cb31c(0x175))/(0x1953+-0x1a02*0x1+0xb6))+-parseInt(_0x3cb31c(0x205))/(-0xe40+0x1*0xe9d+-0x55)*(parseInt(_0x3cb31c(0x250))/(0x2*-0x209+0x1d71+-0x3*0x872))+parseInt(_0x3cb31c(0x243))/(-0x1f59+0x39*-0x53+0x31de)+-parseInt(_0x3cb31c(0x1ff))/(-0x6d*0x17+0xb9c+-0x1c6)*(-parseInt(_0x3cb31c(0x247))/(-0x1*0x126b+-0x1*-0x1753+-0x1*0x4dc));if(_0x11fe51===_0x40500d)break;else _0x469e99['push'](_0x469e99['shift']());}catch(_0xb3ee7d){_0x469e99['push'](_0x469e99['shift']());}}}(_0x2b58,0xc4c1b+-0x4*-0x37fa6+-0x1202d5));import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import*as _0x3b9fda from'../utils/groups.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';export const name=_0x5489ab(0x1d9);export const version=_0x5489ab(0x239);export const priority=0x2345+-0x1749+-0xba2;export const configKeys=[_0x5489ab(0x227)];export const commands=[_0x5489ab(0x1b7)+_0x5489ab(0x1e2),_0x5489ab(0x1ee)+_0x5489ab(0x1bd),_0x5489ab(0x25f)+_0x5489ab(0x15b),_0x5489ab(0x1ca)+'ongroups',_0x5489ab(0x1b7)+'oups',_0x5489ab(0x1d9),_0x5489ab(0x168)+'rget',_0x5489ab(0x1a6)+_0x5489ab(0x215)];let botRef=null;const groupQueues=new Map(),groupTimers=new Map();let CFG={'ENABLED':![],'DEBOUNCE_MS':0xbb8,'notify_group':null};const DEDUPE_TTL_MS=(-0x2*-0x12+-0x24aa+0xe*0x29e)*(0x1e7b+0xf1d+-0x29b0),processedMessageKeys=new Map();function markProcessed(_0x108c88){const _0x50b799=_0x5489ab;if(!_0x108c88)return;if(processedMessageKeys[_0x50b799(0x24f)](_0x108c88))try{clearTimeout(processedMessageKeys[_0x50b799(0x197)](_0x108c88));}catch(_0x124db0){}const _0x4c48f0=setTimeout(()=>processedMessageKeys[_0x50b799(0x254)](_0x108c88),DEDUPE_TTL_MS);processedMessageKeys[_0x50b799(0x15c)](_0x108c88,_0x4c48f0);}function isProcessed(_0x20d808){const _0x4ac0d8=_0x5489ab;return _0x20d808&&processedMessageKeys[_0x4ac0d8(0x24f)](_0x20d808);}async function ensureSchema(){const _0x448cb8=_0x5489ab;try{await db[_0x448cb8(0x1b5)](_0x448cb8(0x151)+'ATE\x20TABLE\x20'+_0x448cb8(0x21c)+'STS\x20additi'+'ons_config'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20key\x20TEXT\x20'+'PRIMARY\x20KE'+_0x448cb8(0x21d)+'\x20value\x20TEX'+_0x448cb8(0x1fe)+_0x448cb8(0x1e4)),await db['exec'](_0x448cb8(0x151)+'ATE\x20TABLE\x20'+_0x448cb8(0x21c)+_0x448cb8(0x201)+_0x448cb8(0x16e)+_0x448cb8(0x147)+'\x20group_jid'+_0x448cb8(0x169)+'ARY\x20KEY\x0a\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20'),info('['+name+(_0x448cb8(0x185)+_0x448cb8(0x260)));}catch(_0x257c69){error(_0x257c69,'['+name+(_0x448cb8(0x20a)+_0x448cb8(0x229)+_0x448cb8(0x204))+(_0x257c69?.[_0x448cb8(0x1b6)]||_0x257c69));throw _0x257c69;}}async function dbSetConfig(_0x229e23,_0x3dcf56){const _0x30ab30=_0x5489ab;try{return await db[_0x30ab30(0x1d8)]('INSERT\x20INT'+_0x30ab30(0x18f)+_0x30ab30(0x166)+_0x30ab30(0x1e1)+')\x20VALUES\x20('+_0x30ab30(0x212)+_0x30ab30(0x1ac)+_0x30ab30(0x230)+_0x30ab30(0x144)+'ue\x20=\x20exclu'+'ded.value;',[_0x229e23,String(_0x3dcf56)]),!![];}catch(_0x495076){return warn('['+name+(']\x20dbSetCon'+_0x30ab30(0x220)+':\x20')+(_0x495076?.[_0x30ab30(0x1b6)]||_0x495076)),![];}}async function dbGetConfig(_0x1b37ca){const _0x28ad3f=_0x5489ab;try{const _0x1eb903=await db['get'](_0x28ad3f(0x1d4)+_0x28ad3f(0x18d)+_0x28ad3f(0x13c)+_0x28ad3f(0x248)+'\x20key\x20=\x20?\x20L'+_0x28ad3f(0x149),[_0x1b37ca]);return _0x1eb903?_0x1eb903[_0x28ad3f(0x140)]:null;}catch(_0x1f26e1){return warn('['+name+(']\x20dbGetCon'+_0x28ad3f(0x220)+':\x20')+(_0x1f26e1?.[_0x28ad3f(0x1b6)]||_0x1f26e1)),null;}}async function dbDeleteConfig(_0x31a401){const _0x16debe=_0x5489ab;try{return await db[_0x16debe(0x1d8)](_0x16debe(0x1dc)+_0x16debe(0x1c2)+_0x16debe(0x263)+_0x16debe(0x1db)+'\x20?',[_0x31a401]),!![];}catch(_0x54279f){return warn('['+name+(_0x16debe(0x200)+'Config\x20fai'+_0x16debe(0x14c))+(_0x54279f?.[_0x16debe(0x1b6)]||_0x54279f)),![];}}async function dbAddGroup(_0x315c0b){const _0x1efe28=_0x5489ab;try{return await db['run'](_0x1efe28(0x25c)+_0x1efe28(0x18f)+'s_groups\x20('+_0x1efe28(0x139)+_0x1efe28(0x1f4)+_0x1efe28(0x14b)+_0x1efe28(0x19c)+'jid)\x20DO\x20NO'+'THING;',[_0x315c0b]),!![];}catch(_0x49f592){return warn('['+name+(_0x1efe28(0x13e)+_0x1efe28(0x1fb)+'\x20')+(_0x49f592?.[_0x1efe28(0x1b6)]||_0x49f592)),![];}}async function dbRemoveGroup(_0x2f6502){const _0x4d40a8=_0x5489ab;try{const _0xc1536c=await db[_0x4d40a8(0x1d8)]('DELETE\x20FRO'+'M\x20addition'+'s_groups\x20W'+'HERE\x20group'+_0x4d40a8(0x157),[_0x2f6502]);return!!_0xc1536c?.['changes'];}catch(_0x41088e){return warn('['+name+(_0x4d40a8(0x1a2)+_0x4d40a8(0x1f7)+_0x4d40a8(0x224))+(_0x41088e?.['message']||_0x41088e)),![];}}async function dbListGroups(){const _0x178cb6=_0x5489ab;try{const _0x25d263=await db[_0x178cb6(0x15e)]('SELECT\x20gro'+_0x178cb6(0x1e7)+_0x178cb6(0x1c2)+_0x178cb6(0x19d)+_0x178cb6(0x1f1)+_0x178cb6(0x1a3));return(_0x25d263||[])[_0x178cb6(0x245)](_0x10463a=>_0x10463a[_0x178cb6(0x1ed)]);}catch(_0x981407){return warn('['+name+(']\x20dbListGr'+_0x178cb6(0x19f)+_0x178cb6(0x204))+(_0x981407?.[_0x178cb6(0x1b6)]||_0x981407)),[];}}async function dbIsGroupMonitored(_0x41a56c){const _0x2d10f2=_0x5489ab;try{const _0x3882c2=await db[_0x2d10f2(0x197)](_0x2d10f2(0x20e)+_0x2d10f2(0x1e7)+_0x2d10f2(0x1c2)+'s_groups\x20W'+_0x2d10f2(0x23e)+'_jid\x20=\x20?\x20L'+'IMIT\x201',[_0x41a56c]);return!!_0x3882c2;}catch(_0x126305){return warn('['+name+(_0x2d10f2(0x24d)+_0x2d10f2(0x17b)+'\x20failed:\x20')+(_0x126305?.['message']||_0x126305)),![];}}async function refreshRuntimeConfig(){const _0x17fe86=_0x5489ab;try{const _0x571a55=getConfig()||{},_0x1ff59a=_0x571a55[_0x17fe86(0x227)]&&typeof _0x571a55[_0x17fe86(0x227)]===_0x17fe86(0x22b)?_0x571a55[_0x17fe86(0x227)]:{};CFG[_0x17fe86(0x24b)+'S']=Number[_0x17fe86(0x1bf)](_0x1ff59a['DEBOUNCE_M'+'S'])?_0x1ff59a['DEBOUNCE_M'+'S']:-0x5a5*0x2+0x1aa8+-0x3a6;const _0xeeed20=await dbGetConfig('enabled');CFG['ENABLED']=_0xeeed20==='1'||_0xeeed20===_0x17fe86(0x1cd);const _0x191c12=await dbGetConfig(_0x17fe86(0x1d2)+'s');if(_0x191c12!==null&&!Number[_0x17fe86(0x1c7)](Number(_0x191c12)))CFG[_0x17fe86(0x24b)+'S']=Number(_0x191c12);const _0x351b99=await dbGetConfig(_0x17fe86(0x246)+'up');CFG[_0x17fe86(0x246)+'up']=_0x351b99||null,info('['+name+(_0x17fe86(0x1a8)+_0x17fe86(0x19e)+'reshed\x20(en'+_0x17fe86(0x1f6))+CFG['ENABLED']+(_0x17fe86(0x16a)+_0x17fe86(0x1ec))+CFG[_0x17fe86(0x24b)+'S']+(_0x17fe86(0x1fc)+'roup=')+CFG['notify_gro'+'up']+')');}catch(_0x56d495){warn('['+name+(_0x17fe86(0x1cb)+_0x17fe86(0x23d)+'ig\x20failed:'+'\x20')+(_0x56d495?.[_0x17fe86(0x1b6)]||_0x56d495));}}try{hotReloadConfig&&hotReloadConfig(_0x32d713=>{const _0x145c77=_0x5489ab;try{refreshRuntimeConfig(),info('['+name+(']\x20hotReloa'+_0x145c77(0x17c)+_0x145c77(0x155)+_0x145c77(0x228)+'\x20')+(_0x32d713||[])[_0x145c77(0x1b0)](',')+')');}catch(_0x10348e){warn('['+name+(']\x20hotReloa'+'dConfig\x20ha'+_0x145c77(0x170)+_0x145c77(0x1ad))+(_0x10348e?.[_0x145c77(0x1b6)]||_0x10348e));}});}catch(_0x40fffc){warn('['+name+(_0x5489ab(0x255)+_0x5489ab(0x225)+'gistration'+_0x5489ab(0x1bc))+(_0x40fffc?.[_0x5489ab(0x1b6)]||_0x40fffc));}async function resolveDisplayName(_0xace9f0){const _0x1811bc=_0x5489ab;try{if(!botRef||!_0xace9f0)return _0xace9f0?.[_0x1811bc(0x1c4)]?.('@')?.[-0x8ae+-0x1*-0x16e1+-0x5*0x2d7]??_0xace9f0;try{if(typeof botRef[_0x1811bc(0x20f)]===_0x1811bc(0x25d)){const _0x3d7481=await botRef['onWhatsApp'](_0xace9f0);if(Array[_0x1811bc(0x1be)](_0x3d7481)&&_0x3d7481[_0x1811bc(0x233)]>-0x56*-0x2+0x1*-0x26e5+0x2639){const _0x34e3f0=_0x3d7481[-0x1*-0xc1f+-0x1*0x33+-0x6d*0x1c];if(_0x34e3f0&&(_0x34e3f0[_0x1811bc(0x258)]||_0x34e3f0[_0x1811bc(0x222)]||_0x34e3f0[_0x1811bc(0x25a)]))return _0x34e3f0[_0x1811bc(0x258)]||_0x34e3f0[_0x1811bc(0x222)]||_0x34e3f0['name'];}}if(botRef[_0x1811bc(0x1b4)]&&typeof botRef['sock']['onWhatsApp']===_0x1811bc(0x25d)){const _0x3e283f=await botRef['sock'][_0x1811bc(0x20f)](_0xace9f0);if(Array[_0x1811bc(0x1be)](_0x3e283f)&&_0x3e283f[_0x1811bc(0x233)]>0x8b*-0x18+-0xac2+-0xd2*-0x1d){const _0x5ccb59=_0x3e283f[-0x1c27+0xc86+0xfa1];if(_0x5ccb59&&(_0x5ccb59[_0x1811bc(0x258)]||_0x5ccb59['vname']||_0x5ccb59[_0x1811bc(0x25a)]))return _0x5ccb59[_0x1811bc(0x258)]||_0x5ccb59['vname']||_0x5ccb59['name'];}}}catch(_0xab32be){}const _0x320277=String(_0xace9f0)[_0x1811bc(0x1c4)](':')['pop']()['split']('@')[0x84c+-0x140e+0x5e1*0x2];return _0x320277||_0xace9f0;}catch(_0x20e60a){return _0xace9f0?.[_0x1811bc(0x1c4)]?.('@')?.[0x21c8+0xe37*0x2+-0x3e36*0x1]??_0xace9f0;}}async function getGroupTitle(_0x4e3003){const _0x4c49ab=_0x5489ab;try{if(!botRef)return _0x4e3003;if(botRef[_0x4c49ab(0x1b4)]&&typeof botRef['sock']['groupMetad'+_0x4c49ab(0x1b9)]==='function'){const _0x1abe89=await botRef[_0x4c49ab(0x1b4)][_0x4c49ab(0x164)+'ata'](_0x4e3003)[_0x4c49ab(0x180)](()=>null);if(_0x1abe89&&_0x1abe89[_0x4c49ab(0x236)])return _0x1abe89[_0x4c49ab(0x236)];}if(typeof botRef[_0x4c49ab(0x1e8)+_0x4c49ab(0x173)]===_0x4c49ab(0x25d)){const _0x1c9901=await botRef[_0x4c49ab(0x1e8)+_0x4c49ab(0x173)](_0x4e3003)[_0x4c49ab(0x180)](()=>null);if(_0x1c9901&&_0x1c9901[_0x4c49ab(0x236)])return _0x1c9901[_0x4c49ab(0x236)];}return _0x4e3003;}catch(_0x5c6d43){return _0x4e3003;}}async function sendSummary(_0x1bbb72,_0x34467b,_0x9a3991){const _0x380f1e=_0x5489ab;try{if(!botRef)return;if(!CFG['notify_gro'+'up']){warn('['+name+(_0x380f1e(0x1e6)+_0x380f1e(0x142)+_0x380f1e(0x14a)+_0x380f1e(0x1aa)+_0x380f1e(0x24a)+_0x380f1e(0x191))+_0x1bbb72+'.');return;}const _0x4c44e5=await resolveDisplayName(_0x34467b),_0x12c5ca=[],_0x44122f=[];for(const _0x5bc8b8 of _0x9a3991){const _0x1e1b62=await resolveDisplayName(_0x5bc8b8);_0x12c5ca[_0x380f1e(0x17d)](_0x5bc8b8),_0x44122f[_0x380f1e(0x17d)](_0x380f1e(0x138)+String(_0x1e1b62)[_0x380f1e(0x20c)](/\n/g,'\x20'));}if(!_0x12c5ca['includes'](_0x34467b))_0x12c5ca[_0x380f1e(0x176)](_0x34467b);const _0x5bb624=await getGroupTitle(_0x1bbb72),_0xd2131d='👥\x20@'+String(_0x4c44e5)[_0x380f1e(0x20c)](/\n/g,'\x20')+_0x380f1e(0x235),_0x1de405=_0x44122f['join']('\x0a'),_0x1f3c05='\x0a\x0a📛\x20Group:'+'\x20'+_0x5bb624+'\x20('+_0x1bbb72+')',_0x6dc6c5=_0xd2131d+_0x1de405+_0x1f3c05,_0x40d066=CFG['notify_gro'+'up'];if(botRef&&typeof botRef[_0x380f1e(0x172)+'e']===_0x380f1e(0x25d))await botRef[_0x380f1e(0x172)+'e'](_0x40d066,{'text':_0x6dc6c5,'mentions':_0x12c5ca});else botRef&&botRef[_0x380f1e(0x1b4)]&&typeof botRef[_0x380f1e(0x1b4)][_0x380f1e(0x172)+'e']===_0x380f1e(0x25d)?await botRef[_0x380f1e(0x1b4)][_0x380f1e(0x172)+'e'](_0x40d066,{'text':_0x6dc6c5,'mentions':_0x12c5ca}):warn('['+name+(_0x380f1e(0x178)+_0x380f1e(0x1c8)+'\x20deliver\x20a'+'dditions\x20s'+'ummary'));info('['+name+(']\x20Sent\x20add'+_0x380f1e(0x22f)+_0x380f1e(0x219)+_0x380f1e(0x1fd))+_0x1bbb72+(_0x380f1e(0x249)+'\x20')+_0x40d066);}catch(_0x10a6bf){warn('['+name+(']\x20sendSumm'+_0x380f1e(0x24e)+':\x20')+(_0x10a6bf?.[_0x380f1e(0x1b6)]||_0x10a6bf));}}async function flushAdderForGroup(_0x1f09b3,_0x73d63){const _0x4070f0=_0x5489ab;try{if(!botRef)return;const _0x23a465=groupQueues[_0x4070f0(0x197)](_0x1f09b3);if(!_0x23a465)return;const _0x25279a=_0x23a465[_0x4070f0(0x197)](_0x73d63);if(!_0x25279a||_0x25279a['size']===-0x1ebe+0x605+0x18b9*0x1){_0x23a465[_0x4070f0(0x254)](_0x73d63);if(_0x23a465[_0x4070f0(0x156)]===-0x151*-0x5+0x2f6*0xc+-0x1*0x2a1d)groupQueues[_0x4070f0(0x254)](_0x1f09b3);return;}const _0x559a47=Array[_0x4070f0(0x262)](_0x25279a);await sendSummary(_0x1f09b3,_0x73d63,_0x559a47);}catch(_0xa2d9ac){error(_0xa2d9ac,'['+name+(_0x4070f0(0x217)+_0x4070f0(0x159)+_0x4070f0(0x234)));}finally{const _0x15624e=groupQueues[_0x4070f0(0x197)](_0x1f09b3);if(_0x15624e){_0x15624e[_0x4070f0(0x254)](_0x73d63);if(_0x15624e['size']===0x1c7d+-0x1f8*0xd+-0x2e5)groupQueues[_0x4070f0(0x254)](_0x1f09b3);}}}async function flushGroup(_0x2998f0){const _0x38cadb=_0x5489ab;try{const _0xe43430=groupQueues['get'](_0x2998f0);if(!_0xe43430)return;const _0x29500a=Array[_0x38cadb(0x262)](_0xe43430[_0x38cadb(0x1c6)]());for(const _0x39c48d of _0x29500a){await flushAdderForGroup(_0x2998f0,_0x39c48d);}}catch(_0x95ac79){error(_0x95ac79,'['+name+(_0x38cadb(0x1b8)+_0x38cadb(0x1c1))+(_0x95ac79?.['message']||_0x95ac79));}finally{if(groupTimers[_0x38cadb(0x24f)](_0x2998f0)){try{clearTimeout(groupTimers['get'](_0x2998f0));}catch(_0x2588c1){}groupTimers['delete'](_0x2998f0);}if(groupQueues['get'](_0x2998f0)&&groupQueues['get'](_0x2998f0)[_0x38cadb(0x156)]===0x1dd2+-0x1904*-0x1+-0x2*0x1b6b)groupQueues[_0x38cadb(0x254)](_0x2998f0);}}async function gpUpdateHandler(_0xd92b70){const _0x2145aa=_0x5489ab;try{if(!_0xd92b70)return;if(!CFG['ENABLED'])return;const _0x2b1064=_0xd92b70['action']||_0xd92b70['type']||null;if(!_0x2b1064)return;if(String(_0x2b1064)['toLowerCas'+'e']()!==_0x2145aa(0x14f))return;const _0x3a06ed=_0xd92b70['id']||_0xd92b70[_0x2145aa(0x15a)]||_0xd92b70[_0x2145aa(0x145)]||_0xd92b70[_0x2145aa(0x1c9)];if(!_0x3a06ed)return;const _0x53639e=await dbIsGroupMonitored(_0x3a06ed);if(!_0x53639e)return;const _0xb9c6e0=Array[_0x2145aa(0x1be)](_0xd92b70['participan'+'ts'])?_0xd92b70[_0x2145aa(0x174)+'ts']:Array[_0x2145aa(0x1be)](_0xd92b70['participan'+_0x2145aa(0x203)])?_0xd92b70[_0x2145aa(0x174)+_0x2145aa(0x203)]:[];if(!_0xb9c6e0||_0xb9c6e0['length']===-0x2068+-0xede+0x2f46)return;const _0x58b3f3=_0xd92b70[_0x2145aa(0x261)]||_0xd92b70['author']||_0xd92b70['by']||_0xd92b70[_0x2145aa(0x179)]||_0xd92b70['admin']||_0xd92b70[_0x2145aa(0x231)]||'system@sys'+_0x2145aa(0x1ce);if(!groupQueues[_0x2145aa(0x24f)](_0x3a06ed))groupQueues[_0x2145aa(0x15c)](_0x3a06ed,new Map());const _0x11969e=groupQueues['get'](_0x3a06ed);if(!_0x11969e[_0x2145aa(0x24f)](_0x58b3f3))_0x11969e[_0x2145aa(0x15c)](_0x58b3f3,new Set());const _0x2be403=_0x11969e[_0x2145aa(0x197)](_0x58b3f3);for(const _0x572c5c of _0xb9c6e0)_0x2be403[_0x2145aa(0x14f)](_0x572c5c);if(groupTimers[_0x2145aa(0x24f)](_0x3a06ed))try{clearTimeout(groupTimers[_0x2145aa(0x197)](_0x3a06ed));}catch(_0x545dd6){}const _0x11ef80=Math[_0x2145aa(0x21f)](-0x12b5+-0x26b9+0x1ce9*0x2,Number(CFG[_0x2145aa(0x24b)+'S']||-0x1bb2*0x1+0x2e*0xb3+0x740)),_0x33c90c=setTimeout(()=>{const _0xe7d3b6=_0x2145aa;flushGroup(_0x3a06ed)[_0xe7d3b6(0x180)](_0x39fb4c=>warn('['+name+(_0xe7d3b6(0x1b8)+_0xe7d3b6(0x1fb)+'\x20')+(_0x39fb4c?.[_0xe7d3b6(0x1b6)]||_0x39fb4c)));},_0x11ef80);groupTimers[_0x2145aa(0x15c)](_0x3a06ed,_0x33c90c);}catch(_0x6610c5){warn('['+name+(_0x2145aa(0x17e)+_0x2145aa(0x1b3)+_0x2145aa(0x163))+(_0x6610c5?.[_0x2145aa(0x1b6)]||_0x6610c5));}}function _0x23a4(_0x2601b8,_0x4c6c3c){const _0x2eb24e=_0x2b58();return _0x23a4=function(_0x41efd6,_0xef443d){_0x41efd6=_0x41efd6-(0x1f5f+0x625+-0x244d);let _0x5abc1f=_0x2eb24e[_0x41efd6];return _0x5abc1f;},_0x23a4(_0x2601b8,_0x4c6c3c);}function extractTextFromMessage(_0x29424e){const _0x38763f=_0x5489ab;if(!_0x29424e||!_0x29424e[_0x38763f(0x1b6)])return'';const _0x6f79ec=_0x29424e[_0x38763f(0x1b6)];if(_0x6f79ec['conversati'+'on'])return _0x6f79ec['conversati'+'on'];if(_0x6f79ec[_0x38763f(0x1de)+_0x38763f(0x187)]?.['text'])return _0x6f79ec[_0x38763f(0x1de)+'xtMessage'][_0x38763f(0x1da)];if(_0x6f79ec[_0x38763f(0x1b2)+'ge']?.[_0x38763f(0x1e9)])return _0x6f79ec[_0x38763f(0x1b2)+'ge'][_0x38763f(0x1e9)];if(_0x6f79ec[_0x38763f(0x22c)+'ge']?.[_0x38763f(0x1e9)])return _0x6f79ec[_0x38763f(0x22c)+'ge']['caption'];if(_0x6f79ec[_0x38763f(0x1f9)+_0x38763f(0x1ea)+'ge']?.[_0x38763f(0x15d)+'ttonId'])return _0x6f79ec[_0x38763f(0x1f9)+_0x38763f(0x1ea)+'ge']['selectedBu'+'ttonId'];if(_0x6f79ec[_0x38763f(0x150)+'seMessage']?.['singleSele'+_0x38763f(0x19b)]?.[_0x38763f(0x1c3)+_0x38763f(0x1e0)])return _0x6f79ec['listRespon'+'seMessage']['singleSele'+'ctReply'][_0x38763f(0x1c3)+_0x38763f(0x1e0)];return'';}function detectCommandName(_0x413e78){const _0xb7fb0d=_0x5489ab;if(!_0x413e78)return null;const _0x55c229=_0x413e78[_0xb7fb0d(0x20d)]();if(!_0x55c229)return null;return _0x55c229['split'](/\s+/)[-0x24ea+0x9f*0x1+-0xc19*-0x3][_0xb7fb0d(0x1d7)+'e']();}function parseJidsFromText(_0x15372f){const _0x69df0c=_0x5489ab;if(!_0x15372f)return[];const _0x44e1e0=_0x15372f[_0x69df0c(0x1c4)](/[\s,]+/)[_0x69df0c(0x245)](_0x2966d4=>_0x2966d4[_0x69df0c(0x20d)]())[_0x69df0c(0x223)](Boolean),_0x42adc5=_0x44e1e0['filter'](_0x2e85af=>_0x2e85af[_0x69df0c(0x20b)]('@'))[_0x69df0c(0x245)](_0x48125a=>_0x48125a);return _0x42adc5;}function parseDeleteItems(_0x385732){const _0x1fce35=_0x5489ab;if(!_0x385732)return[];const _0x5c4212=_0x385732[_0x1fce35(0x1c4)](/[\s,]+/)[_0x1fce35(0x245)](_0x12f777=>_0x12f777[_0x1fce35(0x20d)]())[_0x1fce35(0x223)](Boolean),_0x3649e1=_0x5c4212[_0x1fce35(0x245)](_0x465c14=>{const _0x2eb3dd=_0x1fce35;if(/^\d+$/[_0x2eb3dd(0x148)](_0x465c14))return{'type':_0x2eb3dd(0x165),'value':Number(_0x465c14)};return{'type':'jid','value':_0x465c14};});return _0x3649e1;}async function sendApiOrFallback(_0x2e6438,_0xa26133,_0x4919f8=[]){const _0x3d09a2=_0x5489ab;try{if(!_0x2e6438||!_0xa26133)return;if(botRef&&typeof botRef[_0x3d09a2(0x172)+'e']===_0x3d09a2(0x25d))await botRef[_0x3d09a2(0x172)+'e'](_0x2e6438,{'text':String(_0xa26133),'mentions':_0x4919f8});else botRef&&botRef[_0x3d09a2(0x1b4)]&&typeof botRef['sock'][_0x3d09a2(0x172)+'e']===_0x3d09a2(0x25d)?await botRef[_0x3d09a2(0x1b4)]['sendMessag'+'e'](_0x2e6438,{'text':String(_0xa26133),'mentions':_0x4919f8}):warn('['+name+(_0x3d09a2(0x178)+_0x3d09a2(0x1f2)+_0x3d09a2(0x19a)+_0x3d09a2(0x167)+'tion\x20to\x20')+_0x2e6438);}catch(_0x3c0ac5){warn('['+name+(_0x3d09a2(0x1d6)+'rFallback\x20'+_0x3d09a2(0x143))+(_0x3c0ac5?.[_0x3d09a2(0x1b6)]||_0x3c0ac5));}}function _0x2b58(){const _0x34e6e0=['\x20must\x20incl','buttonsRes','istener:\x20','up\x20failed:',',\x20notify_g','roup\x20','T\x0a\x20\x20\x20\x20\x20\x20);','33kohxLk',']\x20dbDelete','STS\x20additi','group-part','ts_added','d:\x20','13424TSudgV','off\x0aCurren','Group\x20erro','groups\x20to\x20','Failed\x20to\x20',']\x20ensureSc','includes','replace','trim','SELECT\x20gro','onWhatsApp','214036XvVxPG','icipants.u','?,\x20?)\x20ON\x20C','pdate','string','atus','_jid>...]\x0a',']\x20flushAdd','\x20to\x20','mary\x20for\x20g',':\x20The\x20syst','remoteJid','IF\x20NOT\x20EXI','Y,\x0a\x20\x20\x20\x20\x20\x20\x20','off','max','fig\x20failed','..@g.us)','vname','filter','ed:\x20','dConfig\x20re','nable.\x20Ple','ADDITIONS','nged\x20keys:','hema\x20faile',']\x20failed\x20t','object','videoMessa','ase\x20add\x20at','target\x20cle','itions\x20sum','y)\x20DO\x20UPDA','invoker','enabled','length','\x20error','\x20added:\x0a','subject','No\x20valid\x20i','@g.us','1.4.0','target\x20fai','Status*\x0a','ENABLE)','untimeConf','HERE\x20group','QUIRED)','No\x20valid\x20g','endsWith','⚠️\x20Skipped/','6782320qvpWkB','[,index,..','map','notify_gro','806292ojWTvX','nfig\x20WHERE','\x20->\x20target','g\x20summary\x20','DEBOUNCE_M','zed',']\x20dbIsGrou','ary\x20failed','has','18XntzLh','ing\x20`addit','\x0aCurrent:\x20','417948YhUfjm','delete',']\x20hotReloa','`additiont','9SBQzwM','notify','itiontarge','name','check\x20fail','INSERT\x20INT','function','arget`\x20fir','removeaddi','a\x20ensured','actor','from','s_config\x20W','No\x20additio','\x20\x20@','group_jid)','key','✅\x20Added:\x0a','ditions_co','group\x20JIDs',']\x20dbAddGro','Monitored\x20','value','✅\x20Removed:','y_group\x20ta','failed:\x20','TE\x20SET\x20val','jid','initialize','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','test','IMIT\x201','rget\x20is\x20se',')\x20ON\x20CONFL','led:\x20','st.','type','add','listRespon','\x0a\x20\x20\x20\x20\x20\x20CRE','\x20a\x20target.','Notify\x20tar','✅\x20addition','plied\x20(cha','size','_jid\x20=\x20?','❌\x20addition','erForGroup','groupId','tiongroup','set','selectedBu','all','(none\x20-\x20RE','target\x20set','24WzAJUC',']\x20onMessag','ror:\x20','groupMetad','index','s_config\x20(','r\x20confirma','additionta','\x20TEXT\x20PRIM',',\x20debounce','oup\x20<group',']\x20cleaned\x20','emoved.','ons_groups','isCommand','ndler\x20erro','jid|clear>','sendMessag','tadata','participan','112QRZtxW','unshift','d\x20/\x20invali',']\x20no\x20send\x20','initiator','\x20<group_ji','pMonitored','dConfig\x20ap','push',']\x20gpUpdate','\x20requires\x20','catch','o\x20remove:\x0a','notificati','values','\x20least\x20one',']\x20DB\x20schem','ed\x20managed','xtMessage','groups:\x20*','get:\x20*','clear','on\x20target\x20','Enabled:\x20*','ue\x20FROM\x20ad','tadditiong','O\x20addition','ongroup\x0a<j','for\x20','be\x20turned\x20','roups.','rget','r\x20for\x20','slice','get','❌\x20Failed\x20t','Usage:\x20add','ailable\x20fo','ctReply','ICT(group_','s_groups\x20O','config\x20ref','oups\x20faile','itiongroup','o\x20register',']\x20dbRemove','oup_jid','\x20group\x20to\x20','or\x20','additionst','bled\x20state',']\x20runtime\x20','t\x20<target_','t.\x20Skippin',']\x20cleanup\x20','ONFLICT(ke','r:\x20','additions.','Usage:\x20del','join','215952xkeZqX','imageMessa','Handler\x20er','sock','exec','message','additiongr',']\x20flushGro','ata','\x20or\x20indice','_jid|index','\x20failed:\x20','ngroup','isArray','isInteger','No\x20items\x20r','up\x20error:\x20','M\x20addition','selectedRo','split',']\x20register','keys','isNaN','surface\x20to','groupJid','listadditi',']\x20refreshR','for\x20group-','true','tem',']\x20initiali','Or:\x0aadditi','staddition','debounce_m','ENABLED','SELECT\x20val','monitor\x20us',']\x20sendApiO','toLowerCas','run','additions','text','HERE\x20key\x20=','DELETE\x20FRO','em\x20cannot\x20','extendedTe','see\x20indice','wId','key,\x20value','oup','onfigured.','\x0a\x20\x20\x20\x20','Target\x20JID',']\x20No\x20notif','up_jid\x20FRO','getGroupMe','caption','ponseMessa','update\x20add','_ms=','group_jid','deladditio','itions\x20on|','\x20listener\x20','RDER\x20BY\x20gr','surface\x20av','3911845rLSSaC','\x20VALUES\x20(?','up\x20error\x20f','abled=','Group\x20fail'];_0x2b58=function(){return _0x34e6e0;};return _0x2b58();}function chunkLines(_0x47599c,_0x1e5fdd=-0x2ac*-0xd+0x1bdd+0x7*-0x81b){const _0x5191ab=_0x5489ab,_0x3991bf=[];let _0x273afe='';for(const _0x1f321f of _0x47599c){(_0x273afe+'\x0a'+_0x1f321f)[_0x5191ab(0x233)]>_0x1e5fdd&&(_0x3991bf[_0x5191ab(0x17d)](_0x273afe['trim']()),_0x273afe=''),_0x273afe+=(_0x273afe?'\x0a':'')+_0x1f321f;}if(_0x273afe)_0x3991bf[_0x5191ab(0x17d)](_0x273afe[_0x5191ab(0x20d)]());return _0x3991bf;}export async function initialize(_0x2d2cf6){const _0x4dd7d5=_0x5489ab;try{if(!_0x2d2cf6)throw new Error(_0x4dd7d5(0x1ae)+_0x4dd7d5(0x146)+_0x4dd7d5(0x17f)+'bot\x20instan'+'ce');botRef=_0x2d2cf6,await ensureSchema(),await refreshRuntimeConfig();try{startManagedListener({'botRef':botRef,'eventName':_0x4dd7d5(0x202)+_0x4dd7d5(0x211)+_0x4dd7d5(0x213),'handler':gpUpdateHandler,'moduleName':name}),info('['+name+(_0x4dd7d5(0x1c5)+_0x4dd7d5(0x186)+_0x4dd7d5(0x1f0)+_0x4dd7d5(0x1cc)+_0x4dd7d5(0x174)+'ts.update'));}catch(_0xb5a04f){warn('['+name+(_0x4dd7d5(0x22a)+_0x4dd7d5(0x1a1)+'\x20managed\x20l'+_0x4dd7d5(0x1fa))+(_0xb5a04f?.[_0x4dd7d5(0x1b6)]||_0xb5a04f));}info('['+name+(_0x4dd7d5(0x1cf)+_0x4dd7d5(0x24c)));}catch(_0x491759){error(_0x491759,'['+name+(_0x4dd7d5(0x1cf)+'ze\x20error:\x20')+(_0x491759?.[_0x4dd7d5(0x1b6)]||_0x491759));throw _0x491759;}}export async function onMessage(_0x4a3d9c){const _0x42ea3b=_0x5489ab;try{if(!_0x4a3d9c||!_0x4a3d9c[_0x42ea3b(0x13a)])return;const _0x49e681=String(_0x4a3d9c['key']['remoteJid']||'')+'::'+String(_0x4a3d9c[_0x42ea3b(0x13a)]['id']||_0x4a3d9c[_0x42ea3b(0x13a)][_0x42ea3b(0x174)+'t']||'');if(isProcessed(_0x49e681))return;markProcessed(_0x49e681);const _0x4a1d34=_0x4a3d9c[_0x42ea3b(0x1da)]&&typeof _0x4a3d9c[_0x42ea3b(0x1da)]===_0x42ea3b(0x214)?_0x4a3d9c[_0x42ea3b(0x1da)]:extractTextFromMessage(_0x4a3d9c)||'';if(!_0x4a1d34)return;const _0x1df1d2=_0x4a3d9c[_0x42ea3b(0x13a)][_0x42ea3b(0x21b)],_0x1ce4e7=String(_0x1df1d2||'')[_0x42ea3b(0x241)](_0x42ea3b(0x238));if(!_0x4a3d9c[_0x42ea3b(0x16f)])return;if(!_0x1ce4e7)return;let _0x325a23=![];try{_0x325a23=await isadmin(botRef,_0x4a3d9c);}catch(_0x39cdc9){warn('['+name+(']\x20isadmin\x20'+_0x42ea3b(0x25b)+_0x42ea3b(0x224))+(_0x39cdc9?.['message']||_0x39cdc9)),_0x325a23=![];}if(!_0x325a23)return;const _0x2aa501=typeof _0x4a3d9c[_0x42ea3b(0x1da)]===_0x42ea3b(0x214)&&_0x4a3d9c[_0x42ea3b(0x1da)][_0x42ea3b(0x20d)]()[_0x42ea3b(0x233)]?_0x4a3d9c[_0x42ea3b(0x1da)]['trim']():_0x4a1d34[_0x42ea3b(0x20d)](),_0x476c39=detectCommandName(_0x2aa501);if(!_0x476c39||!commands[_0x42ea3b(0x20b)](_0x476c39))return;const _0xa01f=_0x1df1d2;if(_0x476c39===_0x42ea3b(0x1b7)+_0x42ea3b(0x1e2)){const _0x2ab33f=_0x2aa501[_0x42ea3b(0x20c)](/^additiongroup\b/i,'')[_0x42ea3b(0x20d)]();let _0x27ab62=[];if(_0x2ab33f&&_0x2ab33f[_0x42ea3b(0x233)])_0x27ab62=parseJidsFromText(_0x2ab33f);else{const _0x102c69=_0x2aa501[_0x42ea3b(0x1c4)](/\r?\n/)[_0x42ea3b(0x196)](0x66a*-0x6+-0x6da+0x2d57)['map'](_0x132cc7=>_0x132cc7[_0x42ea3b(0x20d)]())[_0x42ea3b(0x223)](Boolean),_0x3848a1=_0x102c69[_0x42ea3b(0x1b0)]('\x20');_0x27ab62=parseJidsFromText(_0x3848a1);}if(!_0x27ab62['length']){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x199)+_0x42ea3b(0x1a0)+_0x42ea3b(0x17a)+'d>\x20[<group'+_0x42ea3b(0x216)+_0x42ea3b(0x1d0)+_0x42ea3b(0x190)+'id1>\x0a<jid2'+'>\x0a');return;}const _0x5171e9=[],_0x4e8806=[];for(const _0x4ca33d of _0x27ab62){if(!_0x4ca33d[_0x42ea3b(0x20b)]('@')){_0x4e8806[_0x42ea3b(0x17d)](_0x4ca33d);continue;}try{const _0x5ee5b9=await dbAddGroup(_0x4ca33d);if(_0x5ee5b9)_0x5171e9[_0x42ea3b(0x17d)](_0x4ca33d);else _0x4e8806[_0x42ea3b(0x17d)](_0x4ca33d);}catch(_0x113ede){warn('['+name+(_0x42ea3b(0x13e)+_0x42ea3b(0x1f5)+_0x42ea3b(0x1a5))+_0x4ca33d+':\x20'+(_0x113ede?.['message']||_0x113ede)),_0x4e8806[_0x42ea3b(0x17d)](_0x4ca33d);}}const _0x22069f=[];if(_0x5171e9['length'])_0x22069f[_0x42ea3b(0x17d)](_0x42ea3b(0x13b)+_0x5171e9[_0x42ea3b(0x245)](_0x1ef902=>'•\x20'+_0x1ef902)[_0x42ea3b(0x1b0)]('\x0a'));if(_0x4e8806['length'])_0x22069f[_0x42ea3b(0x17d)](_0x42ea3b(0x242)+'failed:\x0a'+_0x4e8806[_0x42ea3b(0x245)](_0x17b401=>'•\x20'+_0x17b401)[_0x42ea3b(0x1b0)]('\x0a'));await sendApiOrFallback(_0xa01f,_0x22069f[_0x42ea3b(0x1b0)]('\x0a\x0a')||_0x42ea3b(0x240)+'roup\x20JIDs\x20'+'provided.');return;}if(_0x476c39===_0x42ea3b(0x1ee)+_0x42ea3b(0x1bd)||_0x476c39===_0x42ea3b(0x25f)+_0x42ea3b(0x15b)){const _0x9ba17b=_0x2aa501[_0x42ea3b(0x20c)](/^(deladditiongroup|removeadditiongroup)\b/i,'')[_0x42ea3b(0x20d)]();if(!_0x9ba17b){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x1af)+_0x42ea3b(0x1b7)+_0x42ea3b(0x16b)+_0x42ea3b(0x1bb)+_0x42ea3b(0x244)+'.]>\x0aUse\x20li'+_0x42ea3b(0x1d1)+_0x42ea3b(0x208)+_0x42ea3b(0x1df)+'s.');return;}const _0x4956a9=parseDeleteItems(_0x9ba17b);if(!_0x4956a9[_0x42ea3b(0x233)]){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x237)+'tems\x20to\x20de'+'lete.\x20Use\x20'+_0x42ea3b(0x13d)+_0x42ea3b(0x1ba)+'s\x20from\x20lis'+_0x42ea3b(0x18e)+_0x42ea3b(0x193));return;}const _0x105984=await dbListGroups(),_0x3fae99=new Set(),_0x12b2f4=[];for(const _0x3be7c0 of _0x4956a9){if(_0x3be7c0[_0x42ea3b(0x14e)]===_0x42ea3b(0x145)){const _0x74c170=_0x3be7c0[_0x42ea3b(0x140)];if(_0x105984[_0x42ea3b(0x20b)](_0x74c170))_0x3fae99[_0x42ea3b(0x14f)](_0x74c170);else _0x12b2f4[_0x42ea3b(0x17d)](_0x74c170);}else{if(_0x3be7c0['type']===_0x42ea3b(0x165)){const _0x4becbe=_0x3be7c0['value'];if(_0x4becbe<=0x967*0x3+0x1*0x1da5+-0x5*0xb92||_0x4becbe>_0x105984[_0x42ea3b(0x233)]){_0x12b2f4['push'](String(_0x4becbe));continue;}const _0x2dea59=_0x105984[_0x4becbe-(0x7fc+0x224+-0xa1f)];if(_0x2dea59)_0x3fae99[_0x42ea3b(0x14f)](_0x2dea59);}}}const _0x31ba7d=[],_0x555376=[];for(const _0x37581f of Array[_0x42ea3b(0x262)](_0x3fae99)){try{const _0xc04304=await dbRemoveGroup(_0x37581f);if(_0xc04304)_0x31ba7d[_0x42ea3b(0x17d)](_0x37581f);else _0x555376[_0x42ea3b(0x17d)](_0x37581f);}catch(_0x36fe6d){warn('['+name+(']\x20dbRemove'+_0x42ea3b(0x207)+_0x42ea3b(0x195))+_0x37581f+':\x20'+(_0x36fe6d?.[_0x42ea3b(0x1b6)]||_0x36fe6d)),_0x555376[_0x42ea3b(0x17d)](_0x37581f);}}const _0x216241=[];if(_0x31ba7d[_0x42ea3b(0x233)])_0x216241[_0x42ea3b(0x17d)](_0x42ea3b(0x141)+'\x0a'+_0x31ba7d[_0x42ea3b(0x245)](_0x5b2813=>'•\x20'+_0x5b2813)[_0x42ea3b(0x1b0)]('\x0a'));if(_0x555376[_0x42ea3b(0x233)])_0x216241['push'](_0x42ea3b(0x198)+_0x42ea3b(0x181)+_0x555376[_0x42ea3b(0x245)](_0x1b5024=>'•\x20'+_0x1b5024)[_0x42ea3b(0x1b0)]('\x0a'));if(_0x12b2f4[_0x42ea3b(0x233)])_0x216241['push']('⚠️\x20Not\x20foun'+_0x42ea3b(0x177)+_0x42ea3b(0x204)+_0x12b2f4['map'](_0x3cb2cb=>'\x20'+_0x3cb2cb)[_0x42ea3b(0x1b0)](','));await sendApiOrFallback(_0xa01f,_0x216241[_0x42ea3b(0x1b0)]('\x0a\x0a')||_0x42ea3b(0x1c0)+_0x42ea3b(0x16d));return;}if(_0x476c39==='listadditi'+'ongroups'||_0x476c39===_0x42ea3b(0x1b7)+'oups'){const _0x5340db=await dbListGroups();if(!_0x5340db||_0x5340db[_0x42ea3b(0x233)]===-0x20c7+-0xc2*-0x8+0x1ab7){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x137)+'n\x20groups\x20c'+_0x42ea3b(0x1e3));return;}const _0x4e0e06=_0x5340db[_0x42ea3b(0x245)]((_0x453f0e,_0x4da738)=>_0x4da738+(0x22c8+-0xc*0xc7+-0x1973)+'.\x20'+_0x453f0e),_0x7a13ac=chunkLines(_0x4e0e06,-0x78b+0x198a+0x1*-0xd4f);for(const _0x55b1c8 of _0x7a13ac)await sendApiOrFallback(_0xa01f,_0x55b1c8);return;}if(_0x476c39===_0x42ea3b(0x1d9)){const _0x340308=_0x2aa501[_0x42ea3b(0x1c4)](/\s+/)[_0x42ea3b(0x196)](0x19f8+-0x3f*0x11+-0x15c8);if(!_0x340308||!_0x340308[-0x93b*-0x1+0x3*0x883+-0x22c4]){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x199)+_0x42ea3b(0x1ef)+_0x42ea3b(0x206)+'t:\x20'+(CFG[_0x42ea3b(0x1d3)]?'on':_0x42ea3b(0x21e)));return;}const _0x2759ae=_0x340308[0xd*0xd5+-0x11af+-0x6de*-0x1][_0x42ea3b(0x1d7)+'e']();if(_0x2759ae!=='on'&&_0x2759ae!=='off'){await sendApiOrFallback(_0xa01f,'Usage:\x20add'+'itions\x20on|'+_0x42ea3b(0x21e));return;}const _0x282239=_0x2759ae==='on';if(_0x282239){const _0x55e8ac=await dbListGroups(),_0x53da84=await dbGetConfig(_0x42ea3b(0x246)+'up');if(_0x55e8ac['length']===0x1492+-0x22b0+0x116*0xd){await sendApiOrFallback(_0xa01f,'❌\x20Cannot\x20e'+_0x42ea3b(0x226)+_0x42ea3b(0x22d)+_0x42ea3b(0x184)+_0x42ea3b(0x1a4)+_0x42ea3b(0x1d5)+_0x42ea3b(0x251)+'iongroup`\x20'+'first.');return;}if(!_0x53da84){await sendApiOrFallback(_0xa01f,'❌\x20Cannot\x20e'+'nable.\x20Ple'+'ase\x20set\x20a\x20'+_0x42ea3b(0x182)+_0x42ea3b(0x18b)+'JID\x20using\x20'+_0x42ea3b(0x256)+_0x42ea3b(0x25e)+_0x42ea3b(0x14d));return;}}const _0x187628=await dbSetConfig(_0x42ea3b(0x232),_0x282239?'1':'0');if(!_0x187628){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x209)+_0x42ea3b(0x1eb)+'itions\x20ena'+_0x42ea3b(0x1a7)+'.');return;}CFG[_0x42ea3b(0x1d3)]=_0x282239,await sendApiOrFallback(_0xa01f,_0x42ea3b(0x154)+'s\x20'+(_0x282239?_0x42ea3b(0x232):'disabled'));return;}if(_0x476c39===_0x42ea3b(0x168)+_0x42ea3b(0x194)){const _0x913d3a=_0x2aa501[_0x42ea3b(0x1c4)](/\s+/)[_0x42ea3b(0x196)](-0x1a8*-0x16+0x43b*-0x8+-0x297);if(!_0x913d3a||!_0x913d3a[-0x1b68+0x2c7*-0xe+-0x424a*-0x1]){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x199)+_0x42ea3b(0x259)+_0x42ea3b(0x1a9)+_0x42ea3b(0x171)+_0x42ea3b(0x252)+(CFG[_0x42ea3b(0x246)+'up']||_0x42ea3b(0x15f)+_0x42ea3b(0x23f)));return;}const _0x2683b0=_0x913d3a[-0x180e+0x1d94+-0x586][_0x42ea3b(0x20d)]();if(_0x2683b0['toLowerCas'+'e']()===_0x42ea3b(0x18a)){await dbDeleteConfig(_0x42ea3b(0x246)+'up'),CFG[_0x42ea3b(0x246)+'up']=null,await sendApiOrFallback(_0xa01f,_0x42ea3b(0x154)+_0x42ea3b(0x22e)+'ared.\x20Note'+_0x42ea3b(0x21a)+_0x42ea3b(0x1dd)+_0x42ea3b(0x192)+'on\x20without'+_0x42ea3b(0x152));return;}if(!_0x2683b0[_0x42ea3b(0x20b)]('@')){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x1e5)+_0x42ea3b(0x1f8)+'ude\x20an\x20@\x20('+'e.g.\x201203.'+_0x42ea3b(0x221));return;}const _0xfe7e36=await dbSetConfig(_0x42ea3b(0x246)+'up',_0x2683b0);if(!_0xfe7e36){await sendApiOrFallback(_0xa01f,_0x42ea3b(0x158)+_0x42ea3b(0x23a)+'led\x20for\x20'+_0x2683b0);return;}CFG['notify_gro'+'up']=_0x2683b0,await sendApiOrFallback(_0xa01f,_0x42ea3b(0x154)+_0x42ea3b(0x160)+_0x42ea3b(0x218)+_0x2683b0);return;}if(_0x476c39===_0x42ea3b(0x1a6)+_0x42ea3b(0x215)){const _0x337c8b=CFG['ENABLED']?'on':_0x42ea3b(0x21e),_0x161e58=CFG['notify_gro'+'up']||_0x42ea3b(0x15f)+'QUIRED\x20TO\x20'+_0x42ea3b(0x23c),_0x2a0616=await dbListGroups(),_0x304fbe=['*Additions'+'\x20Notifier\x20'+_0x42ea3b(0x23b),_0x42ea3b(0x18c)+_0x337c8b+'*',_0x42ea3b(0x153)+_0x42ea3b(0x189)+_0x161e58+'*',_0x42ea3b(0x13f)+_0x42ea3b(0x188)+(_0x2a0616['length']||-0x8e+0x9*-0x2f0+0x566*0x5)+'*'];await sendApiOrFallback(_0xa01f,_0x304fbe[_0x42ea3b(0x1b0)]('\x0a'));if(_0x2a0616[_0x42ea3b(0x233)]){const _0x36f452=_0x2a0616['map']((_0x5c0908,_0xa3c565)=>_0xa3c565+(-0x4*0x2df+0x2*-0x136b+0x3253)+'.\x20'+_0x5c0908),_0x2c5a94=chunkLines(_0x36f452,-0x1*0xaba+0xc7*0xf+0x1*0x3c1);for(const _0x1f719d of _0x2c5a94)await sendApiOrFallback(_0xa01f,_0x1f719d);}return;}}catch(_0x435b5a){error(_0x435b5a,'['+name+(_0x42ea3b(0x162)+'e\x20error:\x20')+(_0x435b5a?.['message']||_0x435b5a));}}export async function cleanup(){const _0x5164f4=_0x5489ab;try{for(const _0x58a08 of groupTimers[_0x5164f4(0x183)]())try{clearTimeout(_0x58a08);}catch(_0x115891){}groupTimers[_0x5164f4(0x18a)](),groupQueues[_0x5164f4(0x18a)]();try{stopManagedListener(name,'group-part'+_0x5164f4(0x211)+_0x5164f4(0x213));}catch(_0x39f233){}}catch(_0x386692){warn('['+name+(_0x5164f4(0x1ab)+'error:\x20')+(_0x386692?.[_0x5164f4(0x1b6)]||_0x386692));}finally{botRef=null,info('['+name+(_0x5164f4(0x16c)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};