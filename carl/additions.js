const _0x139934=_0xe374;(function(_0x46322e,_0x94d5f0){const _0x47cae1=_0xe374,_0xb95d92=_0x46322e();while(!![]){try{const _0x4eb984=-parseInt(_0x47cae1(0x23f))/(0x1*-0x973+-0x1d2e+0xa*0x3dd)+parseInt(_0x47cae1(0x231))/(0xdd*0x29+-0x332*0x1+-0x2031)*(parseInt(_0x47cae1(0x275))/(-0x8b2+0x11*0x132+-0xb9d))+parseInt(_0x47cae1(0x245))/(0x1*-0xc7a+0x22b*0xf+0x1407*-0x1)*(-parseInt(_0x47cae1(0x292))/(-0x18*0x40+-0x1d8a+0x238f))+parseInt(_0x47cae1(0x1c2))/(-0x20b+0x1f4e+0xf*-0x1f3)*(-parseInt(_0x47cae1(0x24a))/(0xe5*-0x22+-0x1b*0x22+0x2207))+-parseInt(_0x47cae1(0x239))/(0x4d*-0xe+0x14f2+0x42d*-0x4)*(parseInt(_0x47cae1(0x24f))/(-0x2495+0x1a6d+0xa31))+-parseInt(_0x47cae1(0x202))/(0x4*0x241+-0x1f+-0x8db)*(parseInt(_0x47cae1(0x208))/(0x191a+0x1c04+0x7*-0x795))+parseInt(_0x47cae1(0x18e))/(-0x233e+-0x30b+0x2655);if(_0x4eb984===_0x94d5f0)break;else _0xb95d92['push'](_0xb95d92['shift']());}catch(_0x78a480){_0xb95d92['push'](_0xb95d92['shift']());}}}(_0x9aae,-0x17a23b+-0x10c8b9+0xadb*0x4d5));import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';function _0x9aae(){const _0x5d7f04=['Config\x20fai','isCommand','âœ…\x20addition','tadata','string','s_config\x20(','keys','object',']\x20DB\x20schem','\x20key\x20=\x20?\x20L','ing\x20`addit','a\x20ensured','itions\x20on|','additions','extendedTe','\x20or\x20indice','tems\x20to\x20de','reshed\x20(en','@g.us','target\x20cle','10sRaCXj','ditions_co','(none\x20-\x20RE','pdate',']\x20dbGetCon','index','ed:\x20','up_jid\x20FRO','ded.value;','imageMessa','isNaN','monitor\x20us','s\x20from\x20lis','\x20listener\x20','Notify\x20tar','rget','Usage:\x20add','removeaddi',']\x20runtime\x20','on\x20target\x20','st.','Failed\x20to\x20','additionst','name','provided.',',\x20debounce','emoved.','error:\x20','ðŸ‘¥\x20@','dditions\x20s','led:\x20','onfigured.','\x20managed\x20l','buttonsRes','exec',']\x20no\x20send\x20','enabled','notify','ctReply','itiontarge','39663180bNrPkP','atus',']\x20cleaned\x20','ue\x20=\x20exclu','g\x20summary\x20','isArray','jid)\x20DO\x20NO','caption','system@sys','DELETE\x20FRO','message','from','erForGroup','wId','itions\x20sum','ons_config','replace','function','d\x20/\x20invali','arget`\x20fir','IF\x20NOT\x20EXI','\x20group\x20to\x20','ongroups',')\x20VALUES\x20(','ngroup','listadditi','\x20value\x20TEX','groupMetad','oups','push','ARY\x20KEY\x0a\x20\x20','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','e\x20error:\x20','ATE\x20TABLE\x20','true','t\x20<target_','config\x20ref',']\x20hotReloa','ts_added','xtMessage','\x20must\x20incl','up\x20error:\x20','values','ary\x20failed','group\x20JIDs','\x20least\x20one','abled=','roups.','toLowerCas','disabled','t:\x20','get','1374YyKmpA','groups:\x20*','size',')\x20ON\x20CONFL','\x20\x20\x20\x20);\x0a\x20\x20\x20','r:\x20','JID\x20using\x20','_ms=','split','itiongroup','surface\x20av','..@g.us)','`additiont','ude\x20an\x20@\x20(',']\x20Sent\x20add','value','trim','\x20key\x20TEXT\x20','Or:\x0aadditi','all','endsWith','\x20error','update\x20add','rget\x20is\x20se','seMessage','\x20<group_ji','subject','groups\x20to\x20','target\x20fai','action','text','nfig\x20WHERE','STS\x20additi','untimeConf',']\x20dbDelete','clear','INSERT\x20INT','M\x20addition','Enabled:\x20*','be\x20turned\x20','sendMessag','*Additions','sock','o\x20register','istener:\x20','oup','selectedRo','jid|clear>','test','No\x20valid\x20g','unshift','âœ…\x20Added:\x0a','set','filter','admin','\x20TEXT\x20PRIM','pMonitored','length','slice','\x0a\x0aðŸ“›\x20Group:','selectedBu','T\x0a\x20\x20\x20\x20\x20\x20);',']\x20onMessag','off','10YLCnjD','up\x20error\x20f',']\x20sendApiO','debounce_m','dConfig\x20ap','failed:\x20','516351BbTvqF',']\x20refreshR','map','\x20VALUES\x20(?','ata','n\x20groups\x20c','[,index,..','âš ï¸\x20Skipped/','ig\x20failed:','catch','oups\x20faile','O\x20addition','Monitored\x20','participan','type','Y,\x0a\x20\x20\x20\x20\x20\x20\x20','ase\x20set\x20a\x20','1.4.0','deladditio','âŒ\x20Cannot\x20e',']\x20failed\x20t','âŒ\x20Failed\x20t','RDER\x20BY\x20gr','s_groups\x20W','groupJid','e.g.\x201203.','vname','\x20requires\x20','ponseMessa','\x20to\x20','No\x20valid\x20i',']\x20flushGro','notify_gro','\x20->\x20target','listRespon',']\x20dbAddGro',']\x20flushAdd','join','Target\x20JID','getGroupMe','onWhatsApp','16QKexQu',':\x20The\x20syst','âœ…\x20Removed:','DEBOUNCE_M','additiongr','plied\x20(cha','Usage:\x20del','oup_jid','447880dcKttA','additionta','add','mary\x20for\x20g','_jid>...]\x0a','ared.\x20Note','872459CIAJOL','_jid\x20=\x20?\x20L','nged\x20keys:','Group\x20erro',']\x20initiali','target\x20set','2287856wkVjqf','run','ongroup\x0a<j','ADDITIONS','initialize','37786vIaVBK','led\x20for\x20','group_jid)','icipants.u','ror:\x20','72vIZKXz','\x20group_jid','HERE\x20group','QUIRED)','groupId','IMIT\x201','.]>\x0aUse\x20li','roup=','includes','jid','d:\x20','rFallback\x20','up\x20failed:','or\x20','delete','for\x20','ICT(group_','ummary','Group\x20fail','HERE\x20key\x20=','\x0a\x20\x20\x20\x20\x20\x20CRE','group-part','see\x20indice','ttonId','conversati','key','author','ENABLED','has',']\x20gpUpdate','zed','off\x0aCurren','remoteJid','ndler\x20erro','id1>\x0a<jid2','dConfig\x20ha','Status*\x0a','invoker','461583dKLcRD','tiongroup','singleSele','ons_groups',']\x20ensureSc','for\x20group-','nable.\x20Ple','TE\x20SET\x20val','\x0aCurrent:\x20'];_0x9aae=function(){return _0x5d7f04;};return _0x9aae();}import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import*as _0x45551f from'../utils/groups.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';export const name=_0x139934(0x28b);export const version=_0x139934(0x219);export const priority=0x1644+-0x4f*-0x67+-0x35b3;export const configKeys=[_0x139934(0x248)];export const commands=['additiongr'+_0x139934(0x1ef),_0x139934(0x21a)+_0x139934(0x1a6),_0x139934(0x177)+'tiongroup',_0x139934(0x1a7)+'ongroups',_0x139934(0x235)+_0x139934(0x1aa),_0x139934(0x28b),_0x139934(0x23a)+_0x139934(0x175),_0x139934(0x17c)+_0x139934(0x18f)];let botRef=null;const groupQueues=new Map(),groupTimers=new Map();let CFG={'ENABLED':![],'DEBOUNCE_MS':0xbb8,'notify_group':null};const DEDUPE_TTL_MS=(-0x5ec*0x3+-0x152*0x1+0x1334)*(0x2*0xc47+0x805+-0x1cab),processedMessageKeys=new Map();function markProcessed(_0x351380){const _0x5df3f3=_0x139934;if(!_0x351380)return;if(processedMessageKeys[_0x5df3f3(0x26b)](_0x351380))try{clearTimeout(processedMessageKeys[_0x5df3f3(0x1c1)](_0x351380));}catch(_0x4c0c3c){}const _0x3add05=setTimeout(()=>processedMessageKeys[_0x5df3f3(0x25d)](_0x351380),DEDUPE_TTL_MS);processedMessageKeys[_0x5df3f3(0x1f6)](_0x351380,_0x3add05);}function isProcessed(_0x4a854b){const _0xfc4861=_0x139934;return _0x4a854b&&processedMessageKeys[_0xfc4861(0x26b)](_0x4a854b);}async function ensureSchema(){const _0x1d92e4=_0x139934;try{await db[_0x1d92e4(0x188)]('\x0a\x20\x20\x20\x20\x20\x20CRE'+'ATE\x20TABLE\x20'+_0x1d92e4(0x1a2)+'STS\x20additi'+_0x1d92e4(0x19d)+_0x1d92e4(0x1ad)+_0x1d92e4(0x1d3)+'PRIMARY\x20KE'+_0x1d92e4(0x217)+_0x1d92e4(0x1a8)+_0x1d92e4(0x1ff)+'\x0a\x20\x20\x20\x20'),await db[_0x1d92e4(0x188)](_0x1d92e4(0x263)+_0x1d92e4(0x1af)+_0x1d92e4(0x1a2)+_0x1d92e4(0x1e2)+_0x1d92e4(0x278)+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x1d92e4(0x250)+_0x1d92e4(0x1f9)+_0x1d92e4(0x1ac)+_0x1d92e4(0x1c6)+'\x20'),info('['+name+(_0x1d92e4(0x286)+_0x1d92e4(0x289)));}catch(_0x5d600f){error(_0x5d600f,'['+name+(_0x1d92e4(0x279)+'hema\x20faile'+_0x1d92e4(0x259))+(_0x5d600f?.[_0x1d92e4(0x198)]||_0x5d600f));throw _0x5d600f;}}async function dbSetConfig(_0x2b5734,_0x34b5f3){const _0x3fd6bc=_0x139934;try{return await db[_0x3fd6bc(0x246)](_0x3fd6bc(0x1e6)+'O\x20addition'+_0x3fd6bc(0x283)+'key,\x20value'+_0x3fd6bc(0x1a5)+'?,\x20?)\x20ON\x20C'+'ONFLICT(ke'+'y)\x20DO\x20UPDA'+_0x3fd6bc(0x27c)+_0x3fd6bc(0x191)+_0x3fd6bc(0x16e),[_0x2b5734,String(_0x34b5f3)]),!![];}catch(_0x1e9942){return warn('['+name+(']\x20dbSetCon'+'fig\x20failed'+':\x20')+(_0x1e9942?.[_0x3fd6bc(0x198)]||_0x1e9942)),![];}}async function dbGetConfig(_0x1b2a2b){const _0x318f8a=_0x139934;try{const _0x1e18dd=await db['get']('SELECT\x20val'+'ue\x20FROM\x20ad'+_0x318f8a(0x167)+_0x318f8a(0x1e1)+_0x318f8a(0x287)+_0x318f8a(0x254),[_0x1b2a2b]);return _0x1e18dd?_0x1e18dd['value']:null;}catch(_0x413ce1){return warn('['+name+(_0x318f8a(0x16a)+'fig\x20failed'+':\x20')+(_0x413ce1?.['message']||_0x413ce1)),null;}}async function dbDeleteConfig(_0x50fa6a){const _0x265da1=_0x139934;try{return await db[_0x265da1(0x246)]('DELETE\x20FRO'+'M\x20addition'+'s_config\x20W'+_0x265da1(0x262)+'\x20?',[_0x50fa6a]),!![];}catch(_0x1fd43a){return warn('['+name+(_0x265da1(0x1e4)+_0x265da1(0x27e)+_0x265da1(0x184))+(_0x1fd43a?.[_0x265da1(0x198)]||_0x1fd43a)),![];}}async function dbAddGroup(_0x2aec7d){const _0x2ba0ae=_0x139934;try{return await db[_0x2ba0ae(0x246)](_0x2ba0ae(0x1e6)+_0x2ba0ae(0x213)+'s_groups\x20('+_0x2ba0ae(0x24c)+_0x2ba0ae(0x20b)+_0x2ba0ae(0x1c5)+_0x2ba0ae(0x25f)+_0x2ba0ae(0x194)+'THING;',[_0x2aec7d]),!![];}catch(_0x2a8471){return warn('['+name+(']\x20dbAddGro'+_0x2ba0ae(0x25b)+'\x20')+(_0x2a8471?.[_0x2ba0ae(0x198)]||_0x2a8471)),![];}}async function dbRemoveGroup(_0x1a353b){const _0x4a5255=_0x139934;try{const _0x4d55ef=await db[_0x4a5255(0x246)](_0x4a5255(0x197)+_0x4a5255(0x1e7)+_0x4a5255(0x21f)+'HERE\x20group'+'_jid\x20=\x20?',[_0x1a353b]);return!!_0x4d55ef?.['changes'];}catch(_0x5b1678){return warn('['+name+(']\x20dbRemove'+_0x4a5255(0x261)+'ed:\x20')+(_0x5b1678?.[_0x4a5255(0x198)]||_0x5b1678)),![];}}async function dbListGroups(){const _0x5c789f=_0x139934;try{const _0x3bb333=await db[_0x5c789f(0x1d5)]('SELECT\x20gro'+'up_jid\x20FRO'+_0x5c789f(0x1e7)+'s_groups\x20O'+_0x5c789f(0x21e)+_0x5c789f(0x238));return(_0x3bb333||[])[_0x5c789f(0x20a)](_0x4d3a66=>_0x4d3a66['group_jid']);}catch(_0xf0a7d8){return warn('['+name+(']\x20dbListGr'+_0x5c789f(0x212)+_0x5c789f(0x259))+(_0xf0a7d8?.[_0x5c789f(0x198)]||_0xf0a7d8)),[];}}async function dbIsGroupMonitored(_0x41af51){const _0x98bcc2=_0x139934;try{const _0x4892f7=await db['get']('SELECT\x20gro'+_0x98bcc2(0x16d)+_0x98bcc2(0x1e7)+_0x98bcc2(0x21f)+_0x98bcc2(0x251)+_0x98bcc2(0x240)+'IMIT\x201',[_0x41af51]);return!!_0x4892f7;}catch(_0x513a89){return warn('['+name+(']\x20dbIsGrou'+_0x98bcc2(0x1fa)+'\x20failed:\x20')+(_0x513a89?.['message']||_0x513a89)),![];}}async function refreshRuntimeConfig(){const _0x30f720=_0x139934;try{const _0x1de2ca=getConfig()||{},_0x21829d=_0x1de2ca[_0x30f720(0x248)]&&typeof _0x1de2ca[_0x30f720(0x248)]===_0x30f720(0x285)?_0x1de2ca['ADDITIONS']:{};CFG['DEBOUNCE_M'+'S']=Number['isInteger'](_0x21829d[_0x30f720(0x234)+'S'])?_0x21829d[_0x30f720(0x234)+'S']:-0x1a*-0x152+-0x3fa*0x4+-0x8f*0xc;const _0x2fe9a5=await dbGetConfig(_0x30f720(0x18a));CFG[_0x30f720(0x26a)]=_0x2fe9a5==='1'||_0x2fe9a5===_0x30f720(0x1b0);const _0x110011=await dbGetConfig(_0x30f720(0x205)+'s');if(_0x110011!==null&&!Number[_0x30f720(0x170)](Number(_0x110011)))CFG[_0x30f720(0x234)+'S']=Number(_0x110011);const _0x5e15e7=await dbGetConfig(_0x30f720(0x228)+'up');CFG['notify_gro'+'up']=_0x5e15e7||null,info('['+name+(_0x30f720(0x178)+_0x30f720(0x1b2)+_0x30f720(0x28f)+_0x30f720(0x1bc))+CFG['ENABLED']+(_0x30f720(0x17f)+_0x30f720(0x1c9))+CFG[_0x30f720(0x234)+'S']+(',\x20notify_g'+_0x30f720(0x256))+CFG[_0x30f720(0x228)+'up']+')');}catch(_0x3949ae){warn('['+name+(_0x30f720(0x209)+_0x30f720(0x1e3)+_0x30f720(0x210)+'\x20')+(_0x3949ae?.[_0x30f720(0x198)]||_0x3949ae));}}function _0xe374(_0x4190d6,_0x15c3af){const _0xc99261=_0x9aae();return _0xe374=function(_0x3d171f,_0x4adcaf){_0x3d171f=_0x3d171f-(0x54c+-0x6e6+0x301*0x1);let _0x567bd7=_0xc99261[_0x3d171f];return _0x567bd7;},_0xe374(_0x4190d6,_0x15c3af);}try{hotReloadConfig&&hotReloadConfig(_0x158e67=>{const _0x4d1ef4=_0x139934;try{refreshRuntimeConfig(),info('['+name+(_0x4d1ef4(0x1b3)+_0x4d1ef4(0x206)+_0x4d1ef4(0x236)+_0x4d1ef4(0x241)+'\x20')+(_0x158e67||[])[_0x4d1ef4(0x22d)](',')+')');}catch(_0x2822a8){warn('['+name+(_0x4d1ef4(0x1b3)+_0x4d1ef4(0x272)+_0x4d1ef4(0x270)+_0x4d1ef4(0x1c7))+(_0x2822a8?.[_0x4d1ef4(0x198)]||_0x2822a8));}});}catch(_0x30e4ae){warn('['+name+(_0x139934(0x1b3)+'dConfig\x20re'+'gistration'+'\x20failed:\x20')+(_0x30e4ae?.['message']||_0x30e4ae));}async function resolveDisplayName(_0x535034){const _0x47d39d=_0x139934;try{if(!botRef||!_0x535034)return _0x535034?.['split']?.('@')?.[-0x89*0x1f+0x1df5+-0xd5e]??_0x535034;try{if(typeof botRef[_0x47d39d(0x230)]==='function'){const _0x3450c5=await botRef[_0x47d39d(0x230)](_0x535034);if(Array[_0x47d39d(0x193)](_0x3450c5)&&_0x3450c5[_0x47d39d(0x1fb)]>0x16e3+-0x17a+-0x1569){const _0x4e6d68=_0x3450c5[0x1*0xe98+0xcc4+-0x1b5c];if(_0x4e6d68&&(_0x4e6d68[_0x47d39d(0x18b)]||_0x4e6d68['vname']||_0x4e6d68[_0x47d39d(0x17d)]))return _0x4e6d68[_0x47d39d(0x18b)]||_0x4e6d68[_0x47d39d(0x222)]||_0x4e6d68[_0x47d39d(0x17d)];}}if(botRef[_0x47d39d(0x1ec)]&&typeof botRef[_0x47d39d(0x1ec)]['onWhatsApp']===_0x47d39d(0x19f)){const _0x3d8886=await botRef[_0x47d39d(0x1ec)][_0x47d39d(0x230)](_0x535034);if(Array[_0x47d39d(0x193)](_0x3d8886)&&_0x3d8886[_0x47d39d(0x1fb)]>-0x18ac+-0x2289+0x3b35){const _0x2ed4b0=_0x3d8886[0x2*-0x51a+0xa*-0x251+-0x2*-0x10af];if(_0x2ed4b0&&(_0x2ed4b0['notify']||_0x2ed4b0[_0x47d39d(0x222)]||_0x2ed4b0[_0x47d39d(0x17d)]))return _0x2ed4b0[_0x47d39d(0x18b)]||_0x2ed4b0[_0x47d39d(0x222)]||_0x2ed4b0[_0x47d39d(0x17d)];}}}catch(_0x578e70){}const _0x3a939d=String(_0x535034)[_0x47d39d(0x1ca)](':')['pop']()[_0x47d39d(0x1ca)]('@')[0xbc8+0x51*0x20+-0x2bd*0x8];return _0x3a939d||_0x535034;}catch(_0x3f2fe6){return _0x535034?.[_0x47d39d(0x1ca)]?.('@')?.[-0x8*-0x42d+0x6*-0x37e+0x2*-0x63a]??_0x535034;}}async function getGroupTitle(_0xa04a29){const _0x1fd79f=_0x139934;try{if(!botRef)return _0xa04a29;if(botRef[_0x1fd79f(0x1ec)]&&typeof botRef[_0x1fd79f(0x1ec)][_0x1fd79f(0x1a9)+_0x1fd79f(0x20c)]===_0x1fd79f(0x19f)){const _0x487675=await botRef['sock']['groupMetad'+_0x1fd79f(0x20c)](_0xa04a29)[_0x1fd79f(0x211)](()=>null);if(_0x487675&&_0x487675['subject'])return _0x487675['subject'];}if(typeof botRef[_0x1fd79f(0x22f)+_0x1fd79f(0x281)]===_0x1fd79f(0x19f)){const _0x3a7ff5=await botRef['getGroupMe'+_0x1fd79f(0x281)](_0xa04a29)[_0x1fd79f(0x211)](()=>null);if(_0x3a7ff5&&_0x3a7ff5[_0x1fd79f(0x1dc)])return _0x3a7ff5[_0x1fd79f(0x1dc)];}return _0xa04a29;}catch(_0x1d36f3){return _0xa04a29;}}async function sendSummary(_0x1d3a4c,_0x4f6d0c,_0x38736f){const _0x2b4404=_0x139934;try{if(!botRef)return;if(!CFG[_0x2b4404(0x228)+'up']){warn('['+name+(']\x20No\x20notif'+'y_group\x20ta'+_0x2b4404(0x1d9)+'t.\x20Skippin'+_0x2b4404(0x192)+_0x2b4404(0x25e))+_0x1d3a4c+'.');return;}const _0x2c32da=await resolveDisplayName(_0x4f6d0c),_0xabd3ba=[],_0x241d03=[];for(const _0x3c9501 of _0x38736f){const _0x8efbfe=await resolveDisplayName(_0x3c9501);_0xabd3ba[_0x2b4404(0x1ab)](_0x3c9501),_0x241d03[_0x2b4404(0x1ab)]('\x20\x20@'+String(_0x8efbfe)[_0x2b4404(0x19e)](/\n/g,'\x20'));}if(!_0xabd3ba[_0x2b4404(0x257)](_0x4f6d0c))_0xabd3ba[_0x2b4404(0x1f4)](_0x4f6d0c);const _0x437474=await getGroupTitle(_0x1d3a4c),_0x545b98=_0x2b4404(0x182)+String(_0x2c32da)[_0x2b4404(0x19e)](/\n/g,'\x20')+'\x20added:\x0a',_0x2c01fb=_0x241d03[_0x2b4404(0x22d)]('\x0a'),_0x48db3f=_0x2b4404(0x1fd)+'\x20'+_0x437474+'\x20('+_0x1d3a4c+')',_0x570327=_0x545b98+_0x2c01fb+_0x48db3f,_0x115d9d=CFG[_0x2b4404(0x228)+'up'];if(botRef&&typeof botRef['sendMessag'+'e']===_0x2b4404(0x19f))await botRef['sendMessag'+'e'](_0x115d9d,{'text':_0x570327,'mentions':_0xabd3ba});else botRef&&botRef[_0x2b4404(0x1ec)]&&typeof botRef[_0x2b4404(0x1ec)]['sendMessag'+'e']===_0x2b4404(0x19f)?await botRef[_0x2b4404(0x1ec)]['sendMessag'+'e'](_0x115d9d,{'text':_0x570327,'mentions':_0xabd3ba}):warn('['+name+(_0x2b4404(0x189)+'surface\x20to'+'\x20deliver\x20a'+_0x2b4404(0x183)+_0x2b4404(0x260)));info('['+name+(_0x2b4404(0x1d0)+_0x2b4404(0x19c)+_0x2b4404(0x23c)+'roup\x20')+_0x1d3a4c+(_0x2b4404(0x229)+'\x20')+_0x115d9d);}catch(_0x29bdd2){warn('['+name+(']\x20sendSumm'+_0x2b4404(0x1b9)+':\x20')+(_0x29bdd2?.[_0x2b4404(0x198)]||_0x29bdd2));}}async function flushAdderForGroup(_0x221f82,_0x3ef5bc){const _0x21af24=_0x139934;try{if(!botRef)return;const _0xae3f5f=groupQueues[_0x21af24(0x1c1)](_0x221f82);if(!_0xae3f5f)return;const _0x230d84=_0xae3f5f[_0x21af24(0x1c1)](_0x3ef5bc);if(!_0x230d84||_0x230d84[_0x21af24(0x1c4)]===-0x2261+-0x22de*0x1+0x453f){_0xae3f5f['delete'](_0x3ef5bc);if(_0xae3f5f[_0x21af24(0x1c4)]===0x1ed6+-0x1c9a+-0x23c)groupQueues[_0x21af24(0x25d)](_0x221f82);return;}const _0x1b3299=Array['from'](_0x230d84);await sendSummary(_0x221f82,_0x3ef5bc,_0x1b3299);}catch(_0x2ce992){error(_0x2ce992,'['+name+(_0x21af24(0x22c)+_0x21af24(0x19a)+_0x21af24(0x1d7)));}finally{const _0x56cd04=groupQueues[_0x21af24(0x1c1)](_0x221f82);if(_0x56cd04){_0x56cd04[_0x21af24(0x25d)](_0x3ef5bc);if(_0x56cd04[_0x21af24(0x1c4)]===0x2616+-0x1045+-0x15d1)groupQueues[_0x21af24(0x25d)](_0x221f82);}}}async function flushGroup(_0x358157){const _0x47ceb5=_0x139934;try{const _0xd472fe=groupQueues[_0x47ceb5(0x1c1)](_0x358157);if(!_0xd472fe)return;const _0x59642b=Array[_0x47ceb5(0x199)](_0xd472fe[_0x47ceb5(0x284)]());for(const _0xb975d7 of _0x59642b){await flushAdderForGroup(_0x358157,_0xb975d7);}}catch(_0x201c1f){error(_0x201c1f,'['+name+(']\x20flushGro'+_0x47ceb5(0x1b7))+(_0x201c1f?.[_0x47ceb5(0x198)]||_0x201c1f));}finally{if(groupTimers[_0x47ceb5(0x26b)](_0x358157)){try{clearTimeout(groupTimers[_0x47ceb5(0x1c1)](_0x358157));}catch(_0x108e6d){}groupTimers[_0x47ceb5(0x25d)](_0x358157);}if(groupQueues[_0x47ceb5(0x1c1)](_0x358157)&&groupQueues['get'](_0x358157)[_0x47ceb5(0x1c4)]===-0x1a2*-0xa+-0x22bd+0x1269)groupQueues[_0x47ceb5(0x25d)](_0x358157);}}async function gpUpdateHandler(_0x35e968){const _0x442cbd=_0x139934;try{if(!_0x35e968)return;if(!CFG[_0x442cbd(0x26a)])return;const _0xc32f30=_0x35e968[_0x442cbd(0x1df)]||_0x35e968[_0x442cbd(0x216)]||null;if(!_0xc32f30)return;if(String(_0xc32f30)['toLowerCas'+'e']()!==_0x442cbd(0x23b))return;const _0x5d02e7=_0x35e968['id']||_0x35e968[_0x442cbd(0x253)]||_0x35e968['jid']||_0x35e968[_0x442cbd(0x220)];if(!_0x5d02e7)return;const _0x33bc9f=await dbIsGroupMonitored(_0x5d02e7);if(!_0x33bc9f)return;const _0xe9c2e7=Array[_0x442cbd(0x193)](_0x35e968[_0x442cbd(0x215)+'ts'])?_0x35e968[_0x442cbd(0x215)+'ts']:Array['isArray'](_0x35e968[_0x442cbd(0x215)+_0x442cbd(0x1b4)])?_0x35e968[_0x442cbd(0x215)+_0x442cbd(0x1b4)]:[];if(!_0xe9c2e7||_0xe9c2e7[_0x442cbd(0x1fb)]===-0xc0b*0x2+-0x20d4+0x38ea)return;const _0xc782bb=_0x35e968['actor']||_0x35e968[_0x442cbd(0x269)]||_0x35e968['by']||_0x35e968['initiator']||_0x35e968[_0x442cbd(0x1f8)]||_0x35e968[_0x442cbd(0x274)]||_0x442cbd(0x196)+'tem';if(!groupQueues['has'](_0x5d02e7))groupQueues[_0x442cbd(0x1f6)](_0x5d02e7,new Map());const _0x6f0a6=groupQueues[_0x442cbd(0x1c1)](_0x5d02e7);if(!_0x6f0a6['has'](_0xc782bb))_0x6f0a6[_0x442cbd(0x1f6)](_0xc782bb,new Set());const _0x5c902a=_0x6f0a6[_0x442cbd(0x1c1)](_0xc782bb);for(const _0x2f21f3 of _0xe9c2e7)_0x5c902a[_0x442cbd(0x23b)](_0x2f21f3);if(groupTimers[_0x442cbd(0x26b)](_0x5d02e7))try{clearTimeout(groupTimers[_0x442cbd(0x1c1)](_0x5d02e7));}catch(_0x9764bf){}const _0x358be0=Math['max'](-0x2467*0x1+0x44b+0x20*0x104,Number(CFG['DEBOUNCE_M'+'S']||0x1f42+0x484*0x1+-0x180e)),_0x59b260=setTimeout(()=>{const _0x3280d9=_0x442cbd;flushGroup(_0x5d02e7)[_0x3280d9(0x211)](_0x50ce52=>warn('['+name+(_0x3280d9(0x227)+_0x3280d9(0x25b)+'\x20')+(_0x50ce52?.[_0x3280d9(0x198)]||_0x50ce52)));},_0x358be0);groupTimers[_0x442cbd(0x1f6)](_0x5d02e7,_0x59b260);}catch(_0x5a2746){warn('['+name+(_0x442cbd(0x26c)+'Handler\x20er'+_0x442cbd(0x24e))+(_0x5a2746?.[_0x442cbd(0x198)]||_0x5a2746));}}function extractTextFromMessage(_0x247ade){const _0xcfc8bb=_0x139934;if(!_0x247ade||!_0x247ade[_0xcfc8bb(0x198)])return'';const _0x5dd0c0=_0x247ade[_0xcfc8bb(0x198)];if(_0x5dd0c0[_0xcfc8bb(0x267)+'on'])return _0x5dd0c0[_0xcfc8bb(0x267)+'on'];if(_0x5dd0c0[_0xcfc8bb(0x28c)+_0xcfc8bb(0x1b5)]?.['text'])return _0x5dd0c0['extendedTe'+_0xcfc8bb(0x1b5)][_0xcfc8bb(0x1e0)];if(_0x5dd0c0[_0xcfc8bb(0x16f)+'ge']?.[_0xcfc8bb(0x195)])return _0x5dd0c0[_0xcfc8bb(0x16f)+'ge'][_0xcfc8bb(0x195)];if(_0x5dd0c0['videoMessa'+'ge']?.[_0xcfc8bb(0x195)])return _0x5dd0c0['videoMessa'+'ge'][_0xcfc8bb(0x195)];if(_0x5dd0c0[_0xcfc8bb(0x187)+_0xcfc8bb(0x224)+'ge']?.[_0xcfc8bb(0x1fe)+_0xcfc8bb(0x266)])return _0x5dd0c0[_0xcfc8bb(0x187)+_0xcfc8bb(0x224)+'ge'][_0xcfc8bb(0x1fe)+_0xcfc8bb(0x266)];if(_0x5dd0c0[_0xcfc8bb(0x22a)+_0xcfc8bb(0x1da)]?.[_0xcfc8bb(0x277)+_0xcfc8bb(0x18c)]?.[_0xcfc8bb(0x1f0)+_0xcfc8bb(0x19b)])return _0x5dd0c0[_0xcfc8bb(0x22a)+_0xcfc8bb(0x1da)]['singleSele'+'ctReply'][_0xcfc8bb(0x1f0)+_0xcfc8bb(0x19b)];return'';}function detectCommandName(_0x38899e){const _0xc6e37a=_0x139934;if(!_0x38899e)return null;const _0xfdb432=_0x38899e[_0xc6e37a(0x1d2)]();if(!_0xfdb432)return null;return _0xfdb432[_0xc6e37a(0x1ca)](/\s+/)[0x1f11+-0x1ec1*0x1+-0x50][_0xc6e37a(0x1be)+'e']();}function parseJidsFromText(_0x2da183){const _0x4e7aec=_0x139934;if(!_0x2da183)return[];const _0x25b0f9=_0x2da183[_0x4e7aec(0x1ca)](/[\s,]+/)[_0x4e7aec(0x20a)](_0x42645d=>_0x42645d[_0x4e7aec(0x1d2)]())[_0x4e7aec(0x1f7)](Boolean),_0x155f2a=_0x25b0f9[_0x4e7aec(0x1f7)](_0x309506=>_0x309506[_0x4e7aec(0x257)]('@'))['map'](_0x33c03e=>_0x33c03e);return _0x155f2a;}function parseDeleteItems(_0x80ca9b){const _0x5357cf=_0x139934;if(!_0x80ca9b)return[];const _0x2aca89=_0x80ca9b[_0x5357cf(0x1ca)](/[\s,]+/)[_0x5357cf(0x20a)](_0x3bdd33=>_0x3bdd33[_0x5357cf(0x1d2)]())[_0x5357cf(0x1f7)](Boolean),_0x3f0e1f=_0x2aca89['map'](_0x5e4bfb=>{const _0x3e0a06=_0x5357cf;if(/^\d+$/[_0x3e0a06(0x1f2)](_0x5e4bfb))return{'type':_0x3e0a06(0x16b),'value':Number(_0x5e4bfb)};return{'type':_0x3e0a06(0x258),'value':_0x5e4bfb};});return _0x3f0e1f;}async function sendApiOrFallback(_0x44c033,_0xf52a63,_0x309419=[]){const _0x290627=_0x139934;try{if(!_0x44c033||!_0xf52a63)return;if(botRef&&typeof botRef[_0x290627(0x1ea)+'e']===_0x290627(0x19f))await botRef[_0x290627(0x1ea)+'e'](_0x44c033,{'text':String(_0xf52a63),'mentions':_0x309419});else botRef&&botRef[_0x290627(0x1ec)]&&typeof botRef[_0x290627(0x1ec)][_0x290627(0x1ea)+'e']===_0x290627(0x19f)?await botRef[_0x290627(0x1ec)]['sendMessag'+'e'](_0x44c033,{'text':String(_0xf52a63),'mentions':_0x309419}):warn('['+name+(']\x20no\x20send\x20'+_0x290627(0x1cc)+'ailable\x20fo'+'r\x20confirma'+'tion\x20to\x20')+_0x44c033);}catch(_0x155938){warn('['+name+(_0x290627(0x204)+_0x290627(0x25a)+_0x290627(0x207))+(_0x155938?.[_0x290627(0x198)]||_0x155938));}}function chunkLines(_0x94d617,_0x58620b=-0x12f+0x90e+0x203*-0x1){const _0x4013c8=_0x139934,_0x5548e3=[];let _0xc73052='';for(const _0x393f9e of _0x94d617){(_0xc73052+'\x0a'+_0x393f9e)[_0x4013c8(0x1fb)]>_0x58620b&&(_0x5548e3[_0x4013c8(0x1ab)](_0xc73052[_0x4013c8(0x1d2)]()),_0xc73052=''),_0xc73052+=(_0xc73052?'\x0a':'')+_0x393f9e;}if(_0xc73052)_0x5548e3[_0x4013c8(0x1ab)](_0xc73052[_0x4013c8(0x1d2)]());return _0x5548e3;}export async function initialize(_0x51898b){const _0x404613=_0x139934;try{if(!_0x51898b)throw new Error('additions.'+_0x404613(0x249)+_0x404613(0x223)+'bot\x20instan'+'ce');botRef=_0x51898b,await ensureSchema(),await refreshRuntimeConfig();try{startManagedListener({'botRef':botRef,'eventName':'group-part'+_0x404613(0x24d)+'pdate','handler':gpUpdateHandler,'moduleName':name}),info('['+name+(']\x20register'+'ed\x20managed'+_0x404613(0x173)+_0x404613(0x27a)+_0x404613(0x215)+'ts.update'));}catch(_0x4382ba){warn('['+name+(_0x404613(0x21c)+_0x404613(0x1ed)+_0x404613(0x186)+_0x404613(0x1ee))+(_0x4382ba?.[_0x404613(0x198)]||_0x4382ba));}info('['+name+(_0x404613(0x243)+_0x404613(0x26d)));}catch(_0x4e894e){error(_0x4e894e,'['+name+(_0x404613(0x243)+'ze\x20error:\x20')+(_0x4e894e?.['message']||_0x4e894e));throw _0x4e894e;}}export async function onMessage(_0x12a00d){const _0xbad97c=_0x139934;try{if(!_0x12a00d||!_0x12a00d[_0xbad97c(0x268)])return;const _0x59b245=String(_0x12a00d[_0xbad97c(0x268)][_0xbad97c(0x26f)]||'')+'::'+String(_0x12a00d['key']['id']||_0x12a00d[_0xbad97c(0x268)][_0xbad97c(0x215)+'t']||'');if(isProcessed(_0x59b245))return;markProcessed(_0x59b245);const _0x4e5060=_0x12a00d[_0xbad97c(0x1e0)]&&typeof _0x12a00d[_0xbad97c(0x1e0)]===_0xbad97c(0x282)?_0x12a00d[_0xbad97c(0x1e0)]:extractTextFromMessage(_0x12a00d)||'';if(!_0x4e5060)return;const _0x1a0ff6=_0x12a00d[_0xbad97c(0x268)]['remoteJid'],_0x313e01=String(_0x1a0ff6||'')[_0xbad97c(0x1d6)](_0xbad97c(0x290));if(!_0x12a00d[_0xbad97c(0x27f)])return;if(!_0x313e01)return;let _0x5a53e0=![];try{_0x5a53e0=await isadmin(botRef,_0x12a00d);}catch(_0xffb436){warn('['+name+(']\x20isadmin\x20'+'check\x20fail'+_0xbad97c(0x16c))+(_0xffb436?.[_0xbad97c(0x198)]||_0xffb436)),_0x5a53e0=![];}if(!_0x5a53e0)return;const _0x24fcfe=typeof _0x12a00d[_0xbad97c(0x1e0)]===_0xbad97c(0x282)&&_0x12a00d['text'][_0xbad97c(0x1d2)]()['length']?_0x12a00d['text']['trim']():_0x4e5060[_0xbad97c(0x1d2)](),_0x1abc87=detectCommandName(_0x24fcfe);if(!_0x1abc87||!commands[_0xbad97c(0x257)](_0x1abc87))return;const _0x14976c=_0x1a0ff6;if(_0x1abc87===_0xbad97c(0x235)+'oup'){const _0x516ae1=_0x24fcfe[_0xbad97c(0x19e)](/^additiongroup\b/i,'')[_0xbad97c(0x1d2)]();let _0x426b5e=[];if(_0x516ae1&&_0x516ae1['length'])_0x426b5e=parseJidsFromText(_0x516ae1);else{const _0x19b9ff=_0x24fcfe['split'](/\r?\n/)[_0xbad97c(0x1fc)](0xafb+0x2*0x8b5+-0x1c64)[_0xbad97c(0x20a)](_0x34c584=>_0x34c584[_0xbad97c(0x1d2)]())[_0xbad97c(0x1f7)](Boolean),_0x2f6c95=_0x19b9ff[_0xbad97c(0x22d)]('\x20');_0x426b5e=parseJidsFromText(_0x2f6c95);}if(!_0x426b5e[_0xbad97c(0x1fb)]){await sendApiOrFallback(_0x14976c,'Usage:\x20add'+_0xbad97c(0x1cb)+_0xbad97c(0x1db)+'d>\x20[<group'+_0xbad97c(0x23d)+_0xbad97c(0x1d4)+_0xbad97c(0x247)+_0xbad97c(0x271)+'>\x0a');return;}const _0x5cf490=[],_0x1cf668=[];for(const _0x2df572 of _0x426b5e){if(!_0x2df572[_0xbad97c(0x257)]('@')){_0x1cf668[_0xbad97c(0x1ab)](_0x2df572);continue;}try{const _0x4274ac=await dbAddGroup(_0x2df572);if(_0x4274ac)_0x5cf490[_0xbad97c(0x1ab)](_0x2df572);else _0x1cf668[_0xbad97c(0x1ab)](_0x2df572);}catch(_0x5e83a4){warn('['+name+(_0xbad97c(0x22b)+_0xbad97c(0x203)+_0xbad97c(0x25c))+_0x2df572+':\x20'+(_0x5e83a4?.[_0xbad97c(0x198)]||_0x5e83a4)),_0x1cf668['push'](_0x2df572);}}const _0x2c39db=[];if(_0x5cf490['length'])_0x2c39db[_0xbad97c(0x1ab)](_0xbad97c(0x1f5)+_0x5cf490[_0xbad97c(0x20a)](_0x28caab=>'â€¢\x20'+_0x28caab)[_0xbad97c(0x22d)]('\x0a'));if(_0x1cf668[_0xbad97c(0x1fb)])_0x2c39db[_0xbad97c(0x1ab)](_0xbad97c(0x20f)+'failed:\x0a'+_0x1cf668[_0xbad97c(0x20a)](_0x4013e0=>'â€¢\x20'+_0x4013e0)[_0xbad97c(0x22d)]('\x0a'));await sendApiOrFallback(_0x14976c,_0x2c39db['join']('\x0a\x0a')||_0xbad97c(0x1f3)+'roup\x20JIDs\x20'+_0xbad97c(0x17e));return;}if(_0x1abc87==='deladditio'+'ngroup'||_0x1abc87===_0xbad97c(0x177)+_0xbad97c(0x276)){const _0x51e908=_0x24fcfe[_0xbad97c(0x19e)](/^(deladditiongroup|removeadditiongroup)\b/i,'')['trim']();if(!_0x51e908){await sendApiOrFallback(_0x14976c,_0xbad97c(0x237)+_0xbad97c(0x235)+'oup\x20<group'+'_jid|index'+_0xbad97c(0x20e)+_0xbad97c(0x255)+'staddition'+_0xbad97c(0x1dd)+_0xbad97c(0x265)+'s.');return;}const _0x4416ad=parseDeleteItems(_0x51e908);if(!_0x4416ad['length']){await sendApiOrFallback(_0x14976c,_0xbad97c(0x226)+_0xbad97c(0x28e)+'lete.\x20Use\x20'+_0xbad97c(0x1ba)+_0xbad97c(0x28d)+_0xbad97c(0x172)+'tadditiong'+_0xbad97c(0x1bd));return;}const _0x1dcf2e=await dbListGroups(),_0x50852d=new Set(),_0x4cb716=[];for(const _0x185964 of _0x4416ad){if(_0x185964[_0xbad97c(0x216)]===_0xbad97c(0x258)){const _0x5ec311=_0x185964[_0xbad97c(0x1d1)];if(_0x1dcf2e[_0xbad97c(0x257)](_0x5ec311))_0x50852d[_0xbad97c(0x23b)](_0x5ec311);else _0x4cb716['push'](_0x5ec311);}else{if(_0x185964[_0xbad97c(0x216)]===_0xbad97c(0x16b)){const _0x523501=_0x185964[_0xbad97c(0x1d1)];if(_0x523501<=0x96e*-0x1+-0xa85*0x1+0x1*0x13f3||_0x523501>_0x1dcf2e[_0xbad97c(0x1fb)]){_0x4cb716[_0xbad97c(0x1ab)](String(_0x523501));continue;}const _0x4029a5=_0x1dcf2e[_0x523501-(0x17*-0x1a1+0x1073+0x1*0x1505)];if(_0x4029a5)_0x50852d['add'](_0x4029a5);}}}const _0x36f11e=[],_0x5f13a9=[];for(const _0x1244e0 of Array['from'](_0x50852d)){try{const _0x38e709=await dbRemoveGroup(_0x1244e0);if(_0x38e709)_0x36f11e[_0xbad97c(0x1ab)](_0x1244e0);else _0x5f13a9[_0xbad97c(0x1ab)](_0x1244e0);}catch(_0x210fc9){warn('['+name+(']\x20dbRemove'+_0xbad97c(0x242)+'r\x20for\x20')+_0x1244e0+':\x20'+(_0x210fc9?.[_0xbad97c(0x198)]||_0x210fc9)),_0x5f13a9['push'](_0x1244e0);}}const _0x27417c=[];if(_0x36f11e[_0xbad97c(0x1fb)])_0x27417c[_0xbad97c(0x1ab)](_0xbad97c(0x233)+'\x0a'+_0x36f11e[_0xbad97c(0x20a)](_0x2918aa=>'â€¢\x20'+_0x2918aa)[_0xbad97c(0x22d)]('\x0a'));if(_0x5f13a9[_0xbad97c(0x1fb)])_0x27417c['push'](_0xbad97c(0x21d)+'o\x20remove:\x0a'+_0x5f13a9[_0xbad97c(0x20a)](_0x4bfaaa=>'â€¢\x20'+_0x4bfaaa)[_0xbad97c(0x22d)]('\x0a'));if(_0x4cb716[_0xbad97c(0x1fb)])_0x27417c['push']('âš ï¸\x20Not\x20foun'+_0xbad97c(0x1a0)+_0xbad97c(0x259)+_0x4cb716[_0xbad97c(0x20a)](_0x53b3d2=>'\x20'+_0x53b3d2)[_0xbad97c(0x22d)](','));await sendApiOrFallback(_0x14976c,_0x27417c[_0xbad97c(0x22d)]('\x0a\x0a')||'No\x20items\x20r'+_0xbad97c(0x180));return;}if(_0x1abc87==='listadditi'+_0xbad97c(0x1a4)||_0x1abc87==='additiongr'+_0xbad97c(0x1aa)){const _0x245485=await dbListGroups();if(!_0x245485||_0x245485['length']===-0x1c05+0xbc8+0x103d){await sendApiOrFallback(_0x14976c,'No\x20additio'+_0xbad97c(0x20d)+_0xbad97c(0x185));return;}const _0x3fcbcf=_0x245485['map']((_0x239011,_0x36f5be)=>_0x36f5be+(-0x1c6a+0x2086*0x1+-0x1*0x41b)+'.\x20'+_0x239011),_0x54232a=chunkLines(_0x3fcbcf,-0x1*0x75f+-0x2256+0x2e65);for(const _0x1ae5cf of _0x54232a)await sendApiOrFallback(_0x14976c,_0x1ae5cf);return;}if(_0x1abc87===_0xbad97c(0x28b)){const _0x1ed281=_0x24fcfe[_0xbad97c(0x1ca)](/\s+/)[_0xbad97c(0x1fc)](-0x1a86+-0x924*0x4+0x3f17);if(!_0x1ed281||!_0x1ed281[0x247f*0x1+0xaf2+-0x2f71]){await sendApiOrFallback(_0x14976c,_0xbad97c(0x176)+_0xbad97c(0x28a)+_0xbad97c(0x26e)+_0xbad97c(0x1c0)+(CFG['ENABLED']?'on':_0xbad97c(0x201)));return;}const _0x16a184=_0x1ed281[0xc*-0x1fa+0xefe+0x2*0x45d][_0xbad97c(0x1be)+'e']();if(_0x16a184!=='on'&&_0x16a184!==_0xbad97c(0x201)){await sendApiOrFallback(_0x14976c,_0xbad97c(0x176)+'itions\x20on|'+_0xbad97c(0x201));return;}const _0x5dec0b=_0x16a184==='on';if(_0x5dec0b){const _0x484a16=await dbListGroups(),_0x284568=await dbGetConfig(_0xbad97c(0x228)+'up');if(_0x484a16[_0xbad97c(0x1fb)]===0x8cb+-0x25cf+0x6*0x4d6){await sendApiOrFallback(_0x14976c,_0xbad97c(0x21b)+_0xbad97c(0x27b)+'ase\x20add\x20at'+_0xbad97c(0x1bb)+_0xbad97c(0x1a3)+_0xbad97c(0x171)+_0xbad97c(0x288)+'iongroup`\x20'+'first.');return;}if(!_0x284568){await sendApiOrFallback(_0x14976c,_0xbad97c(0x21b)+_0xbad97c(0x27b)+_0xbad97c(0x218)+'notificati'+_0xbad97c(0x179)+_0xbad97c(0x1c8)+_0xbad97c(0x1ce)+_0xbad97c(0x1a1)+_0xbad97c(0x17a));return;}}const _0x143437=await dbSetConfig('enabled',_0x5dec0b?'1':'0');if(!_0x143437){await sendApiOrFallback(_0x14976c,_0xbad97c(0x17b)+_0xbad97c(0x1d8)+'itions\x20ena'+'bled\x20state'+'.');return;}CFG['ENABLED']=_0x5dec0b,await sendApiOrFallback(_0x14976c,_0xbad97c(0x280)+'s\x20'+(_0x5dec0b?_0xbad97c(0x18a):_0xbad97c(0x1bf)));return;}if(_0x1abc87===_0xbad97c(0x23a)+_0xbad97c(0x175)){const _0x7628a3=_0x24fcfe[_0xbad97c(0x1ca)](/\s+/)['slice'](-0x5*-0x279+0x7c9*0x4+-0x2b80);if(!_0x7628a3||!_0x7628a3[-0xe69+0x21ec+-0x1383]){await sendApiOrFallback(_0x14976c,_0xbad97c(0x176)+_0xbad97c(0x18d)+_0xbad97c(0x1b1)+_0xbad97c(0x1f1)+_0xbad97c(0x27d)+(CFG[_0xbad97c(0x228)+'up']||_0xbad97c(0x168)+_0xbad97c(0x252)));return;}const _0x4bef5f=_0x7628a3[-0x5*-0x371+0x90b*-0x1+-0x82a][_0xbad97c(0x1d2)]();if(_0x4bef5f[_0xbad97c(0x1be)+'e']()===_0xbad97c(0x1e5)){await dbDeleteConfig(_0xbad97c(0x228)+'up'),CFG[_0xbad97c(0x228)+'up']=null,await sendApiOrFallback(_0x14976c,_0xbad97c(0x280)+_0xbad97c(0x291)+_0xbad97c(0x23e)+_0xbad97c(0x232)+'em\x20cannot\x20'+_0xbad97c(0x1e9)+'on\x20without'+'\x20a\x20target.');return;}if(!_0x4bef5f['includes']('@')){await sendApiOrFallback(_0x14976c,_0xbad97c(0x22e)+_0xbad97c(0x1b6)+_0xbad97c(0x1cf)+_0xbad97c(0x221)+_0xbad97c(0x1cd));return;}const _0x69cd38=await dbSetConfig(_0xbad97c(0x228)+'up',_0x4bef5f);if(!_0x69cd38){await sendApiOrFallback(_0x14976c,'âŒ\x20addition'+_0xbad97c(0x1de)+_0xbad97c(0x24b)+_0x4bef5f);return;}CFG[_0xbad97c(0x228)+'up']=_0x4bef5f,await sendApiOrFallback(_0x14976c,_0xbad97c(0x280)+_0xbad97c(0x244)+_0xbad97c(0x225)+_0x4bef5f);return;}if(_0x1abc87===_0xbad97c(0x17c)+'atus'){const _0x2c5af1=CFG[_0xbad97c(0x26a)]?'on':_0xbad97c(0x201),_0x2f5346=CFG['notify_gro'+'up']||_0xbad97c(0x168)+'QUIRED\x20TO\x20'+'ENABLE)',_0x3e91d1=await dbListGroups(),_0x16d525=[_0xbad97c(0x1eb)+'\x20Notifier\x20'+_0xbad97c(0x273),_0xbad97c(0x1e8)+_0x2c5af1+'*',_0xbad97c(0x174)+'get:\x20*'+_0x2f5346+'*',_0xbad97c(0x214)+_0xbad97c(0x1c3)+(_0x3e91d1[_0xbad97c(0x1fb)]||0x9e*0x26+-0x1*0xc33+-0xb41)+'*'];await sendApiOrFallback(_0x14976c,_0x16d525[_0xbad97c(0x22d)]('\x0a'));if(_0x3e91d1['length']){const _0x5c9b3b=_0x3e91d1['map']((_0xd24129,_0x3c4bd6)=>_0x3c4bd6+(-0x8e*-0x3b+-0xc39+-0x40*0x52)+'.\x20'+_0xd24129),_0x5a4bfd=chunkLines(_0x5c9b3b,0x1*-0x198e+-0x11fc+-0x1*-0x303a);for(const _0x305727 of _0x5a4bfd)await sendApiOrFallback(_0x14976c,_0x305727);}return;}}catch(_0x1bd185){error(_0x1bd185,'['+name+(_0xbad97c(0x200)+_0xbad97c(0x1ae))+(_0x1bd185?.[_0xbad97c(0x198)]||_0x1bd185));}}export async function cleanup(){const _0x22e7cc=_0x139934;try{for(const _0x1940c1 of groupTimers[_0x22e7cc(0x1b8)]())try{clearTimeout(_0x1940c1);}catch(_0x7355c3){}groupTimers[_0x22e7cc(0x1e5)](),groupQueues['clear']();try{stopManagedListener(name,_0x22e7cc(0x264)+_0x22e7cc(0x24d)+_0x22e7cc(0x169));}catch(_0x2bbade){}}catch(_0x38b924){warn('['+name+(']\x20cleanup\x20'+_0x22e7cc(0x181))+(_0x38b924?.[_0x22e7cc(0x198)]||_0x38b924));}finally{botRef=null,info('['+name+(_0x22e7cc(0x190)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};