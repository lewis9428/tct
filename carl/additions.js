const _0x192f85=_0x1289;(function(_0x20d5b8,_0x8810c5){const _0x586dda=_0x1289,_0x37c8f3=_0x20d5b8();while(!![]){try{const _0x487b12=parseInt(_0x586dda(0xd2))/(0xa55+0xe2f+-0x5*0x4e7)*(-parseInt(_0x586dda(0x1ad))/(-0x451+-0x1*-0xba2+-0x74f))+parseInt(_0x586dda(0x13d))/(0x1*0xf0b+-0x204f+-0x1*-0x1147)+parseInt(_0x586dda(0x162))/(-0x1bd9+0x240a+-0x82d)+-parseInt(_0x586dda(0x119))/(-0xbda+-0x4f*0xd+0x1*0xfe2)*(parseInt(_0x586dda(0x1ba))/(-0x100f*-0x2+-0x952*-0x1+-0x296a))+-parseInt(_0x586dda(0x1a9))/(0xcda+0x215*0x1+-0x6*0x27c)+parseInt(_0x586dda(0x173))/(0xd*0x7+0x597+-0x5ea)*(parseInt(_0x586dda(0x164))/(0x1b*0x6+-0x7*0x4e3+0x1*0x219c))+parseInt(_0x586dda(0x198))/(0x46c+0x26c*0x6+0x327*-0x6);if(_0x487b12===_0x8810c5)break;else _0x37c8f3['push'](_0x37c8f3['shift']());}catch(_0x536699){_0x37c8f3['push'](_0x37c8f3['shift']());}}}(_0x2921,-0x111131+-0x23d32*-0x4+0x13c200));import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';function _0x2921(){const _0x45f360=['selectedBu','oup\x20<group','âŒ\x20Failed\x20t','âœ…\x20Added:\x0a','ailable\x20fo','IMIT\x201','ze\x20error:\x20',']\x20flushAdd','ts.update','d>\x20[<group','initialize',']\x20dbDelete','ata','notify','g\x20summary\x20','jid|clear>','t:\x20','action','\x0a\x20\x20\x20\x20\x20\x20CRE','length','ummary','onfigured.','failed:\x20','listadditi',']\x20No\x20notif','exec','Usage:\x20add','on\x20target\x20','4061640ZZzlPK',')\x20VALUES\x20(','Group\x20erro','\x20to\x20','values','1.4.0',']\x20dbRemove','HERE\x20group',']\x20refreshR','ase\x20add\x20at','\x20value\x20TEX','debounce_m',']\x20isadmin\x20','index','ase\x20set\x20a\x20','\x20group\x20to\x20','selectedRo','5901665LIUfBq','.]>\x0aUse\x20li','\x20added:\x0a','r\x20confirma','37014QJdILJ','additionst',':\x20The\x20syst','admin','M\x20addition','emoved.','sendMessag','clear','e\x20error:\x20','groups:\x20*','participan','up_jid\x20FRO','sock','95052nHZCFE','r:\x20','ditions_co','JID\x20using\x20','extendedTe','slice','ue\x20FROM\x20ad','itions\x20ena','ENABLED','ongroups','removeaddi','[,index,..','\x20\x20@','filter','function','pop','a\x20ensured','singleSele','ONFLICT(ke','ADDITIONS','notificati','imageMessa','error:\x20','subject','âš ï¸\x20Not\x20foun','rget','string','for\x20group-','id1>\x0a<jid2','ded.value;','lete.\x20Use\x20','additionta','led:\x20','Target\x20JID','âš ï¸\x20Skipped/','groupMetad','join','up\x20failed:','config\x20ref','push','dConfig\x20re',']\x20dbSetCon','\x20deliver\x20a','or\x20','âœ…\x20addition','remoteJid','ons_config','âŒ\x20addition','ror:\x20',']\x20flushGro','\x20a\x20target.','reshed\x20(en','dConfig\x20ap','Monitored\x20','xtMessage','_jid>...]\x0a','replace','\x20key\x20TEXT\x20','ts_added','No\x20valid\x20i','DELETE\x20FRO','from','`additiont','nged\x20keys:',']\x20dbGetCon','system@sys','max','69UTZUUL','getGroupMe','ponseMessa','ing\x20`addit','rFallback\x20','has','d:\x20',']\x20register','s_groups\x20O','value',']\x20sendSumm','isInteger','additions','group_jid','key,\x20value','group\x20JIDs','itiongroup','*Additions','\x20error',']\x20no\x20send\x20','bled\x20state','off','atus','all','ATE\x20TABLE\x20','tems\x20to\x20de','object',']\x20onMessag','target\x20set','ctReply','fig\x20failed','caption','e.g.\x201203.','tiongroup','iongroup`\x20','dditions\x20s','trim','onWhatsApp','Y,\x0a\x20\x20\x20\x20\x20\x20\x20','check\x20fail','invoker','map','author','\x20requires\x20','r\x20for\x20','text','conversati','\x0a\x0aðŸ“›\x20Group:','INSERT\x20INT','dConfig\x20ha','s_groups\x20W','tadata','ed:\x20','\x20->\x20target','_jid\x20=\x20?','includes','T\x0a\x20\x20\x20\x20\x20\x20);','@g.us',']\x20hotReloa','gistration','\x20must\x20incl','up\x20error:\x20','No\x20items\x20r','(none\x20-\x20RE','ENABLE)','oup','nable.\x20Ple','\x0a\x20\x20\x20\x20','\x20<group_ji','deladditio','No\x20valid\x20g','5mTFHma','seMessage','DEBOUNCE_M','jid)\x20DO\x20NO','catch','key','set','notify_gro','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','ongroup\x0a<j','keys','size','videoMessa','ICT(group_','jid','istener:\x20','zed','y)\x20DO\x20UPDA','TE\x20SET\x20val','n\x20groups\x20c','O\x20addition','ue\x20=\x20exclu','type',']\x20sendApiO','Or:\x0aadditi','additiongr','unshift','THING;','enabled','on\x20without','isArray','itions\x20on|','_jid\x20=\x20?\x20L','test','Enabled:\x20*','s_config\x20(','591765cFKPbP','groupJid','roups.','delete','ared.\x20Note','\x20or\x20indice','toLowerCas','name','STS\x20additi','see\x20indice','roup\x20','âŒ\x20Cannot\x20e','oups','_jid|index',']\x20dbAddGro','surface\x20av','be\x20turned\x20','\x20failed:\x20','\x0aCurrent:\x20',']\x20cleanup\x20','first.',']\x20initiali','HERE\x20key\x20=','em\x20cannot\x20','hema\x20faile','get:\x20*','tion\x20to\x20','ons_groups','t\x20<target_','pMonitored','get','provided.','failed:\x0a','st.','IF\x20NOT\x20EXI','\x20listener\x20','Handler\x20er','4033148bOpSTW','isNaN','657KitXHl','itions\x20sum','message','staddition','itiontarge','tadditiong','\x20key\x20=\x20?\x20L','surface\x20to','split','icipants.u','SELECT\x20gro','buttonsRes','Notify\x20tar','target\x20fai','pdate','141096dXlcYe','Config\x20fai','update\x20add','add','s\x20from\x20lis','ARY\x20KEY\x0a\x20\x20','PRIMARY\x20KE','run','up\x20error\x20f'];_0x2921=function(){return _0x45f360;};return _0x2921();}import{isadmin}from'../utils/isadmin.js';import*as _0x33a57e from'../utils/groups.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';export const name=_0x192f85(0xde);export const version=_0x192f85(0x19d);export const priority=0x1583+0xa61+-0x1f8a;export const configKeys=[_0x192f85(0x1cd)];export const commands=[_0x192f85(0x132)+_0x192f85(0x113),_0x192f85(0x117)+'ngroup',_0x192f85(0x1c4)+_0x192f85(0xf3),'listadditi'+_0x192f85(0x1c3),_0x192f85(0x132)+_0x192f85(0x149),_0x192f85(0xde),_0x192f85(0x1d9)+_0x192f85(0x1d3),_0x192f85(0x1ae)+_0x192f85(0xe8)];let botRef=null;const groupQueues=new Map(),groupTimers=new Map();let CFG={'ENABLED':![],'DEBOUNCE_MS':0xbb8,'notify_group':null};const DEDUPE_TTL_MS=(-0xec*-0x16+0x8b4*0x1+-0x1cde*0x1)*(-0x3*0x6d3+-0x24*-0x2+0x1*0x1819),processedMessageKeys=new Map();function markProcessed(_0x234fd8){const _0x271cc8=_0x192f85;if(!_0x234fd8)return;if(processedMessageKeys[_0x271cc8(0xd7)](_0x234fd8))try{clearTimeout(processedMessageKeys[_0x271cc8(0x15b)](_0x234fd8));}catch(_0x2dec80){}const _0x4ded5a=setTimeout(()=>processedMessageKeys[_0x271cc8(0x140)](_0x234fd8),DEDUPE_TTL_MS);processedMessageKeys[_0x271cc8(0x11f)](_0x234fd8,_0x4ded5a);}function isProcessed(_0x421bf7){const _0x117b68=_0x192f85;return _0x421bf7&&processedMessageKeys[_0x117b68(0xd7)](_0x421bf7);}async function ensureSchema(){const _0x411069=_0x192f85;try{await db[_0x411069(0x195)](_0x411069(0x18e)+_0x411069(0xea)+_0x411069(0x15f)+_0x411069(0x145)+_0x411069(0x1e8)+_0x411069(0x121)+_0x411069(0x1f3)+_0x411069(0x179)+_0x411069(0xf8)+_0x411069(0x1a2)+_0x411069(0x10a)+_0x411069(0x115)),await db[_0x411069(0x195)](_0x411069(0x18e)+_0x411069(0xea)+_0x411069(0x15f)+'STS\x20additi'+_0x411069(0x158)+_0x411069(0x121)+'\x20group_jid'+'\x20TEXT\x20PRIM'+_0x411069(0x178)+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20'),info('['+name+(']\x20DB\x20schem'+_0x411069(0x1ca)));}catch(_0x15f580){error(_0x15f580,'['+name+(']\x20ensureSc'+_0x411069(0x155)+_0x411069(0xd8))+(_0x15f580?.[_0x411069(0x166)]||_0x15f580));throw _0x15f580;}}async function dbSetConfig(_0x15b618,_0x568ebc){const _0x58f188=_0x192f85;try{return await db[_0x58f188(0x17a)](_0x58f188(0x102)+_0x58f188(0x12d)+_0x58f188(0x13c)+_0x58f188(0xe0)+_0x58f188(0x199)+'?,\x20?)\x20ON\x20C'+_0x58f188(0x1cc)+_0x58f188(0x12a)+_0x58f188(0x12b)+_0x58f188(0x12e)+_0x58f188(0x1d7),[_0x15b618,String(_0x568ebc)]),!![];}catch(_0x25a58c){return warn('['+name+(_0x58f188(0x1e3)+_0x58f188(0xf0)+':\x20')+(_0x25a58c?.[_0x58f188(0x166)]||_0x25a58c)),![];}}async function dbGetConfig(_0x3d5713){const _0x505b3d=_0x192f85;try{const _0x4c387f=await db['get']('SELECT\x20val'+_0x505b3d(0x1c0)+_0x505b3d(0x1bc)+'nfig\x20WHERE'+_0x505b3d(0x16a)+_0x505b3d(0x181),[_0x3d5713]);return _0x4c387f?_0x4c387f['value']:null;}catch(_0x107b6a){return warn('['+name+(_0x505b3d(0xcf)+'fig\x20failed'+':\x20')+(_0x107b6a?.[_0x505b3d(0x166)]||_0x107b6a)),null;}}async function dbDeleteConfig(_0xb51e35){const _0x1a903a=_0x192f85;try{return await db[_0x1a903a(0x17a)](_0x1a903a(0x1f6)+'M\x20addition'+'s_config\x20W'+_0x1a903a(0x153)+'\x20?',[_0xb51e35]),!![];}catch(_0x348edf){return warn('['+name+(_0x1a903a(0x187)+_0x1a903a(0x174)+_0x1a903a(0x1da))+(_0x348edf?.[_0x1a903a(0x166)]||_0x348edf)),![];}}async function dbAddGroup(_0x5389dc){const _0x21630c=_0x192f85;try{return await db[_0x21630c(0x17a)](_0x21630c(0x102)+_0x21630c(0x12d)+'s_groups\x20('+'group_jid)'+'\x20VALUES\x20(?'+')\x20ON\x20CONFL'+_0x21630c(0x126)+_0x21630c(0x11c)+_0x21630c(0x134),[_0x5389dc]),!![];}catch(_0x5ce4c9){return warn('['+name+(_0x21630c(0x14b)+_0x21630c(0x1df)+'\x20')+(_0x5ce4c9?.[_0x21630c(0x166)]||_0x5ce4c9)),![];}}async function dbRemoveGroup(_0x3c6b2a){const _0x220094=_0x192f85;try{const _0x2f0ec1=await db['run'](_0x220094(0x1f6)+_0x220094(0x1b1)+_0x220094(0x104)+_0x220094(0x19f)+_0x220094(0x108),[_0x3c6b2a]);return!!_0x2f0ec1?.['changes'];}catch(_0x3d8d62){return warn('['+name+(_0x220094(0x19e)+'Group\x20fail'+_0x220094(0x106))+(_0x3d8d62?.[_0x220094(0x166)]||_0x3d8d62)),![];}}async function dbListGroups(){const _0x558cfa=_0x192f85;try{const _0x1ca137=await db[_0x558cfa(0xe9)]('SELECT\x20gro'+_0x558cfa(0x1b8)+_0x558cfa(0x1b1)+_0x558cfa(0xda)+'RDER\x20BY\x20gr'+'oup_jid');return(_0x1ca137||[])[_0x558cfa(0xfb)](_0x423244=>_0x423244[_0x558cfa(0xdf)]);}catch(_0x139940){return warn('['+name+(']\x20dbListGr'+'oups\x20faile'+_0x558cfa(0xd8))+(_0x139940?.[_0x558cfa(0x166)]||_0x139940)),[];}}async function dbIsGroupMonitored(_0x530c0a){const _0xbe7953=_0x192f85;try{const _0x41d4eb=await db[_0xbe7953(0x15b)](_0xbe7953(0x16e)+_0xbe7953(0x1b8)+_0xbe7953(0x1b1)+_0xbe7953(0x104)+_0xbe7953(0x19f)+_0xbe7953(0x139)+'IMIT\x201',[_0x530c0a]);return!!_0x41d4eb;}catch(_0x5556c6){return warn('['+name+(']\x20dbIsGrou'+_0xbe7953(0x15a)+_0xbe7953(0x14e))+(_0x5556c6?.[_0xbe7953(0x166)]||_0x5556c6)),![];}}function _0x1289(_0x4f572a,_0x507e4d){const _0x1005c4=_0x2921();return _0x1289=function(_0x6333b9,_0x49f15b){_0x6333b9=_0x6333b9-(-0x1792+0x1bd5+-0x1bb*0x2);let _0x3c5b27=_0x1005c4[_0x6333b9];return _0x3c5b27;},_0x1289(_0x4f572a,_0x507e4d);}async function refreshRuntimeConfig(){const _0x1f1dd6=_0x192f85;try{const _0x5c1d33=getConfig()||{},_0x5aba5c=_0x5c1d33['ADDITIONS']&&typeof _0x5c1d33[_0x1f1dd6(0x1cd)]===_0x1f1dd6(0xec)?_0x5c1d33[_0x1f1dd6(0x1cd)]:{};CFG[_0x1f1dd6(0x11b)+'S']=Number[_0x1f1dd6(0xdd)](_0x5aba5c[_0x1f1dd6(0x11b)+'S'])?_0x5aba5c[_0x1f1dd6(0x11b)+'S']:0x4f9*0x7+-0x2*-0xe0f+-0x3335;const _0x6b11ff=await dbGetConfig('enabled');CFG['ENABLED']=_0x6b11ff==='1'||_0x6b11ff==='true';const _0x2f2d47=await dbGetConfig(_0x1f1dd6(0x1a3)+'s');if(_0x2f2d47!==null&&!Number[_0x1f1dd6(0x163)](Number(_0x2f2d47)))CFG['DEBOUNCE_M'+'S']=Number(_0x2f2d47);const _0x3163d2=await dbGetConfig(_0x1f1dd6(0x120)+'up');CFG[_0x1f1dd6(0x120)+'up']=_0x3163d2||null,info('['+name+(']\x20runtime\x20'+_0x1f1dd6(0x1e0)+_0x1f1dd6(0x1ed)+'abled=')+CFG[_0x1f1dd6(0x1c2)]+(',\x20debounce'+'_ms=')+CFG[_0x1f1dd6(0x11b)+'S']+(',\x20notify_g'+'roup=')+CFG[_0x1f1dd6(0x120)+'up']+')');}catch(_0x4f573e){warn('['+name+(_0x1f1dd6(0x1a0)+'untimeConf'+'ig\x20failed:'+'\x20')+(_0x4f573e?.[_0x1f1dd6(0x166)]||_0x4f573e));}}try{hotReloadConfig&&hotReloadConfig(_0x136f2a=>{const _0x5b1687=_0x192f85;try{refreshRuntimeConfig(),info('['+name+(_0x5b1687(0x10c)+_0x5b1687(0x1ee)+'plied\x20(cha'+_0x5b1687(0xce)+'\x20')+(_0x136f2a||[])[_0x5b1687(0x1de)](',')+')');}catch(_0x87ff35){warn('['+name+(']\x20hotReloa'+_0x5b1687(0x103)+'ndler\x20erro'+_0x5b1687(0x1bb))+(_0x87ff35?.[_0x5b1687(0x166)]||_0x87ff35));}});}catch(_0x3b396a){warn('['+name+(_0x192f85(0x10c)+_0x192f85(0x1e2)+_0x192f85(0x10d)+_0x192f85(0x14e))+(_0x3b396a?.[_0x192f85(0x166)]||_0x3b396a));}async function resolveDisplayName(_0x453ca0){const _0x288209=_0x192f85;try{if(!botRef||!_0x453ca0)return _0x453ca0?.['split']?.('@')?.[-0xd*0xb2+0x9*0x239+-0x1*0xaf7]??_0x453ca0;try{if(typeof botRef['onWhatsApp']===_0x288209(0x1c8)){const _0x318bdc=await botRef[_0x288209(0xf7)](_0x453ca0);if(Array['isArray'](_0x318bdc)&&_0x318bdc[_0x288209(0x18f)]>0x1*-0x33a+0xa81*-0x1+-0x5f*-0x25){const _0x185822=_0x318bdc[0x242e+0x12f1+0x89*-0x67];if(_0x185822&&(_0x185822[_0x288209(0x189)]||_0x185822['vname']||_0x185822[_0x288209(0x144)]))return _0x185822[_0x288209(0x189)]||_0x185822['vname']||_0x185822['name'];}}if(botRef[_0x288209(0x1b9)]&&typeof botRef['sock'][_0x288209(0xf7)]===_0x288209(0x1c8)){const _0x37d6e8=await botRef[_0x288209(0x1b9)]['onWhatsApp'](_0x453ca0);if(Array['isArray'](_0x37d6e8)&&_0x37d6e8[_0x288209(0x18f)]>0x15*0x15b+-0x1*-0x15cd+-0x3244){const _0x13c783=_0x37d6e8[-0xf21+-0x98f*0x4+0x355d];if(_0x13c783&&(_0x13c783[_0x288209(0x189)]||_0x13c783['vname']||_0x13c783['name']))return _0x13c783[_0x288209(0x189)]||_0x13c783['vname']||_0x13c783['name'];}}}catch(_0x115fd5){}const _0x5aebf6=String(_0x453ca0)[_0x288209(0x16c)](':')[_0x288209(0x1c9)]()[_0x288209(0x16c)]('@')[0x1daa+-0x1*0x18c2+-0x9d*0x8];return _0x5aebf6||_0x453ca0;}catch(_0x1204a1){return _0x453ca0?.[_0x288209(0x16c)]?.('@')?.[0x24ea+-0x8f9+-0x1bf1]??_0x453ca0;}}async function getGroupTitle(_0x408098){const _0x33ce4f=_0x192f85;try{if(!botRef)return _0x408098;if(botRef[_0x33ce4f(0x1b9)]&&typeof botRef[_0x33ce4f(0x1b9)]['groupMetad'+_0x33ce4f(0x188)]===_0x33ce4f(0x1c8)){const _0x3cf646=await botRef['sock'][_0x33ce4f(0x1dd)+_0x33ce4f(0x188)](_0x408098)[_0x33ce4f(0x11d)](()=>null);if(_0x3cf646&&_0x3cf646[_0x33ce4f(0x1d1)])return _0x3cf646[_0x33ce4f(0x1d1)];}if(typeof botRef[_0x33ce4f(0xd3)+_0x33ce4f(0x105)]===_0x33ce4f(0x1c8)){const _0x1c8177=await botRef['getGroupMe'+_0x33ce4f(0x105)](_0x408098)[_0x33ce4f(0x11d)](()=>null);if(_0x1c8177&&_0x1c8177['subject'])return _0x1c8177['subject'];}return _0x408098;}catch(_0x1f2f30){return _0x408098;}}async function sendSummary(_0x48d475,_0x5ff071,_0x5915d9){const _0x209624=_0x192f85;try{if(!botRef)return;if(!CFG[_0x209624(0x120)+'up']){warn('['+name+(_0x209624(0x194)+'y_group\x20ta'+'rget\x20is\x20se'+'t.\x20Skippin'+_0x209624(0x18a)+'for\x20')+_0x48d475+'.');return;}const _0x26350f=await resolveDisplayName(_0x5ff071),_0x4c95f8=[],_0x431d42=[];for(const _0x3cba9f of _0x5915d9){const _0x1a4777=await resolveDisplayName(_0x3cba9f);_0x4c95f8['push'](_0x3cba9f),_0x431d42['push'](_0x209624(0x1c6)+String(_0x1a4777)[_0x209624(0x1f2)](/\n/g,'\x20'));}if(!_0x4c95f8[_0x209624(0x109)](_0x5ff071))_0x4c95f8[_0x209624(0x133)](_0x5ff071);const _0x24c3a6=await getGroupTitle(_0x48d475),_0x3b1c12='ðŸ‘¥\x20@'+String(_0x26350f)[_0x209624(0x1f2)](/\n/g,'\x20')+_0x209624(0x1ab),_0x550d0e=_0x431d42[_0x209624(0x1de)]('\x0a'),_0x47923b=_0x209624(0x101)+'\x20'+_0x24c3a6+'\x20('+_0x48d475+')',_0xae79dd=_0x3b1c12+_0x550d0e+_0x47923b,_0x263fe7=CFG[_0x209624(0x120)+'up'];if(botRef&&typeof botRef[_0x209624(0x1b3)+'e']===_0x209624(0x1c8))await botRef[_0x209624(0x1b3)+'e'](_0x263fe7,{'text':_0xae79dd,'mentions':_0x4c95f8});else botRef&&botRef[_0x209624(0x1b9)]&&typeof botRef[_0x209624(0x1b9)][_0x209624(0x1b3)+'e']===_0x209624(0x1c8)?await botRef[_0x209624(0x1b9)][_0x209624(0x1b3)+'e'](_0x263fe7,{'text':_0xae79dd,'mentions':_0x4c95f8}):warn('['+name+(_0x209624(0xe5)+_0x209624(0x16b)+_0x209624(0x1e4)+_0x209624(0xf5)+_0x209624(0x190)));info('['+name+(']\x20Sent\x20add'+_0x209624(0x165)+'mary\x20for\x20g'+_0x209624(0x147))+_0x48d475+(_0x209624(0x107)+'\x20')+_0x263fe7);}catch(_0xf31242){warn('['+name+(_0x209624(0xdc)+'ary\x20failed'+':\x20')+(_0xf31242?.[_0x209624(0x166)]||_0xf31242));}}async function flushAdderForGroup(_0x387709,_0x46d659){const _0x481c99=_0x192f85;try{if(!botRef)return;const _0x37ffba=groupQueues[_0x481c99(0x15b)](_0x387709);if(!_0x37ffba)return;const _0x2be030=_0x37ffba[_0x481c99(0x15b)](_0x46d659);if(!_0x2be030||_0x2be030[_0x481c99(0x124)]===0x241*0x1+0x4f9+-0x73a){_0x37ffba['delete'](_0x46d659);if(_0x37ffba[_0x481c99(0x124)]===-0x1043+-0xa86+0x1ac9)groupQueues[_0x481c99(0x140)](_0x387709);return;}const _0x29225e=Array[_0x481c99(0x1f7)](_0x2be030);await sendSummary(_0x387709,_0x46d659,_0x29225e);}catch(_0x1e723e){error(_0x1e723e,'['+name+(_0x481c99(0x183)+'erForGroup'+_0x481c99(0xe4)));}finally{const _0x30473e=groupQueues[_0x481c99(0x15b)](_0x387709);if(_0x30473e){_0x30473e[_0x481c99(0x140)](_0x46d659);if(_0x30473e[_0x481c99(0x124)]===0x24f6+-0x1963*-0x1+-0x3e59)groupQueues['delete'](_0x387709);}}}async function flushGroup(_0x556245){const _0x5f3ed3=_0x192f85;try{const _0x5c57b2=groupQueues[_0x5f3ed3(0x15b)](_0x556245);if(!_0x5c57b2)return;const _0x1ddc5c=Array[_0x5f3ed3(0x1f7)](_0x5c57b2[_0x5f3ed3(0x123)]());for(const _0x781c5a of _0x1ddc5c){await flushAdderForGroup(_0x556245,_0x781c5a);}}catch(_0x3b4357){error(_0x3b4357,'['+name+(_0x5f3ed3(0x1eb)+_0x5f3ed3(0x10f))+(_0x3b4357?.[_0x5f3ed3(0x166)]||_0x3b4357));}finally{if(groupTimers[_0x5f3ed3(0xd7)](_0x556245)){try{clearTimeout(groupTimers[_0x5f3ed3(0x15b)](_0x556245));}catch(_0x14e0a2){}groupTimers[_0x5f3ed3(0x140)](_0x556245);}if(groupQueues[_0x5f3ed3(0x15b)](_0x556245)&&groupQueues['get'](_0x556245)[_0x5f3ed3(0x124)]===0x960+-0x680+0x10*-0x2e)groupQueues[_0x5f3ed3(0x140)](_0x556245);}}async function gpUpdateHandler(_0x2aa94e){const _0x1d1049=_0x192f85;try{if(!_0x2aa94e)return;if(!CFG[_0x1d1049(0x1c2)])return;const _0x28f178=_0x2aa94e[_0x1d1049(0x18d)]||_0x2aa94e[_0x1d1049(0x12f)]||null;if(!_0x28f178)return;if(String(_0x28f178)[_0x1d1049(0x143)+'e']()!=='add')return;const _0x575962=_0x2aa94e['id']||_0x2aa94e['groupId']||_0x2aa94e[_0x1d1049(0x127)]||_0x2aa94e[_0x1d1049(0x13e)];if(!_0x575962)return;const _0x3eb82c=await dbIsGroupMonitored(_0x575962);if(!_0x3eb82c)return;const _0x5b4ab9=Array[_0x1d1049(0x137)](_0x2aa94e[_0x1d1049(0x1b7)+'ts'])?_0x2aa94e[_0x1d1049(0x1b7)+'ts']:Array[_0x1d1049(0x137)](_0x2aa94e[_0x1d1049(0x1b7)+_0x1d1049(0x1f4)])?_0x2aa94e[_0x1d1049(0x1b7)+_0x1d1049(0x1f4)]:[];if(!_0x5b4ab9||_0x5b4ab9[_0x1d1049(0x18f)]===-0x565+-0x12ac+0x1811*0x1)return;const _0x341ecc=_0x2aa94e['actor']||_0x2aa94e[_0x1d1049(0xfc)]||_0x2aa94e['by']||_0x2aa94e['initiator']||_0x2aa94e[_0x1d1049(0x1b0)]||_0x2aa94e[_0x1d1049(0xfa)]||_0x1d1049(0xd0)+'tem';if(!groupQueues[_0x1d1049(0xd7)](_0x575962))groupQueues[_0x1d1049(0x11f)](_0x575962,new Map());const _0x36b8cd=groupQueues['get'](_0x575962);if(!_0x36b8cd['has'](_0x341ecc))_0x36b8cd['set'](_0x341ecc,new Set());const _0x4b1960=_0x36b8cd['get'](_0x341ecc);for(const _0x30060b of _0x5b4ab9)_0x4b1960['add'](_0x30060b);if(groupTimers['has'](_0x575962))try{clearTimeout(groupTimers['get'](_0x575962));}catch(_0x2a197f){}const _0x1368a3=Math[_0x1d1049(0xd1)](-0x5*-0x78f+-0x93f+-0x1c28,Number(CFG[_0x1d1049(0x11b)+'S']||0xa79*-0x3+0x23*-0x53+-0x367c*-0x1)),_0x2b6498=setTimeout(()=>{const _0x57df96=_0x1d1049;flushGroup(_0x575962)[_0x57df96(0x11d)](_0x36291f=>warn('['+name+(_0x57df96(0x1eb)+_0x57df96(0x1df)+'\x20')+(_0x36291f?.[_0x57df96(0x166)]||_0x36291f)));},_0x1368a3);groupTimers[_0x1d1049(0x11f)](_0x575962,_0x2b6498);}catch(_0x518d41){warn('['+name+(']\x20gpUpdate'+_0x1d1049(0x161)+_0x1d1049(0x1ea))+(_0x518d41?.[_0x1d1049(0x166)]||_0x518d41));}}function extractTextFromMessage(_0x3eea5f){const _0x40ba5e=_0x192f85;if(!_0x3eea5f||!_0x3eea5f[_0x40ba5e(0x166)])return'';const _0x11b706=_0x3eea5f['message'];if(_0x11b706[_0x40ba5e(0x100)+'on'])return _0x11b706['conversati'+'on'];if(_0x11b706['extendedTe'+_0x40ba5e(0x1f0)]?.[_0x40ba5e(0xff)])return _0x11b706[_0x40ba5e(0x1be)+_0x40ba5e(0x1f0)][_0x40ba5e(0xff)];if(_0x11b706[_0x40ba5e(0x1cf)+'ge']?.['caption'])return _0x11b706[_0x40ba5e(0x1cf)+'ge'][_0x40ba5e(0xf1)];if(_0x11b706['videoMessa'+'ge']?.[_0x40ba5e(0xf1)])return _0x11b706[_0x40ba5e(0x125)+'ge'][_0x40ba5e(0xf1)];if(_0x11b706[_0x40ba5e(0x16f)+_0x40ba5e(0xd4)+'ge']?.[_0x40ba5e(0x17c)+'ttonId'])return _0x11b706['buttonsRes'+_0x40ba5e(0xd4)+'ge'][_0x40ba5e(0x17c)+'ttonId'];if(_0x11b706['listRespon'+_0x40ba5e(0x11a)]?.[_0x40ba5e(0x1cb)+_0x40ba5e(0xef)]?.[_0x40ba5e(0x1a8)+'wId'])return _0x11b706['listRespon'+_0x40ba5e(0x11a)][_0x40ba5e(0x1cb)+'ctReply'][_0x40ba5e(0x1a8)+'wId'];return'';}function detectCommandName(_0x5a5a8a){const _0x406d76=_0x192f85;if(!_0x5a5a8a)return null;const _0x3e12f0=_0x5a5a8a[_0x406d76(0xf6)]();if(!_0x3e12f0)return null;return _0x3e12f0[_0x406d76(0x16c)](/\s+/)[0xf44*0x1+0x11*0x32+-0x1296][_0x406d76(0x143)+'e']();}function parseJidsFromText(_0x3342d2){const _0x149286=_0x192f85;if(!_0x3342d2)return[];const _0x46d184=_0x3342d2['split'](/[\s,]+/)[_0x149286(0xfb)](_0x1d3804=>_0x1d3804['trim']())[_0x149286(0x1c7)](Boolean),_0x3c946e=_0x46d184[_0x149286(0x1c7)](_0x10f84d=>_0x10f84d['includes']('@'))[_0x149286(0xfb)](_0x2bd838=>_0x2bd838);return _0x3c946e;}function parseDeleteItems(_0x2d1063){const _0x242f41=_0x192f85;if(!_0x2d1063)return[];const _0x41992c=_0x2d1063['split'](/[\s,]+/)['map'](_0x462132=>_0x462132[_0x242f41(0xf6)]())[_0x242f41(0x1c7)](Boolean),_0x248f52=_0x41992c[_0x242f41(0xfb)](_0x4e5b1c=>{const _0x5c89a2=_0x242f41;if(/^\d+$/[_0x5c89a2(0x13a)](_0x4e5b1c))return{'type':_0x5c89a2(0x1a5),'value':Number(_0x4e5b1c)};return{'type':_0x5c89a2(0x127),'value':_0x4e5b1c};});return _0x248f52;}async function sendApiOrFallback(_0x1e3d2b,_0x4636ae,_0x396537=[]){const _0xcbdd74=_0x192f85;try{if(!_0x1e3d2b||!_0x4636ae)return;if(botRef&&typeof botRef['sendMessag'+'e']===_0xcbdd74(0x1c8))await botRef[_0xcbdd74(0x1b3)+'e'](_0x1e3d2b,{'text':String(_0x4636ae),'mentions':_0x396537});else botRef&&botRef[_0xcbdd74(0x1b9)]&&typeof botRef[_0xcbdd74(0x1b9)][_0xcbdd74(0x1b3)+'e']==='function'?await botRef[_0xcbdd74(0x1b9)][_0xcbdd74(0x1b3)+'e'](_0x1e3d2b,{'text':String(_0x4636ae),'mentions':_0x396537}):warn('['+name+(_0xcbdd74(0xe5)+_0xcbdd74(0x14c)+_0xcbdd74(0x180)+_0xcbdd74(0x1ac)+_0xcbdd74(0x157))+_0x1e3d2b);}catch(_0x3504c0){warn('['+name+(_0xcbdd74(0x130)+_0xcbdd74(0xd6)+_0xcbdd74(0x192))+(_0x3504c0?.[_0xcbdd74(0x166)]||_0x3504c0));}}function chunkLines(_0x37476b,_0x2697e0=0x11e3*-0x1+0x1d4*-0x1+0x1993){const _0x14f1f1=_0x192f85,_0x1a2543=[];let _0x1b163d='';for(const _0x2fbe17 of _0x37476b){(_0x1b163d+'\x0a'+_0x2fbe17)[_0x14f1f1(0x18f)]>_0x2697e0&&(_0x1a2543[_0x14f1f1(0x1e1)](_0x1b163d[_0x14f1f1(0xf6)]()),_0x1b163d=''),_0x1b163d+=(_0x1b163d?'\x0a':'')+_0x2fbe17;}if(_0x1b163d)_0x1a2543[_0x14f1f1(0x1e1)](_0x1b163d[_0x14f1f1(0xf6)]());return _0x1a2543;}export async function initialize(_0x3663c4){const _0x55a665=_0x192f85;try{if(!_0x3663c4)throw new Error('additions.'+_0x55a665(0x186)+_0x55a665(0xfd)+'bot\x20instan'+'ce');botRef=_0x3663c4,await ensureSchema(),await refreshRuntimeConfig();try{startManagedListener({'botRef':botRef,'eventName':'group-part'+'icipants.u'+_0x55a665(0x172),'handler':gpUpdateHandler,'moduleName':name}),info('['+name+(_0x55a665(0xd9)+'ed\x20managed'+_0x55a665(0x160)+_0x55a665(0x1d5)+'participan'+_0x55a665(0x184)));}catch(_0x512118){warn('['+name+(']\x20failed\x20t'+'o\x20register'+'\x20managed\x20l'+_0x55a665(0x128))+(_0x512118?.[_0x55a665(0x166)]||_0x512118));}info('['+name+(_0x55a665(0x152)+_0x55a665(0x129)));}catch(_0x1a08bc){error(_0x1a08bc,'['+name+(_0x55a665(0x152)+_0x55a665(0x182))+(_0x1a08bc?.[_0x55a665(0x166)]||_0x1a08bc));throw _0x1a08bc;}}export async function onMessage(_0x2ae54e){const _0x5701d7=_0x192f85;try{if(!_0x2ae54e||!_0x2ae54e['key'])return;const _0x38c469=String(_0x2ae54e[_0x5701d7(0x11e)][_0x5701d7(0x1e7)]||'')+'::'+String(_0x2ae54e[_0x5701d7(0x11e)]['id']||_0x2ae54e[_0x5701d7(0x11e)][_0x5701d7(0x1b7)+'t']||'');if(isProcessed(_0x38c469))return;markProcessed(_0x38c469);const _0x367b9b=_0x2ae54e[_0x5701d7(0xff)]&&typeof _0x2ae54e[_0x5701d7(0xff)]===_0x5701d7(0x1d4)?_0x2ae54e[_0x5701d7(0xff)]:extractTextFromMessage(_0x2ae54e)||'';if(!_0x367b9b)return;const _0x170307=_0x2ae54e['key'][_0x5701d7(0x1e7)],_0x3e86f9=String(_0x170307||'')['endsWith'](_0x5701d7(0x10b));if(!_0x2ae54e['isCommand'])return;if(!_0x3e86f9)return;let _0x49b036=![];try{_0x49b036=await isadmin(botRef,_0x2ae54e);}catch(_0x1f3e51){warn('['+name+(_0x5701d7(0x1a4)+_0x5701d7(0xf9)+_0x5701d7(0x106))+(_0x1f3e51?.[_0x5701d7(0x166)]||_0x1f3e51)),_0x49b036=![];}if(!_0x49b036)return;const _0x495c24=typeof _0x2ae54e[_0x5701d7(0xff)]===_0x5701d7(0x1d4)&&_0x2ae54e[_0x5701d7(0xff)][_0x5701d7(0xf6)]()['length']?_0x2ae54e[_0x5701d7(0xff)][_0x5701d7(0xf6)]():_0x367b9b[_0x5701d7(0xf6)](),_0x46d8f5=detectCommandName(_0x495c24);if(!_0x46d8f5||!commands[_0x5701d7(0x109)](_0x46d8f5))return;const _0x2a96e3=_0x170307;if(_0x46d8f5===_0x5701d7(0x132)+_0x5701d7(0x113)){const _0x3aa625=_0x495c24[_0x5701d7(0x1f2)](/^additiongroup\b/i,'')[_0x5701d7(0xf6)]();let _0x52ac0e=[];if(_0x3aa625&&_0x3aa625[_0x5701d7(0x18f)])_0x52ac0e=parseJidsFromText(_0x3aa625);else{const _0x1b0125=_0x495c24[_0x5701d7(0x16c)](/\r?\n/)[_0x5701d7(0x1bf)](-0x64c+0x11d+0x530)[_0x5701d7(0xfb)](_0x3cbc84=>_0x3cbc84[_0x5701d7(0xf6)]())['filter'](Boolean),_0x2e626c=_0x1b0125[_0x5701d7(0x1de)]('\x20');_0x52ac0e=parseJidsFromText(_0x2e626c);}if(!_0x52ac0e[_0x5701d7(0x18f)]){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x196)+_0x5701d7(0xe2)+_0x5701d7(0x116)+_0x5701d7(0x185)+_0x5701d7(0x1f1)+_0x5701d7(0x131)+_0x5701d7(0x122)+_0x5701d7(0x1d6)+'>\x0a');return;}const _0x32f886=[],_0x95ac5c=[];for(const _0x545a7f of _0x52ac0e){if(!_0x545a7f[_0x5701d7(0x109)]('@')){_0x95ac5c['push'](_0x545a7f);continue;}try{const _0x3e6eb9=await dbAddGroup(_0x545a7f);if(_0x3e6eb9)_0x32f886[_0x5701d7(0x1e1)](_0x545a7f);else _0x95ac5c['push'](_0x545a7f);}catch(_0x357122){warn('['+name+(_0x5701d7(0x14b)+_0x5701d7(0x17b)+_0x5701d7(0x1e5))+_0x545a7f+':\x20'+(_0x357122?.[_0x5701d7(0x166)]||_0x357122)),_0x95ac5c[_0x5701d7(0x1e1)](_0x545a7f);}}const _0x23d533=[];if(_0x32f886[_0x5701d7(0x18f)])_0x23d533[_0x5701d7(0x1e1)](_0x5701d7(0x17f)+_0x32f886['map'](_0x25d6a1=>'â€¢\x20'+_0x25d6a1)[_0x5701d7(0x1de)]('\x0a'));if(_0x95ac5c[_0x5701d7(0x18f)])_0x23d533[_0x5701d7(0x1e1)](_0x5701d7(0x1dc)+_0x5701d7(0x15d)+_0x95ac5c[_0x5701d7(0xfb)](_0x14bb5e=>'â€¢\x20'+_0x14bb5e)['join']('\x0a'));await sendApiOrFallback(_0x2a96e3,_0x23d533[_0x5701d7(0x1de)]('\x0a\x0a')||_0x5701d7(0x118)+'roup\x20JIDs\x20'+_0x5701d7(0x15c));return;}if(_0x46d8f5===_0x5701d7(0x117)+'ngroup'||_0x46d8f5===_0x5701d7(0x1c4)+_0x5701d7(0xf3)){const _0x279710=_0x495c24[_0x5701d7(0x1f2)](/^(deladditiongroup|removeadditiongroup)\b/i,'')[_0x5701d7(0xf6)]();if(!_0x279710){await sendApiOrFallback(_0x2a96e3,'Usage:\x20del'+'additiongr'+_0x5701d7(0x17d)+_0x5701d7(0x14a)+_0x5701d7(0x1c5)+_0x5701d7(0x1aa)+_0x5701d7(0x167)+'groups\x20to\x20'+_0x5701d7(0x146)+'s.');return;}const _0x39e106=parseDeleteItems(_0x279710);if(!_0x39e106[_0x5701d7(0x18f)]){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x1f5)+_0x5701d7(0xeb)+_0x5701d7(0x1d8)+_0x5701d7(0xe1)+_0x5701d7(0x142)+_0x5701d7(0x177)+_0x5701d7(0x169)+_0x5701d7(0x13f));return;}const _0x5b2154=await dbListGroups(),_0x4097ed=new Set(),_0x278328=[];for(const _0x8cb573 of _0x39e106){if(_0x8cb573['type']==='jid'){const _0x1cc732=_0x8cb573[_0x5701d7(0xdb)];if(_0x5b2154[_0x5701d7(0x109)](_0x1cc732))_0x4097ed['add'](_0x1cc732);else _0x278328[_0x5701d7(0x1e1)](_0x1cc732);}else{if(_0x8cb573[_0x5701d7(0x12f)]==='index'){const _0x4e38fe=_0x8cb573[_0x5701d7(0xdb)];if(_0x4e38fe<=0x101+-0x1a05+0x641*0x4||_0x4e38fe>_0x5b2154['length']){_0x278328[_0x5701d7(0x1e1)](String(_0x4e38fe));continue;}const _0x22b907=_0x5b2154[_0x4e38fe-(0x26*0x2+0x7b*-0x2f+-0x1*-0x164a)];if(_0x22b907)_0x4097ed[_0x5701d7(0x176)](_0x22b907);}}}const _0x2460a4=[],_0x3014a8=[];for(const _0x179189 of Array[_0x5701d7(0x1f7)](_0x4097ed)){try{const _0xbb2c72=await dbRemoveGroup(_0x179189);if(_0xbb2c72)_0x2460a4[_0x5701d7(0x1e1)](_0x179189);else _0x3014a8['push'](_0x179189);}catch(_0x3b2556){warn('['+name+(_0x5701d7(0x19e)+_0x5701d7(0x19a)+_0x5701d7(0xfe))+_0x179189+':\x20'+(_0x3b2556?.[_0x5701d7(0x166)]||_0x3b2556)),_0x3014a8['push'](_0x179189);}}const _0x4594b4=[];if(_0x2460a4[_0x5701d7(0x18f)])_0x4594b4[_0x5701d7(0x1e1)]('âœ…\x20Removed:'+'\x0a'+_0x2460a4[_0x5701d7(0xfb)](_0x1fbcf7=>'â€¢\x20'+_0x1fbcf7)[_0x5701d7(0x1de)]('\x0a'));if(_0x3014a8[_0x5701d7(0x18f)])_0x4594b4[_0x5701d7(0x1e1)](_0x5701d7(0x17e)+'o\x20remove:\x0a'+_0x3014a8['map'](_0x1b7b48=>'â€¢\x20'+_0x1b7b48)[_0x5701d7(0x1de)]('\x0a'));if(_0x278328['length'])_0x4594b4['push'](_0x5701d7(0x1d2)+'d\x20/\x20invali'+_0x5701d7(0xd8)+_0x278328[_0x5701d7(0xfb)](_0x259253=>'\x20'+_0x259253)[_0x5701d7(0x1de)](','));await sendApiOrFallback(_0x2a96e3,_0x4594b4['join']('\x0a\x0a')||_0x5701d7(0x110)+_0x5701d7(0x1b2));return;}if(_0x46d8f5===_0x5701d7(0x193)+_0x5701d7(0x1c3)||_0x46d8f5===_0x5701d7(0x132)+_0x5701d7(0x149)){const _0x32ac3b=await dbListGroups();if(!_0x32ac3b||_0x32ac3b[_0x5701d7(0x18f)]===-0x24cf+-0x3*0x2f5+-0x3*-0xf3a){await sendApiOrFallback(_0x2a96e3,'No\x20additio'+_0x5701d7(0x12c)+_0x5701d7(0x191));return;}const _0x6c59be=_0x32ac3b[_0x5701d7(0xfb)]((_0xa2b898,_0x533783)=>_0x533783+(-0xef6+-0x2411+0x3308)+'.\x20'+_0xa2b898),_0x1993a8=chunkLines(_0x6c59be,0x1*0x497+0x172d*0x1+-0x1714);for(const _0x2f1297 of _0x1993a8)await sendApiOrFallback(_0x2a96e3,_0x2f1297);return;}if(_0x46d8f5===_0x5701d7(0xde)){const _0x2c2636=_0x495c24[_0x5701d7(0x16c)](/\s+/)[_0x5701d7(0x1bf)](-0x1353+-0x4*0x36d+0x2108);if(!_0x2c2636||!_0x2c2636[-0x5ed+-0x22e8+-0x28d5*-0x1]){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x196)+_0x5701d7(0x138)+'off\x0aCurren'+_0x5701d7(0x18c)+(CFG[_0x5701d7(0x1c2)]?'on':'off'));return;}const _0x8ac24f=_0x2c2636[-0x20ac+-0x8d8+0x2984][_0x5701d7(0x143)+'e']();if(_0x8ac24f!=='on'&&_0x8ac24f!==_0x5701d7(0xe7)){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x196)+_0x5701d7(0x138)+_0x5701d7(0xe7));return;}const _0x3cf74e=_0x8ac24f==='on';if(_0x3cf74e){const _0x55edf6=await dbListGroups(),_0x2965d0=await dbGetConfig(_0x5701d7(0x120)+'up');if(_0x55edf6[_0x5701d7(0x18f)]===-0x4*-0x254+0x1daf+-0x95*0x43){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x148)+_0x5701d7(0x114)+_0x5701d7(0x1a1)+'\x20least\x20one'+_0x5701d7(0x1a7)+'monitor\x20us'+_0x5701d7(0xd5)+_0x5701d7(0xf4)+_0x5701d7(0x151));return;}if(!_0x2965d0){await sendApiOrFallback(_0x2a96e3,'âŒ\x20Cannot\x20e'+_0x5701d7(0x114)+_0x5701d7(0x1a6)+_0x5701d7(0x1ce)+_0x5701d7(0x197)+_0x5701d7(0x1bd)+_0x5701d7(0xcd)+'arget`\x20fir'+_0x5701d7(0x15e));return;}}const _0x2f5da6=await dbSetConfig('enabled',_0x3cf74e?'1':'0');if(!_0x2f5da6){await sendApiOrFallback(_0x2a96e3,'Failed\x20to\x20'+_0x5701d7(0x175)+_0x5701d7(0x1c1)+_0x5701d7(0xe6)+'.');return;}CFG['ENABLED']=_0x3cf74e,await sendApiOrFallback(_0x2a96e3,'âœ…\x20addition'+'s\x20'+(_0x3cf74e?_0x5701d7(0x135):'disabled'));return;}if(_0x46d8f5==='additionta'+_0x5701d7(0x1d3)){const _0x2d93bc=_0x495c24[_0x5701d7(0x16c)](/\s+/)[_0x5701d7(0x1bf)](0xd*-0x21d+0x1942+0x238);if(!_0x2d93bc||!_0x2d93bc[0x3e6*0x1+-0x2084+0x12*0x197]){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x196)+_0x5701d7(0x168)+_0x5701d7(0x159)+_0x5701d7(0x18b)+_0x5701d7(0x14f)+(CFG[_0x5701d7(0x120)+'up']||_0x5701d7(0x111)+'QUIRED)'));return;}const _0x263533=_0x2d93bc[0x16d6+0x72*0x56+-0x2*0x1e91][_0x5701d7(0xf6)]();if(_0x263533[_0x5701d7(0x143)+'e']()===_0x5701d7(0x1b4)){await dbDeleteConfig(_0x5701d7(0x120)+'up'),CFG['notify_gro'+'up']=null,await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x1e6)+'target\x20cle'+_0x5701d7(0x141)+_0x5701d7(0x1af)+_0x5701d7(0x154)+_0x5701d7(0x14d)+_0x5701d7(0x136)+_0x5701d7(0x1ec));return;}if(!_0x263533[_0x5701d7(0x109)]('@')){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x1db)+_0x5701d7(0x10e)+'ude\x20an\x20@\x20('+_0x5701d7(0xf2)+'..@g.us)');return;}const _0x281664=await dbSetConfig(_0x5701d7(0x120)+'up',_0x263533);if(!_0x281664){await sendApiOrFallback(_0x2a96e3,_0x5701d7(0x1e9)+_0x5701d7(0x171)+'led\x20for\x20'+_0x263533);return;}CFG[_0x5701d7(0x120)+'up']=_0x263533,await sendApiOrFallback(_0x2a96e3,'âœ…\x20addition'+_0x5701d7(0xee)+_0x5701d7(0x19b)+_0x263533);return;}if(_0x46d8f5==='additionst'+'atus'){const _0x54c65f=CFG['ENABLED']?'on':'off',_0x11302a=CFG[_0x5701d7(0x120)+'up']||_0x5701d7(0x111)+'QUIRED\x20TO\x20'+_0x5701d7(0x112),_0x2dad16=await dbListGroups(),_0x5abdd9=[_0x5701d7(0xe3)+'\x20Notifier\x20'+'Status*\x0a',_0x5701d7(0x13b)+_0x54c65f+'*',_0x5701d7(0x170)+_0x5701d7(0x156)+_0x11302a+'*',_0x5701d7(0x1ef)+_0x5701d7(0x1b6)+(_0x2dad16['length']||0x22ec+0x6f*0x1b+-0x2ea1)+'*'];await sendApiOrFallback(_0x2a96e3,_0x5abdd9[_0x5701d7(0x1de)]('\x0a'));if(_0x2dad16[_0x5701d7(0x18f)]){const _0x74c932=_0x2dad16['map']((_0x38759f,_0x29ada4)=>_0x29ada4+(0x757+0xb63+-0x1*0x12b9)+'.\x20'+_0x38759f),_0x3dea91=chunkLines(_0x74c932,0x48*-0x47+-0x1434+0x2cdc);for(const _0x3631a1 of _0x3dea91)await sendApiOrFallback(_0x2a96e3,_0x3631a1);}return;}}catch(_0x335c55){error(_0x335c55,'['+name+(_0x5701d7(0xed)+_0x5701d7(0x1b5))+(_0x335c55?.[_0x5701d7(0x166)]||_0x335c55));}}export async function cleanup(){const _0x48f98e=_0x192f85;try{for(const _0x47ed9d of groupTimers[_0x48f98e(0x19c)]())try{clearTimeout(_0x47ed9d);}catch(_0x569b26){}groupTimers[_0x48f98e(0x1b4)](),groupQueues[_0x48f98e(0x1b4)]();try{stopManagedListener(name,'group-part'+_0x48f98e(0x16d)+_0x48f98e(0x172));}catch(_0x923796){}}catch(_0x4a6c80){warn('['+name+(_0x48f98e(0x150)+_0x48f98e(0x1d0))+(_0x4a6c80?.[_0x48f98e(0x166)]||_0x4a6c80));}finally{botRef=null,info('['+name+(']\x20cleaned\x20'+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};