const _0x4f19ac=_0xc8dd;(function(_0x2c24d6,_0x1fd98a){const _0x3e8514=_0xc8dd,_0x39d5a5=_0x2c24d6();while(!![]){try{const _0x5dfb43=parseInt(_0x3e8514(0x1c6))/(0x18e0+0x116*-0x11+-0x669*0x1)+-parseInt(_0x3e8514(0x216))/(0x863*-0x4+0x9ba*-0x4+0x4876)*(-parseInt(_0x3e8514(0x1c2))/(0xdcc*0x1+0x859*-0x1+0x8*-0xae))+parseInt(_0x3e8514(0x207))/(-0x1df5+0x3d*0x3d+-0x4*-0x3dc)+parseInt(_0x3e8514(0x17a))/(0x14*-0xa7+0x927+-0x2*-0x1f5)*(parseInt(_0x3e8514(0x1d5))/(0x22*0x1a+-0x1f45*-0x1+-0x22b3*0x1))+-parseInt(_0x3e8514(0x226))/(-0x19*-0x4d+-0x1e37+0x16b9)*(-parseInt(_0x3e8514(0x1d9))/(-0xf*0x29+-0x1*0x9ff+0xc6e))+-parseInt(_0x3e8514(0x177))/(-0x1def*-0x1+-0x435*-0x4+-0x2eba)*(-parseInt(_0x3e8514(0x21c))/(0x1bec+0x219f+0x43*-0xeb))+-parseInt(_0x3e8514(0x1ec))/(0x5*0x359+-0x45f+-0xc53);if(_0x5dfb43===_0x1fd98a)break;else _0x39d5a5['push'](_0x39d5a5['shift']());}catch(_0x4ab294){_0x39d5a5['push'](_0x39d5a5['shift']());}}}(_0x4cad,-0xc5c61+0x1*0xab3a9+0x876fc));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getConfig}from'../utils/config.js';function _0x4cad(){const _0x45bd6c=['3.4.0','enabled',':\x20.antilin','INTEGER\x20DE','\x20\x20\x20\x20\x20\x20\x20\x20ON','telist;','run','isCommand','d\x20=\x20exclud','text','CURRENCY','atQueue\x20er','lete_prefs',']\x27\x0a\x20\x20\x20\x20\x20\x20\x20','XT\x20PRIMARY','9NlkiVN','all','ANTILINK','355xTPEZd','n|off|stat','SSAGE','_jid\x27','slice','delete','stringify','antilinkwl','fromMe','BATCH_DELA','clear','E\x20SET\x20whit','map','k\x20Status*\x0a','\x20group(s).','MAX','\x20processCh','toLowerCas','rnings:\x20{w','groupMetad','includes',',\x20?)\x0a\x20\x20\x20\x20\x20','ed.enabled','getUniqueJ','led\x20for\x20','videoMessa','parse','ue\x20FROM\x20de','\x20deleteWit','\x20initializ','hRetry\x20fai','antilink','bled,\x20whit','tatus.','k:\x20','antilink_s','endsWith','led',':\x20\x22','arnings}','message','exec','conversati','chat_jid)\x20','max','hat_jid\x20TE','ror\x20for\x20','url','\x20subcomman','remoteJid','r\x20\x27','d\x20here.\x20Re','resolveNam','jid','filter','[antilink]','count','*\x0a\x0a','whitelist','k\x20Deletion','mand\x20only\x20','t\x20resolve\x20','index','oUserJid','Please\x20use','t_jid\x20=\x20?','\x20sendWarni','🔗\x20PM\x20Usage','us>','🔗\x20*Origina','off','\x20VALUES\x20(?','3VjFNKY','led:\x20','remove','has','291196noSlyH','BATCH_SIZE','\x20\x20\x20CREATE\x20','🔗\x20Could\x20no',',\x20whitelis','nabled\x20fai','\x20schema\x20cr','WARNING_ME','findings','FAULT\x200,\x0a\x20','(?,\x20?)\x0a\x20\x20\x20','or\x20for\x20','l\x20Message:','status>\x20gp','k\x20<on|off|','10518cnvhTW','normalizeT','nections.\x20','hostname','1721656sJSCyT','T(chat_jid','not\x20allowe','match','🔗\x20Antilink','DELETE_RET','ON\x20CONFLIC','DISABLED','\x20cleaned\x20u','\x20forward\x20d','{warnings}','*\x0a```','set','key','\x20groups\x20fo','ntilink\x20<o','ids','DO\x20UPDATE\x20','sock','13772000ELuVqp','\x20\x20\x20\x20\x20\x20','❌\x20OFF','Unknown','\x20CONFLICT(','subject','etting\x20err','@g.us','from','ate','status','\x20\x20\x20\x20\x20\x20\x20\x20\x20c','split','t)\x20VALUES\x20','\x20module\x20in','ata','trim','e\x20failed','get','d|all>','ENABLED','🔗\x20Invalid\x20','\x20WHERE\x20key','any\x20target','itialized.','SELECT\x20val','MAX_WARNS','563508dwSJhb','Y_MS','OT\x20EXISTS\x20','elist\x20=\x20ex','D_LINKS','🔗\x20{user},\x20','REMOVE_ON_','\x20/setdefau','\x20for\x20','push','works\x20on\x20d','👤\x20*User:*\x20','\x20setGroupE','maining\x20wa',')\x20DO\x20UPDAT','823058NrzCky','igure\x20one.','🔗\x20This\x20com','\x20(chat_jid','catch','groupParti','5147480nGYyjj','requires\x20a','xtMessage','🚫\x20*Antilin','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cipantsUpd','\x20=\x20\x27target','list\x20TEXT\x20','length','ailed\x20for\x20','7FLiKmW','value','caption','isArray','replace','d.\x20Use:\x20.a','🔗\x20Command\x20','INSERT\x20INT','sendMessag','participan','tlds'];_0x4cad=function(){return _0x45bd6c;};return _0x4cad();}import{isadmin}from'../utils/isadmin.js';function _0xc8dd(_0x6224b9,_0x30b50f){const _0x4f6ecc=_0x4cad();return _0xc8dd=function(_0x4e6e30,_0x2feaf5){_0x4e6e30=_0x4e6e30-(-0x43*-0x17+0x149a+-0x1935);let _0x354c50=_0x4f6ecc[_0x4e6e30];return _0x354c50;},_0xc8dd(_0x6224b9,_0x30b50f);}import{getDefault,getConnection}from'../utils/connection.js';import*as _0x236461 from'../utils/groups.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import _0x29c785 from'linkify-it';import{createRequire}from'module';const require=createRequire(import.meta[_0x4f19ac(0x1a9)]),tlds=require('tlds');import _0xf658c6 from'axios';import{resolve as _0x57257b}from'dns/promises';export const name=_0x4f19ac(0x199);export const version=_0x4f19ac(0x231);export const priority=0x4*0xc+0x499+0x5*-0xe1;export const commands=['antilink',_0x4f19ac(0x181)];const TABLE_SETTINGS=_0x4f19ac(0x19d)+'ettings';let botRef=null,shuttingDown=![],config={};const linkify=_0x29c785();linkify[_0x4f19ac(0x230)](tlds);const perChatQueue=new Map(),perChatProcessing=new Map();let activeChats=0x236b+0xa83+-0x2dee;const processedMessageIds=new Map(),perUserWarnings=new Map();async function ensureSchema(){const _0x4e9c50=_0x4f19ac;try{await db[_0x4e9c50(0x1a3)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e9c50(0x1c8)+'TABLE\x20IF\x20N'+_0x4e9c50(0x209)+TABLE_SETTINGS+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x4e9c50(0x1f7)+_0x4e9c50(0x1a7)+_0x4e9c50(0x176)+'\x20KEY,\x0a\x20\x20\x20\x20'+_0x4e9c50(0x220)+'\x20\x20enabled\x20'+_0x4e9c50(0x16b)+_0x4e9c50(0x1cf)+_0x4e9c50(0x220)+'\x20\x20\x20\x20\x20white'+_0x4e9c50(0x223)+'DEFAULT\x20\x27['+_0x4e9c50(0x175)+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+_0x4e9c50(0x1ed))),info(_0x4e9c50(0x1b1)+'\x20Database\x20'+'schema\x20ens'+'ured.');}catch(_0x28cc36){error(_0x28cc36,_0x4e9c50(0x1b1)+_0x4e9c50(0x1cc)+'eation\x20fai'+_0x4e9c50(0x19f));throw _0x28cc36;}}async function getGroupSetting(_0x1fefab){const _0x26d5af=_0x4f19ac;try{const _0x522af6=await db['get']('SELECT\x20ena'+_0x26d5af(0x19a)+'elist\x20FROM'+'\x20'+TABLE_SETTINGS+('\x20WHERE\x20cha'+_0x26d5af(0x1bb)),[_0x1fefab]);return{'enabled':!!_0x522af6?.['enabled'],'whitelist':_0x522af6?JSON[_0x26d5af(0x194)](_0x522af6[_0x26d5af(0x1b4)]||'[]'):[]};}catch(_0x17d378){return warn(_0x26d5af(0x1b1)+'\x20getGroupS'+_0x26d5af(0x1f2)+_0x26d5af(0x1d1)+_0x1fefab+':\x20'+(_0x17d378?.[_0x26d5af(0x1a2)]||_0x17d378)),{'enabled':![],'whitelist':[]};}}async function setGroupEnabled(_0x5501d0,_0x200218){const _0x40e4ed=_0x4f19ac;try{return await db[_0x40e4ed(0x16e)](_0x40e4ed(0x22d)+'O\x20'+TABLE_SETTINGS+(_0x40e4ed(0x219)+',\x20enabled)'+_0x40e4ed(0x1c1)+_0x40e4ed(0x18f)+_0x40e4ed(0x16c)+_0x40e4ed(0x1f0)+_0x40e4ed(0x1a5)+_0x40e4ed(0x1ea)+'SET\x20enable'+_0x40e4ed(0x170)+_0x40e4ed(0x190)+';'),[_0x5501d0,_0x200218?-0x7*-0x500+0x67*-0x46+0xb*-0x9f:0xc5f+0x4b7+-0x1116]),!![];}catch(_0x32d85c){return error(_0x32d85c,'[antilink]'+_0x40e4ed(0x213)+_0x40e4ed(0x1cb)+_0x40e4ed(0x192)+_0x5501d0),![];}}async function setGroupWhitelist(_0x4b31b7,_0x905995){const _0x1d6660=_0x4f19ac;try{const _0x27f31e=Array[_0x1d6660(0x1f4)](new Set((_0x905995||[])[_0x1d6660(0x186)](String)[_0x1d6660(0x1b0)](Boolean)));return await db[_0x1d6660(0x16e)](_0x1d6660(0x22d)+'O\x20'+TABLE_SETTINGS+(_0x1d6660(0x219)+_0x1d6660(0x1ca)+_0x1d6660(0x1f9)+_0x1d6660(0x1d0)+_0x1d6660(0x220)+_0x1d6660(0x1df)+_0x1d6660(0x1da)+_0x1d6660(0x215)+_0x1d6660(0x185)+_0x1d6660(0x20a)+'cluded.whi'+_0x1d6660(0x16d)),[_0x4b31b7,JSON[_0x1d6660(0x180)](_0x27f31e)]),!![];}catch(_0x49da24){return error(_0x49da24,_0x1d6660(0x1b1)+'\x20setGroupW'+'hitelist\x20f'+_0x1d6660(0x225)+_0x4b31b7),![];}}function refreshConfig(){const _0x17ef7a=_0x4f19ac,_0x59b522=getConfig()||{};config={'MAX_WARNS':0x3,'REMOVE_ON_MAX':!![],'SEND_WARNING':!![],'WARNING_MESSAGE':_0x17ef7a(0x20c)+'links\x20are\x20'+_0x17ef7a(0x1db)+_0x17ef7a(0x1ad)+_0x17ef7a(0x214)+_0x17ef7a(0x18c)+_0x17ef7a(0x1a1),'VALIDATION_TIMEOUT_MS':0xfa0,'LOG_DELETED_LINKS':!![],'BATCH_SIZE':0x5,'BATCH_DELAY_MS':0x320,'GLOBAL_CONCURRENCY':0x2,'DELETE_RETRY_COUNT':0x2,..._0x59b522[_0x17ef7a(0x179)]||{}};}function setupApi(_0x4acfb3){botRef=_0x4acfb3;}function extractTextFromMessage(_0x25adba){const _0x46d84b=_0x4f19ac;if(!_0x25adba||!_0x25adba[_0x46d84b(0x1a2)])return'';const _0x2c03d3=_0x25adba[_0x46d84b(0x1a2)];return _0x2c03d3[_0x46d84b(0x1a4)+'on']||_0x2c03d3['extendedTe'+_0x46d84b(0x21e)]?.['text']||_0x2c03d3['imageMessa'+'ge']?.[_0x46d84b(0x228)]||_0x2c03d3[_0x46d84b(0x193)+'ge']?.['caption']||'';}async function messageContainsLink(_0x294a23){const _0x52f263=_0x4f19ac,_0x243b47=extractTextFromMessage(_0x294a23);if(!_0x243b47)return![];const _0x29d2cc=linkify[_0x52f263(0x1dc)](_0x243b47);if(!_0x29d2cc)return![];for(const _0x27181e of _0x29d2cc){try{const _0x575278=new URL(_0x27181e[_0x52f263(0x1a9)]);return await _0x57257b(_0x575278[_0x52f263(0x1d8)]),!![];}catch(_0x517525){continue;}}return![];}function sleep(_0x2e4482){return new Promise(_0x4d79bb=>setTimeout(_0x4d79bb,_0x2e4482));}async function deleteWithRetry(_0x2e4e05){const _0x11e44f=_0x4f19ac,_0x525611=Math['max'](-0x580+0x1f92+-0x1a11,config[_0x11e44f(0x1de)+'RY_COUNT']||-0x152e+-0x2f7*-0x2+0xf41),_0x30b6ee=_0x2e4e05[_0x11e44f(0x1e6)]?.[_0x11e44f(0x1ab)];if(!_0x30b6ee)return![];for(let _0x4e2721=-0x262c*-0x1+0x22e4+-0x13d*0x3b;_0x4e2721<=_0x525611;_0x4e2721++){try{const _0x4aa89d=botRef?.[_0x11e44f(0x1eb)]||botRef;return await _0x4aa89d[_0x11e44f(0x22e)+'e'](_0x30b6ee,{'delete':_0x2e4e05[_0x11e44f(0x1e6)]}),!![];}catch(_0x6fe9b6){if(_0x4e2721<_0x525611){await sleep((-0x1a76+-0x584+0x218a)*_0x4e2721);continue;}return warn(_0x11e44f(0x1b1)+_0x11e44f(0x196)+_0x11e44f(0x198)+_0x11e44f(0x1c3)+(_0x6fe9b6?.[_0x11e44f(0x1a2)]||_0x6fe9b6)),![];}}return![];}async function getLogTargetJid(){const _0x153600=_0x4f19ac;try{const _0x2e6d73=await db['get'](_0x153600(0x205)+_0x153600(0x195)+_0x153600(0x174)+_0x153600(0x202)+_0x153600(0x222)+_0x153600(0x17d));return _0x2e6d73?.[_0x153600(0x227)]||getBotJid();}catch(_0xe7c2e){return getBotJid();}}async function forwardDeletedLink(_0x1575e0){const _0x5ef4e4=_0x4f19ac;if(!config['LOG_DELETE'+_0x5ef4e4(0x20b)])return;try{const _0x40a5eb=await getLogTargetJid();if(!_0x40a5eb)return;const _0x46bb43=_0x1575e0[_0x5ef4e4(0x1e6)]?.[_0x5ef4e4(0x22f)+'t']||_0x1575e0[_0x5ef4e4(0x1e6)]?.[_0x5ef4e4(0x1ab)]||_0x5ef4e4(0x1ef),_0x3b6ea5=_0x1575e0['key']?.[_0x5ef4e4(0x1ab)],_0x4a5025=extractTextFromMessage(_0x1575e0);let _0x5adec7='PM';try{if(_0x3b6ea5[_0x5ef4e4(0x19e)](_0x5ef4e4(0x1f3))){const _0x85dab4=await(botRef?.[_0x5ef4e4(0x1eb)]||botRef)[_0x5ef4e4(0x18d)+_0x5ef4e4(0x1fb)](_0x3b6ea5);_0x5adec7=_0x85dab4[_0x5ef4e4(0x1f1)];}}catch(_0x2b649a){_0x5adec7='Unknown\x20Gr'+'oup';}const _0x51c9f6=_0x5ef4e4(0x21f)+_0x5ef4e4(0x1b5)+_0x5ef4e4(0x1b3)+(_0x5ef4e4(0x212)+'@'+_0x46bb43[_0x5ef4e4(0x1f8)]('@')[0x19f0+0x17d1*-0x1+-0x21f]+'\x0a')+('💬\x20*Chat:*\x20'+_0x5adec7+'\x20('+_0x3b6ea5+')\x0a')+(_0x5ef4e4(0x1bf)+_0x5ef4e4(0x1d2)+_0x5ef4e4(0x1e4)+_0x4a5025+'```');await(botRef?.[_0x5ef4e4(0x1eb)]||botRef)[_0x5ef4e4(0x22e)+'e'](_0x40a5eb,{'text':_0x51c9f6,'mentions':[_0x46bb43]});}catch(_0x1daa7d){warn(_0x5ef4e4(0x1b1)+'\x20Failed\x20to'+_0x5ef4e4(0x1e2)+'eleted\x20lin'+_0x5ef4e4(0x19c)+_0x1daa7d['message']);}}function userKey(_0x5338bb,_0x4624c3){return _0x5338bb+'::'+_0x4624c3;}async function incrementWarningAndMaybeRemove(_0x426231){const _0x2000f6=_0x4f19ac;try{const _0x5c0184=_0x426231[_0x2000f6(0x1e6)]?.[_0x2000f6(0x1ab)],_0x470d90=_0x426231[_0x2000f6(0x1e6)]?.[_0x2000f6(0x22f)+'t']||_0x426231['key']?.['remoteJid']||'';if(!_0x5c0184||!_0x470d90)return{'count':0x0,'removed':![]};const _0x1ce72c=userKey(_0x5c0184,_0x470d90),_0x362b33=perUserWarnings[_0x2000f6(0x1fe)](_0x1ce72c)||{'count':0x0};_0x362b33['count']++,perUserWarnings[_0x2000f6(0x1e5)](_0x1ce72c,_0x362b33);if(config[_0x2000f6(0x20d)+_0x2000f6(0x189)]&&_0x362b33[_0x2000f6(0x1b2)]>=config['MAX_WARNS']){const _0x2b10ad=botRef?.[_0x2000f6(0x1eb)]||botRef;return await _0x2b10ad[_0x2000f6(0x21b)+_0x2000f6(0x221)+_0x2000f6(0x1f5)](_0x5c0184,[_0x470d90],_0x2000f6(0x1c4)),perUserWarnings[_0x2000f6(0x17f)](_0x1ce72c),{'count':_0x362b33[_0x2000f6(0x1b2)],'removed':!![]};}return{'count':_0x362b33[_0x2000f6(0x1b2)],'removed':![]};}catch(_0x2de64f){return warn('[antilink]'+'\x20increment'+'Warning\x20er'+'ror:\x20'+(_0x2de64f?.[_0x2000f6(0x1a2)]||_0x2de64f)),{'count':0x0,'removed':![]};}}async function sendWarning(_0x56f472,_0x504b4d){const _0x3ebb64=_0x4f19ac;if(!config['SEND_WARNI'+'NG'])return;try{const _0x1dca11=_0x56f472[_0x3ebb64(0x1e6)]?.[_0x3ebb64(0x22f)+'t']||_0x56f472['key']?.[_0x3ebb64(0x1ab)]||'',_0xce3f0f=Math[_0x3ebb64(0x1a6)](0x1bd+0x1*0x1ba+0x1*-0x377,config[_0x3ebb64(0x206)]-_0x504b4d),_0x1366e4=config[_0x3ebb64(0x1cd)+_0x3ebb64(0x17c)][_0x3ebb64(0x22a)]('{user}','@'+_0x1dca11[_0x3ebb64(0x1f8)]('@')[-0x125d+-0x1bfb+0x2e58])[_0x3ebb64(0x22a)](_0x3ebb64(0x1e3),String(_0xce3f0f)),_0xb9d629=_0x56f472['key'][_0x3ebb64(0x1ab)],_0x9a0fd8=botRef?.[_0x3ebb64(0x1eb)]||botRef;await _0x9a0fd8[_0x3ebb64(0x22e)+'e'](_0xb9d629,{'text':_0x1366e4,'mentions':[_0x1dca11]});}catch(_0x163a6c){warn(_0x3ebb64(0x1b1)+_0x3ebb64(0x1bc)+'ng\x20failed:'+'\x20'+(_0x163a6c?.[_0x3ebb64(0x1a2)]||_0x163a6c));}}function enqueueDeletion(_0x187343){const _0x23ab78=_0x4f19ac,_0x16563a=_0x187343[_0x23ab78(0x1e6)]?.['remoteJid'];if(!_0x16563a)return;if(!perChatQueue[_0x23ab78(0x1c5)](_0x16563a))perChatQueue['set'](_0x16563a,[]);perChatQueue[_0x23ab78(0x1fe)](_0x16563a)['push'](_0x187343);if(!perChatProcessing[_0x23ab78(0x1fe)](_0x16563a))tryStartProcessingForChat(_0x16563a);}function tryStartProcessingForChat(_0x496c64){const _0x4c12fd=_0x4f19ac;if(perChatProcessing[_0x4c12fd(0x1fe)](_0x496c64)||shuttingDown)return;if(activeChats>=(config['GLOBAL_CON'+_0x4c12fd(0x172)]||0x15*-0x17b+0x1*0x1477+0xaa1*0x1)){setTimeout(()=>tryStartProcessingForChat(_0x496c64),0x1dec+0x1112+0x528*-0x9);return;}activeChats++,perChatProcessing[_0x4c12fd(0x1e5)](_0x496c64,!![]),((async()=>{const _0x17d6f2=_0x4c12fd;try{await processChatQueue(_0x496c64);}catch(_0x1f59bd){warn(_0x17d6f2(0x1b1)+_0x17d6f2(0x18a)+_0x17d6f2(0x173)+_0x17d6f2(0x1a8)+_0x496c64+':\x20'+(_0x1f59bd?.[_0x17d6f2(0x1a2)]||_0x1f59bd));}finally{perChatProcessing[_0x17d6f2(0x1e5)](_0x496c64,![]),activeChats--;if(perChatQueue[_0x17d6f2(0x1fe)](_0x496c64)?.[_0x17d6f2(0x224)])setImmediate(()=>tryStartProcessingForChat(_0x496c64));}})());}async function processChatQueue(_0x466a9c){const _0x2e2978=_0x4f19ac;while(perChatQueue[_0x2e2978(0x1fe)](_0x466a9c)?.['length']>-0x5*-0x37e+0x20db+-0x493*0xb&&!shuttingDown){const _0x2fe8fb=perChatQueue['get'](_0x466a9c)['splice'](0x1790+0x1f3*0x10+-0x36c0,config[_0x2e2978(0x1c7)]||0x39e+-0x1*0x873+0x2*0x26b);for(const _0x42aacb of _0x2fe8fb){const _0x29f2a8=await deleteWithRetry(_0x42aacb);if(_0x29f2a8){await forwardDeletedLink(_0x42aacb);const {count:_0x5e1274,removed:_0x2b7e12}=await incrementWarningAndMaybeRemove(_0x42aacb);!_0x2b7e12&&await sendWarning(_0x42aacb,_0x5e1274);}}perChatQueue['get'](_0x466a9c)?.[_0x2e2978(0x224)]>-0xc64+-0x1dc6+0x2a2a&&await sleep(config[_0x2e2978(0x183)+_0x2e2978(0x208)]||0xd*0x297+0x2*0x10af+-0x4115);}}function getMessageKey(_0x280917){const _0x192254=_0x4f19ac;if(!_0x280917?.['key']?.['id'])return null;return _0x280917['key'][_0x192254(0x1ab)]+':'+_0x280917['key']['id'];}function splitRestForGp(_0x286385){const _0x13a84f=_0x4f19ac;if(!_0x286385)return{'left':'','gp':null};const _0xca33ca=_0x286385[_0x13a84f(0x1dc)](/\bgp[:\s]+(.+)$/i);if(_0xca33ca)return{'left':_0x286385[_0x13a84f(0x17e)](0x7b5+0x20e*-0x10+0x192b,_0xca33ca[_0x13a84f(0x1b8)])[_0x13a84f(0x1fc)](),'gp':_0xca33ca[0x1512+-0x6*0x288+-0x5e1][_0x13a84f(0x1fc)]()};return{'left':_0x286385[_0x13a84f(0x1fc)](),'gp':null};}async function resolveTargetsForGroupAdmin(_0x17b574){const _0x40ab3f=_0x4f19ac,_0x3315d2=await getDefault(_0x17b574)[_0x40ab3f(0x21a)](()=>null);if(!_0x3315d2)return[];const _0x23406e=Array[_0x40ab3f(0x229)](_0x3315d2)?_0x3315d2:[_0x3315d2];let _0x4f1970=[];for(const _0x48d2bd of _0x23406e){const _0x38d979=await getConnection(_0x48d2bd)[_0x40ab3f(0x21a)](()=>null);if(Array[_0x40ab3f(0x229)](_0x38d979))_0x4f1970[_0x40ab3f(0x210)](..._0x38d979);else{if(_0x38d979)_0x4f1970[_0x40ab3f(0x210)](String(_0x38d979));}}return Array[_0x40ab3f(0x1f4)](new Set(_0x4f1970));}async function resolveTargetsForSudo(_0x12b11b){const _0x549c2a=_0x4f19ac;if(!_0x12b11b)return[];if(_0x12b11b[_0x549c2a(0x18b)+'e']()===_0x549c2a(0x178))return await _0x236461[_0x549c2a(0x191)+_0x549c2a(0x1e9)]();const _0x4f60e5=await _0x236461[_0x549c2a(0x1ae)+'e'](_0x12b11b);if(_0x4f60e5)return[_0x4f60e5];if(_0x12b11b[_0x549c2a(0x18e)]('@'))return[_0x236461[_0x549c2a(0x1d6)+_0x549c2a(0x1b9)](_0x12b11b)];return[];}async function findStoredMatchFromFindings(_0x4d3e24=[]){const _0x22a617=_0x4f19ac;try{const _0x492676=await listSudo();if(!_0x492676?.['length'])return null;const _0x3ce06b=new Set(_0x492676[_0x22a617(0x186)](String));for(const _0x310fed of _0x4d3e24||[]){if(_0x310fed?.[_0x22a617(0x1af)]&&_0x3ce06b[_0x22a617(0x1c5)](normalizeToJid(_0x310fed['jid'])))return normalizeToJid(_0x310fed['jid']);}return null;}catch(_0x3fae8c){return null;}}export async function initialize(_0x27f69d){const _0x2d9a3c=_0x4f19ac;try{setupApi(_0x27f69d),await ensureSchema(),refreshConfig(),shuttingDown=![],info(_0x2d9a3c(0x1b1)+_0x2d9a3c(0x1fa)+_0x2d9a3c(0x204));}catch(_0xf55ba7){error(_0xf55ba7,'[antilink]'+_0x2d9a3c(0x197)+_0x2d9a3c(0x1fd));throw _0xf55ba7;}}export async function onMessage(_0x423648){const _0x53280f=_0x4f19ac;if(!_0x423648?.[_0x53280f(0x1e6)]?.[_0x53280f(0x1ab)]||!_0x423648[_0x53280f(0x1a2)]||shuttingDown)return;const _0x28df8d=_0x423648[_0x53280f(0x1e6)][_0x53280f(0x1ab)],_0x29c87c=_0x28df8d[_0x53280f(0x19e)](_0x53280f(0x1f3)),_0x42adf8=_0x423648[_0x53280f(0x1e6)][_0x53280f(0x22f)+'t']||_0x423648[_0x53280f(0x1e6)]['remoteJid'],_0x435e3b=_0x42adf8[_0x53280f(0x1f8)]('@')[-0x3*0x53d+0x176b+-0x7b4],_0xc27ee1=extractTextFromMessage(_0x423648),_0x3e9227=(_0x423648[_0x53280f(0x171)]||_0xc27ee1)['trim'](),_0x431516=_0x423648[_0x53280f(0x16f)]&&_0x3e9227?_0x3e9227['split'](/\s+/)[-0x23f6+0x33*0x59+0x123b][_0x53280f(0x18b)+'e']()[_0x53280f(0x22a)]('/',''):null;if(_0x423648[_0x53280f(0x16f)]&&commands[_0x53280f(0x18e)](_0x431516)){let _0x5733bd=_0x28df8d,_0x3ccbc9=![],_0x158d47=![];if(_0x29c87c){if(await isadmin(botRef,_0x423648))_0x3ccbc9=!![];}else{if(_0x423648[_0x53280f(0x1e6)][_0x53280f(0x182)])_0x3ccbc9=!![],_0x158d47=!![],_0x5733bd=getBotJid()||_0x28df8d;else{if(await isSudo(botRef,_0x423648)){_0x3ccbc9=!![],_0x158d47=!![];const _0x41abfa=await userJidFromCtx(_0x423648)||{'findings':[]};_0x5733bd=await findStoredMatchFromFindings(_0x41abfa[_0x53280f(0x1ce)])||_0x28df8d;}}}if(!_0x3ccbc9)return;if(_0x431516===_0x53280f(0x199)){const _0x4c50d1=_0x3e9227['replace'](new RegExp('^/?'+_0x431516+'\x5cb','i'),'')[_0x53280f(0x1fc)](),{left:_0x44d823,gp:_0x5ecc0d}=splitRestForGp(_0x4c50d1),_0x597c57=_0x44d823[_0x53280f(0x1f8)](/[, ]+/)[0x183a+-0xabd*-0x3+-0x3871]?.[_0x53280f(0x18b)+'e']();if(!_0x597c57)return(botRef?.[_0x53280f(0x1eb)]||botRef)[_0x53280f(0x22e)+'e'](_0x5733bd,{'text':_0x53280f(0x22c)+_0x53280f(0x21d)+_0x53280f(0x1aa)+_0x53280f(0x22b)+_0x53280f(0x1e8)+_0x53280f(0x17b)+_0x53280f(0x1be)});if(!['on',_0x53280f(0x1c0),_0x53280f(0x1f6)]['includes'](_0x597c57))return(botRef?.[_0x53280f(0x1eb)]||botRef)[_0x53280f(0x22e)+'e'](_0x5733bd,{'text':_0x53280f(0x201)+'subcommand'+_0x53280f(0x1a0)+_0x597c57+('\x22.\x20Use\x20on,'+'\x20off,\x20or\x20s'+_0x53280f(0x19b))});let _0x343d08=[];if(_0x158d47){if(!_0x5ecc0d)return(botRef?.[_0x53280f(0x1eb)]||botRef)['sendMessag'+'e'](_0x5733bd,{'text':_0x53280f(0x1bd)+_0x53280f(0x16a)+_0x53280f(0x1d4)+_0x53280f(0x1d3)+':<alias|ji'+_0x53280f(0x1ff)});_0x343d08=await resolveTargetsForSudo(_0x5ecc0d);if(!_0x343d08['length'])return(botRef?.[_0x53280f(0x1eb)]||botRef)[_0x53280f(0x22e)+'e'](_0x5733bd,{'text':_0x53280f(0x1c9)+_0x53280f(0x1b7)+_0x53280f(0x203)+_0x53280f(0x1e7)+_0x53280f(0x1ac)+_0x5ecc0d+'\x27.'});}else{_0x343d08=await resolveTargetsForGroupAdmin(_0x435e3b);if(!_0x343d08['length'])return(botRef?.['sock']||botRef)[_0x53280f(0x22e)+'e'](_0x5733bd,{'text':_0x53280f(0x218)+_0x53280f(0x1b6)+_0x53280f(0x211)+'efault\x20con'+_0x53280f(0x1d7)+_0x53280f(0x1ba)+_0x53280f(0x20e)+'lt\x20to\x20conf'+_0x53280f(0x217)});}if(_0x597c57==='on'||_0x597c57===_0x53280f(0x1c0)){const _0x3e2ab8=_0x597c57==='on';let _0x4345b1=0x2096+0x11da+-0x3270;for(const _0x6565be of _0x343d08){await setGroupEnabled(_0x6565be,_0x3e2ab8)&&_0x4345b1++;}await(botRef?.[_0x53280f(0x1eb)]||botRef)['sendMessag'+'e'](_0x5733bd,{'text':_0x53280f(0x1dd)+'\x20'+(_0x3e2ab8?_0x53280f(0x200):_0x53280f(0x1e0))+_0x53280f(0x20f)+_0x4345b1+'/'+_0x343d08['length']+_0x53280f(0x188)});return;}if(_0x597c57===_0x53280f(0x1f6)){let _0x5490be='🔗\x20*Antilin'+_0x53280f(0x187)+'\x0a';for(const _0xe4c579 of _0x343d08){const {enabled:_0x25f44e}=await getGroupSetting(_0xe4c579);_0x5490be+=_0xe4c579+':\x20'+(_0x25f44e?'✅\x20ON':_0x53280f(0x1ee))+'\x0a';}await(botRef?.['sock']||botRef)[_0x53280f(0x22e)+'e'](_0x5733bd,{'text':_0x5490be});return;}}return;}if(_0x29c87c){const _0x530959=await getGroupSetting(_0x28df8d);if(!_0x530959[_0x53280f(0x232)]||_0x423648[_0x53280f(0x1e6)][_0x53280f(0x182)]||await isadmin(botRef,_0x423648))return;const _0x332add=_0x530959['whitelist']['includes'](_0x42adf8);if(_0x332add)return;const _0x527882=extractTextFromMessage(_0x423648),_0xf5bdc7=_0x527882&&_0x530959[_0x53280f(0x1b4)]['some'](_0x58cbda=>_0x527882[_0x53280f(0x18e)](_0x58cbda));if(_0xf5bdc7)return;if(await messageContainsLink(_0x423648)){const _0x51b8eb=getMessageKey(_0x423648);if(processedMessageIds[_0x53280f(0x1c5)](_0x51b8eb))return;processedMessageIds[_0x53280f(0x1e5)](_0x51b8eb,setTimeout(()=>processedMessageIds[_0x53280f(0x17f)](_0x51b8eb),-0xae9+-0xb2+0x1f23*0x1)),enqueueDeletion(_0x423648);}}}export async function cleanup(){const _0x37b8c0=_0x4f19ac;shuttingDown=!![],perChatQueue[_0x37b8c0(0x184)](),perChatProcessing[_0x37b8c0(0x184)](),processedMessageIds['forEach'](_0xded619=>clearTimeout(_0xded619)),processedMessageIds['clear'](),perUserWarnings[_0x37b8c0(0x184)](),activeChats=0x7*0x48b+0x36d+0x119d*-0x2,info(_0x37b8c0(0x1b1)+_0x37b8c0(0x1e1)+'p.');}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};