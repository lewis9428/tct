const _0x1cfd01=_0x3a8d;(function(_0x519ceb,_0x29322f){const _0x1fccc0=_0x3a8d,_0x192c86=_0x519ceb();while(!![]){try{const _0x1cc6e6=-parseInt(_0x1fccc0(0x165))/(-0x98d+0x1f7d+-0x1*0x15ef)*(parseInt(_0x1fccc0(0x15e))/(-0x1d0c+-0x1f1b+0x3c29))+parseInt(_0x1fccc0(0x14b))/(-0x26fa+-0x17cf+0x3ecc)*(-parseInt(_0x1fccc0(0x14d))/(-0x42d+-0xb16+-0xf47*-0x1))+parseInt(_0x1fccc0(0x181))/(0x6*0x31d+-0x14*-0x16c+-0xfb3*0x3)+-parseInt(_0x1fccc0(0x197))/(0x374+0x1e20+-0x218e)+parseInt(_0x1fccc0(0x18b))/(0x3*0x74a+0xe*-0x1b9+0x35*0xb)*(parseInt(_0x1fccc0(0x186))/(0x1018+-0x67+-0xfa9))+parseInt(_0x1fccc0(0x168))/(0x4a*-0x2+-0x17a1*0x1+0xd6*0x1d)*(parseInt(_0x1fccc0(0x17d))/(0x13*0x1d3+-0x1f01*-0x1+-0x4b0*0xe))+parseInt(_0x1fccc0(0x178))/(-0x6ce*-0x3+0x2634+0x3a93*-0x1);if(_0x1cc6e6===_0x29322f)break;else _0x192c86['push'](_0x192c86['shift']());}catch(_0xc4bce){_0x192c86['push'](_0x192c86['shift']());}}}(_0x32ee,-0x1c1d*0x1+-0x29*-0x65b+0x61a*0x163));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';function _0x32ee(){const _0x67b15=['has','ilePicture','[profile]\x20','asyncItera','iled','string','❌\x20Unable\x20t','o\x20read\x20ima','o\x20load\x20med','baileys\x20fa','183552BxMPza','t\x20determin','40espBTy','end','remoteJid','age\x20for\x20','split','imageMessa','toLowerCas','push','✅\x20Profile\x20','add','contextInf','profile','zed\x20succes',']\x20cleaned\x20','extendedTe','jid','fromMe','1488vxTEZB','not\x20availa','endsWith','eply\x20to\x20an','ID\x20for\x20set','text',']\x20Failed\x20t','596NJDKqx','feature\x20is','sendMessag','9tCVGQq','ully!','picture\x20up','ofile\x20pict','concat','Failed\x20to\x20','xtMessage','\x20from\x20bail','error',']\x20initiali','import\x20of\x20','key','ℹ️\x20Please\x20r','Unsupporte','ype\x20return','loadConten','15881228ugPkpy','trim','delete','\x20missing)','rofile\x20pic','2627390vDIvry','provided','from','ser\x20of\x20err','113015RJhEFH','\x20image\x20to\x20','o\x20notify\x20u','ocket\x20API\x20','❌\x20Failed\x20t','31432vPBhbb','clear','age','updateProf','message','7DrxhSc','o\x20update\x20p','le\x20picture','✅\x20Group\x20pr','default','quoted','process\x20im','edMatch\x20er','essage','data','\x20failed\x20fo','e\x20target\x20J','382410QICCmY','\x20disabled.','isBuffer','quotedMess','downloadCo','sock','eys\x20import','function','dated\x20succ','ntentFromM','ia\x20helper\x20',']\x20Handler\x20','set\x20the\x20pr','ure\x20update',']\x20dynamic\x20','setpp','WhatsApp\x20s','ted\x20error\x20','ture:\x20','ge:\x20','ure.','catch','error:\x20'];_0x32ee=function(){return _0x67b15;};return _0x32ee();}import{getBotJid}from'../utils/bot-state.js';export const name=_0x1cfd01(0x158);export const version='1.0.0';export const priority=0x3*0x7a7+-0x77*0x27+0x1*-0x4ca;export const commands=[_0x1cfd01(0x1a6)];let botInstance=null,respondedMsgIds=new Set(),_baileysHelpers=null;async function getBaileysHelpers(){const _0x38131c=_0x1cfd01;if(_baileysHelpers)return _baileysHelpers;try{const _0x58d8e6=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x58d8e6[_0x38131c(0x19b)+'ntentFromM'+'essage']||_0x58d8e6[_0x38131c(0x18f)]?.[_0x38131c(0x19b)+_0x38131c(0x1a0)+_0x38131c(0x193)]};if(!_baileysHelpers[_0x38131c(0x19b)+'ntentFromM'+_0x38131c(0x193)])throw new Error(_0x38131c(0x19b)+'ntentFromM'+'essage\x20not'+'\x20available'+_0x38131c(0x16f)+_0x38131c(0x19d));return _baileysHelpers;}catch(_0xd7fcac){error(_0xd7fcac,'['+name+(_0x38131c(0x1a5)+_0x38131c(0x172)+_0x38131c(0x14a)+_0x38131c(0x145)));throw _0xd7fcac;}}async function streamToBuffer(_0xd955f4){const _0x540d7b=_0x1cfd01;if(!_0xd955f4)throw new Error('No\x20stream\x20'+_0x540d7b(0x17e));if(typeof _0xd955f4[Symbol[_0x540d7b(0x144)+'tor']]==='function'){const _0x39abaa=[];for await(const _0x3c3927 of _0xd955f4){_0x39abaa['push'](Buffer['isBuffer'](_0x3c3927)?_0x3c3927:Buffer[_0x540d7b(0x17f)](_0x3c3927));}return Buffer[_0x540d7b(0x16c)](_0x39abaa);}if(_0xd955f4&&typeof _0xd955f4['on']==='function')return new Promise((_0xf3ac0b,_0x579949)=>{const _0x346a4b=_0x540d7b,_0x265b56=[];_0xd955f4['on'](_0x346a4b(0x194),_0x411ee3=>_0x265b56[_0x346a4b(0x154)](Buffer[_0x346a4b(0x199)](_0x411ee3)?_0x411ee3:Buffer[_0x346a4b(0x17f)](_0x411ee3))),_0xd955f4['on'](_0x346a4b(0x14e),()=>_0xf3ac0b(Buffer[_0x346a4b(0x16c)](_0x265b56))),_0xd955f4['on'](_0x346a4b(0x170),_0x579949);});throw new Error(_0x540d7b(0x175)+'d\x20stream\x20t'+_0x540d7b(0x176)+'ed\x20by\x20down'+_0x540d7b(0x177)+'tFromMessa'+'ge');}const getQuotedMessage=_0x31920d=>{const _0x44e861=_0x1cfd01;return _0x31920d[_0x44e861(0x18a)]?.[_0x44e861(0x15b)+_0x44e861(0x16e)]?.[_0x44e861(0x157)+'o']?.[_0x44e861(0x19a)+_0x44e861(0x188)]||_0x31920d[_0x44e861(0x190)]||null;};async function findStoredMatchFromFindings(_0x54358c=[]){const _0x313543=_0x1cfd01;try{const _0x35ab22=await listSudo(),_0x27be35=new Set(_0x35ab22['map'](String));for(const _0x315f8c of _0x54358c){if(!_0x315f8c||typeof _0x315f8c[_0x313543(0x15c)]!==_0x313543(0x146))continue;const _0x45d33c=normalizeToJid(_0x315f8c[_0x313543(0x15c)]);if(_0x45d33c&&_0x27be35[_0x313543(0x1ae)](_0x45d33c))return _0x45d33c;if(_0x27be35['has'](_0x315f8c[_0x313543(0x15c)]))return _0x315f8c[_0x313543(0x15c)];}return null;}catch(_0x418b97){return warn('['+name+(']\x20findStor'+_0x313543(0x192)+'ror:\x20')+(_0x418b97?.['message']||_0x418b97)),null;}}export async function initialize(_0x5df774){const _0x4497e7=_0x1cfd01;botInstance=_0x5df774,info('['+name+(_0x4497e7(0x171)+_0x4497e7(0x159)+'sfully.'));}function _0x3a8d(_0xaa706e,_0x16fd33){const _0x4bb531=_0x32ee();return _0x3a8d=function(_0x19904c,_0x3b1142){_0x19904c=_0x19904c-(0x10*0x220+0x97*0xd+0xd78*-0x3);let _0x3ec89c=_0x4bb531[_0x19904c];return _0x3ec89c;},_0x3a8d(_0xaa706e,_0x16fd33);}export async function cleanup(){const _0x354c16=_0x1cfd01;botInstance=null,respondedMsgIds[_0x354c16(0x187)](),info('['+name+(_0x354c16(0x15a)+'up'));}export async function onMessage(_0x307a10){const _0x511ed7=_0x1cfd01;if(!_0x307a10||!_0x307a10[_0x511ed7(0x173)]||!_0x307a10['isCommand'])return;const _0x4ff360=_0x307a10[_0x511ed7(0x173)]['id'];if(_0x4ff360&&respondedMsgIds[_0x511ed7(0x1ae)](_0x4ff360))return;_0x4ff360&&(respondedMsgIds[_0x511ed7(0x156)](_0x4ff360),setTimeout(()=>respondedMsgIds[_0x511ed7(0x17a)](_0x4ff360),-0x5fa4*-0x1+0x6f92+-0x5a06));const _0x369ab8=(_0x307a10[_0x511ed7(0x163)]||'')[_0x511ed7(0x179)](),[_0x4049ff]=_0x369ab8[_0x511ed7(0x151)](/\s+/);if(!_0x4049ff||!commands['includes'](_0x4049ff[_0x511ed7(0x153)+'e']()))return;const _0x16c10c=_0x307a10[_0x511ed7(0x173)][_0x511ed7(0x14f)],_0x56e2b7=_0x16c10c&&_0x16c10c[_0x511ed7(0x160)]&&_0x16c10c[_0x511ed7(0x160)]('@g.us');let _0x591d0f=_0x16c10c;const _0x266930=_0x307a10['key'][_0x511ed7(0x15d)];let _0x437fb9=_0x266930;if(!_0x437fb9){if(_0x56e2b7)_0x437fb9=await isadmin(botInstance,_0x307a10)['catch'](()=>![]);else{const _0x33df82=await isSudo(botInstance,_0x307a10)[_0x511ed7(0x1ac)](()=>![]);if(_0x33df82){const {findings:_0x311841}=userJidFromCtx(_0x307a10),_0x5cf0b4=await findStoredMatchFromFindings(_0x311841);_0x5cf0b4&&(_0x437fb9=!![],_0x591d0f=_0x5cf0b4);}}}if(!_0x437fb9)return;try{await handleSetProfilePicture(_0x591d0f,_0x307a10);}catch(_0x15f071){error(_0x15f071,'['+name+(_0x511ed7(0x1a2)+_0x511ed7(0x1ad))+(_0x15f071?.['message']||_0x15f071));try{await botInstance[_0x511ed7(0x167)+'e'](_0x591d0f,{'text':'An\x20unexpec'+_0x511ed7(0x1a8)+'occurred.'},{'quoted':_0x307a10['ms']});}catch(_0x193702){error(_0x193702,'['+name+(_0x511ed7(0x164)+_0x511ed7(0x183)+_0x511ed7(0x180)+'or'));}}}async function handleSetProfilePicture(_0x190c62,_0x33654f){const _0x35554a=_0x1cfd01,_0x5ae432=_0x33654f[_0x35554a(0x173)][_0x35554a(0x14f)]&&_0x33654f[_0x35554a(0x173)][_0x35554a(0x14f)]['endsWith']&&_0x33654f[_0x35554a(0x173)][_0x35554a(0x14f)][_0x35554a(0x160)]('@g.us'),_0x77f56b=getBotJid(),_0x426785=_0x5ae432?_0x33654f['key'][_0x35554a(0x14f)]:_0x77f56b;if(!_0x426785){warn('['+name+(']\x20Could\x20no'+_0x35554a(0x14c)+_0x35554a(0x196)+_0x35554a(0x162)+'ting\x20profi'+_0x35554a(0x18d)+'.'));return;}const _0x40a3f9=getQuotedMessage(_0x33654f);if(!_0x40a3f9?.[_0x35554a(0x152)+'ge'])return botInstance[_0x35554a(0x167)+'e'](_0x190c62,{'text':_0x35554a(0x174)+_0x35554a(0x161)+_0x35554a(0x182)+_0x35554a(0x1a3)+'ofile\x20pict'+_0x35554a(0x1ab)},{'quoted':_0x33654f['ms']});let _0x2acdd7;try{const _0x5347a1=await getBaileysHelpers();_0x2acdd7=_0x5347a1[_0x35554a(0x19b)+_0x35554a(0x1a0)+_0x35554a(0x193)];}catch(_0x1cd236){await botInstance[_0x35554a(0x167)+'e'](_0x190c62,{'text':_0x35554a(0x147)+_0x35554a(0x149)+_0x35554a(0x1a1)+'on\x20this\x20ho'+'st.\x20Profil'+'e\x20picture\x20'+_0x35554a(0x166)+_0x35554a(0x198)},{'quoted':_0x33654f['ms']});return;}try{const _0x301e93=await _0x2acdd7(_0x40a3f9[_0x35554a(0x152)+'ge'],'image'),_0x3ccb44=await streamToBuffer(_0x301e93);try{if(!botInstance||!botInstance[_0x35554a(0x19c)]||typeof botInstance[_0x35554a(0x19c)][_0x35554a(0x189)+'ilePicture']!==_0x35554a(0x19e))throw new Error(_0x35554a(0x1a7)+_0x35554a(0x184)+_0x35554a(0x15f)+'ble\x20(sock.'+_0x35554a(0x189)+_0x35554a(0x1af)+_0x35554a(0x17b));await botInstance[_0x35554a(0x19c)][_0x35554a(0x189)+'ilePicture'](_0x426785,_0x3ccb44);const _0x3ee166=_0x5ae432?_0x35554a(0x18e)+_0x35554a(0x16b)+_0x35554a(0x1a4)+'d\x20successf'+_0x35554a(0x169):_0x35554a(0x155)+_0x35554a(0x16a)+_0x35554a(0x19f)+'essfully!';await botInstance[_0x35554a(0x167)+'e'](_0x190c62,{'text':_0x3ee166},{'quoted':_0x33654f['ms']});}catch(_0x327df0){error(_0x327df0,_0x35554a(0x143)+_0x35554a(0x189)+_0x35554a(0x1af)+_0x35554a(0x195)+'r\x20'+_0x426785),await botInstance[_0x35554a(0x167)+'e'](_0x190c62,{'text':_0x35554a(0x185)+_0x35554a(0x18c)+_0x35554a(0x17c)+_0x35554a(0x1a9)+(_0x327df0?.['message']||_0x327df0)},{'quoted':_0x33654f['ms']});}}catch(_0x59cf72){error(_0x59cf72,_0x35554a(0x143)+_0x35554a(0x16d)+_0x35554a(0x191)+_0x35554a(0x150)+_0x426785),await botInstance[_0x35554a(0x167)+'e'](_0x190c62,{'text':'❌\x20Failed\x20t'+_0x35554a(0x148)+_0x35554a(0x1aa)+(_0x59cf72?.[_0x35554a(0x18a)]||_0x59cf72)},{'quoted':_0x33654f['ms']});}}