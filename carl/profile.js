const _0x2e73d4=_0x53dd;(function(_0x1f0839,_0x12f163){const _0x298c7a=_0x53dd,_0x4e6665=_0x1f0839();while(!![]){try{const _0x3cbf07=-parseInt(_0x298c7a(0xf6))/(0x1*-0x2f9+-0x71*0x17+-0xd21*-0x1)+-parseInt(_0x298c7a(0xb3))/(-0x90b*-0x1+-0x710+-0x1f9)+-parseInt(_0x298c7a(0xba))/(-0xfa5+0x1df*-0x6+0x2*0xd71)+-parseInt(_0x298c7a(0xd4))/(-0x1*0xb66+0x884+0x2e6)*(-parseInt(_0x298c7a(0x99))/(0x15ce+0x3*0x5fb+-0x5a*0x71))+-parseInt(_0x298c7a(0xdd))/(0x2*-0x775+0x12c1*-0x1+0x21b1)*(parseInt(_0x298c7a(0xc7))/(-0x202e+-0xbfb*-0x1+-0xa1d*-0x2))+parseInt(_0x298c7a(0xfc))/(-0x7*-0x4e1+-0xbf*0x7+0x6*-0x4d1)*(parseInt(_0x298c7a(0xb1))/(0x58*0x67+0x17a8+-0x3b07))+parseInt(_0x298c7a(0xdc))/(0x105e+0x1*0x256e+-0x35c2);if(_0x3cbf07===_0x12f163)break;else _0x4e6665['push'](_0x4e6665['shift']());}catch(_0x4ff2b4){_0x4e6665['push'](_0x4e6665['shift']());}}}(_0xc93a,-0x15ff2*0x3+-0x3814a+0xae592));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';function _0xc93a(){const _0x10e7b6=['push','9336GqgvOZ','occurred.','ilePicture','t\x20determin',']\x20Handler\x20',']\x20Failed\x20t','set\x20the\x20pr','edMatch\x20er','❌\x20Failed\x20t','Failed\x20to\x20','age','concat','le\x20picture','211105YqRuVF','downloadCo','map',']\x20Could\x20no','❌\x20Unable\x20t','\x20missing)','WhatsApp\x20s','o\x20load\x20med','ofile\x20pict','picture\x20up','fromMe','eply\x20to\x20an','baileys\x20fa','quoted','default','trim','o\x20notify\x20u','\x20image\x20to\x20','asyncItera','ID\x20for\x20set','dated\x20succ','essage\x20not','isBuffer','ype\x20return','2799ryYrtU','updateProf','382198TKjnaY','provided','ted\x20error\x20','ble\x20(sock.','\x20available','ia\x20helper\x20','endsWith','54249rmLFow','sendMessag','No\x20stream\x20','\x20disabled.','@g.us','remoteJid','has','key','catch',']\x20dynamic\x20','loadConten','✅\x20Profile\x20','contextInf','623SGHCBz','ully!','An\x20unexpec',']\x20findStor','essage','e\x20target\x20J','process\x20im','essfully!','function','ℹ️\x20Please\x20r','error','ocket\x20API\x20','ed\x20by\x20down','36KOnYsQ','o\x20update\x20p','d\x20stream\x20t','\x20failed\x20fo','text','from','quotedMess','✅\x20Group\x20pr','3145380lCvcYU','23544NFYekY','not\x20availa','jid','o\x20read\x20ima','message','d\x20successf','tor','iled','eys\x20import','extendedTe','on\x20this\x20ho','ntentFromM','sock','ser\x20of\x20err','clear',']\x20initiali','st.\x20Profil','error:\x20','image','profile','ure.','setpp','ture:\x20','ure\x20update','xtMessage','284916mfFXzB','split','[profile]\x20','Unsupporte','includes'];_0xc93a=function(){return _0x10e7b6;};return _0xc93a();}import{getBotJid}from'../utils/bot-state.js';export const name=_0x2e73d4(0xf0);export const version='1.0.0';export const priority=-0x159a+0x1301+-0x87*-0x5;export const commands=[_0x2e73d4(0xf2)];let botInstance=null,respondedMsgIds=new Set(),_baileysHelpers=null;function _0x53dd(_0x437b4a,_0x5f140d){const _0x5469b4=_0xc93a();return _0x53dd=function(_0x1243d5,_0x15527f){_0x1243d5=_0x1243d5-(-0x19c4+0x2*-0xd2a+0x34b0);let _0x46e1ef=_0x5469b4[_0x1243d5];return _0x46e1ef;},_0x53dd(_0x437b4a,_0x5f140d);}async function getBaileysHelpers(){const _0xbdd531=_0x2e73d4;if(_baileysHelpers)return _baileysHelpers;try{const _0x134fe2=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x134fe2['downloadCo'+_0xbdd531(0xe8)+_0xbdd531(0xcb)]||_0x134fe2[_0xbdd531(0xa7)]?.[_0xbdd531(0x9a)+_0xbdd531(0xe8)+_0xbdd531(0xcb)]};if(!_baileysHelpers['downloadCo'+_0xbdd531(0xe8)+'essage'])throw new Error(_0xbdd531(0x9a)+_0xbdd531(0xe8)+_0xbdd531(0xae)+_0xbdd531(0xb7)+'\x20from\x20bail'+_0xbdd531(0xe5));return _baileysHelpers;}catch(_0x4b096e){error(_0x4b096e,'['+name+(_0xbdd531(0xc3)+'import\x20of\x20'+_0xbdd531(0xa5)+_0xbdd531(0xe4)));throw _0x4b096e;}}async function streamToBuffer(_0x151ebe){const _0x306721=_0x2e73d4;if(!_0x151ebe)throw new Error(_0x306721(0xbc)+_0x306721(0xb4));if(typeof _0x151ebe[Symbol[_0x306721(0xab)+_0x306721(0xe3)]]===_0x306721(0xcf)){const _0x2b4675=[];for await(const _0x3d0754 of _0x151ebe){_0x2b4675[_0x306721(0xfb)](Buffer[_0x306721(0xaf)](_0x3d0754)?_0x3d0754:Buffer[_0x306721(0xd9)](_0x3d0754));}return Buffer[_0x306721(0x107)](_0x2b4675);}if(_0x151ebe&&typeof _0x151ebe['on']===_0x306721(0xcf))return new Promise((_0x5f1668,_0x40502f)=>{const _0x48042f=_0x306721,_0x4f49ef=[];_0x151ebe['on']('data',_0x2a481e=>_0x4f49ef['push'](Buffer['isBuffer'](_0x2a481e)?_0x2a481e:Buffer[_0x48042f(0xd9)](_0x2a481e))),_0x151ebe['on']('end',()=>_0x5f1668(Buffer[_0x48042f(0x107)](_0x4f49ef))),_0x151ebe['on'](_0x48042f(0xd1),_0x40502f);});throw new Error(_0x306721(0xf9)+_0x306721(0xd6)+_0x306721(0xb0)+_0x306721(0xd3)+_0x306721(0xc4)+'tFromMessa'+'ge');}const getQuotedMessage=_0x4794ab=>{const _0x477cc3=_0x2e73d4;return _0x4794ab[_0x477cc3(0xe1)]?.[_0x477cc3(0xe6)+_0x477cc3(0xf5)]?.[_0x477cc3(0xc6)+'o']?.[_0x477cc3(0xda)+_0x477cc3(0x106)]||_0x4794ab[_0x477cc3(0xa6)]||null;};async function findStoredMatchFromFindings(_0x25b268=[]){const _0xe5a940=_0x2e73d4;try{const _0x1bed52=await listSudo(),_0xff8161=new Set(_0x1bed52[_0xe5a940(0x9b)](String));for(const _0x5ebe0b of _0x25b268){if(!_0x5ebe0b||typeof _0x5ebe0b[_0xe5a940(0xdf)]!=='string')continue;const _0x4e7c6b=normalizeToJid(_0x5ebe0b[_0xe5a940(0xdf)]);if(_0x4e7c6b&&_0xff8161[_0xe5a940(0xc0)](_0x4e7c6b))return _0x4e7c6b;if(_0xff8161[_0xe5a940(0xc0)](_0x5ebe0b[_0xe5a940(0xdf)]))return _0x5ebe0b['jid'];}return null;}catch(_0x5951a7){return warn('['+name+(_0xe5a940(0xca)+_0xe5a940(0x103)+'ror:\x20')+(_0x5951a7?.[_0xe5a940(0xe1)]||_0x5951a7)),null;}}export async function initialize(_0x488c24){const _0xd362cd=_0x2e73d4;botInstance=_0x488c24,info('['+name+(_0xd362cd(0xec)+'zed\x20succes'+'sfully.'));}export async function cleanup(){const _0x3f5eb9=_0x2e73d4;botInstance=null,respondedMsgIds[_0x3f5eb9(0xeb)](),info('['+name+(']\x20cleaned\x20'+'up'));}export async function onMessage(_0x50d396){const _0x45cdad=_0x2e73d4;if(!_0x50d396||!_0x50d396[_0x45cdad(0xc1)]||!_0x50d396['isCommand'])return;const _0x8a44fa=_0x50d396[_0x45cdad(0xc1)]['id'];if(_0x8a44fa&&respondedMsgIds[_0x45cdad(0xc0)](_0x8a44fa))return;_0x8a44fa&&(respondedMsgIds['add'](_0x8a44fa),setTimeout(()=>respondedMsgIds['delete'](_0x8a44fa),-0x6589+0xe090+-0x5d7));const _0x4798cc=(_0x50d396[_0x45cdad(0xd8)]||'')[_0x45cdad(0xa8)](),[_0x6709e4]=_0x4798cc[_0x45cdad(0xf7)](/\s+/);if(!_0x6709e4||!commands[_0x45cdad(0xfa)](_0x6709e4['toLowerCas'+'e']()))return;const _0x425ff0=_0x50d396[_0x45cdad(0xc1)][_0x45cdad(0xbf)],_0x5785fe=_0x425ff0&&_0x425ff0['endsWith']&&_0x425ff0[_0x45cdad(0xb9)](_0x45cdad(0xbe));let _0x385529=_0x425ff0;const _0x595bca=_0x50d396[_0x45cdad(0xc1)][_0x45cdad(0xa3)];let _0x2d0d07=_0x595bca;if(!_0x2d0d07){if(_0x5785fe)_0x2d0d07=await isadmin(botInstance,_0x50d396)[_0x45cdad(0xc2)](()=>![]);else{const _0x39c400=await isSudo(botInstance,_0x50d396)[_0x45cdad(0xc2)](()=>![]);if(_0x39c400){const {findings:_0x3f779f}=userJidFromCtx(_0x50d396),_0x504d9f=await findStoredMatchFromFindings(_0x3f779f);_0x504d9f&&(_0x2d0d07=!![],_0x385529=_0x504d9f);}}}if(!_0x2d0d07)return;try{await handleSetProfilePicture(_0x385529,_0x50d396);}catch(_0x17e5ee){error(_0x17e5ee,'['+name+(_0x45cdad(0x100)+_0x45cdad(0xee))+(_0x17e5ee?.['message']||_0x17e5ee));try{await botInstance['sendMessag'+'e'](_0x385529,{'text':_0x45cdad(0xc9)+_0x45cdad(0xb5)+_0x45cdad(0xfd)},{'quoted':_0x50d396['ms']});}catch(_0x29f772){error(_0x29f772,'['+name+(_0x45cdad(0x101)+_0x45cdad(0xa9)+_0x45cdad(0xea)+'or'));}}}async function handleSetProfilePicture(_0x3868ba,_0x35c413){const _0x53add9=_0x2e73d4,_0xc21c63=_0x35c413[_0x53add9(0xc1)]['remoteJid']&&_0x35c413[_0x53add9(0xc1)]['remoteJid']['endsWith']&&_0x35c413['key'][_0x53add9(0xbf)][_0x53add9(0xb9)](_0x53add9(0xbe)),_0x36169e=getBotJid(),_0x3bfa22=_0xc21c63?_0x35c413[_0x53add9(0xc1)][_0x53add9(0xbf)]:_0x36169e;if(!_0x3bfa22){warn('['+name+(_0x53add9(0x9c)+_0x53add9(0xff)+_0x53add9(0xcc)+_0x53add9(0xac)+'ting\x20profi'+_0x53add9(0x98)+'.'));return;}const _0x181f30=getQuotedMessage(_0x35c413);if(!_0x181f30?.['imageMessa'+'ge'])return botInstance[_0x53add9(0xbb)+'e'](_0x3868ba,{'text':_0x53add9(0xd0)+_0x53add9(0xa4)+_0x53add9(0xaa)+_0x53add9(0x102)+_0x53add9(0xa1)+_0x53add9(0xf1)},{'quoted':_0x35c413['ms']});let _0x4e6e20;try{const _0x26ff13=await getBaileysHelpers();_0x4e6e20=_0x26ff13[_0x53add9(0x9a)+_0x53add9(0xe8)+_0x53add9(0xcb)];}catch(_0x4ac6bc){await botInstance[_0x53add9(0xbb)+'e'](_0x3868ba,{'text':_0x53add9(0x9d)+_0x53add9(0xa0)+_0x53add9(0xb8)+_0x53add9(0xe7)+_0x53add9(0xed)+'e\x20picture\x20'+'feature\x20is'+_0x53add9(0xbd)},{'quoted':_0x35c413['ms']});return;}try{const _0x26dc6b=await _0x4e6e20(_0x181f30['imageMessa'+'ge'],_0x53add9(0xef)),_0x23af49=await streamToBuffer(_0x26dc6b);try{if(!botInstance||!botInstance[_0x53add9(0xe9)]||typeof botInstance['sock'][_0x53add9(0xb2)+_0x53add9(0xfe)]!==_0x53add9(0xcf))throw new Error(_0x53add9(0x9f)+_0x53add9(0xd2)+_0x53add9(0xde)+_0x53add9(0xb6)+_0x53add9(0xb2)+_0x53add9(0xfe)+_0x53add9(0x9e));await botInstance['sock']['updateProf'+'ilePicture'](_0x3bfa22,_0x23af49);const _0x126bb0=_0xc21c63?_0x53add9(0xdb)+_0x53add9(0xa1)+_0x53add9(0xf4)+_0x53add9(0xe2)+_0x53add9(0xc8):_0x53add9(0xc5)+_0x53add9(0xa2)+_0x53add9(0xad)+_0x53add9(0xce);await botInstance[_0x53add9(0xbb)+'e'](_0x3868ba,{'text':_0x126bb0},{'quoted':_0x35c413['ms']});}catch(_0x1e732a){error(_0x1e732a,'[profile]\x20'+'updateProf'+_0x53add9(0xfe)+_0x53add9(0xd7)+'r\x20'+_0x3bfa22),await botInstance[_0x53add9(0xbb)+'e'](_0x3868ba,{'text':_0x53add9(0x104)+_0x53add9(0xd5)+'rofile\x20pic'+_0x53add9(0xf3)+(_0x1e732a?.[_0x53add9(0xe1)]||_0x1e732a)},{'quoted':_0x35c413['ms']});}}catch(_0x1efd19){error(_0x1efd19,_0x53add9(0xf8)+_0x53add9(0x105)+_0x53add9(0xcd)+'age\x20for\x20'+_0x3bfa22),await botInstance['sendMessag'+'e'](_0x3868ba,{'text':_0x53add9(0x104)+_0x53add9(0xe0)+'ge:\x20'+(_0x1efd19?.[_0x53add9(0xe1)]||_0x1efd19)},{'quoted':_0x35c413['ms']});}}