const _0x57c6cf=_0x2752;(function(_0x2dcbf4,_0x4cdc78){const _0x9fb1a5=_0x2752,_0x2a05c8=_0x2dcbf4();while(!![]){try{const _0x2c5e52=parseInt(_0x9fb1a5(0x259))/(0x12eb+-0x828+-0xac2)*(parseInt(_0x9fb1a5(0x211))/(-0x230a+-0x184c+0xed6*0x4))+-parseInt(_0x9fb1a5(0x22b))/(0xe*0x1c5+-0x5*0x212+-0x7*0x20f)+-parseInt(_0x9fb1a5(0x273))/(-0x4f7*0x7+0x3*-0x1e6+0x47f*0x9)*(-parseInt(_0x9fb1a5(0x2b4))/(-0x1421+-0x1851+0x1*0x2c77))+parseInt(_0x9fb1a5(0x2b5))/(-0x1695+-0xaae*0x1+0x2149)*(parseInt(_0x9fb1a5(0x270))/(-0x30*-0x8+-0x1*0x1c7f+0x1b06))+-parseInt(_0x9fb1a5(0x295))/(-0x12e+-0xd5a+0x748*0x2)+parseInt(_0x9fb1a5(0x1f5))/(-0x11*-0x4e+-0x207*0x13+-0x858*-0x4)+-parseInt(_0x9fb1a5(0x23f))/(-0x347*0x7+0x11b7+0x544);if(_0x2c5e52===_0x4cdc78)break;else _0x2a05c8['push'](_0x2a05c8['shift']());}catch(_0x46a427){_0x2a05c8['push'](_0x2a05c8['shift']());}}}(_0x2699,0x7393*0x1+0x4*0xf805+0xd*-0x1393));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';function _0x2699(){const _0x283a70=['\x20via\x20`gp\x20<','n_count\x20=\x20','endsWith','ms.','T🚨*\x0a\x0aUser\x20','arn_count;','casts.','length','resolveNam','?,\x20?,\x20?)\x20O','isCommand','220CQxBWK','Y\x20(chat_ji','map','adcast_war','\x0a*REMAININ','\x20set\x20to\x20','AND\x20user_j','EXISTS\x20','reTables\x20f','d,\x20user_ji','.updated_a','ADCAST_DED','\x20mentioned','warn_count','OM\x20','floor','ADCAST_DEF','\x20in\x20','t\x20warnings','_jid\x20TEXT\x20','RNINGS:*\x20{','-Specific\x20','TE\x20SET\x20war','Invalid\x20nu','resetwarns','messageCon','178290jRcDVJ','\x20for\x20in\x20','e\x20TEXT,\x20ma','maxwarns','ck\x20for\x20','groupParti','nabled\x20INT','\x20warnings\x20','gp:','✅\x20Warn\x20mes','ADCAST','In\x20PM,\x20`sb','T(chat_jid','trim','\x20DO\x20UPDATE','TEGER);','EFAULT\x200,\x20','or,\x20procee','ode:\x20Group','X_WARN','1814230OJRaNj','ated_at\x20IN','[sbl]\x20getC','EGER,\x20upda','t_jid\x20=\x20?\x20','NOT\x20NULL,\x20','ate','max_warns,','AULT_MAX_W','SELECT\x20war','id\x20=\x20?','rew\x20an\x20err','x_warns\x20IN','split','text','=excluded.','t_jid\x20=\x20?','ias\x20or\x20JID','LE\x20IF\x20NOT\x20','textInfo','resolved\x20t','\x20by\x20adding','isArray','\x20reset\x20for','*Warn\x20Mess','INSERT\x20INT','3013XcvdYL','ning\x20messa','Please\x20pro','groupStatu','n\x20found.\x20A','DEDUPE_TTL','warn_messa','ed\x20','\x20SET\x20warn_','ion(s)\x20cou',',\x20warn_cou','enabled','te\x20failed:','warnmsg','ARY\x20KEY,\x20e','message=ex','remoteJid','ed\x20to\x20kick','ld\x20not\x20be\x20','ock\x20**ENAB','\x20TEXT\x20PRIM','*🚨BAN\x20ALER','age\x20for\x20','465535TxqPxy','isFinite','\x20group\x20onl','154340kaMhmQ','AULT_REASO','sendMessag','age','✅\x20ENABLED','alias>`\x20or','vide\x20a\x20war','e\x20removed.','❌\x20Status\x20l','3.1.0-grou','(gp:|gp)?\x5c','caption','ted_at\x20INT','AULT_WARN','cluded.war','\x20end.','sbl','ARN','or\x20JID:\x20`','fromMe','ssage','exec','\x20has\x20reach','ax\x20warning','adcast_loc','\x20WHERE\x20cha','Posting\x20st','show','G\x20WARNINGS','ON\x20CONFLIC','er\x20to\x20rese','ps.','SER:*\x20{use','psert','3134176jcVXMO','\x20from\x20','ailed','sage,\x20max_','jid','warns,\x20upd',',\x20user_jid','\x20is\x20','DEFAULT_RE','d_at\x20=\x20exc','n_message,','[sbl]\x20kick','_warns}','Your\x20defau','arn_messag','ASON','SELECT\x20ena','\x20updated.\x0a','RN_MESSAGE','toLowerCas','{remaining','No\x20default','[sbl]\x20init','DEFAULT_WA','onfig()\x20th','@g.us','get','[sbl]\x20fail','[sbl]\x20Fail','s\x20for\x20','EGER);','5owDhRj','12MgeBwl','tings','message','clear','find','adcast','status@bro','Please\x20@me','file\x20defau','atus\x20broad','max_warns',':*\x20{remain','run','❌\x20DISABLED','extendedTe','protocolMe','\x20TEXT\x20NOT\x20','bled\x20FROM\x20','set','STATUS_BRO','l`\x20command','\x20updated_a','(?,\x20?,\x20?)\x20','(chat_jid)','*⚠️WARN\x20MES','LED**\x20for\x20','includes','d)\x20DO\x20UPDA','d));','\x20user(s)\x20i','sage\x20for\x20','DEFAULT_MA','contextInf','n_count\x20FR','Unknown\x20gr','nt)\x20VALUES','PRIMARY\x20KE','\x20(chat_jid','\x20max_warns','string','o\x20any\x20grou','remove','E\x20SET\x20enab','*Status\x20lo','mentionedJ','\x20notice\x20to','replace','ed,\x20update','has','ARY\x20KEY,\x20w','slice','N\x20CONFLICT','CT(chat_ji','excluded.w','luded.upda','imageMessa','xtMessage','mmand\x20to\x20t','BLED**\x20for','indexOf','NULL,\x20user','sMentionMe','lt\x20connect','\x20ON\x20CONFLI','delete','now','\x20FROM\x20','t=excluded','off','✅\x20Max\x20warn','{max_warns','forEach',',\x20warn_mes','ℹ️\x20Max\x20warn','3132144HfNNMW','key','✅\x20Status\x20l','cipantsUpd','he\x20current','_MS','messages.u','participan','status_bro',':*\x0a','sock','CREATE\x20TAB','conversati','{reason}','max_warns}','r}\x0a*MAX\x20WA','\x20connectio'];_0x2699=function(){return _0x283a70;};return _0x2699();}import{isadmin}from'../utils/isadmin.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x2752(_0x312687,_0x570ba1){const _0x56a545=_0x2699();return _0x2752=function(_0x4dde5f,_0x3bad88){_0x4dde5f=_0x4dde5f-(-0x791+-0x106b+-0x7*-0x3b2);let _0x2176a9=_0x56a545[_0x4dde5f];return _0x2176a9;},_0x2752(_0x312687,_0x570ba1);}import*as _0x57b190 from'../utils/groups.js';import{getDefault,getConnection}from'../utils/connection.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getConfig}from'../utils/config.js';export const name=_0x57c6cf(0x1fd)+_0x57c6cf(0x28b)+'k';export const version=_0x57c6cf(0x27c)+'p-only';export const priority=0x734*-0x5+0xba8*-0x1+0x1*0x3029;export const commands=[_0x57c6cf(0x283)];export const configKeys=['STATUS_BRO'+'ADCAST_DEF'+'AULT_WARN',_0x57c6cf(0x2c8)+_0x57c6cf(0x221)+_0x57c6cf(0x247)+'ARN',_0x57c6cf(0x2c8)+_0x57c6cf(0x221)+'AULT_REASO'+'N',_0x57c6cf(0x2c8)+_0x57c6cf(0x235)];const FALLBACK_DEFAULTS={'DEDUPE_TTL_MS':(0x1588+0x5*0x233+-0x2069)*(-0x2b*0x3c+0x1f*-0xf6+-0xd*-0x35e),'DEFAULT_WARN_MESSAGE':_0x57c6cf(0x2cd)+'SAGE⚠️*\x0a\x0a*U'+_0x57c6cf(0x293)+_0x57c6cf(0x204)+_0x57c6cf(0x225)+_0x57c6cf(0x203)+_0x57c6cf(0x215)+_0x57c6cf(0x28f)+_0x57c6cf(0x2c0)+'ing_warns}'+'\x0a*REASON:*'+'\x20{reason}','DEFAULT_MAX_WARN':0x3,'DEFAULT_REASON':_0x57c6cf(0x28d)+_0x57c6cf(0x2be)+_0x57c6cf(0x20c)};let CONFIG={};try{CONFIG=typeof getConfig==='function'?getConfig()||{}:{};}catch(_0x3330d3){warn(_0x57c6cf(0x241)+_0x57c6cf(0x2ad)+_0x57c6cf(0x24a)+_0x57c6cf(0x23c)+'ding\x20with\x20'+_0x57c6cf(0x2bd)+'lts.'),CONFIG={};}const DEFAULTS={'DEDUPE_TTL_MS':Number(CONFIG?.[_0x57c6cf(0x2c8)+'ADCAST']?.['DEDUPE_TTL'+_0x57c6cf(0x1fa)]??CONFIG['STATUS_BRO'+_0x57c6cf(0x21c)+'UPE_TTL_MS']??FALLBACK_DEFAULTS[_0x57c6cf(0x25e)+_0x57c6cf(0x1fa)])||FALLBACK_DEFAULTS[_0x57c6cf(0x25e)+_0x57c6cf(0x1fa)],'DEFAULT_WARN_MESSAGE':typeof CONFIG[_0x57c6cf(0x2c8)+_0x57c6cf(0x221)+'AULT_WARN']===_0x57c6cf(0x2dc)&&CONFIG['STATUS_BRO'+_0x57c6cf(0x221)+_0x57c6cf(0x280)][_0x57c6cf(0x20d)]?CONFIG['STATUS_BRO'+_0x57c6cf(0x221)+_0x57c6cf(0x280)]:typeof CONFIG?.[_0x57c6cf(0x2c8)+_0x57c6cf(0x235)]?.[_0x57c6cf(0x2ac)+'RN']===_0x57c6cf(0x2dc)&&CONFIG[_0x57c6cf(0x2c8)+_0x57c6cf(0x235)][_0x57c6cf(0x2ac)+'RN'][_0x57c6cf(0x20d)]?CONFIG['STATUS_BRO'+'ADCAST'][_0x57c6cf(0x2ac)+'RN']:FALLBACK_DEFAULTS[_0x57c6cf(0x2ac)+'RN_MESSAGE'],'DEFAULT_MAX_WARN':Number(CONFIG[_0x57c6cf(0x2c8)+_0x57c6cf(0x221)+_0x57c6cf(0x247)+_0x57c6cf(0x284)]??CONFIG?.['STATUS_BRO'+'ADCAST']?.['MAX_WARN']??FALLBACK_DEFAULTS[_0x57c6cf(0x2d4)+_0x57c6cf(0x23e)])||FALLBACK_DEFAULTS[_0x57c6cf(0x2d4)+'X_WARN'],'DEFAULT_REASON':typeof CONFIG[_0x57c6cf(0x2c8)+_0x57c6cf(0x221)+'AULT_REASO'+'N']===_0x57c6cf(0x2dc)&&CONFIG['STATUS_BRO'+_0x57c6cf(0x221)+_0x57c6cf(0x274)+'N'][_0x57c6cf(0x20d)]?CONFIG['STATUS_BRO'+_0x57c6cf(0x221)+_0x57c6cf(0x274)+'N']:typeof CONFIG?.[_0x57c6cf(0x2c8)+_0x57c6cf(0x235)]?.['DEFAULT_RE'+_0x57c6cf(0x2a4)]===_0x57c6cf(0x2dc)&&CONFIG[_0x57c6cf(0x2c8)+_0x57c6cf(0x235)][_0x57c6cf(0x29d)+'ASON'][_0x57c6cf(0x20d)]?CONFIG[_0x57c6cf(0x2c8)+_0x57c6cf(0x235)][_0x57c6cf(0x29d)+_0x57c6cf(0x2a4)]:FALLBACK_DEFAULTS[_0x57c6cf(0x29d)+'ASON']};let botRef=null;const processedMessageKeys=new Map(),sleep=_0x24692a=>new Promise(_0x3baec4=>setTimeout(_0x3baec4,_0x24692a));function isStatusBroadcastMention(_0x23170c){const _0xb7db8c=_0x57c6cf;if(!_0x23170c||!_0x23170c[_0xb7db8c(0x2b7)])return![];const _0x5e1454=_0x23170c[_0xb7db8c(0x2b7)];return _0x5e1454[_0xb7db8c(0x25c)+_0xb7db8c(0x1e8)+'ssage']||_0x5e1454[_0xb7db8c(0x2c4)+_0xb7db8c(0x287)]?.['key']?.[_0xb7db8c(0x269)]?.['toLowerCas'+'e']()===_0xb7db8c(0x2bb)+_0xb7db8c(0x2ba)||_0x5e1454[_0xb7db8c(0x22a)+_0xb7db8c(0x252)]?.['quotedMess'+_0xb7db8c(0x276)]?.[_0xb7db8c(0x2c4)+'ssage']?.['key']?.[_0xb7db8c(0x269)]?.[_0xb7db8c(0x2a8)+'e']()===_0xb7db8c(0x2bb)+_0xb7db8c(0x2ba);}const TABLE_SETTINGS=_0x57c6cf(0x1fd)+'adcast_set'+_0x57c6cf(0x2b6),TABLE_WARN_USERS='status_bro'+_0x57c6cf(0x214)+'ns',TABLE_WARN_SETTINGS=_0x57c6cf(0x1fd)+_0x57c6cf(0x214)+'n_settings';async function ensureTables(){const _0x2200e6=_0x57c6cf;try{await db[_0x2200e6(0x288)](_0x2200e6(0x200)+_0x2200e6(0x251)+_0x2200e6(0x218)+TABLE_SETTINGS+('\x20(chat_jid'+_0x2200e6(0x26d)+_0x2200e6(0x267)+_0x2200e6(0x231)+_0x2200e6(0x242)+_0x2200e6(0x27f)+_0x2200e6(0x2b3))),await db[_0x2200e6(0x288)](_0x2200e6(0x200)+_0x2200e6(0x251)+_0x2200e6(0x218)+TABLE_WARN_USERS+('\x20(chat_jid'+_0x2200e6(0x2c5)+_0x2200e6(0x1e7)+_0x2200e6(0x224)+_0x2200e6(0x244)+_0x2200e6(0x21e)+'\x20INTEGER\x20D'+_0x2200e6(0x23b)+_0x2200e6(0x2d9)+_0x2200e6(0x212)+'d,\x20user_ji'+_0x2200e6(0x2d1))),await db['exec']('CREATE\x20TAB'+'LE\x20IF\x20NOT\x20'+_0x2200e6(0x218)+TABLE_WARN_SETTINGS+(_0x2200e6(0x2da)+_0x2200e6(0x26d)+_0x2200e6(0x2e6)+_0x2200e6(0x2a3)+_0x2200e6(0x22d)+_0x2200e6(0x24b)+'TEGER,\x20upd'+_0x2200e6(0x240)+_0x2200e6(0x23a)));}catch(_0x28440c){error(_0x28440c,'[sbl]\x20ensu'+_0x2200e6(0x219)+_0x2200e6(0x297));throw _0x28440c;}}async function getChatEnabled(_0x35a0b2){const _0x2d4634=_0x57c6cf,_0x15df51=await db[_0x2d4634(0x2af)](_0x2d4634(0x2a5)+_0x2d4634(0x2c6)+TABLE_SETTINGS+('\x20WHERE\x20cha'+_0x2d4634(0x24f)),[_0x35a0b2]);return _0x15df51?Number(_0x15df51[_0x2d4634(0x264)])===0x353*0x6+0x3a5+-0x1796:![];}async function setChatEnabled(_0x25a39d,_0x81904){const _0x1b67f2=_0x57c6cf;await db[_0x1b67f2(0x2c1)](_0x1b67f2(0x258)+'O\x20'+TABLE_SETTINGS+(_0x1b67f2(0x2da)+',\x20enabled,'+_0x1b67f2(0x2ca)+'t)\x20VALUES\x20'+_0x1b67f2(0x2cb)+_0x1b67f2(0x290)+_0x1b67f2(0x237)+')\x20DO\x20UPDAT'+_0x1b67f2(0x2df)+'led\x20=\x20excl'+'uded.enabl'+_0x1b67f2(0x2e4)+_0x1b67f2(0x29e)+_0x1b67f2(0x2eb)+'ted_at;'),[_0x25a39d,_0x81904?0x2*0x6c2+-0x6a*-0x1e+-0x1*0x19ef:-0xb88+-0x14ac+0x2034,Math[_0x1b67f2(0x220)](Date[_0x1b67f2(0x1ec)]()/(-0x1719+-0x2d6+0x1dd7))]);}async function getWarnSettings(_0x133092){const _0x447260=_0x57c6cf,_0x5873e2=await db[_0x447260(0x2af)](_0x447260(0x248)+_0x447260(0x29f)+'\x20max_warns'+_0x447260(0x1ed)+TABLE_WARN_SETTINGS+('\x20WHERE\x20cha'+_0x447260(0x24f)),[_0x133092]),_0x5826bc=DEFAULTS['DEFAULT_WA'+_0x447260(0x2a7)],_0x25c55a=DEFAULTS[_0x447260(0x2d4)+_0x447260(0x23e)];if(!_0x5873e2)return{'warn_message':_0x5826bc,'max_warns':_0x25c55a};return{'warn_message':_0x5873e2['warn_messa'+'ge']&&_0x5873e2[_0x447260(0x25f)+'ge'][_0x447260(0x20d)]?_0x5873e2[_0x447260(0x25f)+'ge']:_0x5826bc,'max_warns':Number[_0x447260(0x271)](Number(_0x5873e2[_0x447260(0x2bf)]))&&Number(_0x5873e2[_0x447260(0x2bf)])>-0x41*0x3+-0xd*-0x1fa+-0x18ef?Number(_0x5873e2[_0x447260(0x2bf)]):_0x25c55a};}async function setWarnSettings(_0x47927a,_0x12f401){const _0x171ac8=_0x57c6cf,_0x4c1881=await getWarnSettings(_0x47927a),_0x5dbb8c=_0x171ac8(0x25f)+'ge'in _0x12f401?_0x12f401['warn_messa'+'ge']:_0x4c1881['warn_messa'+'ge'],_0x2c7cad=_0x171ac8(0x2bf)in _0x12f401?_0x12f401[_0x171ac8(0x2bf)]:_0x4c1881[_0x171ac8(0x2bf)];await db['run']('INSERT\x20INT'+'O\x20'+TABLE_WARN_SETTINGS+('\x20(chat_jid'+_0x171ac8(0x1f3)+_0x171ac8(0x298)+_0x171ac8(0x29a)+'ated_at)\x20V'+'ALUES\x20(?,\x20'+_0x171ac8(0x20f)+_0x171ac8(0x2e8)+_0x171ac8(0x2cc)+_0x171ac8(0x239)+_0x171ac8(0x261)+_0x171ac8(0x268)+_0x171ac8(0x281)+_0x171ac8(0x29f)+_0x171ac8(0x2db)+_0x171ac8(0x24e)+_0x171ac8(0x246)+_0x171ac8(0x2ca)+_0x171ac8(0x1ee)+_0x171ac8(0x21b)+'t;'),[_0x47927a,_0x5dbb8c,_0x2c7cad,Math[_0x171ac8(0x220)](Date['now']()/(0x1e52+-0x26ab+0xc41))]);}async function getWarnCount(_0x1dda72,_0x351370){const _0x4a4456=_0x57c6cf,_0x59eb78=await db[_0x4a4456(0x2af)](_0x4a4456(0x248)+_0x4a4456(0x2d6)+_0x4a4456(0x21f)+TABLE_WARN_USERS+(_0x4a4456(0x28c)+_0x4a4456(0x243)+_0x4a4456(0x217)+_0x4a4456(0x249)),[_0x1dda72,_0x351370]);return _0x59eb78?Number(_0x59eb78['warn_count']||0xc0+-0x1537+0x1477):-0x15*-0x123+-0xb92+-0x2f*0x43;}async function setWarnCount(_0xb40839,_0x333f1c,_0x44994e){const _0x5e02a7=_0x57c6cf;await db['run'](_0x5e02a7(0x258)+'O\x20'+TABLE_WARN_USERS+(_0x5e02a7(0x2da)+_0x5e02a7(0x29b)+_0x5e02a7(0x263)+_0x5e02a7(0x2d8)+'\x20(?,\x20?,\x20?)'+_0x5e02a7(0x1ea)+_0x5e02a7(0x2e9)+_0x5e02a7(0x21a)+_0x5e02a7(0x2d0)+_0x5e02a7(0x227)+_0x5e02a7(0x207)+_0x5e02a7(0x2ea)+_0x5e02a7(0x20b)),[_0xb40839,_0x333f1c,Number(_0x44994e||-0x9bf*0x1+-0x1a03*-0x1+-0x1044)]);}async function sendNotice(_0x99845c,_0x170a68,_0x188168=[]){const _0x193d80=_0x57c6cf;if(!_0x99845c||!botRef)return;try{const _0x34a262=botRef[_0x193d80(0x1ff)]?.[_0x193d80(0x275)+'e']||botRef[_0x193d80(0x275)+'e'];await _0x34a262(_0x99845c,{'text':_0x170a68,'mentions':Array[_0x193d80(0x255)](_0x188168)?_0x188168:[]});}catch(_0x6dd3b4){warn(_0x193d80(0x2b0)+'ed\x20to\x20send'+_0x193d80(0x2e2)+'\x20'+_0x99845c+':\x20'+(_0x6dd3b4?.[_0x193d80(0x2b7)]||_0x6dd3b4));}}async function kickUser(_0x551abc,_0x30deb4){const _0x1df67c=_0x57c6cf;try{const _0x4bf6cb=botRef?.[_0x1df67c(0x1ff)]||botRef;if(_0x4bf6cb?.[_0x1df67c(0x230)+'cipantsUpd'+_0x1df67c(0x245)])return await _0x4bf6cb[_0x1df67c(0x230)+_0x1df67c(0x1f8)+'ate'](_0x551abc,[_0x30deb4],_0x1df67c(0x2de)),info(_0x1df67c(0x2a0)+_0x1df67c(0x260)+_0x30deb4+_0x1df67c(0x296)+_0x551abc),!![];return![];}catch(_0x261813){return error(_0x261813,_0x1df67c(0x2b1)+_0x1df67c(0x26a)+'\x20'+_0x30deb4),![];}}async function issueAutoWarningFor(_0x90cf21){const _0x1612ba=_0x57c6cf,_0x476913=_0x90cf21['key'][_0x1612ba(0x269)],_0x3c794c=_0x90cf21[_0x1612ba(0x1f6)]['participan'+'t']||_0x90cf21['key']['remoteJid'];if(await isadmin(botRef,{'key':_0x90cf21[_0x1612ba(0x1f6)],'message':_0x90cf21[_0x1612ba(0x2b7)]}))return;const {warn_message:_0x476304,max_warns:_0x3b17e2}=await getWarnSettings(_0x476913),_0x19f732=await getWarnCount(_0x476913,_0x3c794c),_0x5afc41=_0x19f732+(-0xb*-0x1a+0x1b4e+0x1c6b*-0x1);await setWarnCount(_0x476913,_0x3c794c,_0x5afc41);if(_0x5afc41>=_0x3b17e2){await sendNotice(_0x476913,_0x1612ba(0x26e)+_0x1612ba(0x20a)+'@'+_0x3c794c[_0x1612ba(0x24c)]('@')[0x1eb2+0x451+-0x1*0x2303]+(_0x1612ba(0x289)+_0x1612ba(0x260))+_0x3b17e2+(_0x1612ba(0x232)+'and\x20will\x20b'+_0x1612ba(0x27a)),[_0x3c794c]),await kickUser(_0x476913,_0x3c794c),await setWarnCount(_0x476913,_0x3c794c,-0x14*0xe3+0x1*-0x24fe+0x3a6*0xf);return;}const _0x95717f=_0x3b17e2-_0x5afc41;let _0x5c938f=String(_0x476304)[_0x1612ba(0x2e3)]('{user}','@'+_0x3c794c[_0x1612ba(0x24c)]('@')[0x1af5+0x1*0x204d+0x4a*-0xcd])[_0x1612ba(0x2e3)](_0x1612ba(0x1f1)+'}',String(_0x3b17e2))[_0x1612ba(0x2e3)](_0x1612ba(0x2a9)+_0x1612ba(0x2a1),String(_0x95717f))['replace'](_0x1612ba(0x202),DEFAULTS['DEFAULT_RE'+_0x1612ba(0x2a4)]);await sendNotice(_0x476913,_0x5c938f,[_0x3c794c]),info('[sbl]\x20warn'+_0x1612ba(0x260)+_0x3c794c+_0x1612ba(0x222)+_0x476913+'\x20('+_0x5afc41+'/'+_0x3b17e2+')');}async function deleteWithRetryMsg(_0x3f7593){const _0x1320a3=_0x57c6cf;for(let _0x4cea90=0x11b9+0x2476+0xb*-0x4ed;_0x4cea90<0xdd2+-0x3e7+-0x9e9;_0x4cea90++){try{const _0x58e22b=botRef[_0x1320a3(0x1ff)]?.[_0x1320a3(0x275)+'e']||botRef['sendMessag'+'e'];return await _0x58e22b(_0x3f7593[_0x1320a3(0x1f6)]['remoteJid'],{'delete':_0x3f7593[_0x1320a3(0x1f6)]}),!![];}catch(_0x5e0ce7){if(_0x4cea90===-0x1343+-0x1782+0x2ac5)await sleep(-0x1549+-0x15*0x93+-0x2e*-0xbf);else warn('[sbl]\x20dele'+_0x1320a3(0x265)+'\x20'+(_0x5e0ce7?.['message']||_0x5e0ce7));}}return![];}async function rawMessagesUpsertHandler({messages:_0x253fd6}){const _0x14a450=_0x57c6cf;for(const _0x5ef465 of _0x253fd6){const _0x2644ca=_0x5ef465['key']?.[_0x14a450(0x269)];if(!_0x5ef465[_0x14a450(0x2b7)]||_0x5ef465[_0x14a450(0x1f6)][_0x14a450(0x286)]||!_0x2644ca||!_0x2644ca[_0x14a450(0x208)](_0x14a450(0x2ae)))continue;const _0x34c5f6=_0x2644ca+'::'+_0x5ef465[_0x14a450(0x1f6)]['id'];if(processedMessageKeys['has'](_0x34c5f6))continue;processedMessageKeys[_0x14a450(0x2c7)](_0x34c5f6,setTimeout(()=>processedMessageKeys[_0x14a450(0x1eb)](_0x34c5f6),DEFAULTS[_0x14a450(0x25e)+'_MS']));const _0x29967e=await getChatEnabled(_0x2644ca);if(!_0x29967e||await isadmin(botRef,{'key':_0x5ef465[_0x14a450(0x1f6)],'message':_0x5ef465[_0x14a450(0x2b7)]}))continue;isStatusBroadcastMention(_0x5ef465)&&(await deleteWithRetryMsg(_0x5ef465)&&await issueAutoWarningFor(_0x5ef465));}}async function findSudoerJid(_0x3ca4cf){const _0x49a6e9=_0x57c6cf,{findings:_0x2a1f93}=userJidFromCtx(_0x3ca4cf),_0x580998=await listSudo(),_0x1763e6=new Set(_0x580998[_0x49a6e9(0x213)](String));for(const _0x5cf9c9 of _0x2a1f93){if(_0x5cf9c9?.[_0x49a6e9(0x299)]){const _0x214461=normalizeToJid(_0x5cf9c9[_0x49a6e9(0x299)]);if(_0x214461&&_0x1763e6[_0x49a6e9(0x2e5)](_0x214461))return _0x214461;if(_0x1763e6[_0x49a6e9(0x2e5)](_0x5cf9c9['jid']))return _0x5cf9c9[_0x49a6e9(0x299)];}}return null;}async function getMessageText(_0x4a35b2){const _0x58ea59=_0x57c6cf;if(!_0x4a35b2||!_0x4a35b2[_0x58ea59(0x2b7)])return'';const _0x714931=_0x4a35b2[_0x58ea59(0x2b7)];return _0x714931[_0x58ea59(0x201)+'on']||_0x714931[_0x58ea59(0x2c3)+_0x58ea59(0x1e3)]?.['text']||_0x714931[_0x58ea59(0x1e2)+'ge']?.[_0x58ea59(0x27e)]||_0x714931['videoMessa'+'ge']?.[_0x58ea59(0x27e)]||'';}function parseGpFromArgs(_0x3cf8b7){const _0x5e4070=_0x57c6cf,_0x275e33=_0x3cf8b7['findIndex'](_0xa269d=>_0xa269d[_0x5e4070(0x2a8)+'e']()===_0x5e4070(0x233)||_0xa269d[_0x5e4070(0x2a8)+'e']()==='gp');if(_0x275e33!==-(0xab9+0x79f*-0x5+-0x30b*-0x9)&&_0x3cf8b7[_0x275e33+(-0x157e*0x1+0x150e+0x71)])return _0x3cf8b7[_0x275e33+(0xfb0+0x1f94+0x25*-0x147)];const _0x4bc4a5=_0x3cf8b7[_0x5e4070(0x2b9)](_0xb49592=>_0xb49592['includes'](_0x5e4070(0x2ae)));if(_0x4bc4a5)return _0x4bc4a5;if(_0x3cf8b7['length']>-0x13a6+-0x23c*0x11+0x39a2){const _0x877a4a=_0x3cf8b7[_0x3cf8b7[_0x5e4070(0x20d)]-(0x6b2+-0x7*-0x2d1+-0x4*0x69a)];if(!['on',_0x5e4070(0x1ef),_0x5e4070(0x28e),_0x5e4070(0x2c7),_0x5e4070(0x229),_0x5e4070(0x266),'maxwarns']['includes'](_0x877a4a[_0x5e4070(0x2a8)+'e']()))return _0x877a4a;}return null;}export async function onMessage(_0xa028f8){const _0x1f7892=_0x57c6cf,_0x56841e=(_0xa028f8[_0x1f7892(0x24d)]||await getMessageText(_0xa028f8))[_0x1f7892(0x238)]();if(!_0xa028f8[_0x1f7892(0x210)]||!_0x56841e)return;const [_0xacaa84,..._0x33f113]=_0x56841e['split'](/\s+/),_0x582607=_0xacaa84[_0x1f7892(0x2a8)+'e']()['replace']('/','');if(!commands[_0x1f7892(0x2cf)](_0x582607))return;const _0x13bd3a=_0xa028f8['key'][_0x1f7892(0x269)]['endsWith'](_0x1f7892(0x2ae)),_0x5de3e8=_0xa028f8['key'][_0x1f7892(0x286)],_0x10b4d=_0x5de3e8?!![]:await isSudo(botRef,_0xa028f8),_0xf75247=_0x13bd3a?await isadmin(botRef,_0xa028f8):![];if(!_0x13bd3a&&!_0x10b4d)return;if(_0x13bd3a&&!_0xf75247)return;let _0x13f74a,_0x3c0094=[];if(_0x13bd3a){_0x13f74a=_0xa028f8[_0x1f7892(0x1f6)][_0x1f7892(0x269)];const _0x3a0d8e=(_0xa028f8[_0x1f7892(0x1f6)][_0x1f7892(0x1fc)+'t']||_0xa028f8[_0x1f7892(0x1f6)]['from'])[_0x1f7892(0x24c)]('@')[0x2328+0x6*-0x4c1+-0x6a2],_0x3f4958=await getDefault(_0x3a0d8e);if(!_0x3f4958||_0x3f4958['length']===-0x240d+-0xb4d+0x1*0x2f5a)_0x3c0094=[_0xa028f8[_0x1f7892(0x1f6)][_0x1f7892(0x269)]],await sendNotice(_0x13f74a,_0x1f7892(0x2aa)+_0x1f7892(0x205)+_0x1f7892(0x25d)+'pplying\x20co'+_0x1f7892(0x1e4)+_0x1f7892(0x1f9)+_0x1f7892(0x272)+'y.');else{for(const _0x2af2e9 of Array[_0x1f7892(0x255)](_0x3f4958)?_0x3f4958:[_0x3f4958]){const _0x33be48=await getConnection(_0x2af2e9);if(_0x33be48)_0x3c0094['push'](...Array['isArray'](_0x33be48)?_0x33be48:[_0x33be48]);}_0x3c0094=[...new Set(_0x3c0094)];if(_0x3c0094[_0x1f7892(0x20d)]===0x2407+-0xf1+-0x2316)return sendNotice(_0x13f74a,_0x1f7892(0x2a2)+_0x1f7892(0x1e9)+_0x1f7892(0x262)+_0x1f7892(0x26b)+_0x1f7892(0x253)+_0x1f7892(0x2dd)+_0x1f7892(0x292));}}else{_0x13f74a=_0x5de3e8?getBotJid():await findSudoerJid(_0xa028f8);if(!_0x13f74a)return;const _0x28ca10=parseGpFromArgs(_0x33f113);if(!_0x28ca10)return sendNotice(_0x13f74a,_0x1f7892(0x236)+_0x1f7892(0x2c9)+'s\x20require\x20'+'a\x20group\x20al'+_0x1f7892(0x250)+_0x1f7892(0x206)+_0x1f7892(0x278)+_0x1f7892(0x254)+'\x20it\x20to\x20the'+_0x1f7892(0x282));const _0x34c5d4=await _0x57b190[_0x1f7892(0x20e)+'e'](_0x28ca10)||(_0x28ca10[_0x1f7892(0x2cf)](_0x1f7892(0x2ae))?_0x28ca10:null);if(!_0x34c5d4)return sendNotice(_0x13f74a,_0x1f7892(0x2d7)+'oup\x20alias\x20'+_0x1f7892(0x285)+_0x28ca10+'`');_0x3c0094=[_0x34c5d4];}const _0x314f1f=(_0x33f113[_0x1f7892(0x2b9)](_0xd52726=>['on',_0x1f7892(0x1ef),_0x1f7892(0x28e)][_0x1f7892(0x2cf)](_0xd52726['toLowerCas'+'e']()))||_0x1f7892(0x28e))[_0x1f7892(0x2a8)+'e'](),_0x4c11ca=_0x33f113[_0x1f7892(0x2b9)](_0x55e38f=>[_0x1f7892(0x266),_0x1f7892(0x22e),_0x1f7892(0x229)][_0x1f7892(0x2cf)](_0x55e38f['toLowerCas'+'e']()));let _0x158ecb='';for(const _0x13f206 of _0x3c0094){if(_0x4c11ca){if(_0x4c11ca===_0x1f7892(0x266)){if(_0x33f113['includes'](_0x1f7892(0x2c7))){const _0xcf42d4=_0x56841e['toLowerCas'+'e']()[_0x1f7892(0x1e6)]('set')+(0x2392+-0x55*0x28+0x1646*-0x1);let _0xec496d=_0x56841e[_0x1f7892(0x2e7)](_0xcf42d4)['trim']();const _0x31d309=parseGpFromArgs(_0x33f113);if(_0x31d309)_0xec496d=_0xec496d[_0x1f7892(0x2e3)](new RegExp(_0x1f7892(0x27d)+'s*'+_0x31d309+'\x5cs*','i'),'')[_0x1f7892(0x238)]();if(!_0xec496d){_0x158ecb+=_0x1f7892(0x25b)+_0x1f7892(0x279)+_0x1f7892(0x25a)+'ge\x20for\x20'+_0x13f206+'.\x0a';continue;}await setWarnSettings(_0x13f206,{'warn_message':_0xec496d}),_0x158ecb+=_0x1f7892(0x234)+_0x1f7892(0x2d3)+_0x13f206+_0x1f7892(0x2a6);}else{const {warn_message:_0x57090b}=await getWarnSettings(_0x13f206);_0x158ecb+=_0x1f7892(0x257)+_0x1f7892(0x26f)+_0x13f206+_0x1f7892(0x1fe)+_0x57090b+'\x0a\x0a';}}else{if(_0x4c11ca===_0x1f7892(0x22e)){if(_0x33f113['includes'](_0x1f7892(0x2c7))){const _0x2df99f=parseInt(_0x33f113[_0x33f113[_0x1f7892(0x1e6)](_0x1f7892(0x2c7))+(0x2491*0x1+-0x146*0xa+-0x17d4)],0x189e+-0xc0d*-0x1+0x24a1*-0x1);if(isNaN(_0x2df99f)||_0x2df99f<-0x1*0x1b1d+-0xb4f+0x1*0x266d){_0x158ecb+=_0x1f7892(0x228)+'mber\x20for\x20m'+_0x1f7892(0x28a)+'s\x20in\x20'+_0x13f206+'.\x0a';continue;}await setWarnSettings(_0x13f206,{'max_warns':_0x2df99f}),_0x158ecb+=_0x1f7892(0x1f0)+_0x1f7892(0x2b2)+_0x13f206+_0x1f7892(0x216)+_0x2df99f+'.\x0a';}else{const {max_warns:_0x2d4bc9}=await getWarnSettings(_0x13f206);_0x158ecb+=_0x1f7892(0x1f4)+'s\x20for\x20'+_0x13f206+_0x1f7892(0x29c)+_0x2d4bc9+'.\x0a';}}else{if(_0x4c11ca===_0x1f7892(0x229)){const _0x36496a=_0xa028f8[_0x1f7892(0x2b7)]?.[_0x1f7892(0x2c3)+_0x1f7892(0x1e3)]?.[_0x1f7892(0x2d5)+'o']?.[_0x1f7892(0x2e1)+'id']||[];if(!_0x36496a['length']){_0x158ecb+=_0x1f7892(0x2bc)+'ntion\x20a\x20us'+_0x1f7892(0x291)+_0x1f7892(0x223)+_0x1f7892(0x22c)+_0x13f206+'.\x0a';continue;}for(const _0x1ba0f4 of _0x36496a)await setWarnCount(_0x13f206,_0x1ba0f4,-0x221c+-0x472*-0x8+-0x2*0xba);_0x158ecb+='✅\x20Warnings'+_0x1f7892(0x256)+_0x1f7892(0x21d)+_0x1f7892(0x2d2)+'n\x20'+_0x13f206+'.\x0a';}}}}else{if(_0x314f1f==='on')await setChatEnabled(_0x13f206,!![]),_0x158ecb+=_0x1f7892(0x1f7)+_0x1f7892(0x26c)+_0x1f7892(0x2ce)+_0x13f206+'\x0a';else{if(_0x314f1f==='off')await setChatEnabled(_0x13f206,![]),_0x158ecb+=_0x1f7892(0x27b)+'ock\x20**DISA'+_0x1f7892(0x1e5)+'\x20'+_0x13f206+'\x0a';else{const _0x2caeaa=await getChatEnabled(_0x13f206);let _0x369eef=_0x2caeaa?_0x1f7892(0x277):_0x1f7892(0x2c2);_0x158ecb+=_0x1f7892(0x2e0)+_0x1f7892(0x22f)+_0x13f206+_0x1f7892(0x1fe)+_0x369eef+'\x0a\x0a';}}}}await sendNotice(_0x13f74a,_0x158ecb[_0x1f7892(0x238)]());}export async function initialize(_0x48b103){const _0x1ca4b1=_0x57c6cf;botRef=_0x48b103,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x1ca4b1(0x1fb)+_0x1ca4b1(0x294),'handler':rawMessagesUpsertHandler,'moduleName':name}),info(_0x1ca4b1(0x2ab)+'ialized.\x20M'+_0x1ca4b1(0x23d)+_0x1ca4b1(0x226)+'(Opt-In).\x20'+'Dedupe\x20TTL'+':\x20'+DEFAULTS['DEDUPE_TTL'+'_MS']+_0x1ca4b1(0x209));}export async function cleanup(){const _0x9c202c=_0x57c6cf;stopManagedListener(name,_0x9c202c(0x1fb)+'psert'),processedMessageKeys[_0x9c202c(0x1f2)](_0x1fad69=>clearTimeout(_0x1fad69)),processedMessageKeys[_0x9c202c(0x2b8)](),botRef=null,info('[sbl]\x20clea'+'ned\x20up');}