const _0x4a5d91=_0x3267;(function(_0x1089dc,_0x15eb7a){const _0x52a57c=_0x3267,_0xfb91dc=_0x1089dc();while(!![]){try{const _0x792690=parseInt(_0x52a57c(0x18a))/(-0x6e1+-0x24db+0x2bbd*0x1)+-parseInt(_0x52a57c(0xb3))/(0x3be*0x6+0xb1b*0x3+-0x19*0x23b)+parseInt(_0x52a57c(0x138))/(-0x19e6+-0x1f0*0xd+0x3319)*(parseInt(_0x52a57c(0x148))/(-0xc28+-0xf74+0x1ba0))+-parseInt(_0x52a57c(0x172))/(0x1947+-0x65b*-0x1+0x1f9d*-0x1)*(parseInt(_0x52a57c(0x130))/(-0x1*-0x64f+-0x19c+0x13*-0x3f))+-parseInt(_0x52a57c(0xd1))/(0x3ec*-0x1+-0xc4*-0x7+-0x169)+-parseInt(_0x52a57c(0x123))/(-0x1dd7+0x1918+0x4c7)+parseInt(_0x52a57c(0x107))/(0x262*0x10+0x29f+0x6c9*-0x6);if(_0x792690===_0x15eb7a)break;else _0xfb91dc['push'](_0xfb91dc['shift']());}catch(_0x1f4356){_0xfb91dc['push'](_0xfb91dc['shift']());}}}(_0x189b,0x63*0x92d+-0x350d9+-0x4*-0x8a9e));import{getConfig}from'../utils/config.js';function _0x189b(){const _0x21ea5e=['caption','ot\x20availab','test','s\x20table\x20ex','M\x20pm_filte','d_by,\x20crea','reply','rs\x20(\x0a\x20\x20\x20\x20\x20','stringify','\x20Aho\x20faile','ed_by,\x0a\x20\x20\x20','\x5cw*','parse','REATE\x20TABL','\x20WHERE\x20typ','responses','\x20\x20\x20\x20\x20VALUE','ly\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20getGlobal','ponses,\x20rr','tiline,\x20PM','split','output','exec','sock','ply\x20failed','global','string','all','changes','failed:\x20','-only):\x0apf','roundrobin','COMMAND_PR','ases\x20ALL\x20p','ex,\x20create','AULT\x20\x27[]\x27,','delete\x20all','PDATE\x20SET\x0a','sendMessag','map','push','\x20cleaned\x20u','listRespon','\x20pm\x20filter','ex\x20+\x201)\x20WH','Failed\x20to\x20','_trigger\x20O','5621832bvhyQX','NULL\x20UNIQU','\x20bot\x20JID\x20n','ated_at\x20IN','keyword','x:\x20\x22','keywords','E,\x0a\x20\x20\x20\x20\x20\x20\x20','run','\x20cleanup\x20e','TEXT\x20DEFAU','it\x20error:\x20','eated_at;','unknown','filters\x20SE','Saved\x20','\x20\x20\x20\x20\x20\x20crea','join','ARY\x20KEY\x20AU','\x20delete\x20fa','composing','UPDATE\x20pm_','next','sponse2\x0aNO','\x20initializ','iled\x20for\x20','INTEGER\x20DE','startsWith','1209376evhQBG','\x20sendPmRep','set','lfilter\x20tr','selectedRo','AND\x20name=\x27','RESPONSE_M','EXISTS\x20idx','ite_master','Automaton\x20','find','SELECT\x20nam','S\x20(?,\x20?,\x200','12ilabZw','remoteJid','ttonId','@g.us','ger\x20FROM\x20p','selectedBu','+\x20failed:\x20','ers\x20failed','481566JKxzgQ','TEGER\x20DEFA','[pmfilter]','\x20no\x20send\x20A','TOINCREMEN','(s).','\x20filters:\x20','extendedTe','\x20filters.','\x200,\x0a\x20\x20\x20\x20\x20\x20','seMessage','ypingAndWa','rs\x20(trigge','delete','slice','ODE','4vyPVWR','\x20all\x20\x20\x20(er','now','\x20determine','fromMe','rr_index\x20=','rs\x20WHERE\x20t','ialize()','NFLICT(tri','substring','ed:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20C','[pfilter]\x20','m\x20filters)','\x20rr_index\x20','SELECT\x20DIS','rr_index','N\x20pm_filte','s\x20are\x20glob','videoMessa','shift','gger2\x0aOr:\x20','function','d:\x20','r\x20=\x20?','trigger','floor','pdelf','\x20pm_filter','al\x20and\x20wil','regex:','\x20invalid\x20s','\x20\x20\x20\x20\x20ON\x20CO','ted_at)\x0a\x20\x20','participan','PREFIX','object','FILTERS','imageMessa','\x20\x20\x20\x20\x20\x20\x20\x20\x20r','EX\x20IF\x20NOT\x20','422715fTMFwr','_MS','DELETE\x20FRO','\x20\x20\x20\x20);\x0a\x20\x20\x20','text','length','ted_at\x20=\x20e','trim','Usage\x20(mul','pmfilter','Deleted\x20','singleSele','\x20TEXT\x20NOT\x20',',\x20?,\x20?)\x0a\x20\x20','sendPresen','ponse1\x0a!re','iled:\x20','build','has','le\x20at\x20init','includes','ists','buttonsRes','LT\x20\x27\x27,\x0a\x20\x20\x20','107989ieqttr','\x20pickRespo','isFinite','gger1,trig','ceUpdate','\x20created\x20p','_pmfilters','ger2>\x0a!res','fail','l\x20be\x20used\x20','message','pfilter','xtMessage','T\x20NULL\x20DEF','paused','m_filters','rs(trigger','xcluded.cr','\x22\x20-\x20','\x20excluded.','pdelfilter','EFIX','from','isArray','\x20\x20\x20respons','get','onTarget\x20e','create','SELECT\x20res','es,\x20rr_ind','\x20ensureSch','wId','plistfilte','\x5c$&','Confirmati','\x20pdelfilte','clear','497830cUarLm','loaded\x20','replace','e\x20error:\x20','nodes','Deleted\x20AL','igger1,tri','TE:\x20Filter','T\x20rr_index','\x20=\x20(rr_ind','CREATE\x20IND','when\x20users','tored\x20rege','e\x20FROM\x20sql','\x20rr_index+','key','ponseMessa','filter','m_filters\x20','rigger\x20=\x20?','T,\x0a\x20\x20\x20\x20\x20\x20\x20','random','ilter\x20<tri','_index\x20FRO','conversati','search','add','ed\x20with\x20bo','esponses\x20=','rror:\x20','1167572rGZakY','\x20\x20\x20\x20\x20\x20\x20cre','toLowerCas','es\x20TEXT\x20NO','TINCT\x20trig'];_0x189b=function(){return _0x21ea5e;};return _0x189b();}import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x4a5d91(0x17b);export const version='1.2.0';export const priority=0x2194+0x1*0x62f+-0x27be;export const configKeys=['FILTERS'];export const commands=['pfilter',_0x4a5d91(0xae)+'r',_0x4a5d91(0xa2),_0x4a5d91(0xa2)+'s',_0x4a5d91(0x164)];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0x1dc7fb){const _0x43b25d=_0x4a5d91,_0x2fc809=Number(_0x1dc7fb);if(!Number[_0x43b25d(0x18c)](_0x2fc809)||isNaN(_0x2fc809))return-0x14*-0x175+0x21bb+-0xc93*0x5;if(_0x2fc809<=0x19c0+0x2709+-0x40c9)return-0x106*-0xb+-0x39*0x7f+0x1105*0x1;if(_0x2fc809>-0x4d5f*-0x1+0x36e5+-0x49ac)return 0xe*-0x427+-0x3477+-0x1*-0xa931;return Math[_0x43b25d(0x163)](_0x2fc809);}function sleep(_0x2af6f0){return new Promise(_0x3ce996=>setTimeout(_0x3ce996,_0x2af6f0));}async function simulateTypingAndWait(_0xbde9d4,_0x32d811,_0xf83daf){const _0x1110ed=_0x4a5d91;if(!_0xf83daf||_0xf83daf<=0xc8*0x26+0xffb*0x2+-0x3da6)return;try{if(_0xbde9d4&&typeof _0xbde9d4[_0x1110ed(0x180)+_0x1110ed(0x18e)]===_0x1110ed(0x15f))try{await _0xbde9d4[_0x1110ed(0x180)+_0x1110ed(0x18e)](_0x1110ed(0x11b),_0x32d811);}catch(_0x2cf060){}}catch(_0x542504){}try{await sleep(_0xf83daf);}catch(_0x3eeda7){}try{if(_0xbde9d4&&typeof _0xbde9d4[_0x1110ed(0x180)+_0x1110ed(0x18e)]===_0x1110ed(0x15f))try{await _0xbde9d4['sendPresen'+_0x1110ed(0x18e)](_0x1110ed(0x9c),_0x32d811);}catch(_0x2437ca){}}catch(_0x1c9cc1){}}function clampConfigTypingMs(){const _0xb39ae4=_0x4a5d91;try{const _0x69ade=getConfig()||{},_0xf99325=_0x69ade['FILTERS']&&typeof _0x69ade[_0xb39ae4(0x16e)]===_0xb39ae4(0x16d)?_0x69ade[_0xb39ae4(0x16e)]:{};return clampTypingMs(_0xf99325['TYPING_SIM'+_0xb39ae4(0x173)]);}catch(_0x736507){return-0x1f9d+0x145f+-0x59f*-0x2;}}function escapeRegex(_0x324d0b){const _0x38712d=_0x4a5d91;return _0x324d0b['replace'](/[.*+?^${}()|[\]\\]/g,_0x38712d(0xaf));}function wildcardToRegexPattern(_0x102a18){const _0x22dad5=_0x4a5d91,_0x32bec9=_0x102a18['split']('*')[_0x22dad5(0xff)](_0x2592c5=>escapeRegex(_0x2592c5));return'\x5cb'+_0x32bec9[_0x22dad5(0x118)](_0x22dad5(0xe1))+'\x5cb';}function ensureArray(_0x253e18){if(!_0x253e18)return[];if(Array['isArray'](_0x253e18))return _0x253e18;return[String(_0x253e18)];}function uniqArray(_0x357cb5){const _0x13d69d=_0x4a5d91,_0x3a52b7=new Set(),_0x218f9b=[];for(const _0x10d8c0 of _0x357cb5||[]){const _0x3b5ea4=String(_0x10d8c0||'')[_0x13d69d(0x179)]();if(!_0x3b5ea4)continue;!_0x3a52b7[_0x13d69d(0x184)](_0x3b5ea4)&&(_0x3a52b7[_0x13d69d(0xcd)](_0x3b5ea4),_0x218f9b['push'](_0x3b5ea4));}return _0x218f9b;}function getMessageText(_0x2e06cf){const _0x5ac833=_0x4a5d91;if(!_0x2e06cf||!_0x2e06cf[_0x5ac833(0x194)])return'';const _0x529dbd=_0x2e06cf[_0x5ac833(0x194)];if(_0x529dbd[_0x5ac833(0xcb)+'on'])return _0x529dbd['conversati'+'on'];if(_0x529dbd[_0x5ac833(0x13f)+_0x5ac833(0x196)]?.['text'])return _0x529dbd['extendedTe'+'xtMessage'][_0x5ac833(0x176)];if(_0x529dbd['imageMessa'+'ge']?.[_0x5ac833(0xd6)])return _0x529dbd[_0x5ac833(0x16f)+'ge'][_0x5ac833(0xd6)];if(_0x529dbd['videoMessa'+'ge']?.[_0x5ac833(0xd6)])return _0x529dbd[_0x5ac833(0x15c)+'ge'][_0x5ac833(0xd6)];if(_0x529dbd[_0x5ac833(0x188)+_0x5ac833(0xc3)+'ge']?.[_0x5ac833(0x135)+'ttonId'])return _0x529dbd[_0x5ac833(0x188)+'ponseMessa'+'ge'][_0x5ac833(0x135)+_0x5ac833(0x132)];if(_0x529dbd[_0x5ac833(0x102)+_0x5ac833(0x142)]?.[_0x5ac833(0x17d)+'ctReply']?.[_0x5ac833(0x127)+_0x5ac833(0xad)])return _0x529dbd[_0x5ac833(0x102)+_0x5ac833(0x142)][_0x5ac833(0x17d)+'ctReply'][_0x5ac833(0x127)+_0x5ac833(0xad)];return'';}async function ensureSchema(){const _0x413b34=_0x4a5d91;try{const _0x534361=await db[_0x413b34(0xa7)](_0x413b34(0x12e)+_0x413b34(0xc0)+_0x413b34(0x12b)+_0x413b34(0xe4)+'e=\x27table\x27\x20'+_0x413b34(0x128)+'pm_filters'+'\x27');if(!_0x534361){await db[_0x413b34(0xee)](_0x413b34(0x154)+_0x413b34(0xe3)+'E\x20pm_filte'+_0x413b34(0xdd)+'\x20\x20\x20\x20\x20id\x20IN'+'TEGER\x20PRIM'+_0x413b34(0x119)+_0x413b34(0x13c)+_0x413b34(0xc7)+'\x20\x20\x20trigger'+_0x413b34(0x17e)+_0x413b34(0x108)+_0x413b34(0x10e)+_0x413b34(0xa6)+_0x413b34(0xd4)+_0x413b34(0x197)+_0x413b34(0xfb)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x413b34(0x157)+_0x413b34(0x121)+'FAULT\x200,\x0a\x20'+_0x413b34(0x153)+'reated_by\x20'+_0x413b34(0x111)+_0x413b34(0x189)+_0x413b34(0xd2)+_0x413b34(0x10a)+_0x413b34(0x139)+'ULT\x200\x0a\x20\x20\x20\x20'+_0x413b34(0x175)+'\x20\x20\x20');try{await db[_0x413b34(0xee)](_0x413b34(0xbd)+_0x413b34(0x171)+_0x413b34(0x12a)+_0x413b34(0x190)+_0x413b34(0x106)+_0x413b34(0x15a)+_0x413b34(0x9e)+');');}catch(_0x1e8030){}info(_0x413b34(0x13a)+_0x413b34(0x18f)+'m_filters\x20'+'table');}else info('[pmfilter]'+_0x413b34(0x165)+_0x413b34(0xd9)+_0x413b34(0x187));}catch(_0x4609c8){error(_0x4609c8,_0x413b34(0x13a)+_0x413b34(0xac)+'ema\x20fatal');throw _0x4609c8;}}async function upsertPmFilter(_0x1a5bf9,_0x1ac33c,_0x813590){const _0x194f10=_0x4a5d91;try{const _0x3571e1=Math[_0x194f10(0x163)](Date[_0x194f10(0x14a)]()/(0x1599+0x29f*0x9+-0x2948)),_0x511a73=JSON[_0x194f10(0xde)](uniqArray(ensureArray(_0x1ac33c)[_0x194f10(0xff)](_0xb932ee=>String(_0xb932ee)['trim']())[_0x194f10(0xc4)](Boolean)));await db['run']('INSERT\x20INT'+'O\x20pm_filte'+_0x194f10(0x144)+'r,\x20respons'+_0x194f10(0xab)+_0x194f10(0xfa)+_0x194f10(0xdb)+_0x194f10(0x16a)+_0x194f10(0xe6)+_0x194f10(0x12f)+_0x194f10(0x17f)+_0x194f10(0x169)+_0x194f10(0x150)+'gger)\x20DO\x20U'+_0x194f10(0xfd)+_0x194f10(0x170)+_0x194f10(0xcf)+_0x194f10(0xa1)+'responses,'+_0x194f10(0xe8)+_0x194f10(0x14d)+_0x194f10(0x141)+'\x20\x20\x20created'+'_by\x20=\x20excl'+'uded.creat'+_0x194f10(0xe0)+_0x194f10(0x117)+_0x194f10(0x178)+_0x194f10(0x9f)+_0x194f10(0x113),[_0x1a5bf9,_0x511a73,_0x813590||'',_0x3571e1]);try{automatonCache[_0x194f10(0x145)]('global');}catch(_0xf64fa){}return info(_0x194f10(0x13a)+'\x20upsert:\x20'+_0x1a5bf9),!![];}catch(_0x2b91d4){return error(_0x2b91d4,'[pmfilter]'+'\x20upsert\x20fa'+_0x194f10(0x120)+_0x1a5bf9),![];}}async function deletePmFilters(_0x1fe873){const _0x2bd660=_0x4a5d91;if(!Array[_0x2bd660(0xa5)](_0x1fe873)||_0x1fe873[_0x2bd660(0x177)]===0x24d0+-0x341*0x3+-0x1*0x1b0d)return-0x1dd7+0x7cb+0x160c;try{let _0x4aab0d=-0x20*-0xe5+-0xe7b*-0x2+0xd*-0x46e;for(const _0x578e8f of _0x1fe873){const _0x5e0c20=await db[_0x2bd660(0x10f)]('DELETE\x20FRO'+'M\x20pm_filte'+'rs\x20WHERE\x20t'+_0x2bd660(0xc6),[_0x578e8f]);if(_0x5e0c20?.[_0x2bd660(0xf4)])_0x4aab0d+=_0x5e0c20['changes'];info(_0x2bd660(0x13a)+'\x20deleted\x20'+_0x578e8f);}try{automatonCache[_0x2bd660(0x145)]('global');}catch(_0x4c911c){}return _0x4aab0d;}catch(_0x23625a){return error(_0x23625a,_0x2bd660(0x13a)+_0x2bd660(0x11a)+_0x2bd660(0x182)+(_0x23625a?.['message']||_0x23625a)),0x2003+0xd62+-0x2d65;}}async function listPmTriggers(){const _0x2910f=_0x4a5d91;try{const _0x535ca7=await db[_0x2910f(0xf3)](_0x2910f(0x158)+_0x2910f(0xd5)+_0x2910f(0x134)+_0x2910f(0xc5)+'ORDER\x20BY\x20t'+'rigger');return(_0x535ca7||[])['map'](_0xfa1b56=>_0xfa1b56[_0x2910f(0x162)]);}catch(_0x1b4c6e){return warn(_0x1b4c6e,'[pmfilter]'+'\x20listTrigg'+_0x2910f(0x137)+':\x20'+(_0x1b4c6e?.[_0x2910f(0x194)]||_0x1b4c6e)),[];}}async function pickPmResponseAndAdvance(_0x422f7a,_0x1adf0b=_0x4a5d91(0xf7)){const _0x5e137c=_0x4a5d91;try{const _0xb3fad0=await db[_0x5e137c(0xa7)](_0x5e137c(0xaa)+_0x5e137c(0xea)+_0x5e137c(0xca)+_0x5e137c(0xda)+_0x5e137c(0x14e)+_0x5e137c(0xc6)+'\x20LIMIT\x201',[_0x422f7a]);if(!_0xb3fad0)return null;let _0x3dc6ed=[];try{_0x3dc6ed=JSON[_0x5e137c(0xe2)](_0xb3fad0[_0x5e137c(0xe5)]||'[]');}catch{_0x3dc6ed=ensureArray(_0xb3fad0[_0x5e137c(0xe5)]);}_0x3dc6ed=ensureArray(_0x3dc6ed);if(!_0x3dc6ed[_0x5e137c(0x177)])return null;if((_0x1adf0b||'')[_0x5e137c(0xd3)+'e']()==='random'){const _0x43647a=Math[_0x5e137c(0x163)](Math[_0x5e137c(0xc8)]()*_0x3dc6ed[_0x5e137c(0x177)]);return _0x3dc6ed[_0x43647a];}const _0x270cb5=Number(_0xb3fad0[_0x5e137c(0x159)]||0x2ed+-0xbae+0x53*0x1b),_0x37e2c8=_0x3dc6ed[_0x270cb5%_0x3dc6ed[_0x5e137c(0x177)]];try{await db[_0x5e137c(0x10f)](_0x5e137c(0x11c)+_0x5e137c(0x115)+_0x5e137c(0xbb)+_0x5e137c(0xbc)+_0x5e137c(0x104)+'ERE\x20trigge'+_0x5e137c(0x161),[_0x422f7a]);}catch(_0x1ac116){warn(_0x5e137c(0x13a)+_0x5e137c(0xc1)+_0x5e137c(0x136)+(_0x1ac116?.[_0x5e137c(0x194)]||_0x1ac116));}return _0x37e2c8;}catch(_0x5614c3){return warn(_0x5e137c(0x13a)+_0x5e137c(0x18b)+'nse\x20error:'+'\x20'+(_0x5614c3?.[_0x5e137c(0x194)]||_0x5614c3)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(0xf91+0x212a+-0x309d)*(-0x1*-0x1082+0x1067+0x9ab*-0x3);function _0x3267(_0x2a3376,_0x2ffc39){const _0x22c156=_0x189b();return _0x3267=function(_0x58abce,_0x373bbb){_0x58abce=_0x58abce-(0x243d+0x5*-0x2d3+-0xac1*0x2);let _0x14e83f=_0x22c156[_0x58abce];return _0x14e83f;},_0x3267(_0x2a3376,_0x2ffc39);}function makeDedupeKey(_0x323009){const _0x4c2508=_0x4a5d91,_0x48d989=_0x323009?.[_0x4c2508(0xc2)];if(!_0x48d989)return null;const _0x185d6d=_0x48d989['id']||_0x48d989?.[_0x4c2508(0x16b)+'t']||'',_0xb76eba=_0x48d989[_0x4c2508(0x131)]||'';return _0xb76eba+'::'+_0x185d6d;}function isProcessed(_0x1710f4){return _0x1710f4&&processedMessageKeys['has'](_0x1710f4);}function markProcessed(_0x4086a5){const _0x4e5aca=_0x4a5d91;if(!_0x4086a5)return;if(processedMessageKeys['has'](_0x4086a5))clearTimeout(processedMessageKeys[_0x4e5aca(0xa7)](_0x4086a5));const _0x11a076=setTimeout(()=>processedMessageKeys[_0x4e5aca(0x145)](_0x4086a5),DEDUPE_TTL_MS);processedMessageKeys['set'](_0x4086a5,_0x11a076);}class Aho{constructor(){const _0x4fa809=_0x4a5d91;this['nodes']=[{'next':Object[_0x4fa809(0xa9)](null),'fail':0x0,'output':[]}];}[_0x4a5d91(0x183)](_0x3118de){const _0x24cc61=_0x4a5d91;this[_0x24cc61(0xb7)]=[{'next':Object['create'](null),'fail':0x0,'output':[]}];for(const _0x59b49c of _0x3118de){let _0x1f434e=0x1af*-0x1+0x2*0x774+-0xd39;for(let _0x39ef31=0x144d+-0x4fc+0x51b*-0x3;_0x39ef31<_0x59b49c[_0x24cc61(0x177)];_0x39ef31++){const _0xea5f94=_0x59b49c[_0x39ef31];!this[_0x24cc61(0xb7)][_0x1f434e][_0x24cc61(0x11d)][_0xea5f94]&&(this['nodes'][_0x1f434e][_0x24cc61(0x11d)][_0xea5f94]=this[_0x24cc61(0xb7)]['length'],this['nodes'][_0x24cc61(0x100)]({'next':Object[_0x24cc61(0xa9)](null),'fail':0x0,'output':[]})),_0x1f434e=this[_0x24cc61(0xb7)][_0x1f434e][_0x24cc61(0x11d)][_0xea5f94];}this[_0x24cc61(0xb7)][_0x1f434e]['output'][_0x24cc61(0x100)](_0x59b49c);}const _0x4fef48=[];for(const _0x2c3e25 in this[_0x24cc61(0xb7)][-0x11f5*-0x1+-0x25cd*0x1+0x13d8][_0x24cc61(0x11d)]){const _0x4d11c9=this[_0x24cc61(0xb7)][-0x1d*0xcb+-0x6*-0xc5+0x1261][_0x24cc61(0x11d)][_0x2c3e25];this[_0x24cc61(0xb7)][_0x4d11c9][_0x24cc61(0x192)]=0x1*0x199e+-0x948+-0x1056,_0x4fef48[_0x24cc61(0x100)](_0x4d11c9);}while(_0x4fef48[_0x24cc61(0x177)]){const _0x434764=_0x4fef48[_0x24cc61(0x15d)]();for(const _0xd64d6 in this[_0x24cc61(0xb7)][_0x434764][_0x24cc61(0x11d)]){const _0x1075fa=this[_0x24cc61(0xb7)][_0x434764]['next'][_0xd64d6];let _0xf41291=this[_0x24cc61(0xb7)][_0x434764]['fail'];while(_0xf41291&&!this[_0x24cc61(0xb7)][_0xf41291][_0x24cc61(0x11d)][_0xd64d6])_0xf41291=this[_0x24cc61(0xb7)][_0xf41291][_0x24cc61(0x192)];if(this[_0x24cc61(0xb7)][_0xf41291]['next'][_0xd64d6])this[_0x24cc61(0xb7)][_0x1075fa][_0x24cc61(0x192)]=this[_0x24cc61(0xb7)][_0xf41291][_0x24cc61(0x11d)][_0xd64d6];else this['nodes'][_0x1075fa]['fail']=-0x204d+-0xc06+0x7*0x655;this[_0x24cc61(0xb7)][_0x1075fa][_0x24cc61(0xed)][_0x24cc61(0x100)](...this[_0x24cc61(0xb7)][this[_0x24cc61(0xb7)][_0x1075fa][_0x24cc61(0x192)]][_0x24cc61(0xed)]),_0x4fef48[_0x24cc61(0x100)](_0x1075fa);}}}['search'](_0x2512b4){const _0x2f7ec8=_0x4a5d91,_0x152c54=[];let _0x10fbed=0x5*0x15+0x1*-0x4b8+0x44f*0x1;for(let _0x36b32a=-0x1*0xeb9+0x1060+0x3*-0x8d;_0x36b32a<_0x2512b4['length'];_0x36b32a++){const _0x270357=_0x2512b4[_0x36b32a];while(_0x10fbed&&!this['nodes'][_0x10fbed]['next'][_0x270357])_0x10fbed=this[_0x2f7ec8(0xb7)][_0x10fbed][_0x2f7ec8(0x192)];if(this[_0x2f7ec8(0xb7)][_0x10fbed][_0x2f7ec8(0x11d)][_0x270357])_0x10fbed=this[_0x2f7ec8(0xb7)][_0x10fbed][_0x2f7ec8(0x11d)][_0x270357];else _0x10fbed=0x22f2+0x8b1+0x2ba3*-0x1;if(this[_0x2f7ec8(0xb7)][_0x10fbed][_0x2f7ec8(0xed)][_0x2f7ec8(0x177)]){for(const _0x4743bd of this[_0x2f7ec8(0xb7)][_0x10fbed]['output'])_0x152c54['push']({'keyword':_0x4743bd,'index':_0x36b32a-_0x4743bd[_0x2f7ec8(0x177)]+(-0x3f8+0x907*0x3+-0x2*0xb8e)});}}return _0x152c54;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x19dadb=_0x4a5d91;if(automatonCache[_0x19dadb(0x184)]('global'))return automatonCache[_0x19dadb(0xa7)](_0x19dadb(0xf1));try{const _0x4afae8=await db[_0x19dadb(0xf3)](_0x19dadb(0x158)+_0x19dadb(0xd5)+'ger\x20FROM\x20p'+_0x19dadb(0x9d)),_0x376cef=(_0x4afae8||[])[_0x19dadb(0xff)](_0x1e85de=>String(_0x1e85de[_0x19dadb(0x162)]||'')['trim']())[_0x19dadb(0xc4)](Boolean),_0x3e29e0=_0x376cef[_0x19dadb(0xc4)](_0x2a1da4=>{const _0x3ee200=_0x19dadb,_0x506b2b=String(_0x2a1da4)[_0x3ee200(0x179)]()[_0x3ee200(0xd3)+'e']();if(_0x506b2b[_0x3ee200(0x122)](_0x3ee200(0x167)))return![];if(_0x2a1da4['includes']('*'))return![];return!![];}),_0x4e78ea=_0x3e29e0[_0x19dadb(0xff)](_0x5e62b9=>_0x5e62b9[_0x19dadb(0xd3)+'e']()),_0x2762b4=new Aho();if(_0x4e78ea[_0x19dadb(0x177)])_0x2762b4[_0x19dadb(0x183)](_0x4e78ea);const _0xb9411a={'ac':_0x2762b4,'keywords':_0x4e78ea,'normalSet':new Set(_0x4e78ea),'triggers':_0x376cef};return automatonCache[_0x19dadb(0x125)](_0x19dadb(0xf1),_0xb9411a),_0xb9411a;}catch(_0x412a26){return warn('[pmfilter]'+_0x19dadb(0xe9)+_0x19dadb(0x12c)+_0x19dadb(0xf5)+(_0x412a26?.[_0x19dadb(0x194)]||_0x412a26)),null;}}async function sendPmReply(_0x365b20,_0x5e22a1,_0x2c58d3){const _0x2b7f22=_0x4a5d91;if(!_0x2c58d3)return;let _0x3f9f63=_0x5e22a1;try{if(!_0x3f9f63&&_0x365b20&&_0x365b20[_0x2b7f22(0xc2)]&&_0x365b20['key']['remoteJid'])_0x3f9f63=_0x365b20[_0x2b7f22(0xc2)][_0x2b7f22(0x131)];}catch(_0x5e3c83){}if(!_0x3f9f63)return;const _0x32fab8={'text':String(_0x2c58d3)},_0x4ac478=clampConfigTypingMs();if(_0x4ac478>0x13*-0x65+-0x1f2f*-0x1+-0x17b0)try{await simulateTypingAndWait(botInstance?.[_0x2b7f22(0xef)],_0x3f9f63,_0x4ac478);}catch(_0x5bf35b){warn(_0x2b7f22(0x13a)+'\x20simulateT'+_0x2b7f22(0x143)+_0x2b7f22(0x112)+(_0x5bf35b?.['message']||_0x5bf35b));}try{if(_0x365b20&&typeof _0x365b20[_0x2b7f22(0xdc)]===_0x2b7f22(0x15f)&&_0x365b20['key']&&_0x365b20[_0x2b7f22(0xc2)]['remoteJid']===_0x3f9f63)try{await _0x365b20[_0x2b7f22(0xdc)]({'text':String(_0x2c58d3)});return;}catch(_0x58be80){warn(_0x2b7f22(0x13a)+'\x20quoted\x20re'+_0x2b7f22(0xf0)+':\x20'+(_0x58be80?.['message']||_0x58be80));}if(botInstance&&typeof botInstance[_0x2b7f22(0xfe)+'e']===_0x2b7f22(0x15f))await botInstance[_0x2b7f22(0xfe)+'e'](_0x3f9f63,_0x32fab8);else botInstance&&botInstance['sock']&&typeof botInstance['sock']['sendMessag'+'e']==='function'?await botInstance[_0x2b7f22(0xef)][_0x2b7f22(0xfe)+'e'](_0x3f9f63,_0x32fab8):warn('[pmfilter]'+_0x2b7f22(0x13b)+'PI\x20availab'+'le');}catch(_0x14d88d){warn(_0x2b7f22(0x13a)+_0x2b7f22(0x124)+_0x2b7f22(0xe7)+'\x20'+(_0x14d88d?.[_0x2b7f22(0x194)]||_0x14d88d));}}export async function initialize(_0x60ef96){const _0x28dbf7=_0x4a5d91;try{botInstance=_0x60ef96,botJid=_0x60ef96?.[_0x28dbf7(0xef)]?.['user']?.['id']||null;if(!botJid)warn('[pmfilter]'+_0x28dbf7(0x109)+_0x28dbf7(0xd7)+_0x28dbf7(0x185)+_0x28dbf7(0x14f));if(botInstance){if(typeof botInstance[_0x28dbf7(0xfe)+'e']===_0x28dbf7(0x15f))sendApi=async(_0x40557b,_0x21d6f9)=>await botInstance[_0x28dbf7(0xfe)+'e'](_0x40557b,_0x21d6f9);else{if(botInstance[_0x28dbf7(0xef)]&&typeof botInstance['sock'][_0x28dbf7(0xfe)+'e']===_0x28dbf7(0x15f))sendApi=async(_0x223705,_0xf271ff)=>await botInstance[_0x28dbf7(0xef)]['sendMessag'+'e'](_0x223705,_0xf271ff);else sendApi=null;}}await ensureSchema(),info(_0x28dbf7(0x13a)+_0x28dbf7(0x11f)+_0x28dbf7(0xce)+'tJid='+(botJid||_0x28dbf7(0x114)));}catch(_0x50c123){error(_0x50c123,'[pmfilter]'+'\x20initializ'+_0x28dbf7(0xb6)+(_0x50c123?.[_0x28dbf7(0x194)]||_0x50c123));throw _0x50c123;}}function detectCommandNameFromCmdText(_0x2f532d){const _0x77b145=_0x4a5d91;if(!_0x2f532d)return null;const _0x17304c=_0x2f532d[_0x77b145(0x179)]();if(!_0x17304c)return null;return _0x17304c[_0x77b145(0xec)](/\s+/)[-0xf92*0x1+0x3e4+0xbae][_0x77b145(0xd3)+'e']();}function parsePmFilterCommandText(_0x471fc2,_0x4b60d5){const _0x5600d2=_0x4a5d91;if(!_0x471fc2)return null;const _0x22cf4f=_0x471fc2['split'](/\r?\n/)[_0x5600d2(0xff)](_0x2e8181=>_0x2e8181[_0x5600d2(0xb5)](/\r/g,''));if(!_0x22cf4f[_0x5600d2(0x177)])return null;let _0x4a406f=_0x22cf4f[0x928+-0x1621+-0x453*-0x3]['trim']();if(_0x4b60d5){if(Array[_0x5600d2(0xa5)](_0x4b60d5))for(const _0xdc392c of _0x4b60d5){if(_0x4a406f['startsWith'](_0xdc392c)){_0x4a406f=_0x4a406f['slice'](_0xdc392c[_0x5600d2(0x177)])[_0x5600d2(0x179)]();break;}}else typeof _0x4b60d5==='string'&&_0x4a406f[_0x5600d2(0x122)](_0x4b60d5)&&(_0x4a406f=_0x4a406f['slice'](_0x4b60d5[_0x5600d2(0x177)])[_0x5600d2(0x179)]());}const _0x59dd50=_0x4a406f[_0x5600d2(0xec)](/\s+/);if(_0x59dd50[0x2569+-0x2325+-0x244][_0x5600d2(0xd3)+'e']()===_0x5600d2(0x195))_0x59dd50[_0x5600d2(0x15d)]();const _0x1dc1d5=_0x59dd50['join']('\x20')['trim'](),_0x20d416=_0x1dc1d5?_0x1dc1d5[_0x5600d2(0xec)](',')['map'](_0x2899df=>_0x2899df[_0x5600d2(0x179)]())[_0x5600d2(0xc4)](Boolean):[],_0x5d1c89=_0x22cf4f[_0x5600d2(0x146)](0x559*0x4+-0x1855*0x1+-0x2f2*-0x1)[_0x5600d2(0xff)](_0x1f6e11=>_0x1f6e11[_0x5600d2(0x179)]())[_0x5600d2(0xc4)](Boolean)[_0x5600d2(0xc4)](_0x31d26d=>_0x31d26d[_0x5600d2(0x122)]('!'))[_0x5600d2(0xff)](_0x537e3d=>_0x537e3d[_0x5600d2(0x146)](0x4*0x563+0x13f4+-0x297f*0x1)[_0x5600d2(0x179)]())[_0x5600d2(0xc4)](Boolean);return{'triggers':_0x20d416,'responses':_0x5d1c89};}async function determineConfirmationTarget(_0x3e2b06){const _0x59af0b=_0x4a5d91;try{if(!_0x3e2b06||!_0x3e2b06[_0x59af0b(0xc2)])return null;if(_0x3e2b06[_0x59af0b(0xc2)]['fromMe']){const _0x495132=getBotJid();return _0x495132||_0x3e2b06[_0x59af0b(0xc2)]['remoteJid'];}return _0x3e2b06[_0x59af0b(0xc2)][_0x59af0b(0x131)];}catch(_0x442034){warn(_0x59af0b(0x13a)+_0x59af0b(0x14b)+_0x59af0b(0xb0)+_0x59af0b(0xa8)+_0x59af0b(0xd0)+(_0x442034?.[_0x59af0b(0x194)]||_0x442034));try{return _0x3e2b06[_0x59af0b(0xc2)][_0x59af0b(0x131)];}catch(_0x493474){return null;}}}export async function onMessage(_0x4ac944){const _0x1f6bdb=_0x4a5d91;try{if(!_0x4ac944||!_0x4ac944[_0x1f6bdb(0xc2)]||!_0x4ac944[_0x1f6bdb(0x194)])return;const _0x173392=makeDedupeKey(_0x4ac944);if(isProcessed(_0x173392))return;markProcessed(_0x173392);const _0x1eebd3=_0x4ac944[_0x1f6bdb(0xc2)][_0x1f6bdb(0x131)],_0x1c0de1=typeof _0x1eebd3===_0x1f6bdb(0xf2)&&_0x1eebd3['endsWith'](_0x1f6bdb(0x133)),_0x12d3e3=!!_0x4ac944[_0x1f6bdb(0xc2)][_0x1f6bdb(0x14c)],_0x5239e3=_0x4ac944[_0x1f6bdb(0xc2)]&&(_0x4ac944[_0x1f6bdb(0xc2)][_0x1f6bdb(0x16b)+'t']||_0x4ac944[_0x1f6bdb(0xc2)][_0x1f6bdb(0xa4)]||_0x4ac944['key'][_0x1f6bdb(0x131)])||'';if(_0x4ac944['isCommand']){if(_0x1c0de1)return;const _0x1ffa5b=!!_0x4ac944[_0x1f6bdb(0xc2)][_0x1f6bdb(0x14c)];let _0x3cfe3e=![];try{_0x3cfe3e=await isSudo(botInstance,_0x4ac944);}catch(_0x3d50e2){_0x3cfe3e=![];}if(!_0x1ffa5b&&!_0x3cfe3e)return;const _0x4755a0=await determineConfirmationTarget(_0x4ac944),_0x432e3a=typeof _0x4ac944[_0x1f6bdb(0x176)]==='string'&&_0x4ac944['text'][_0x1f6bdb(0x179)]()[_0x1f6bdb(0x177)]?_0x4ac944[_0x1f6bdb(0x176)][_0x1f6bdb(0x179)]():getMessageText(_0x4ac944)[_0x1f6bdb(0x179)](),_0x557a22=detectCommandNameFromCmdText(_0x432e3a);if(!_0x557a22)return;if(!_0x557a22[_0x1f6bdb(0x122)]('p'))return;if(_0x557a22===_0x1f6bdb(0x195)){const _0x3afd92=getConfig()||{},_0x2bd3f2=parsePmFilterCommandText(_0x432e3a||getMessageText(_0x4ac944),_0x3afd92[_0x1f6bdb(0xf8)+_0x1f6bdb(0xa3)]??_0x3afd92[_0x1f6bdb(0x16c)]??null);if(!_0x2bd3f2||!_0x2bd3f2['triggers'][_0x1f6bdb(0x177)]||!_0x2bd3f2['responses']['length']){await sendPmReply(_0x4ac944,_0x4755a0,_0x1f6bdb(0x17a)+_0x1f6bdb(0xeb)+_0x1f6bdb(0xf6)+_0x1f6bdb(0xc9)+_0x1f6bdb(0x18d)+_0x1f6bdb(0x191)+_0x1f6bdb(0x181)+_0x1f6bdb(0x11e)+_0x1f6bdb(0xba)+_0x1f6bdb(0x15b)+_0x1f6bdb(0x166)+_0x1f6bdb(0x193)+_0x1f6bdb(0xbe)+'\x20PM\x20the\x20bo'+'t.');return;}let _0x2a42db=-0x1*-0x1a21+-0x1df*-0x13+0x1*-0x3dae;for(const _0x422c3e of _0x2bd3f2['triggers']){const _0x144c1f=await upsertPmFilter(_0x422c3e,_0x2bd3f2[_0x1f6bdb(0xe5)],_0x5239e3||'');if(_0x144c1f)_0x2a42db++;}await sendPmReply(_0x4ac944,_0x4755a0,_0x1f6bdb(0x116)+_0x2a42db+('\x20pm\x20filter'+_0x1f6bdb(0x13d)));return;}if(_0x557a22===_0x1f6bdb(0xae)+'r'){const _0x40b485=await listPmTriggers();await sendPmReply(_0x4ac944,_0x4755a0,_0x1f6bdb(0x155)+_0x1f6bdb(0xb4)+_0x40b485['length']+_0x1f6bdb(0x140));if(!_0x40b485['length'])return;let _0x3fff99='';for(const _0x4b1735 of _0x40b485){const _0x64b332='•\x20'+_0x4b1735+'\x0a';(_0x3fff99+_0x64b332)[_0x1f6bdb(0x177)]>0x8b*0x13+-0x1*0x10fd+0x322*0x4&&(await sendPmReply(_0x4ac944,_0x4755a0,_0x3fff99[_0x1f6bdb(0x179)]()),_0x3fff99=''),_0x3fff99+=_0x64b332;}if(_0x3fff99['trim']())await sendPmReply(_0x4ac944,_0x4755a0,_0x3fff99['trim']());return;}if(_0x557a22==='pdelfilter'||_0x557a22===_0x1f6bdb(0xa2)+'s'||_0x557a22===_0x1f6bdb(0x164)){const _0x550028=getMessageText(_0x4ac944)||'',_0xb3233=_0x550028[_0x1f6bdb(0xec)](/\r?\n/)['map'](_0x214416=>_0x214416[_0x1f6bdb(0x179)]());let _0x47c651=null;if(_0xb3233[_0x1f6bdb(0x177)]>-0x2652+-0x6c+-0x2fb*-0xd)_0x47c651=_0xb3233[-0xadf+0x176*0x13+-0x871*0x2];else{const _0x1e9bd7=(_0x432e3a||_0x550028)[_0x1f6bdb(0x179)]()[_0x1f6bdb(0xec)](/\s+/);_0x1e9bd7[_0x1f6bdb(0x15d)](),_0x47c651=_0x1e9bd7['join']('\x20')[_0x1f6bdb(0x179)]();}const _0x2b311b=(_0x47c651||'')[_0x1f6bdb(0xec)](',')[_0x1f6bdb(0xff)](_0x502f77=>_0x502f77['trim']())[_0x1f6bdb(0xc4)](Boolean);if(!_0x2b311b[_0x1f6bdb(0x177)]){await sendPmReply(_0x4ac944,_0x4755a0,'Usage:\x20pde'+_0x1f6bdb(0x126)+_0x1f6bdb(0xb9)+_0x1f6bdb(0x15e)+_0x1f6bdb(0xa2)+_0x1f6bdb(0x149)+_0x1f6bdb(0xf9)+_0x1f6bdb(0x156));return;}if(_0x2b311b['length']===-0x5*0x753+-0x1*-0x232f+0x7b*0x3&&_0x2b311b[0x1c24+0xb9b+-0x27bf]['toLowerCas'+'e']()===_0x1f6bdb(0xf3))try{const _0x3ac24c=await db['run'](_0x1f6bdb(0x174)+_0x1f6bdb(0xda)+'rs'),_0x4a9fba=_0x3ac24c?.['changes']||0x3*-0x119+-0x1978+-0x25*-0xc7;try{automatonCache[_0x1f6bdb(0xb2)]();}catch(_0x755d97){}await sendPmReply(_0x4ac944,_0x4755a0,_0x1f6bdb(0xb8)+'L\x20pm\x20filte'+'rs.\x20Rows\x20r'+'emoved:\x20'+_0x4a9fba);return;}catch(_0x151c10){warn(_0x1f6bdb(0x13a)+_0x1f6bdb(0xb1)+'r\x20all\x20fail'+_0x1f6bdb(0x152)+(_0x151c10?.[_0x1f6bdb(0x194)]||_0x151c10)),await sendPmReply(_0x4ac944,_0x4755a0,_0x1f6bdb(0x105)+_0x1f6bdb(0xfc)+_0x1f6bdb(0x13e)+(_0x151c10?.[_0x1f6bdb(0x194)]||_0x151c10));return;}const _0x47fff5=await deletePmFilters(_0x2b311b);await sendPmReply(_0x4ac944,_0x4755a0,_0x1f6bdb(0x17c)+_0x47fff5+(_0x1f6bdb(0x103)+_0x1f6bdb(0x13d)));return;}return;}const _0xbde114=_0x1eebd3;if(!_0xbde114)return;if(_0x1c0de1)return;if(_0x12d3e3)return;if(_0xbde114===botJid)return;const _0x447908=getMessageText(_0x4ac944);if(!_0x447908)return;const _0x59f18b=String(_0x447908||''),_0x6c28=await db[_0x1f6bdb(0xf3)](_0x1f6bdb(0x158)+_0x1f6bdb(0xd5)+_0x1f6bdb(0x134)+'m_filters');if(!_0x6c28||_0x6c28['length']===-0xa21*-0x1+-0x26b*-0xe+-0x2bfb)return;const _0x4914d7=(_0x6c28||[])['map'](_0x33e7f2=>String(_0x33e7f2['trigger']||'')[_0x1f6bdb(0x179)]())['filter'](Boolean),_0x57e8f1=[],_0x1d0a3e=[],_0x2d54e6=[];for(const _0x16e8d4 of _0x4914d7){const _0x20574d=String(_0x16e8d4)[_0x1f6bdb(0x179)]()[_0x1f6bdb(0xd3)+'e']();if(_0x20574d[_0x1f6bdb(0x122)](_0x1f6bdb(0x167))){_0x2d54e6[_0x1f6bdb(0x100)](_0x16e8d4[_0x1f6bdb(0x151)](-0xaf3*-0x2+-0x1a08+-0x98*-0x7));continue;}if(_0x16e8d4['includes']('*')){_0x1d0a3e['push'](_0x16e8d4);continue;}_0x57e8f1[_0x1f6bdb(0x100)](_0x16e8d4);}const _0x1042ab=getConfig()||{},_0x48cdb8=_0x1042ab[_0x1f6bdb(0x16e)]&&typeof _0x1042ab[_0x1f6bdb(0x16e)]===_0x1f6bdb(0x16d)?_0x1042ab['FILTERS']:{},_0x57037a=(_0x48cdb8[_0x1f6bdb(0x129)+_0x1f6bdb(0x147)]||_0x1f6bdb(0xf7))[_0x1f6bdb(0xd3)+'e']();let _0x49e1a6=null;if(_0x57e8f1[_0x1f6bdb(0x177)]>-0x573+-0x4*0x5cf+0x1caf)try{const _0x2b7122=await getGlobalAutomaton();if(_0x2b7122&&_0x2b7122['ac']&&_0x2b7122[_0x1f6bdb(0x10d)]&&_0x2b7122[_0x1f6bdb(0x10d)][_0x1f6bdb(0x177)]){const _0x56c59b=_0x59f18b[_0x1f6bdb(0xd3)+'e'](),_0x54c89f=_0x2b7122['ac'][_0x1f6bdb(0xcc)](_0x56c59b);for(const _0x4e74ed of _0x54c89f){const _0x24588f=_0x4e74ed[_0x1f6bdb(0x10b)],_0x3e50c0=_0x4e74ed['index'],_0x3ec74c=_0x3e50c0+_0x24588f[_0x1f6bdb(0x177)],_0x41e9b6=_0x3e50c0===0x29*0x60+0x9b*-0x13+-0x3df||!/\w/['test'](_0x56c59b[_0x3e50c0-(-0x12d5+-0xf89*-0x2+-0xc3c)]),_0x2fd145=_0x3ec74c===_0x56c59b[_0x1f6bdb(0x177)]||!/\w/['test'](_0x56c59b[_0x3ec74c]);if(_0x41e9b6&&_0x2fd145){const _0x55e8e3=_0x57e8f1[_0x1f6bdb(0x12d)](_0x5b5f62=>_0x5b5f62[_0x1f6bdb(0xd3)+'e']()===_0x24588f);if(_0x55e8e3){_0x49e1a6=_0x55e8e3;break;}}}}else for(const _0x3ec20a of _0x57e8f1){const _0x3c318f=new RegExp('\x5cb'+escapeRegex(String(_0x3ec20a))+'\x5cb','i');if(_0x3c318f['test'](_0x59f18b)){_0x49e1a6=_0x3ec20a;break;}}}catch(_0x1beec4){warn(_0x1f6bdb(0x13a)+_0x1f6bdb(0xdf)+_0x1f6bdb(0x160)+(_0x1beec4?.[_0x1f6bdb(0x194)]||_0x1beec4));for(const _0x3fe264 of _0x57e8f1){try{const _0x2c13e5=new RegExp('\x5cb'+escapeRegex(String(_0x3fe264))+'\x5cb','i');if(_0x2c13e5[_0x1f6bdb(0xd8)](_0x59f18b)){_0x49e1a6=_0x3fe264;break;}}catch(_0x37a1f5){}}}if(!_0x49e1a6&&_0x1d0a3e['length']>-0x660+0x253f+0x469*-0x7)for(const _0x50f44a of _0x1d0a3e){try{const _0x7183d3=new RegExp(wildcardToRegexPattern(_0x50f44a),'i');if(_0x7183d3[_0x1f6bdb(0xd8)](_0x59f18b)){_0x49e1a6=_0x50f44a;break;}}catch(_0x34f19c){if(_0x59f18b[_0x1f6bdb(0xd3)+'e']()[_0x1f6bdb(0x186)](_0x50f44a[_0x1f6bdb(0xb5)](/\*/g,'')[_0x1f6bdb(0xd3)+'e']())){_0x49e1a6=_0x50f44a;break;}}}if(!_0x49e1a6&&_0x2d54e6['length']>0x35*0x35+-0xb*0x35b+0x19f0)for(const _0x469984 of _0x2d54e6){try{const _0x353712=new RegExp(_0x469984,'i');if(_0x353712['test'](_0x59f18b)){_0x49e1a6='regex:'+_0x469984;break;}}catch(_0x2f7aed){warn(_0x1f6bdb(0x13a)+_0x1f6bdb(0x168)+_0x1f6bdb(0xbf)+_0x1f6bdb(0x10c)+_0x469984+_0x1f6bdb(0xa0)+(_0x2f7aed?.[_0x1f6bdb(0x194)]||_0x2f7aed));}}if(_0x49e1a6){const _0x5f045d=await pickPmResponseAndAdvance(_0x49e1a6[_0x1f6bdb(0xb5)](/\s+$/,''),_0x57037a);if(!_0x5f045d)return;await sendPmReply(_0x4ac944,_0xbde114,_0x5f045d);}}catch(_0x10982b){error(_0x10982b,_0x1f6bdb(0x13a)+'\x20handler\x20e'+_0x1f6bdb(0xd0)+(_0x10982b?.[_0x1f6bdb(0x194)]||_0x10982b));}}export async function cleanup(){const _0x3f7db2=_0x4a5d91;try{for(const _0x53617c of processedMessageKeys['values']())try{clearTimeout(_0x53617c);}catch(_0x4d9349){}processedMessageKeys[_0x3f7db2(0xb2)](),automatonCache[_0x3f7db2(0xb2)](),botInstance=null,botJid=null,sendApi=null,info(_0x3f7db2(0x13a)+_0x3f7db2(0x101)+'p');}catch(_0x47beb7){warn(_0x3f7db2(0x13a)+_0x3f7db2(0x110)+_0x3f7db2(0xd0)+(_0x47beb7?.[_0x3f7db2(0x194)]||_0x47beb7));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};