const _0xfc1972=_0x2320;(function(_0xae2e44,_0x3a6473){const _0x41011d=_0x2320,_0x99e63c=_0xae2e44();while(!![]){try{const _0x1b8cd2=-parseInt(_0x41011d(0x279))/(-0x1998+0x1*0x1c2b+-0x1*0x292)*(parseInt(_0x41011d(0x271))/(0x177+0x1*-0x4ed+0x378))+-parseInt(_0x41011d(0x2c8))/(-0x4bd*0x1+0x51*-0x38+0x1678)*(parseInt(_0x41011d(0x1e3))/(-0x3*0x9b7+0x2580+-0x857))+-parseInt(_0x41011d(0x288))/(0x611*-0x6+0x17*-0x67+-0x16d6*-0x2)+-parseInt(_0x41011d(0x296))/(-0x53*0x68+-0x207f+0x423d)+-parseInt(_0x41011d(0x242))/(-0x1c0b+-0x591+0x21a3)*(-parseInt(_0x41011d(0x2a1))/(0x2553+-0x1*0x1285+-0x1*0x12c6))+-parseInt(_0x41011d(0x235))/(-0x2404+-0x1138+0x3545)*(parseInt(_0x41011d(0x253))/(0xc5e+-0x7*-0x514+-0x2fe0*0x1))+parseInt(_0x41011d(0x211))/(-0x2c*0xdc+0x6c5+0x2*0xf8b);if(_0x1b8cd2===_0x3a6473)break;else _0x99e63c['push'](_0x99e63c['shift']());}catch(_0x9bd2b9){_0x99e63c['push'](_0x99e63c['shift']());}}}(_0x12d4,-0x99fbf+0xe1078+-0x2*-0x2177e));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0xfc1972(0x2c6);export const version=_0xfc1972(0x25a);export const priority=0x1*0x15ac+-0x3e6*-0x2+0x435*-0x7;export const configKeys=[_0xfc1972(0x2bd)];export const commands=[_0xfc1972(0x2bf),_0xfc1972(0x2ae)+'r',_0xfc1972(0x282),_0xfc1972(0x282)+'s',_0xfc1972(0x206)];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0x362d02){const _0x3e80fc=_0xfc1972,_0x17d2eb=Number(_0x362d02);if(!Number[_0x3e80fc(0x1d1)](_0x17d2eb)||isNaN(_0x17d2eb))return-0x1*0xd80+0x8ef+0x491;if(_0x17d2eb<=0x3*-0x9ef+0x1cc4+0x109)return-0x1b1f+-0x1*0x189d+0x33bc;if(_0x17d2eb>0x3144+0x7204+-0x29e*0x28)return-0x9*0x90f+-0x1*-0x581a+0x3405;return Math['floor'](_0x17d2eb);}function _0x2320(_0x5b4e1,_0x3a3110){const _0x4447d0=_0x12d4();return _0x2320=function(_0x489837,_0x4a233e){_0x489837=_0x489837-(0x103+0x9b+-0x7*-0x7);let _0x3934e6=_0x4447d0[_0x489837];return _0x3934e6;},_0x2320(_0x5b4e1,_0x3a3110);}function sleep(_0x2b648d){return new Promise(_0x24ecc1=>setTimeout(_0x24ecc1,_0x2b648d));}async function simulateTypingAndWait(_0x3bb02f,_0x3d7e37,_0xa3fd35){const _0x104b7c=_0xfc1972;if(!_0xa3fd35||_0xa3fd35<=-0x1*-0x5b2+-0x52*-0x69+-0x347*0xc)return;try{if(_0x3bb02f&&typeof _0x3bb02f['sendPresen'+_0x104b7c(0x23a)]===_0x104b7c(0x21c))try{await _0x3bb02f[_0x104b7c(0x223)+_0x104b7c(0x23a)](_0x104b7c(0x21d),_0x3d7e37);}catch(_0xa254b4){}}catch(_0x15bbf5){}try{await sleep(_0xa3fd35);}catch(_0x526dd2){}try{if(_0x3bb02f&&typeof _0x3bb02f['sendPresen'+_0x104b7c(0x23a)]===_0x104b7c(0x21c))try{await _0x3bb02f[_0x104b7c(0x223)+_0x104b7c(0x23a)]('paused',_0x3d7e37);}catch(_0x11a1a0){}}catch(_0x430c20){}}function clampConfigTypingMs(){const _0x31a9f9=_0xfc1972;try{const _0x19a99f=getConfig()||{},_0x1a8d0e=_0x19a99f[_0x31a9f9(0x2bd)]&&typeof _0x19a99f[_0x31a9f9(0x2bd)]==='object'?_0x19a99f[_0x31a9f9(0x2bd)]:{};return clampTypingMs(_0x1a8d0e['TYPING_SIM'+_0x31a9f9(0x2c4)]);}catch(_0x5a3f90){return-0x20cf+0x1*0x1e86+0x249;}}function escapeRegex(_0x2ed33c){const _0xf2cec4=_0xfc1972;return _0x2ed33c['replace'](/[.*+?^${}()|[\]\\]/g,_0xf2cec4(0x22e));}function wildcardToRegexPattern(_0x276d0b){const _0x181fc8=_0xfc1972,_0x39efdf=_0x276d0b[_0x181fc8(0x1f8)]('*')[_0x181fc8(0x1f7)](_0x5b0dd0=>escapeRegex(_0x5b0dd0));return'\x5cb'+_0x39efdf[_0x181fc8(0x214)](_0x181fc8(0x29a))+'\x5cb';}function ensureArray(_0x1a525c){const _0x2b0767=_0xfc1972;if(!_0x1a525c)return[];if(Array[_0x2b0767(0x20c)](_0x1a525c))return _0x1a525c;return[String(_0x1a525c)];}function uniqArray(_0x299c57){const _0x2f97ec=_0xfc1972,_0x3a79a6=new Set(),_0x2b244a=[];for(const _0x202ef5 of _0x299c57||[]){const _0x207f46=String(_0x202ef5||'')[_0x2f97ec(0x27f)]();if(!_0x207f46)continue;!_0x3a79a6[_0x2f97ec(0x26d)](_0x207f46)&&(_0x3a79a6[_0x2f97ec(0x234)](_0x207f46),_0x2b244a[_0x2f97ec(0x240)](_0x207f46));}return _0x2b244a;}function getMessageText(_0x156179){const _0x161ff7=_0xfc1972;if(!_0x156179||!_0x156179[_0x161ff7(0x2cb)])return'';const _0x2f8f09=_0x156179[_0x161ff7(0x2cb)];if(_0x2f8f09[_0x161ff7(0x25b)+'on'])return _0x2f8f09['conversati'+'on'];if(_0x2f8f09['extendedTe'+'xtMessage']?.[_0x161ff7(0x1e5)])return _0x2f8f09[_0x161ff7(0x285)+'xtMessage'][_0x161ff7(0x1e5)];if(_0x2f8f09[_0x161ff7(0x22d)+'ge']?.[_0x161ff7(0x2aa)])return _0x2f8f09[_0x161ff7(0x22d)+'ge'][_0x161ff7(0x2aa)];if(_0x2f8f09[_0x161ff7(0x1e2)+'ge']?.['caption'])return _0x2f8f09[_0x161ff7(0x1e2)+'ge'][_0x161ff7(0x2aa)];if(_0x2f8f09[_0x161ff7(0x233)+_0x161ff7(0x2b0)+'ge']?.['selectedBu'+_0x161ff7(0x2cc)])return _0x2f8f09['buttonsRes'+_0x161ff7(0x2b0)+'ge'][_0x161ff7(0x275)+_0x161ff7(0x2cc)];if(_0x2f8f09[_0x161ff7(0x1d9)+'seMessage']?.[_0x161ff7(0x208)+_0x161ff7(0x2b9)]?.[_0x161ff7(0x238)+'wId'])return _0x2f8f09['listRespon'+_0x161ff7(0x277)][_0x161ff7(0x208)+'ctReply']['selectedRo'+_0x161ff7(0x287)];return'';}async function ensureSchema(){const _0x58c5fd=_0xfc1972;try{const _0x15580a=await db[_0x58c5fd(0x27c)](_0x58c5fd(0x297)+'e\x20FROM\x20sql'+_0x58c5fd(0x25c)+'\x20WHERE\x20typ'+_0x58c5fd(0x259)+'AND\x20name=\x27'+_0x58c5fd(0x205)+'\x27');if(!_0x15580a){await db[_0x58c5fd(0x28e)](_0x58c5fd(0x247)+_0x58c5fd(0x222)+_0x58c5fd(0x1d7)+_0x58c5fd(0x252)+'\x20\x20\x20\x20\x20id\x20IN'+_0x58c5fd(0x2a0)+_0x58c5fd(0x2b5)+_0x58c5fd(0x1f2)+'T,\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x58c5fd(0x293)+_0x58c5fd(0x20e)+_0x58c5fd(0x280)+'E,\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x58c5fd(0x2c9)+_0x58c5fd(0x23d)+_0x58c5fd(0x295)+_0x58c5fd(0x231)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58c5fd(0x244)+_0x58c5fd(0x225)+_0x58c5fd(0x28f)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+_0x58c5fd(0x230)+'TEXT\x20DEFAU'+_0x58c5fd(0x20d)+_0x58c5fd(0x1e0)+_0x58c5fd(0x26e)+_0x58c5fd(0x290)+'ULT\x200\x0a\x20\x20\x20\x20'+_0x58c5fd(0x2a6)+_0x58c5fd(0x217));try{await db[_0x58c5fd(0x28e)]('CREATE\x20IND'+_0x58c5fd(0x1ef)+_0x58c5fd(0x209)+'_pmfilters'+_0x58c5fd(0x20a)+_0x58c5fd(0x2a4)+_0x58c5fd(0x1d4)+');');}catch(_0x1287dc){}info(_0x58c5fd(0x273)+_0x58c5fd(0x28b)+_0x58c5fd(0x245)+_0x58c5fd(0x1cf));}else info(_0x58c5fd(0x273)+_0x58c5fd(0x262)+_0x58c5fd(0x204)+_0x58c5fd(0x23f));}catch(_0x40aa49){error(_0x40aa49,_0x58c5fd(0x273)+_0x58c5fd(0x1e7)+_0x58c5fd(0x28d));throw _0x40aa49;}}async function upsertPmFilter(_0x2a614a,_0x7adbdc,_0x405db1){const _0x1e7192=_0xfc1972;try{const _0x5c75ce=Math[_0x1e7192(0x265)](Date[_0x1e7192(0x1d5)]()/(0x10d6*-0x1+0x2265+-0xf*0xe9)),_0x3ada86=JSON['stringify'](uniqArray(ensureArray(_0x7adbdc)[_0x1e7192(0x1f7)](_0x131adb=>String(_0x131adb)[_0x1e7192(0x27f)]())[_0x1e7192(0x29d)](Boolean)));await db[_0x1e7192(0x2cd)]('INSERT\x20INT'+_0x1e7192(0x23c)+_0x1e7192(0x1fb)+'r,\x20respons'+'es,\x20rr_ind'+_0x1e7192(0x2a3)+_0x1e7192(0x219)+_0x1e7192(0x1df)+_0x1e7192(0x201)+_0x1e7192(0x2bc)+',\x20?,\x20?)\x0a\x20\x20'+_0x1e7192(0x257)+_0x1e7192(0x21e)+_0x1e7192(0x1fe)+_0x1e7192(0x25f)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'esponses\x20='+_0x1e7192(0x1ea)+_0x1e7192(0x272)+_0x1e7192(0x28a)+_0x1e7192(0x22a)+_0x1e7192(0x2ba)+'\x20\x20\x20created'+_0x1e7192(0x29b)+'uded.creat'+_0x1e7192(0x27e)+'\x20\x20\x20\x20\x20\x20crea'+_0x1e7192(0x2b8)+_0x1e7192(0x202)+_0x1e7192(0x25d),[_0x2a614a,_0x3ada86,_0x405db1||'',_0x5c75ce]);try{automatonCache[_0x1e7192(0x292)]('global');}catch(_0x539dad){}return info(_0x1e7192(0x273)+_0x1e7192(0x212)+_0x2a614a),!![];}catch(_0x533674){return error(_0x533674,_0x1e7192(0x273)+_0x1e7192(0x1f1)+_0x1e7192(0x266)+_0x2a614a),![];}}async function deletePmFilters(_0x41c82d){const _0x3e0262=_0xfc1972;if(!Array[_0x3e0262(0x20c)](_0x41c82d)||_0x41c82d[_0x3e0262(0x2a7)]===-0x232c+-0x23f7+0x4723)return-0x1*0x1acb+-0x214e+0x3c19;try{let _0x5cf1b6=0x4a*0x3e+0x2f*-0x2a+0x51b*-0x2;for(const _0x7b420f of _0x41c82d){const _0x3455b0=await db[_0x3e0262(0x2cd)](_0x3e0262(0x1dd)+_0x3e0262(0x289)+_0x3e0262(0x227)+'rigger\x20=\x20?',[_0x7b420f]);if(_0x3455b0?.['changes'])_0x5cf1b6+=_0x3455b0[_0x3e0262(0x216)];info(_0x3e0262(0x273)+_0x3e0262(0x1de)+_0x7b420f);}try{automatonCache[_0x3e0262(0x292)](_0x3e0262(0x1ff));}catch(_0x2dd47d){}return _0x5cf1b6;}catch(_0x273e63){return error(_0x273e63,_0x3e0262(0x273)+_0x3e0262(0x256)+_0x3e0262(0x274)+(_0x273e63?.[_0x3e0262(0x2cb)]||_0x273e63)),0x1b26+-0x2d2+0xc2a*-0x2;}}async function listPmTriggers(){const _0x3a83e0=_0xfc1972;try{const _0x1fd6d7=await db[_0x3a83e0(0x21f)]('SELECT\x20DIS'+_0x3a83e0(0x236)+'ger\x20FROM\x20p'+_0x3a83e0(0x245)+_0x3a83e0(0x283)+'rigger');return(_0x1fd6d7||[])[_0x3a83e0(0x1f7)](_0x4a3f6f=>_0x4a3f6f[_0x3a83e0(0x2c2)]);}catch(_0x2bdd6e){return warn(_0x2bdd6e,'[pmfilter]'+_0x3a83e0(0x2a8)+_0x3a83e0(0x2a2)+':\x20'+(_0x2bdd6e?.['message']||_0x2bdd6e)),[];}}async function pickPmResponseAndAdvance(_0x5113d0,_0x26071d='roundrobin'){const _0x43c750=_0xfc1972;try{const _0x6f56f0=await db['get'](_0x43c750(0x26f)+_0x43c750(0x2b2)+'_index\x20FRO'+_0x43c750(0x289)+_0x43c750(0x227)+'rigger\x20=\x20?'+_0x43c750(0x1d6),[_0x5113d0]);if(!_0x6f56f0)return null;let _0x290d4d=[];try{_0x290d4d=JSON[_0x43c750(0x26b)](_0x6f56f0[_0x43c750(0x264)]||'[]');}catch{_0x290d4d=ensureArray(_0x6f56f0['responses']);}_0x290d4d=ensureArray(_0x290d4d);if(!_0x290d4d[_0x43c750(0x2a7)])return null;if((_0x26071d||'')[_0x43c750(0x2c1)+'e']()===_0x43c750(0x2b6)){const _0x619295=Math[_0x43c750(0x265)](Math['random']()*_0x290d4d[_0x43c750(0x2a7)]);return _0x290d4d[_0x619295];}const _0x215029=Number(_0x6f56f0[_0x43c750(0x24c)]||-0x13a8+-0x2ed*0x7+0x19b*0x19),_0x4cc400=_0x290d4d[_0x215029%_0x290d4d[_0x43c750(0x2a7)]];try{await db[_0x43c750(0x2cd)](_0x43c750(0x2b4)+'filters\x20SE'+_0x43c750(0x276)+_0x43c750(0x1fc)+_0x43c750(0x2be)+'ERE\x20trigge'+_0x43c750(0x1f4),[_0x5113d0]);}catch(_0x1d6683){warn(_0x43c750(0x273)+_0x43c750(0x24f)+_0x43c750(0x278)+(_0x1d6683?.[_0x43c750(0x2cb)]||_0x1d6683));}return _0x4cc400;}catch(_0x2c0a20){return warn(_0x43c750(0x273)+'\x20pickRespo'+'nse\x20error:'+'\x20'+(_0x2c0a20?.[_0x43c750(0x2cb)]||_0x2c0a20)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(-0x71f+-0x47*-0x33+-0x4*0x1ba)*(-0x303*0x1+-0x16d9*0x1+0x1dc4);function makeDedupeKey(_0x3d4055){const _0x1f373c=_0xfc1972,_0x4f10fd=_0x3d4055?.[_0x1f373c(0x2b7)];if(!_0x4f10fd)return null;const _0x4acba7=_0x4f10fd['id']||_0x4f10fd?.[_0x1f373c(0x1e8)+'t']||'',_0x4cea71=_0x4f10fd[_0x1f373c(0x1e4)]||'';return _0x4cea71+'::'+_0x4acba7;}function isProcessed(_0x35c35b){const _0x29f247=_0xfc1972;return _0x35c35b&&processedMessageKeys[_0x29f247(0x26d)](_0x35c35b);}function markProcessed(_0x6010c1){const _0x10e15e=_0xfc1972;if(!_0x6010c1)return;if(processedMessageKeys[_0x10e15e(0x26d)](_0x6010c1))clearTimeout(processedMessageKeys[_0x10e15e(0x27c)](_0x6010c1));const _0x561a13=setTimeout(()=>processedMessageKeys[_0x10e15e(0x292)](_0x6010c1),DEDUPE_TTL_MS);processedMessageKeys[_0x10e15e(0x25e)](_0x6010c1,_0x561a13);}class Aho{constructor(){const _0x443fb5=_0xfc1972;this['nodes']=[{'next':Object[_0x443fb5(0x1d0)](null),'fail':0x0,'output':[]}];}[_0xfc1972(0x249)](_0x4cb1ef){const _0x1453eb=_0xfc1972;this[_0x1453eb(0x27b)]=[{'next':Object[_0x1453eb(0x1d0)](null),'fail':0x0,'output':[]}];for(const _0x5d9fe1 of _0x4cb1ef){let _0x595842=0x17*-0xd3+-0x172c+-0xe0b*-0x3;for(let _0x3644db=0xae2+0x568*0x1+-0x104a;_0x3644db<_0x5d9fe1[_0x1453eb(0x2a7)];_0x3644db++){const _0x1bc6db=_0x5d9fe1[_0x3644db];!this[_0x1453eb(0x27b)][_0x595842][_0x1453eb(0x2c3)][_0x1bc6db]&&(this['nodes'][_0x595842][_0x1453eb(0x2c3)][_0x1bc6db]=this[_0x1453eb(0x27b)][_0x1453eb(0x2a7)],this[_0x1453eb(0x27b)]['push']({'next':Object['create'](null),'fail':0x0,'output':[]})),_0x595842=this['nodes'][_0x595842]['next'][_0x1bc6db];}this[_0x1453eb(0x27b)][_0x595842][_0x1453eb(0x1da)][_0x1453eb(0x240)](_0x5d9fe1);}const _0x573f0c=[];for(const _0x1bbafd in this[_0x1453eb(0x27b)][0x1*-0x150d+0x1*0x1927+-0x20d*0x2][_0x1453eb(0x2c3)]){const _0x26c88b=this[_0x1453eb(0x27b)][-0x1*-0xae5+-0x3c7+0x71e*-0x1]['next'][_0x1bbafd];this['nodes'][_0x26c88b]['fail']=-0x2*0x6f0+-0x176*0x14+-0x158c*-0x2,_0x573f0c[_0x1453eb(0x240)](_0x26c88b);}while(_0x573f0c[_0x1453eb(0x2a7)]){const _0x37c095=_0x573f0c[_0x1453eb(0x250)]();for(const _0x3d3eab in this[_0x1453eb(0x27b)][_0x37c095][_0x1453eb(0x2c3)]){const _0x5aa01b=this[_0x1453eb(0x27b)][_0x37c095][_0x1453eb(0x2c3)][_0x3d3eab];let _0x3bc365=this[_0x1453eb(0x27b)][_0x37c095]['fail'];while(_0x3bc365&&!this[_0x1453eb(0x27b)][_0x3bc365][_0x1453eb(0x2c3)][_0x3d3eab])_0x3bc365=this[_0x1453eb(0x27b)][_0x3bc365][_0x1453eb(0x1f0)];if(this['nodes'][_0x3bc365][_0x1453eb(0x2c3)][_0x3d3eab])this[_0x1453eb(0x27b)][_0x5aa01b][_0x1453eb(0x1f0)]=this[_0x1453eb(0x27b)][_0x3bc365][_0x1453eb(0x2c3)][_0x3d3eab];else this[_0x1453eb(0x27b)][_0x5aa01b][_0x1453eb(0x1f0)]=-0x4e+0x65f+-0x611;this[_0x1453eb(0x27b)][_0x5aa01b][_0x1453eb(0x1da)]['push'](...this[_0x1453eb(0x27b)][this['nodes'][_0x5aa01b][_0x1453eb(0x1f0)]][_0x1453eb(0x1da)]),_0x573f0c[_0x1453eb(0x240)](_0x5aa01b);}}}[_0xfc1972(0x281)](_0x26aa7f){const _0x3761a5=_0xfc1972,_0x3e4c06=[];let _0x35da2f=0x1*0xa7c+-0x1*0xbb9+0x13d;for(let _0x58d55a=-0x4*0x8f3+0x2595+-0x1c9;_0x58d55a<_0x26aa7f['length'];_0x58d55a++){const _0x5dc49c=_0x26aa7f[_0x58d55a];while(_0x35da2f&&!this[_0x3761a5(0x27b)][_0x35da2f][_0x3761a5(0x2c3)][_0x5dc49c])_0x35da2f=this['nodes'][_0x35da2f][_0x3761a5(0x1f0)];if(this[_0x3761a5(0x27b)][_0x35da2f]['next'][_0x5dc49c])_0x35da2f=this[_0x3761a5(0x27b)][_0x35da2f][_0x3761a5(0x2c3)][_0x5dc49c];else _0x35da2f=0x5d5*0x5+0x1fb7+0x1e7*-0x20;if(this[_0x3761a5(0x27b)][_0x35da2f][_0x3761a5(0x1da)][_0x3761a5(0x2a7)]){for(const _0x3cd0b7 of this[_0x3761a5(0x27b)][_0x35da2f][_0x3761a5(0x1da)])_0x3e4c06[_0x3761a5(0x240)]({'keyword':_0x3cd0b7,'index':_0x58d55a-_0x3cd0b7['length']+(-0xaf2+0x1*0x1d39+-0x1246*0x1)});}}return _0x3e4c06;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x3722a5=_0xfc1972;if(automatonCache[_0x3722a5(0x26d)](_0x3722a5(0x1ff)))return automatonCache[_0x3722a5(0x27c)](_0x3722a5(0x1ff));try{const _0xc14891=await db[_0x3722a5(0x21f)](_0x3722a5(0x260)+_0x3722a5(0x236)+'ger\x20FROM\x20p'+_0x3722a5(0x210)),_0x6ee4b3=(_0xc14891||[])['map'](_0x35a664=>String(_0x35a664[_0x3722a5(0x2c2)]||'')['trim']())[_0x3722a5(0x29d)](Boolean),_0x54bc72=_0x6ee4b3[_0x3722a5(0x29d)](_0x1fc656=>{const _0x56d61e=_0x3722a5,_0x48bc1f=String(_0x1fc656)['trim']()[_0x56d61e(0x2c1)+'e']();if(_0x48bc1f[_0x56d61e(0x221)](_0x56d61e(0x27a)))return![];if(_0x1fc656[_0x56d61e(0x215)]('*'))return![];return!![];}),_0x1fe5fd=_0x54bc72[_0x3722a5(0x1f7)](_0x5681a7=>_0x5681a7[_0x3722a5(0x2c1)+'e']()),_0x363ab0=new Aho();if(_0x1fe5fd[_0x3722a5(0x2a7)])_0x363ab0[_0x3722a5(0x249)](_0x1fe5fd);const _0x17b216={'ac':_0x363ab0,'keywords':_0x1fe5fd,'normalSet':new Set(_0x1fe5fd),'triggers':_0x6ee4b3};return automatonCache[_0x3722a5(0x25e)](_0x3722a5(0x1ff),_0x17b216),_0x17b216;}catch(_0x402779){return warn(_0x3722a5(0x273)+'\x20getGlobal'+'Automaton\x20'+_0x3722a5(0x218)+(_0x402779?.[_0x3722a5(0x2cb)]||_0x402779)),null;}}async function sendPmReply(_0x1938d1,_0x2941e0,_0x68348d){const _0x4ba25a=_0xfc1972;if(!_0x68348d)return;let _0x4779fc=_0x2941e0;try{if(!_0x4779fc&&_0x1938d1&&_0x1938d1[_0x4ba25a(0x2b7)]&&_0x1938d1[_0x4ba25a(0x2b7)][_0x4ba25a(0x1e4)])_0x4779fc=_0x1938d1[_0x4ba25a(0x2b7)][_0x4ba25a(0x1e4)];}catch(_0x979a8b){}if(!_0x4779fc)return;const _0x2c4bab={'text':String(_0x68348d)},_0xb45a78=clampConfigTypingMs();if(_0xb45a78>-0x5*0xfd+0x1*-0x19b5+-0x1*-0x1ea6)try{await simulateTypingAndWait(botInstance?.[_0x4ba25a(0x1d3)],_0x4779fc,_0xb45a78);}catch(_0x28854b){warn(_0x4ba25a(0x273)+'\x20simulateT'+_0x4ba25a(0x294)+_0x4ba25a(0x284)+(_0x28854b?.[_0x4ba25a(0x2cb)]||_0x28854b));}try{if(_0x1938d1&&typeof _0x1938d1[_0x4ba25a(0x24a)]==='function'&&_0x1938d1[_0x4ba25a(0x2b7)]&&_0x1938d1[_0x4ba25a(0x2b7)][_0x4ba25a(0x1e4)]===_0x4779fc)try{await _0x1938d1[_0x4ba25a(0x24a)]({'text':String(_0x68348d)});return;}catch(_0x10b146){warn(_0x4ba25a(0x273)+_0x4ba25a(0x1e6)+_0x4ba25a(0x224)+':\x20'+(_0x10b146?.['message']||_0x10b146));}if(botInstance&&typeof botInstance[_0x4ba25a(0x258)+'e']===_0x4ba25a(0x21c))await botInstance[_0x4ba25a(0x258)+'e'](_0x4779fc,_0x2c4bab);else botInstance&&botInstance[_0x4ba25a(0x1d3)]&&typeof botInstance['sock']['sendMessag'+'e']==='function'?await botInstance[_0x4ba25a(0x1d3)][_0x4ba25a(0x258)+'e'](_0x4779fc,_0x2c4bab):warn('[pmfilter]'+_0x4ba25a(0x1e9)+'PI\x20availab'+'le');}catch(_0x1c6b20){warn(_0x4ba25a(0x273)+_0x4ba25a(0x229)+_0x4ba25a(0x1dc)+'\x20'+(_0x1c6b20?.[_0x4ba25a(0x2cb)]||_0x1c6b20));}}export async function initialize(_0x360419){const _0x490ad6=_0xfc1972;try{botInstance=_0x360419,botJid=_0x360419?.[_0x490ad6(0x1d3)]?.[_0x490ad6(0x23b)]?.['id']||null;if(!botJid)warn(_0x490ad6(0x273)+_0x490ad6(0x291)+_0x490ad6(0x22c)+_0x490ad6(0x1fd)+'ialize()');if(botInstance){if(typeof botInstance[_0x490ad6(0x258)+'e']===_0x490ad6(0x21c))sendApi=async(_0x3ee255,_0x3fa033)=>await botInstance[_0x490ad6(0x258)+'e'](_0x3ee255,_0x3fa033);else{if(botInstance[_0x490ad6(0x1d3)]&&typeof botInstance[_0x490ad6(0x1d3)]['sendMessag'+'e']===_0x490ad6(0x21c))sendApi=async(_0x21a82e,_0x3c552e)=>await botInstance['sock'][_0x490ad6(0x258)+'e'](_0x21a82e,_0x3c552e);else sendApi=null;}}await ensureSchema(),info(_0x490ad6(0x273)+_0x490ad6(0x24b)+'ed\x20with\x20bo'+_0x490ad6(0x2bb)+(botJid||'unknown'));}catch(_0x5b0b8f){error(_0x5b0b8f,_0x490ad6(0x273)+_0x490ad6(0x24b)+'e\x20error:\x20'+(_0x5b0b8f?.[_0x490ad6(0x2cb)]||_0x5b0b8f));throw _0x5b0b8f;}}function detectCommandNameFromCmdText(_0x54514e){const _0x8bde6f=_0xfc1972;if(!_0x54514e)return null;const _0x2079ea=_0x54514e[_0x8bde6f(0x27f)]();if(!_0x2079ea)return null;return _0x2079ea[_0x8bde6f(0x1f8)](/\s+/)[0x2624*-0x1+-0xbad+0xd*0x3d5][_0x8bde6f(0x2c1)+'e']();}function _0x12d4(){const _0x4ca2c9=['length','\x20listTrigg','tored\x20rege','caption','loaded\x20','substring','s\x20are\x20glob','plistfilte','delete\x20all','ponseMessa','-only):\x0apf','ponses,\x20rr','\x20pm\x20filter','UPDATE\x20pm_','ARY\x20KEY\x20AU','random','key','ted_at\x20=\x20e','ctReply','\x200,\x0a\x20\x20\x20\x20\x20\x20','tJid=','S\x20(?,\x20?,\x200','FILTERS','ex\x20+\x201)\x20WH','pfilter','emoved:\x20','toLowerCas','trigger','next','_MS','string','pmfilter','ilter\x20<tri','39JnoTEn','\x20\x20\x20respons','@g.us','message','ttonId','run','table','create','isFinite','r\x20all\x20fail','sock','rs(trigger','now','\x20LIMIT\x201','E\x20pm_filte','rror:\x20','listRespon','output','Usage:\x20pde','ly\x20failed:','DELETE\x20FRO','\x20deleted\x20','ted_at)\x0a\x20\x20','\x20\x20\x20\x20\x20\x20\x20cre','clear','videoMessa','324832kdtRkM','remoteJid','text','\x20quoted\x20re','\x20ensureSch','participan','\x20no\x20send\x20A','\x20excluded.','replace','test','\x20filters.','roundrobin','EX\x20IF\x20NOT\x20','fail','\x20upsert\x20fa','TOINCREMEN','\x20pdelfilte','r\x20=\x20?','\x20all\x20\x20\x20(er','igger1,tri','map','split','ponse1\x0a!re','index','rs\x20(trigge','\x20=\x20(rr_ind','le\x20at\x20init','gger)\x20DO\x20U','global','\x20determine','\x20\x20\x20\x20\x20VALUE','xcluded.cr','ed:\x20','s\x20table\x20ex','pm_filters','pdelf','al\x20and\x20wil','singleSele','EXISTS\x20idx','_trigger\x20O','Deleted\x20AL','isArray','LT\x20\x27\x27,\x0a\x20\x20\x20','\x20TEXT\x20NOT\x20','values','m_filters','33309254VcdxfR','\x20upsert:\x20','gger2\x0aOr:\x20','join','includes','changes','\x20\x20\x20','failed:\x20','d_by,\x20crea','d:\x20','Deleted\x20','function','composing','NFLICT(tri','all','l\x20be\x20used\x20','startsWith','REATE\x20TABL','sendPresen','ply\x20failed','INTEGER\x20DE','(s).','rs\x20WHERE\x20t','tiline,\x20PM','\x20sendPmRep','rr_index\x20=','\x20handler\x20e','ot\x20availab','imageMessa','\x5c$&','triggers','reated_by\x20','AULT\x20\x27[]\x27,','\x20cleanup\x20e','buttonsRes','add','1035ADOHRx','TINCT\x20trig','keywords','selectedRo','\x22\x20-\x20','ceUpdate','user','O\x20pm_filte','es\x20TEXT\x20NO','fromMe','ists','push','slice','872711ytcMyp','[pfilter]\x20','\x20rr_index\x20','m_filters\x20','keyword','\x0a\x20\x20\x20\x20\x20\x20\x20\x20C','ger2>\x0a!res','build','reply','\x20initializ','rr_index','\x20invalid\x20s','ases\x20ALL\x20p','\x20rr_index+','shift','RESPONSE_M','rs\x20(\x0a\x20\x20\x20\x20\x20','44490wspReE','\x20filters:\x20','\x20PM\x20the\x20bo','\x20delete\x20fa','\x20\x20\x20\x20\x20ON\x20CO','sendMessag','e=\x27table\x27\x20','1.2.0','conversati','ite_master','eated_at;','set','PDATE\x20SET\x0a','SELECT\x20DIS','Confirmati','\x20pm_filter','\x20cleaned\x20u','responses','floor','iled\x20for\x20','\x20Aho\x20faile','Failed\x20to\x20','L\x20pm\x20filte','COMMAND_PR','parse','from','has','ated_at\x20IN','SELECT\x20res','x:\x20\x22','22BkOAcC','responses,','[pmfilter]','iled:\x20','selectedBu','T\x20rr_index','seMessage','+\x20failed:\x20','10099gELSlv','regex:','nodes','get','object','ed_by,\x0a\x20\x20\x20','trim','NULL\x20UNIQU','search','pdelfilter','ORDER\x20BY\x20t','it\x20error:\x20','extendedTe','ger\x20FROM\x20p','wId','530505rLhvje','M\x20pm_filte','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20created\x20p','when\x20users','ema\x20fatal','exec','FAULT\x200,\x0a\x20','TEGER\x20DEFA','\x20bot\x20JID\x20n','delete','\x20\x20\x20trigger','ypingAndWa','T\x20NULL\x20DEF','4818510ipGZGd','SELECT\x20nam','sponse2\x0aNO','ODE','\x5cw*','_by\x20=\x20excl','Usage\x20(mul','filter','Saved\x20','EFIX','TEGER\x20PRIM','8DWIVcX','ers\x20failed','ex,\x20create','N\x20pm_filte','onTarget\x20e','\x20\x20\x20\x20);\x0a\x20\x20\x20'];_0x12d4=function(){return _0x4ca2c9;};return _0x12d4();}function parsePmFilterCommandText(_0xed75f4,_0x2a8621){const _0x1c320f=_0xfc1972;if(!_0xed75f4)return null;const _0x10f331=_0xed75f4['split'](/\r?\n/)[_0x1c320f(0x1f7)](_0x1602b2=>_0x1602b2['replace'](/\r/g,''));if(!_0x10f331['length'])return null;let _0xe4e238=_0x10f331[0x1e8a+-0xaa2+0x27d*-0x8][_0x1c320f(0x27f)]();if(_0x2a8621){if(Array['isArray'](_0x2a8621))for(const _0x4ec670 of _0x2a8621){if(_0xe4e238[_0x1c320f(0x221)](_0x4ec670)){_0xe4e238=_0xe4e238['slice'](_0x4ec670[_0x1c320f(0x2a7)])[_0x1c320f(0x27f)]();break;}}else typeof _0x2a8621===_0x1c320f(0x2c5)&&_0xe4e238[_0x1c320f(0x221)](_0x2a8621)&&(_0xe4e238=_0xe4e238[_0x1c320f(0x241)](_0x2a8621[_0x1c320f(0x2a7)])[_0x1c320f(0x27f)]());}const _0x4285c9=_0xe4e238[_0x1c320f(0x1f8)](/\s+/);if(_0x4285c9[0x61e+-0x1e41+0x1823][_0x1c320f(0x2c1)+'e']()===_0x1c320f(0x2bf))_0x4285c9[_0x1c320f(0x250)]();const _0x1ca8e0=_0x4285c9[_0x1c320f(0x214)]('\x20')[_0x1c320f(0x27f)](),_0x51d91c=_0x1ca8e0?_0x1ca8e0[_0x1c320f(0x1f8)](',')[_0x1c320f(0x1f7)](_0x6fa4ba=>_0x6fa4ba['trim']())[_0x1c320f(0x29d)](Boolean):[],_0x231926=_0x10f331[_0x1c320f(0x241)](0x10ae+-0x801*-0x2+0xae5*-0x3)['map'](_0x1ce4f8=>_0x1ce4f8[_0x1c320f(0x27f)]())[_0x1c320f(0x29d)](Boolean)[_0x1c320f(0x29d)](_0x4dbee8=>_0x4dbee8[_0x1c320f(0x221)]('!'))[_0x1c320f(0x1f7)](_0x22940b=>_0x22940b[_0x1c320f(0x241)](0x2245+-0x181*0x19+0x1*0x355)[_0x1c320f(0x27f)]())[_0x1c320f(0x29d)](Boolean);return{'triggers':_0x51d91c,'responses':_0x231926};}async function determineConfirmationTarget(_0x4bb1b2){const _0xb45cd=_0xfc1972;try{if(!_0x4bb1b2||!_0x4bb1b2[_0xb45cd(0x2b7)])return null;if(_0x4bb1b2['key'][_0xb45cd(0x23e)]){const _0xe418e3=getBotJid();return _0xe418e3||_0x4bb1b2[_0xb45cd(0x2b7)][_0xb45cd(0x1e4)];}return _0x4bb1b2[_0xb45cd(0x2b7)][_0xb45cd(0x1e4)];}catch(_0x2c45b7){warn(_0xb45cd(0x273)+_0xb45cd(0x200)+_0xb45cd(0x261)+_0xb45cd(0x2a5)+_0xb45cd(0x1d8)+(_0x2c45b7?.['message']||_0x2c45b7));try{return _0x4bb1b2[_0xb45cd(0x2b7)][_0xb45cd(0x1e4)];}catch(_0x1f44ef){return null;}}}export async function onMessage(_0x4003bd){const _0xaf7304=_0xfc1972;try{if(!_0x4003bd||!_0x4003bd['key']||!_0x4003bd['message'])return;const _0x2f5f1f=makeDedupeKey(_0x4003bd);if(isProcessed(_0x2f5f1f))return;markProcessed(_0x2f5f1f);const _0x1cd62e=_0x4003bd[_0xaf7304(0x2b7)][_0xaf7304(0x1e4)],_0x1b8ae2=typeof _0x1cd62e===_0xaf7304(0x2c5)&&_0x1cd62e['endsWith'](_0xaf7304(0x2ca)),_0x1fb8e0=!!_0x4003bd[_0xaf7304(0x2b7)]['fromMe'],_0x38c382=_0x4003bd[_0xaf7304(0x2b7)]&&(_0x4003bd[_0xaf7304(0x2b7)][_0xaf7304(0x1e8)+'t']||_0x4003bd['key'][_0xaf7304(0x26c)]||_0x4003bd[_0xaf7304(0x2b7)][_0xaf7304(0x1e4)])||'';if(_0x4003bd['isCommand']){if(_0x1b8ae2)return;const _0x257e4f=!!_0x4003bd[_0xaf7304(0x2b7)][_0xaf7304(0x23e)];let _0x424c94=![];try{_0x424c94=await isSudo(botInstance,_0x4003bd);}catch(_0x87945e){_0x424c94=![];}if(!_0x257e4f&&!_0x424c94)return;const _0x4be00a=await determineConfirmationTarget(_0x4003bd),_0x57bb60=typeof _0x4003bd[_0xaf7304(0x1e5)]===_0xaf7304(0x2c5)&&_0x4003bd[_0xaf7304(0x1e5)][_0xaf7304(0x27f)]()['length']?_0x4003bd[_0xaf7304(0x1e5)][_0xaf7304(0x27f)]():getMessageText(_0x4003bd)[_0xaf7304(0x27f)](),_0xc77ba9=detectCommandNameFromCmdText(_0x57bb60);if(!_0xc77ba9)return;if(!_0xc77ba9['startsWith']('p'))return;if(_0xc77ba9==='pfilter'){const _0x7d11c2=getConfig()||{},_0x408ae0=parsePmFilterCommandText(_0x57bb60||getMessageText(_0x4003bd),_0x7d11c2[_0xaf7304(0x26a)+_0xaf7304(0x29f)]??_0x7d11c2['PREFIX']??null);if(!_0x408ae0||!_0x408ae0[_0xaf7304(0x22f)][_0xaf7304(0x2a7)]||!_0x408ae0[_0xaf7304(0x264)][_0xaf7304(0x2a7)]){await sendPmReply(_0x4003bd,_0x4be00a,_0xaf7304(0x29c)+_0xaf7304(0x228)+_0xaf7304(0x2b1)+_0xaf7304(0x2c7)+'gger1,trig'+_0xaf7304(0x248)+_0xaf7304(0x1f9)+_0xaf7304(0x298)+'TE:\x20Filter'+_0xaf7304(0x2ad)+_0xaf7304(0x207)+_0xaf7304(0x220)+_0xaf7304(0x28c)+_0xaf7304(0x255)+'t.');return;}let _0x20cc67=-0xc6e*-0x1+-0x9df+0x83*-0x5;for(const _0x5b5dcb of _0x408ae0[_0xaf7304(0x22f)]){const _0x19c544=await upsertPmFilter(_0x5b5dcb,_0x408ae0[_0xaf7304(0x264)],_0x38c382||'');if(_0x19c544)_0x20cc67++;}await sendPmReply(_0x4003bd,_0x4be00a,_0xaf7304(0x29e)+_0x20cc67+(_0xaf7304(0x2b3)+_0xaf7304(0x226)));return;}if(_0xc77ba9==='plistfilte'+'r'){const _0x2fced4=await listPmTriggers();await sendPmReply(_0x4003bd,_0x4be00a,_0xaf7304(0x243)+_0xaf7304(0x2ab)+_0x2fced4[_0xaf7304(0x2a7)]+_0xaf7304(0x1ed));if(!_0x2fced4[_0xaf7304(0x2a7)])return;let _0x602e1='';for(const _0x145470 of _0x2fced4){const _0x2c7066='•\x20'+_0x145470+'\x0a';(_0x602e1+_0x2c7066)[_0xaf7304(0x2a7)]>0x1*-0x985+-0x322*0x2+0x15a5&&(await sendPmReply(_0x4003bd,_0x4be00a,_0x602e1[_0xaf7304(0x27f)]()),_0x602e1=''),_0x602e1+=_0x2c7066;}if(_0x602e1[_0xaf7304(0x27f)]())await sendPmReply(_0x4003bd,_0x4be00a,_0x602e1[_0xaf7304(0x27f)]());return;}if(_0xc77ba9===_0xaf7304(0x282)||_0xc77ba9===_0xaf7304(0x282)+'s'||_0xc77ba9===_0xaf7304(0x206)){const _0xef7c7f=getMessageText(_0x4003bd)||'',_0x421581=_0xef7c7f[_0xaf7304(0x1f8)](/\r?\n/)[_0xaf7304(0x1f7)](_0xfe171d=>_0xfe171d[_0xaf7304(0x27f)]());let _0x172e50=null;if(_0x421581['length']>0x1b*-0x159+0x2b*0xd+0x1*0x2235)_0x172e50=_0x421581[0x1ac*-0x6+0x1f60+-0x1557];else{const _0x4a1235=(_0x57bb60||_0xef7c7f)['trim']()[_0xaf7304(0x1f8)](/\s+/);_0x4a1235[_0xaf7304(0x250)](),_0x172e50=_0x4a1235['join']('\x20')['trim']();}const _0x5cdbfa=(_0x172e50||'')[_0xaf7304(0x1f8)](',')[_0xaf7304(0x1f7)](_0x532546=>_0x532546[_0xaf7304(0x27f)]())[_0xaf7304(0x29d)](Boolean);if(!_0x5cdbfa[_0xaf7304(0x2a7)]){await sendPmReply(_0x4003bd,_0x4be00a,_0xaf7304(0x1db)+'lfilter\x20tr'+_0xaf7304(0x1f6)+_0xaf7304(0x213)+_0xaf7304(0x282)+_0xaf7304(0x1f5)+_0xaf7304(0x24e)+'m\x20filters)');return;}if(_0x5cdbfa[_0xaf7304(0x2a7)]===0x7*0x40f+-0x1f99+0x13*0x2b&&_0x5cdbfa[-0x7*-0x4e3+-0x10bb+0x1*-0x117a][_0xaf7304(0x2c1)+'e']()===_0xaf7304(0x21f))try{const _0x2be189=await db['run'](_0xaf7304(0x1dd)+_0xaf7304(0x289)+'rs'),_0x299c34=_0x2be189?.[_0xaf7304(0x216)]||0x756+0xf83+-0x16d9;try{automatonCache[_0xaf7304(0x1e1)]();}catch(_0x5d287e){}await sendPmReply(_0x4003bd,_0x4be00a,_0xaf7304(0x20b)+_0xaf7304(0x269)+'rs.\x20Rows\x20r'+_0xaf7304(0x2c0)+_0x299c34);return;}catch(_0x294fd8){warn(_0xaf7304(0x273)+_0xaf7304(0x1f3)+_0xaf7304(0x1d2)+_0xaf7304(0x203)+(_0x294fd8?.[_0xaf7304(0x2cb)]||_0x294fd8)),await sendPmReply(_0x4003bd,_0x4be00a,_0xaf7304(0x268)+_0xaf7304(0x2af)+_0xaf7304(0x254)+(_0x294fd8?.[_0xaf7304(0x2cb)]||_0x294fd8));return;}const _0x3fa89b=await deletePmFilters(_0x5cdbfa);await sendPmReply(_0x4003bd,_0x4be00a,_0xaf7304(0x21b)+_0x3fa89b+(_0xaf7304(0x2b3)+_0xaf7304(0x226)));return;}return;}const _0x42e8b5=_0x1cd62e;if(!_0x42e8b5)return;if(_0x1b8ae2)return;if(_0x1fb8e0)return;if(_0x42e8b5===botJid)return;const _0x278aad=getMessageText(_0x4003bd);if(!_0x278aad)return;const _0x511c7d=String(_0x278aad||''),_0x2cc093=await db['all'](_0xaf7304(0x260)+_0xaf7304(0x236)+_0xaf7304(0x286)+_0xaf7304(0x210));if(!_0x2cc093||_0x2cc093[_0xaf7304(0x2a7)]===0x2117+-0x1*-0x373+-0x248a)return;const _0x50de59=(_0x2cc093||[])[_0xaf7304(0x1f7)](_0x32764e=>String(_0x32764e[_0xaf7304(0x2c2)]||'')[_0xaf7304(0x27f)]())[_0xaf7304(0x29d)](Boolean),_0x1447bc=[],_0x13275d=[],_0x516922=[];for(const _0x298a23 of _0x50de59){const _0x4f3cb9=String(_0x298a23)['trim']()[_0xaf7304(0x2c1)+'e']();if(_0x4f3cb9['startsWith'](_0xaf7304(0x27a))){_0x516922['push'](_0x298a23[_0xaf7304(0x2ac)](0x1*-0x1730+-0xcd*-0x7+-0x1*-0x119b));continue;}if(_0x298a23[_0xaf7304(0x215)]('*')){_0x13275d[_0xaf7304(0x240)](_0x298a23);continue;}_0x1447bc['push'](_0x298a23);}const _0x515d8d=getConfig()||{},_0x44a6e8=_0x515d8d[_0xaf7304(0x2bd)]&&typeof _0x515d8d[_0xaf7304(0x2bd)]===_0xaf7304(0x27d)?_0x515d8d['FILTERS']:{},_0x305e23=(_0x44a6e8[_0xaf7304(0x251)+_0xaf7304(0x299)]||_0xaf7304(0x1ee))[_0xaf7304(0x2c1)+'e']();let _0x1ec127=null;if(_0x1447bc[_0xaf7304(0x2a7)]>0x7f*-0x1b+-0x665*-0x1+0x10*0x70)try{const _0x12bcf8=await getGlobalAutomaton();if(_0x12bcf8&&_0x12bcf8['ac']&&_0x12bcf8[_0xaf7304(0x237)]&&_0x12bcf8[_0xaf7304(0x237)][_0xaf7304(0x2a7)]){const _0x13eb8a=_0x511c7d[_0xaf7304(0x2c1)+'e'](),_0x4b15dd=_0x12bcf8['ac']['search'](_0x13eb8a);for(const _0x28ff46 of _0x4b15dd){const _0x1952bd=_0x28ff46[_0xaf7304(0x246)],_0x5a487b=_0x28ff46[_0xaf7304(0x1fa)],_0x7c63e5=_0x5a487b+_0x1952bd[_0xaf7304(0x2a7)],_0xe86538=_0x5a487b===-0xb*0x274+-0x2bf*0xe+0x416e||!/\w/[_0xaf7304(0x1ec)](_0x13eb8a[_0x5a487b-(0x187f*-0x1+-0x18f3*0x1+-0x3173*-0x1)]),_0x312457=_0x7c63e5===_0x13eb8a[_0xaf7304(0x2a7)]||!/\w/['test'](_0x13eb8a[_0x7c63e5]);if(_0xe86538&&_0x312457){const _0x6b7bc1=_0x1447bc['find'](_0x43d80f=>_0x43d80f['toLowerCas'+'e']()===_0x1952bd);if(_0x6b7bc1){_0x1ec127=_0x6b7bc1;break;}}}}else for(const _0x214302 of _0x1447bc){const _0x516801=new RegExp('\x5cb'+escapeRegex(String(_0x214302))+'\x5cb','i');if(_0x516801[_0xaf7304(0x1ec)](_0x511c7d)){_0x1ec127=_0x214302;break;}}}catch(_0x5dbe54){warn(_0xaf7304(0x273)+_0xaf7304(0x267)+_0xaf7304(0x21a)+(_0x5dbe54?.['message']||_0x5dbe54));for(const _0x2eedbf of _0x1447bc){try{const _0x25c84a=new RegExp('\x5cb'+escapeRegex(String(_0x2eedbf))+'\x5cb','i');if(_0x25c84a[_0xaf7304(0x1ec)](_0x511c7d)){_0x1ec127=_0x2eedbf;break;}}catch(_0x1a05c7){}}}if(!_0x1ec127&&_0x13275d['length']>0xed*-0x9+0x180a+-0xfb5)for(const _0x2f9843 of _0x13275d){try{const _0x4bf680=new RegExp(wildcardToRegexPattern(_0x2f9843),'i');if(_0x4bf680['test'](_0x511c7d)){_0x1ec127=_0x2f9843;break;}}catch(_0x2979b1){if(_0x511c7d[_0xaf7304(0x2c1)+'e']()[_0xaf7304(0x215)](_0x2f9843[_0xaf7304(0x1eb)](/\*/g,'')[_0xaf7304(0x2c1)+'e']())){_0x1ec127=_0x2f9843;break;}}}if(!_0x1ec127&&_0x516922[_0xaf7304(0x2a7)]>0x16*0x15c+0x1efd+0x11*-0x395)for(const _0x46331f of _0x516922){try{const _0x396418=new RegExp(_0x46331f,'i');if(_0x396418[_0xaf7304(0x1ec)](_0x511c7d)){_0x1ec127=_0xaf7304(0x27a)+_0x46331f;break;}}catch(_0x3e7d7b){warn(_0xaf7304(0x273)+_0xaf7304(0x24d)+_0xaf7304(0x2a9)+_0xaf7304(0x270)+_0x46331f+_0xaf7304(0x239)+(_0x3e7d7b?.[_0xaf7304(0x2cb)]||_0x3e7d7b));}}if(_0x1ec127){const _0x532e37=await pickPmResponseAndAdvance(_0x1ec127[_0xaf7304(0x1eb)](/\s+$/,''),_0x305e23);if(!_0x532e37)return;await sendPmReply(_0x4003bd,_0x42e8b5,_0x532e37);}}catch(_0x27826a){error(_0x27826a,_0xaf7304(0x273)+_0xaf7304(0x22b)+_0xaf7304(0x1d8)+(_0x27826a?.[_0xaf7304(0x2cb)]||_0x27826a));}}export async function cleanup(){const _0x297f6b=_0xfc1972;try{for(const _0x14854c of processedMessageKeys[_0x297f6b(0x20f)]())try{clearTimeout(_0x14854c);}catch(_0x4b6634){}processedMessageKeys['clear'](),automatonCache['clear'](),botInstance=null,botJid=null,sendApi=null,info(_0x297f6b(0x273)+_0x297f6b(0x263)+'p');}catch(_0x521c75){warn(_0x297f6b(0x273)+_0x297f6b(0x232)+_0x297f6b(0x1d8)+(_0x521c75?.['message']||_0x521c75));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};