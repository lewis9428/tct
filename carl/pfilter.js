const _0x1d64d5=_0x2dfb;(function(_0x315081,_0x224abb){const _0x4a0033=_0x2dfb,_0x5754ab=_0x315081();while(!![]){try{const _0x2eb034=parseInt(_0x4a0033(0x228))/(0xa8e+0x2191+-0x2c1e)*(-parseInt(_0x4a0033(0x1ab))/(-0x1*0x119f+-0xec4+0x2065))+parseInt(_0x4a0033(0x196))/(-0x71*0x5+0x1*-0x21fe+-0x121b*-0x2)+-parseInt(_0x4a0033(0x208))/(0xb77+-0x5f2+-0x581*0x1)*(parseInt(_0x4a0033(0x18d))/(0x21bc+-0x518+-0x1c9f))+parseInt(_0x4a0033(0x173))/(0x47*0xd+0xe34+-0x1d*0x9d)+parseInt(_0x4a0033(0x14d))/(0x1*0xaac+-0x22ea+0x1845)*(parseInt(_0x4a0033(0x1bb))/(-0x1b91+0x5*0x79c+-0xa73*0x1))+-parseInt(_0x4a0033(0x1b8))/(0x201c+0x1d19+-0x3d2c)+parseInt(_0x4a0033(0x1e6))/(0x4cb*-0x1+-0x54d+-0xa22*-0x1);if(_0x2eb034===_0x224abb)break;else _0x5754ab['push'](_0x5754ab['shift']());}catch(_0x3cee64){_0x5754ab['push'](_0x5754ab['shift']());}}}(_0x471f,0x146*0x541+0x402d5+-0x4*0x183b6));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x1d64d5(0x224);export const version='1.2.0';export const priority=0x2*0x121c+0x5f2+0x2a25*-0x1;export const configKeys=['FILTERS'];function _0x2dfb(_0x546e12,_0x2051ae){const _0x5be569=_0x471f();return _0x2dfb=function(_0x36f1dc,_0x4ecde2){_0x36f1dc=_0x36f1dc-(-0x1*-0x998+0xa9*0x35+0x3*-0xe6f);let _0x339501=_0x5be569[_0x36f1dc];return _0x339501;},_0x2dfb(_0x546e12,_0x2051ae);}function _0x471f(){const _0x7af0a4=['shift','emoved:\x20','wId','[pfilter]\x20','TEXT\x20DEFAU','EXISTS\x20idx','set','iled\x20for\x20','REATE\x20TABL','startsWith','listRespon','sock','\x20pdelfilte','\x22\x20-\x20','values','UPDATE\x20pm_','nse\x20error:','\x20deleted\x20','xcluded.cr','next','responses,','ARY\x20KEY\x20AU','s\x20are\x20glob','search','ted_at\x20=\x20e','INTEGER\x20DE','pmfilter','(s).','\x20pickRespo','length','31katBpp','rror:\x20','find','-only):\x0apf','\x20\x20\x20trigger','has','PDATE\x20SET\x0a','ponse1\x0a!re','roundrobin','floor','includes','\x20=\x20(rr_ind','test','\x5cw*','ponses,\x20rr','\x20ensureSch','random','slice','run','TEGER\x20PRIM','r\x20all\x20fail','when\x20users','pfilter','unknown','l\x20be\x20used\x20','parse','rr_index','m_filters','ed\x20with\x20bo','trim','reated_by\x20','tJid=','\x20upsert:\x20','NFLICT(tri','e\x20FROM\x20sql','m_filters\x20','FILTERS','get','\x20\x20\x20\x20\x20VALUE','toLowerCas','esponses\x20=','604716JigzZh','ULT\x200\x0a\x20\x20\x20\x20','L\x20pm\x20filte','_MS','ORDER\x20BY\x20t','pm_filters','\x20PM\x20the\x20bo','Deleted\x20','function','ed:\x20','paused','\x20quoted\x20re','\x20simulateT','ases\x20ALL\x20p','e=\x27table\x27\x20','create','sendMessag','es,\x20rr_ind','iled:\x20','m\x20filters)','CREATE\x20IND','ply\x20failed','extendedTe','filter','rs(trigger','\x20TEXT\x20NOT\x20','Deleted\x20AL','rs.\x20Rows\x20r','\x20delete\x20fa',',\x20?,\x20?)\x0a\x20\x20','\x20pm\x20filter','user','rr_index\x20=','\x20\x20\x20\x20\x20\x20\x20\x20\x20c','RESPONSE_M','ists','\x20listTrigg','TINCT\x20trig','1892808ohRMsl','\x20rr_index+','clear','videoMessa','ialize()','ctReply','r\x20=\x20?','isArray','\x20\x20\x20\x20);\x0a\x20\x20\x20','T,\x0a\x20\x20\x20\x20\x20\x20\x20','build','_trigger\x20O','from','triggers','output','ponseMessa','rigger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20C','split','table','SELECT\x20DIS','\x20initializ','ema\x20fatal','xtMessage','responses','imageMessa','5oHRMwW','AND\x20name=\x27','isFinite','selectedRo','now','remoteJid','ted_at)\x0a\x20\x20','le\x20at\x20init','push','1199316CHuWbU','pdelfilter','ed_by,\x0a\x20\x20\x20','\x20cleaned\x20u','\x20LIMIT\x201','keywords','fromMe','\x20handler\x20e','AULT\x20\x27[]\x27,','tiline,\x20PM','uded.creat','pdelf','NULL\x20UNIQU','\x20filters:\x20','@g.us','ttonId','plistfilte','tored\x20rege','x:\x20\x22','INSERT\x20INT','ilter\x20<tri','16238yOtamR','\x20WHERE\x20typ','LT\x20\x27\x27,\x0a\x20\x20\x20','ex\x20+\x201)\x20WH','reply','T\x20rr_index','ated_at\x20IN','TYPING_SIM','ly\x20failed:','exec','Confirmati','conversati','COMMAND_PR','4502745xxaEJN','\x20\x20\x20created','Automaton\x20','48PGJHJL','replace','caption','endsWith','d_by,\x20crea','buttonsRes','ceUpdate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','changes','selectedBu','join','all','_index\x20FRO','map','\x20created\x20p','failed:\x20','\x20cleanup\x20e','s\x20table\x20ex','DELETE\x20FRO','SELECT\x20nam','e\x20error:\x20','\x20\x20\x20\x20\x20ON\x20CO','regex:','rigger\x20=\x20?','participan','\x20\x20\x20\x20\x20\x20\x20\x20\x20r','\x20invalid\x20s','_pmfilters','stringify','ers\x20failed','fail','TE:\x20Filter','\x20bot\x20JID\x20n','filters\x20SE','delete','\x20sendPmRep','S\x20(?,\x20?,\x200','\x20pm_filter','\x20\x20\x20\x20\x20id\x20IN','rs\x20(\x0a\x20\x20\x20\x20\x20','SELECT\x20res','\x20upsert\x20fa','sendPresen','352420oTZgvg','M\x20pm_filte','object','add','seMessage','Usage:\x20pde','onTarget\x20e','d:\x20','\x20no\x20send\x20A','substring','string','text','ite_master','trigger','delete\x20all','nodes','key','ger2>\x0a!res','E\x20pm_filte','r,\x20respons','rs\x20(trigge','message','PI\x20availab','singleSele','al\x20and\x20wil','rs\x20WHERE\x20t','EFIX','ODE','keyword','PREFIX','\x20Aho\x20faile','[pmfilter]','ger\x20FROM\x20p','\x20\x20\x20\x20\x20\x20crea','849972XvtDyp','_by\x20=\x20excl'];_0x471f=function(){return _0x7af0a4;};return _0x471f();}export const commands=[_0x1d64d5(0x23e),_0x1d64d5(0x1a6)+'r',_0x1d64d5(0x197),_0x1d64d5(0x197)+'s','pdelf'];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0x3f6a50){const _0x48b2c2=_0x1d64d5,_0x4bf2ff=Number(_0x3f6a50);if(!Number[_0x48b2c2(0x18f)](_0x4bf2ff)||isNaN(_0x4bf2ff))return 0x1*-0xe06+-0x35*0x8+0xfae;if(_0x4bf2ff<=0x1*0x1b7f+0x3*0x50e+-0x2aa9)return-0x525+-0x163*0x9+-0x11a*-0x10;if(_0x4bf2ff>0x5162+0x1*0x26fe+0x293*-0x18)return-0x3a7a+0x4*-0x16af+0xcfce;return Math[_0x48b2c2(0x231)](_0x4bf2ff);}function sleep(_0x2d50a4){return new Promise(_0x3e75d0=>setTimeout(_0x3e75d0,_0x2d50a4));}async function simulateTypingAndWait(_0x4a588b,_0x5865b1,_0xc5ed7){const _0x155238=_0x1d64d5;if(!_0xc5ed7||_0xc5ed7<=-0x1a8b+0x1*0x1813+0x278)return;try{if(_0x4a588b&&typeof _0x4a588b[_0x155238(0x1e5)+'ceUpdate']===_0x155238(0x155))try{await _0x4a588b['sendPresen'+_0x155238(0x1c1)]('composing',_0x5865b1);}catch(_0x65312e){}}catch(_0x2ef264){}try{await sleep(_0xc5ed7);}catch(_0x396f55){}try{if(_0x4a588b&&typeof _0x4a588b[_0x155238(0x1e5)+_0x155238(0x1c1)]===_0x155238(0x155))try{await _0x4a588b[_0x155238(0x1e5)+_0x155238(0x1c1)](_0x155238(0x157),_0x5865b1);}catch(_0x1cc3d1){}}catch(_0x54993d){}}function clampConfigTypingMs(){const _0x31b732=_0x1d64d5;try{const _0x1fbe6f=getConfig()||{},_0xa97821=_0x1fbe6f[_0x31b732(0x148)]&&typeof _0x1fbe6f[_0x31b732(0x148)]===_0x31b732(0x1e8)?_0x1fbe6f['FILTERS']:{};return clampTypingMs(_0xa97821[_0x31b732(0x1b2)+_0x31b732(0x150)]);}catch(_0x207041){return-0x4*-0x740+0x6*0x10c+-0x2348;}}function escapeRegex(_0x300f97){const _0x1969ef=_0x1d64d5;return _0x300f97[_0x1969ef(0x1bc)](/[.*+?^${}()|[\]\\]/g,'\x5c$&');}function wildcardToRegexPattern(_0x122e92){const _0x30f406=_0x1d64d5,_0x1d065c=_0x122e92[_0x30f406(0x185)]('*')[_0x30f406(0x1c8)](_0x571201=>escapeRegex(_0x571201));return'\x5cb'+_0x1d065c[_0x30f406(0x1c5)](_0x30f406(0x235))+'\x5cb';}function ensureArray(_0x1cabf0){const _0x2ddfc3=_0x1d64d5;if(!_0x1cabf0)return[];if(Array[_0x2ddfc3(0x17a)](_0x1cabf0))return _0x1cabf0;return[String(_0x1cabf0)];}function uniqArray(_0x2c4dc8){const _0x4c4f3d=_0x1d64d5,_0x10a3cd=new Set(),_0x336f6a=[];for(const _0x557609 of _0x2c4dc8||[]){const _0x5df631=String(_0x557609||'')[_0x4c4f3d(0x245)]();if(!_0x5df631)continue;!_0x10a3cd[_0x4c4f3d(0x22d)](_0x5df631)&&(_0x10a3cd[_0x4c4f3d(0x1e9)](_0x5df631),_0x336f6a[_0x4c4f3d(0x195)](_0x5df631));}return _0x336f6a;}function getMessageText(_0x347401){const _0xd95d=_0x1d64d5;if(!_0x347401||!_0x347401[_0xd95d(0x1fb)])return'';const _0x427f24=_0x347401[_0xd95d(0x1fb)];if(_0x427f24[_0xd95d(0x1b6)+'on'])return _0x427f24[_0xd95d(0x1b6)+'on'];if(_0x427f24['extendedTe'+_0xd95d(0x18a)]?.[_0xd95d(0x1f1)])return _0x427f24[_0xd95d(0x163)+'xtMessage'][_0xd95d(0x1f1)];if(_0x427f24[_0xd95d(0x18c)+'ge']?.[_0xd95d(0x1bd)])return _0x427f24[_0xd95d(0x18c)+'ge'][_0xd95d(0x1bd)];if(_0x427f24['videoMessa'+'ge']?.[_0xd95d(0x1bd)])return _0x427f24[_0xd95d(0x176)+'ge'][_0xd95d(0x1bd)];if(_0x427f24['buttonsRes'+_0xd95d(0x182)+'ge']?.[_0xd95d(0x1c4)+'ttonId'])return _0x427f24[_0xd95d(0x1c0)+'ponseMessa'+'ge'][_0xd95d(0x1c4)+_0xd95d(0x1a5)];if(_0x427f24[_0xd95d(0x214)+'seMessage']?.[_0xd95d(0x1fd)+'ctReply']?.[_0xd95d(0x190)+_0xd95d(0x20c)])return _0x427f24[_0xd95d(0x214)+_0xd95d(0x1ea)][_0xd95d(0x1fd)+_0xd95d(0x178)][_0xd95d(0x190)+_0xd95d(0x20c)];return'';}async function ensureSchema(){const _0x5e6bfd=_0x1d64d5;try{const _0xae408c=await db['get'](_0x5e6bfd(0x1ce)+_0x5e6bfd(0x24a)+_0x5e6bfd(0x1f2)+_0x5e6bfd(0x1ac)+_0x5e6bfd(0x15b)+_0x5e6bfd(0x18e)+_0x5e6bfd(0x152)+'\x27');if(!_0xae408c){await db[_0x5e6bfd(0x1b4)](_0x5e6bfd(0x184)+_0x5e6bfd(0x212)+_0x5e6bfd(0x1f8)+_0x5e6bfd(0x1e2)+_0x5e6bfd(0x1e1)+_0x5e6bfd(0x23b)+_0x5e6bfd(0x21f)+'TOINCREMEN'+_0x5e6bfd(0x17c)+_0x5e6bfd(0x22c)+_0x5e6bfd(0x166)+_0x5e6bfd(0x1a2)+'E,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20respons'+'es\x20TEXT\x20NO'+'T\x20NULL\x20DEF'+_0x5e6bfd(0x19e)+_0x5e6bfd(0x1c2)+'\x20rr_index\x20'+_0x5e6bfd(0x223)+'FAULT\x200,\x0a\x20'+_0x5e6bfd(0x16e)+_0x5e6bfd(0x246)+_0x5e6bfd(0x20e)+_0x5e6bfd(0x1ad)+'\x20\x20\x20\x20\x20\x20\x20cre'+_0x5e6bfd(0x1b1)+'TEGER\x20DEFA'+_0x5e6bfd(0x14e)+_0x5e6bfd(0x17b)+'\x20\x20\x20');try{await db['exec'](_0x5e6bfd(0x161)+'EX\x20IF\x20NOT\x20'+_0x5e6bfd(0x20f)+_0x5e6bfd(0x1d6)+_0x5e6bfd(0x17e)+'N\x20pm_filte'+_0x5e6bfd(0x165)+');');}catch(_0x505af9){}info(_0x5e6bfd(0x205)+_0x5e6bfd(0x1c9)+_0x5e6bfd(0x24b)+_0x5e6bfd(0x186));}else info(_0x5e6bfd(0x205)+_0x5e6bfd(0x1e0)+_0x5e6bfd(0x1cc)+_0x5e6bfd(0x170));}catch(_0x5405be){error(_0x5405be,'[pmfilter]'+_0x5e6bfd(0x237)+_0x5e6bfd(0x189));throw _0x5405be;}}async function upsertPmFilter(_0x1c15da,_0x5e3635,_0x2a62fd){const _0x4aabcf=_0x1d64d5;try{const _0x951546=Math['floor'](Date[_0x4aabcf(0x191)]()/(-0x207a*0x1+-0x17*-0x181+0x1*0x1cb)),_0x25a184=JSON[_0x4aabcf(0x1d7)](uniqArray(ensureArray(_0x5e3635)[_0x4aabcf(0x1c8)](_0x30af5f=>String(_0x30af5f)[_0x4aabcf(0x245)]())[_0x4aabcf(0x164)](Boolean)));await db['run'](_0x4aabcf(0x1a9)+'O\x20pm_filte'+_0x4aabcf(0x1fa)+_0x4aabcf(0x1f9)+_0x4aabcf(0x15e)+'ex,\x20create'+_0x4aabcf(0x1bf)+_0x4aabcf(0x193)+_0x4aabcf(0x14a)+_0x4aabcf(0x1df)+_0x4aabcf(0x16a)+_0x4aabcf(0x1d0)+_0x4aabcf(0x249)+'gger)\x20DO\x20U'+_0x4aabcf(0x22e)+_0x4aabcf(0x1d4)+_0x4aabcf(0x14c)+'\x20excluded.'+_0x4aabcf(0x21e)+_0x4aabcf(0x1c2)+_0x4aabcf(0x16d)+'\x200,\x0a\x20\x20\x20\x20\x20\x20'+_0x4aabcf(0x1b9)+_0x4aabcf(0x209)+_0x4aabcf(0x1a0)+_0x4aabcf(0x198)+_0x4aabcf(0x207)+_0x4aabcf(0x222)+_0x4aabcf(0x21c)+'eated_at;',[_0x1c15da,_0x25a184,_0x2a62fd||'',_0x951546]);try{automatonCache[_0x4aabcf(0x1dd)]('global');}catch(_0x17dff0){}return info(_0x4aabcf(0x205)+_0x4aabcf(0x248)+_0x1c15da),!![];}catch(_0x1ddfd9){return error(_0x1ddfd9,_0x4aabcf(0x205)+_0x4aabcf(0x1e4)+_0x4aabcf(0x211)+_0x1c15da),![];}}async function deletePmFilters(_0x2dd25f){const _0x1da73b=_0x1d64d5;if(!Array[_0x1da73b(0x17a)](_0x2dd25f)||_0x2dd25f[_0x1da73b(0x227)]===-0x2412+-0x3*0xc2f+0x3*0x1835)return 0x878+0x293*-0x7+0x98d;try{let _0x228bc5=-0x1*-0x777+-0x1*-0x244c+-0x2bc3;for(const _0x32e39d of _0x2dd25f){const _0x199a2d=await db[_0x1da73b(0x23a)](_0x1da73b(0x1cd)+_0x1da73b(0x1e7)+_0x1da73b(0x1ff)+'rigger\x20=\x20?',[_0x32e39d]);if(_0x199a2d?.['changes'])_0x228bc5+=_0x199a2d[_0x1da73b(0x1c3)];info(_0x1da73b(0x205)+_0x1da73b(0x21b)+_0x32e39d);}try{automatonCache[_0x1da73b(0x1dd)]('global');}catch(_0x3972c9){}return _0x228bc5;}catch(_0x5ba25c){return error(_0x5ba25c,_0x1da73b(0x205)+_0x1da73b(0x169)+_0x1da73b(0x15f)+(_0x5ba25c?.[_0x1da73b(0x1fb)]||_0x5ba25c)),-0x5*-0x89+0x1922+-0x317*0x9;}}async function listPmTriggers(){const _0x451773=_0x1d64d5;try{const _0x35b2a0=await db[_0x451773(0x1c6)](_0x451773(0x187)+'TINCT\x20trig'+'ger\x20FROM\x20p'+_0x451773(0x24b)+_0x451773(0x151)+_0x451773(0x183));return(_0x35b2a0||[])[_0x451773(0x1c8)](_0x2c0347=>_0x2c0347[_0x451773(0x1f3)]);}catch(_0x2863c4){return warn(_0x2863c4,_0x451773(0x205)+_0x451773(0x171)+_0x451773(0x1d8)+':\x20'+(_0x2863c4?.[_0x451773(0x1fb)]||_0x2863c4)),[];}}async function pickPmResponseAndAdvance(_0x31b87b,_0x311e3d=_0x1d64d5(0x230)){const _0x364605=_0x1d64d5;try{const _0x34b2d7=await db[_0x364605(0x149)](_0x364605(0x1e3)+_0x364605(0x236)+_0x364605(0x1c7)+_0x364605(0x1e7)+'rs\x20WHERE\x20t'+_0x364605(0x1d2)+_0x364605(0x19a),[_0x31b87b]);if(!_0x34b2d7)return null;let _0x13d061=[];try{_0x13d061=JSON[_0x364605(0x241)](_0x34b2d7['responses']||'[]');}catch{_0x13d061=ensureArray(_0x34b2d7[_0x364605(0x18b)]);}_0x13d061=ensureArray(_0x13d061);if(!_0x13d061[_0x364605(0x227)])return null;if((_0x311e3d||'')[_0x364605(0x14b)+'e']()===_0x364605(0x238)){const _0x4d4e44=Math['floor'](Math[_0x364605(0x238)]()*_0x13d061[_0x364605(0x227)]);return _0x13d061[_0x4d4e44];}const _0x2ec7bd=Number(_0x34b2d7[_0x364605(0x242)]||-0x2a*0x43+-0x18be+0x23bc),_0x21cff5=_0x13d061[_0x2ec7bd%_0x13d061[_0x364605(0x227)]];try{await db[_0x364605(0x23a)](_0x364605(0x219)+_0x364605(0x1dc)+_0x364605(0x1b0)+_0x364605(0x233)+_0x364605(0x1ae)+'ERE\x20trigge'+_0x364605(0x179),[_0x31b87b]);}catch(_0x159e42){warn(_0x364605(0x205)+_0x364605(0x174)+'+\x20failed:\x20'+(_0x159e42?.[_0x364605(0x1fb)]||_0x159e42));}return _0x21cff5;}catch(_0x297740){return warn('[pmfilter]'+_0x364605(0x226)+_0x364605(0x21a)+'\x20'+(_0x297740?.[_0x364605(0x1fb)]||_0x297740)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(-0x814+-0x26ab*-0x1+-0x10d*0x1d)*(-0x80e*-0x1+-0x1*-0x1dd5+-0x21fb);function makeDedupeKey(_0xf01431){const _0x395ebd=_0x1d64d5,_0x445fea=_0xf01431?.['key'];if(!_0x445fea)return null;const _0x2e851f=_0x445fea['id']||_0x445fea?.[_0x395ebd(0x1d3)+'t']||'',_0x56e2e1=_0x445fea['remoteJid']||'';return _0x56e2e1+'::'+_0x2e851f;}function isProcessed(_0x8e5870){const _0x108e94=_0x1d64d5;return _0x8e5870&&processedMessageKeys[_0x108e94(0x22d)](_0x8e5870);}function markProcessed(_0x1214f9){const _0x130929=_0x1d64d5;if(!_0x1214f9)return;if(processedMessageKeys[_0x130929(0x22d)](_0x1214f9))clearTimeout(processedMessageKeys[_0x130929(0x149)](_0x1214f9));const _0x27e37b=setTimeout(()=>processedMessageKeys['delete'](_0x1214f9),DEDUPE_TTL_MS);processedMessageKeys[_0x130929(0x210)](_0x1214f9,_0x27e37b);}class Aho{constructor(){const _0x45a5b1=_0x1d64d5;this[_0x45a5b1(0x1f5)]=[{'next':Object[_0x45a5b1(0x15c)](null),'fail':0x0,'output':[]}];}['build'](_0x5e9392){const _0x3a4889=_0x1d64d5;this[_0x3a4889(0x1f5)]=[{'next':Object[_0x3a4889(0x15c)](null),'fail':0x0,'output':[]}];for(const _0x5a4c3e of _0x5e9392){let _0x51a53b=-0x1*0x383+-0x2*-0x10a3+-0x1dc3;for(let _0x414240=-0x234f+-0xe8a+0x7*0x71f;_0x414240<_0x5a4c3e['length'];_0x414240++){const _0x1157ba=_0x5a4c3e[_0x414240];!this['nodes'][_0x51a53b][_0x3a4889(0x21d)][_0x1157ba]&&(this[_0x3a4889(0x1f5)][_0x51a53b]['next'][_0x1157ba]=this[_0x3a4889(0x1f5)]['length'],this[_0x3a4889(0x1f5)][_0x3a4889(0x195)]({'next':Object['create'](null),'fail':0x0,'output':[]})),_0x51a53b=this['nodes'][_0x51a53b][_0x3a4889(0x21d)][_0x1157ba];}this[_0x3a4889(0x1f5)][_0x51a53b]['output'][_0x3a4889(0x195)](_0x5a4c3e);}const _0x17af16=[];for(const _0x28ee12 in this[_0x3a4889(0x1f5)][-0xbf5+0x14*0x1f+0x989]['next']){const _0x3874d=this[_0x3a4889(0x1f5)][-0x1885+0x5*0x629+-0x86*0xc][_0x3a4889(0x21d)][_0x28ee12];this[_0x3a4889(0x1f5)][_0x3874d][_0x3a4889(0x1d9)]=-0xb6f+0xb95*-0x2+-0x209*-0x11,_0x17af16[_0x3a4889(0x195)](_0x3874d);}while(_0x17af16[_0x3a4889(0x227)]){const _0x5f29a3=_0x17af16[_0x3a4889(0x20a)]();for(const _0x4fe438 in this['nodes'][_0x5f29a3][_0x3a4889(0x21d)]){const _0x132289=this[_0x3a4889(0x1f5)][_0x5f29a3][_0x3a4889(0x21d)][_0x4fe438];let _0x404264=this[_0x3a4889(0x1f5)][_0x5f29a3][_0x3a4889(0x1d9)];while(_0x404264&&!this[_0x3a4889(0x1f5)][_0x404264]['next'][_0x4fe438])_0x404264=this['nodes'][_0x404264][_0x3a4889(0x1d9)];if(this[_0x3a4889(0x1f5)][_0x404264]['next'][_0x4fe438])this['nodes'][_0x132289][_0x3a4889(0x1d9)]=this['nodes'][_0x404264][_0x3a4889(0x21d)][_0x4fe438];else this[_0x3a4889(0x1f5)][_0x132289][_0x3a4889(0x1d9)]=0x37a+0x1c*-0xce+0x130e;this[_0x3a4889(0x1f5)][_0x132289][_0x3a4889(0x181)][_0x3a4889(0x195)](...this[_0x3a4889(0x1f5)][this[_0x3a4889(0x1f5)][_0x132289]['fail']]['output']),_0x17af16['push'](_0x132289);}}}[_0x1d64d5(0x221)](_0x10a37a){const _0x1fefc8=_0x1d64d5,_0x20abbd=[];let _0x3b2d87=-0x1e54+0x1f3d+-0x1*0xe9;for(let _0x2ae514=-0x169+-0x1*-0x6c5+-0xe*0x62;_0x2ae514<_0x10a37a['length'];_0x2ae514++){const _0x366986=_0x10a37a[_0x2ae514];while(_0x3b2d87&&!this[_0x1fefc8(0x1f5)][_0x3b2d87]['next'][_0x366986])_0x3b2d87=this['nodes'][_0x3b2d87][_0x1fefc8(0x1d9)];if(this[_0x1fefc8(0x1f5)][_0x3b2d87][_0x1fefc8(0x21d)][_0x366986])_0x3b2d87=this['nodes'][_0x3b2d87][_0x1fefc8(0x21d)][_0x366986];else _0x3b2d87=-0x2c3*0x3+0x74+-0x7d5*-0x1;if(this[_0x1fefc8(0x1f5)][_0x3b2d87]['output']['length']){for(const _0x4a1ec6 of this[_0x1fefc8(0x1f5)][_0x3b2d87][_0x1fefc8(0x181)])_0x20abbd[_0x1fefc8(0x195)]({'keyword':_0x4a1ec6,'index':_0x2ae514-_0x4a1ec6['length']+(-0x6ac+0x4c7*-0x7+0x281e)});}}return _0x20abbd;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x304079=_0x1d64d5;if(automatonCache['has']('global'))return automatonCache['get']('global');try{const _0xbb2494=await db['all']('SELECT\x20DIS'+_0x304079(0x172)+_0x304079(0x206)+'m_filters'),_0x399f68=(_0xbb2494||[])['map'](_0x3b6616=>String(_0x3b6616[_0x304079(0x1f3)]||'')['trim']())[_0x304079(0x164)](Boolean),_0x337155=_0x399f68['filter'](_0xbf2e83=>{const _0x484abb=_0x304079,_0x181413=String(_0xbf2e83)[_0x484abb(0x245)]()['toLowerCas'+'e']();if(_0x181413[_0x484abb(0x213)](_0x484abb(0x1d1)))return![];if(_0xbf2e83[_0x484abb(0x232)]('*'))return![];return!![];}),_0x23f835=_0x337155[_0x304079(0x1c8)](_0x4d16ce=>_0x4d16ce['toLowerCas'+'e']()),_0x111c77=new Aho();if(_0x23f835[_0x304079(0x227)])_0x111c77[_0x304079(0x17d)](_0x23f835);const _0x2f6ce5={'ac':_0x111c77,'keywords':_0x23f835,'normalSet':new Set(_0x23f835),'triggers':_0x399f68};return automatonCache['set']('global',_0x2f6ce5),_0x2f6ce5;}catch(_0x308894){return warn('[pmfilter]'+'\x20getGlobal'+_0x304079(0x1ba)+_0x304079(0x1ca)+(_0x308894?.['message']||_0x308894)),null;}}async function sendPmReply(_0x1bc0d6,_0xd769cf,_0x404fdd){const _0x5c4d6e=_0x1d64d5;if(!_0x404fdd)return;let _0x187b6d=_0xd769cf;try{if(!_0x187b6d&&_0x1bc0d6&&_0x1bc0d6['key']&&_0x1bc0d6[_0x5c4d6e(0x1f6)][_0x5c4d6e(0x192)])_0x187b6d=_0x1bc0d6['key'][_0x5c4d6e(0x192)];}catch(_0x657100){}if(!_0x187b6d)return;const _0x54c7b5={'text':String(_0x404fdd)},_0x147f44=clampConfigTypingMs();if(_0x147f44>0x37a+-0xb8*-0x13+-0x2b*0x66)try{await simulateTypingAndWait(botInstance?.[_0x5c4d6e(0x215)],_0x187b6d,_0x147f44);}catch(_0x284a18){warn('[pmfilter]'+_0x5c4d6e(0x159)+'ypingAndWa'+'it\x20error:\x20'+(_0x284a18?.[_0x5c4d6e(0x1fb)]||_0x284a18));}try{if(_0x1bc0d6&&typeof _0x1bc0d6['reply']===_0x5c4d6e(0x155)&&_0x1bc0d6[_0x5c4d6e(0x1f6)]&&_0x1bc0d6[_0x5c4d6e(0x1f6)][_0x5c4d6e(0x192)]===_0x187b6d)try{await _0x1bc0d6[_0x5c4d6e(0x1af)]({'text':String(_0x404fdd)});return;}catch(_0x745857){warn(_0x5c4d6e(0x205)+_0x5c4d6e(0x158)+_0x5c4d6e(0x162)+':\x20'+(_0x745857?.['message']||_0x745857));}if(botInstance&&typeof botInstance[_0x5c4d6e(0x15d)+'e']===_0x5c4d6e(0x155))await botInstance[_0x5c4d6e(0x15d)+'e'](_0x187b6d,_0x54c7b5);else botInstance&&botInstance[_0x5c4d6e(0x215)]&&typeof botInstance['sock']['sendMessag'+'e']==='function'?await botInstance['sock'][_0x5c4d6e(0x15d)+'e'](_0x187b6d,_0x54c7b5):warn('[pmfilter]'+_0x5c4d6e(0x1ee)+_0x5c4d6e(0x1fc)+'le');}catch(_0x7e91d6){warn(_0x5c4d6e(0x205)+_0x5c4d6e(0x1de)+_0x5c4d6e(0x1b3)+'\x20'+(_0x7e91d6?.[_0x5c4d6e(0x1fb)]||_0x7e91d6));}}export async function initialize(_0x482bdf){const _0x308228=_0x1d64d5;try{botInstance=_0x482bdf,botJid=_0x482bdf?.[_0x308228(0x215)]?.[_0x308228(0x16c)]?.['id']||null;if(!botJid)warn(_0x308228(0x205)+_0x308228(0x1db)+'ot\x20availab'+_0x308228(0x194)+_0x308228(0x177));if(botInstance){if(typeof botInstance['sendMessag'+'e']==='function')sendApi=async(_0x40a615,_0x4f112c)=>await botInstance[_0x308228(0x15d)+'e'](_0x40a615,_0x4f112c);else{if(botInstance['sock']&&typeof botInstance[_0x308228(0x215)][_0x308228(0x15d)+'e']===_0x308228(0x155))sendApi=async(_0x3102af,_0x48892f)=>await botInstance['sock']['sendMessag'+'e'](_0x3102af,_0x48892f);else sendApi=null;}}await ensureSchema(),info('[pmfilter]'+'\x20initializ'+_0x308228(0x244)+_0x308228(0x247)+(botJid||_0x308228(0x23f)));}catch(_0x1ba786){error(_0x1ba786,'[pmfilter]'+_0x308228(0x188)+_0x308228(0x1cf)+(_0x1ba786?.[_0x308228(0x1fb)]||_0x1ba786));throw _0x1ba786;}}function detectCommandNameFromCmdText(_0xd501f6){const _0x32f499=_0x1d64d5;if(!_0xd501f6)return null;const _0x1b7a1e=_0xd501f6[_0x32f499(0x245)]();if(!_0x1b7a1e)return null;return _0x1b7a1e[_0x32f499(0x185)](/\s+/)[0x3*-0xbf3+-0x269e+0x4a77][_0x32f499(0x14b)+'e']();}function parsePmFilterCommandText(_0x154a8f,_0x33bd23){const _0x584acc=_0x1d64d5;if(!_0x154a8f)return null;const _0x48c363=_0x154a8f[_0x584acc(0x185)](/\r?\n/)[_0x584acc(0x1c8)](_0x2b02ab=>_0x2b02ab[_0x584acc(0x1bc)](/\r/g,''));if(!_0x48c363[_0x584acc(0x227)])return null;let _0x3cd7ec=_0x48c363[-0x1b83*0x1+-0x620+0x21a3][_0x584acc(0x245)]();if(_0x33bd23){if(Array[_0x584acc(0x17a)](_0x33bd23))for(const _0x214b93 of _0x33bd23){if(_0x3cd7ec[_0x584acc(0x213)](_0x214b93)){_0x3cd7ec=_0x3cd7ec[_0x584acc(0x239)](_0x214b93[_0x584acc(0x227)])[_0x584acc(0x245)]();break;}}else typeof _0x33bd23==='string'&&_0x3cd7ec[_0x584acc(0x213)](_0x33bd23)&&(_0x3cd7ec=_0x3cd7ec[_0x584acc(0x239)](_0x33bd23[_0x584acc(0x227)])[_0x584acc(0x245)]());}const _0x4fa769=_0x3cd7ec['split'](/\s+/);if(_0x4fa769[-0x2b*0x72+0x7c0+0x2*0x5b3][_0x584acc(0x14b)+'e']()===_0x584acc(0x23e))_0x4fa769[_0x584acc(0x20a)]();const _0x5bcee4=_0x4fa769[_0x584acc(0x1c5)]('\x20')['trim'](),_0x3e84e8=_0x5bcee4?_0x5bcee4[_0x584acc(0x185)](',')[_0x584acc(0x1c8)](_0x6e5446=>_0x6e5446['trim']())[_0x584acc(0x164)](Boolean):[],_0x5c54f1=_0x48c363[_0x584acc(0x239)](0x6*0x11d+0x1a21*-0x1+0x1374)[_0x584acc(0x1c8)](_0x47ffd8=>_0x47ffd8[_0x584acc(0x245)]())[_0x584acc(0x164)](Boolean)[_0x584acc(0x164)](_0x162ee6=>_0x162ee6[_0x584acc(0x213)]('!'))[_0x584acc(0x1c8)](_0x27805a=>_0x27805a[_0x584acc(0x239)](-0x1*0x1976+-0x4f0+0x1e67)[_0x584acc(0x245)]())[_0x584acc(0x164)](Boolean);return{'triggers':_0x3e84e8,'responses':_0x5c54f1};}async function determineConfirmationTarget(_0x5178dc){const _0x359fbc=_0x1d64d5;try{if(!_0x5178dc||!_0x5178dc[_0x359fbc(0x1f6)])return null;if(_0x5178dc[_0x359fbc(0x1f6)][_0x359fbc(0x19c)]){const _0x2f8d3d=getBotJid();return _0x2f8d3d||_0x5178dc[_0x359fbc(0x1f6)][_0x359fbc(0x192)];}return _0x5178dc[_0x359fbc(0x1f6)][_0x359fbc(0x192)];}catch(_0x3cb281){warn(_0x359fbc(0x205)+'\x20determine'+_0x359fbc(0x1b5)+_0x359fbc(0x1ec)+_0x359fbc(0x229)+(_0x3cb281?.[_0x359fbc(0x1fb)]||_0x3cb281));try{return _0x5178dc[_0x359fbc(0x1f6)][_0x359fbc(0x192)];}catch(_0x5e6933){return null;}}}export async function onMessage(_0xd8e178){const _0x3c8b0b=_0x1d64d5;try{if(!_0xd8e178||!_0xd8e178['key']||!_0xd8e178[_0x3c8b0b(0x1fb)])return;const _0x277fc1=makeDedupeKey(_0xd8e178);if(isProcessed(_0x277fc1))return;markProcessed(_0x277fc1);const _0x28c367=_0xd8e178[_0x3c8b0b(0x1f6)][_0x3c8b0b(0x192)],_0x2805df=typeof _0x28c367===_0x3c8b0b(0x1f0)&&_0x28c367[_0x3c8b0b(0x1be)](_0x3c8b0b(0x1a4)),_0x450350=!!_0xd8e178[_0x3c8b0b(0x1f6)][_0x3c8b0b(0x19c)],_0x32e0f=_0xd8e178[_0x3c8b0b(0x1f6)]&&(_0xd8e178[_0x3c8b0b(0x1f6)][_0x3c8b0b(0x1d3)+'t']||_0xd8e178['key'][_0x3c8b0b(0x17f)]||_0xd8e178['key'][_0x3c8b0b(0x192)])||'';if(_0xd8e178['isCommand']){if(_0x2805df)return;const _0x4c2e28=!!_0xd8e178[_0x3c8b0b(0x1f6)][_0x3c8b0b(0x19c)];let _0x18a283=![];try{_0x18a283=await isSudo(botInstance,_0xd8e178);}catch(_0x17d49a){_0x18a283=![];}if(!_0x4c2e28&&!_0x18a283)return;const _0x4fa796=await determineConfirmationTarget(_0xd8e178),_0x4969d3=typeof _0xd8e178['text']===_0x3c8b0b(0x1f0)&&_0xd8e178[_0x3c8b0b(0x1f1)]['trim']()['length']?_0xd8e178[_0x3c8b0b(0x1f1)]['trim']():getMessageText(_0xd8e178)[_0x3c8b0b(0x245)](),_0x668d7f=detectCommandNameFromCmdText(_0x4969d3);if(!_0x668d7f)return;if(!_0x668d7f[_0x3c8b0b(0x213)]('p'))return;if(_0x668d7f==='pfilter'){const _0x4d1783=getConfig()||{},_0xf8f792=parsePmFilterCommandText(_0x4969d3||getMessageText(_0xd8e178),_0x4d1783[_0x3c8b0b(0x1b7)+_0x3c8b0b(0x200)]??_0x4d1783[_0x3c8b0b(0x203)]??null);if(!_0xf8f792||!_0xf8f792[_0x3c8b0b(0x180)][_0x3c8b0b(0x227)]||!_0xf8f792[_0x3c8b0b(0x18b)][_0x3c8b0b(0x227)]){await sendPmReply(_0xd8e178,_0x4fa796,'Usage\x20(mul'+_0x3c8b0b(0x19f)+_0x3c8b0b(0x22b)+_0x3c8b0b(0x1aa)+'gger1,trig'+_0x3c8b0b(0x1f7)+_0x3c8b0b(0x22f)+'sponse2\x0aNO'+_0x3c8b0b(0x1da)+_0x3c8b0b(0x220)+_0x3c8b0b(0x1fe)+_0x3c8b0b(0x240)+_0x3c8b0b(0x23d)+_0x3c8b0b(0x153)+'t.');return;}let _0x46d99c=0x2da*-0xa+0x1*0x756+0x1*0x152e;for(const _0x14b77e of _0xf8f792[_0x3c8b0b(0x180)]){const _0x4098a5=await upsertPmFilter(_0x14b77e,_0xf8f792[_0x3c8b0b(0x18b)],_0x32e0f||'');if(_0x4098a5)_0x46d99c++;}await sendPmReply(_0xd8e178,_0x4fa796,'Saved\x20'+_0x46d99c+(_0x3c8b0b(0x16b)+'(s).'));return;}if(_0x668d7f===_0x3c8b0b(0x1a6)+'r'){const _0x65233c=await listPmTriggers();await sendPmReply(_0xd8e178,_0x4fa796,_0x3c8b0b(0x20d)+'loaded\x20'+_0x65233c[_0x3c8b0b(0x227)]+'\x20filters.');if(!_0x65233c[_0x3c8b0b(0x227)])return;let _0x181dcb='';for(const _0x85755a of _0x65233c){const _0x16125a='â€¢\x20'+_0x85755a+'\x0a';(_0x181dcb+_0x16125a)[_0x3c8b0b(0x227)]>0x10*-0x160+0xd50+0x7*0x214&&(await sendPmReply(_0xd8e178,_0x4fa796,_0x181dcb[_0x3c8b0b(0x245)]()),_0x181dcb=''),_0x181dcb+=_0x16125a;}if(_0x181dcb[_0x3c8b0b(0x245)]())await sendPmReply(_0xd8e178,_0x4fa796,_0x181dcb[_0x3c8b0b(0x245)]());return;}if(_0x668d7f===_0x3c8b0b(0x197)||_0x668d7f===_0x3c8b0b(0x197)+'s'||_0x668d7f===_0x3c8b0b(0x1a1)){const _0x3a5e35=getMessageText(_0xd8e178)||'',_0x4fbb50=_0x3a5e35[_0x3c8b0b(0x185)](/\r?\n/)[_0x3c8b0b(0x1c8)](_0x7032e0=>_0x7032e0[_0x3c8b0b(0x245)]());let _0x1e323c=null;if(_0x4fbb50[_0x3c8b0b(0x227)]>0x2b*0xbc+-0x542+-0x1a51)_0x1e323c=_0x4fbb50[0x88*-0x1c+-0xd8*0x11+0x1*0x1d39];else{const _0xb1399a=(_0x4969d3||_0x3a5e35)[_0x3c8b0b(0x245)]()[_0x3c8b0b(0x185)](/\s+/);_0xb1399a[_0x3c8b0b(0x20a)](),_0x1e323c=_0xb1399a['join']('\x20')[_0x3c8b0b(0x245)]();}const _0x672295=(_0x1e323c||'')[_0x3c8b0b(0x185)](',')['map'](_0x2bf61c=>_0x2bf61c[_0x3c8b0b(0x245)]())[_0x3c8b0b(0x164)](Boolean);if(!_0x672295[_0x3c8b0b(0x227)]){await sendPmReply(_0xd8e178,_0x4fa796,_0x3c8b0b(0x1eb)+'lfilter\x20tr'+'igger1,tri'+'gger2\x0aOr:\x20'+'pdelfilter'+'\x20all\x20\x20\x20(er'+_0x3c8b0b(0x15a)+_0x3c8b0b(0x160));return;}if(_0x672295[_0x3c8b0b(0x227)]===0x245a+0x2601*-0x1+0x1*0x1a8&&_0x672295[0x4*0x88a+-0xcd0+-0x1558]['toLowerCas'+'e']()==='all')try{const _0x38ef37=await db['run']('DELETE\x20FRO'+'M\x20pm_filte'+'rs'),_0x57084b=_0x38ef37?.[_0x3c8b0b(0x1c3)]||0xfc*0x1+-0x14b9+0x13bd;try{automatonCache[_0x3c8b0b(0x175)]();}catch(_0x234941){}await sendPmReply(_0xd8e178,_0x4fa796,_0x3c8b0b(0x167)+_0x3c8b0b(0x14f)+_0x3c8b0b(0x168)+_0x3c8b0b(0x20b)+_0x57084b);return;}catch(_0x5841c0){warn(_0x3c8b0b(0x205)+_0x3c8b0b(0x216)+_0x3c8b0b(0x23c)+_0x3c8b0b(0x156)+(_0x5841c0?.[_0x3c8b0b(0x1fb)]||_0x5841c0)),await sendPmReply(_0xd8e178,_0x4fa796,'Failed\x20to\x20'+_0x3c8b0b(0x1f4)+_0x3c8b0b(0x1a3)+(_0x5841c0?.[_0x3c8b0b(0x1fb)]||_0x5841c0));return;}const _0x23a304=await deletePmFilters(_0x672295);await sendPmReply(_0xd8e178,_0x4fa796,_0x3c8b0b(0x154)+_0x23a304+('\x20pm\x20filter'+_0x3c8b0b(0x225)));return;}return;}const _0x3628a9=_0x28c367;if(!_0x3628a9)return;if(_0x2805df)return;if(_0x450350)return;if(_0x3628a9===botJid)return;const _0x151400=getMessageText(_0xd8e178);if(!_0x151400)return;const _0x52a2fc=String(_0x151400||''),_0x419185=await db[_0x3c8b0b(0x1c6)](_0x3c8b0b(0x187)+_0x3c8b0b(0x172)+_0x3c8b0b(0x206)+_0x3c8b0b(0x243));if(!_0x419185||_0x419185[_0x3c8b0b(0x227)]===-0xe*-0x272+-0x690+-0x1bac*0x1)return;const _0x5519d8=(_0x419185||[])['map'](_0x293925=>String(_0x293925['trigger']||'')[_0x3c8b0b(0x245)]())['filter'](Boolean),_0x30d94e=[],_0x484c89=[],_0x3777de=[];for(const _0x525002 of _0x5519d8){const _0x2f2f27=String(_0x525002)[_0x3c8b0b(0x245)]()[_0x3c8b0b(0x14b)+'e']();if(_0x2f2f27[_0x3c8b0b(0x213)](_0x3c8b0b(0x1d1))){_0x3777de[_0x3c8b0b(0x195)](_0x525002[_0x3c8b0b(0x1ef)](-0xcf7+-0x4a*-0xb+-0x117*-0x9));continue;}if(_0x525002[_0x3c8b0b(0x232)]('*')){_0x484c89[_0x3c8b0b(0x195)](_0x525002);continue;}_0x30d94e[_0x3c8b0b(0x195)](_0x525002);}const _0x25d118=getConfig()||{},_0x41f6c9=_0x25d118[_0x3c8b0b(0x148)]&&typeof _0x25d118[_0x3c8b0b(0x148)]===_0x3c8b0b(0x1e8)?_0x25d118[_0x3c8b0b(0x148)]:{},_0x383e66=(_0x41f6c9[_0x3c8b0b(0x16f)+_0x3c8b0b(0x201)]||'roundrobin')['toLowerCas'+'e']();let _0x490ebf=null;if(_0x30d94e[_0x3c8b0b(0x227)]>-0x2*-0xe71+0x1*-0x1e7e+0x19c)try{const _0x2ae0c6=await getGlobalAutomaton();if(_0x2ae0c6&&_0x2ae0c6['ac']&&_0x2ae0c6[_0x3c8b0b(0x19b)]&&_0x2ae0c6['keywords'][_0x3c8b0b(0x227)]){const _0x1e8b58=_0x52a2fc['toLowerCas'+'e'](),_0x4fd145=_0x2ae0c6['ac'][_0x3c8b0b(0x221)](_0x1e8b58);for(const _0x430587 of _0x4fd145){const _0x5e2e5a=_0x430587[_0x3c8b0b(0x202)],_0x2bb90c=_0x430587['index'],_0x45b897=_0x2bb90c+_0x5e2e5a['length'],_0xc5896=_0x2bb90c===-0x14ee+-0x123c+0x272a||!/\w/[_0x3c8b0b(0x234)](_0x1e8b58[_0x2bb90c-(0x1*-0x7ad+-0x192d+0xd*0x287)]),_0x19a2ee=_0x45b897===_0x1e8b58[_0x3c8b0b(0x227)]||!/\w/[_0x3c8b0b(0x234)](_0x1e8b58[_0x45b897]);if(_0xc5896&&_0x19a2ee){const _0x5ca970=_0x30d94e[_0x3c8b0b(0x22a)](_0x2be2c8=>_0x2be2c8[_0x3c8b0b(0x14b)+'e']()===_0x5e2e5a);if(_0x5ca970){_0x490ebf=_0x5ca970;break;}}}}else for(const _0x19a5a3 of _0x30d94e){const _0x32c3c2=new RegExp('\x5cb'+escapeRegex(String(_0x19a5a3))+'\x5cb','i');if(_0x32c3c2['test'](_0x52a2fc)){_0x490ebf=_0x19a5a3;break;}}}catch(_0x31c3c5){warn(_0x3c8b0b(0x205)+_0x3c8b0b(0x204)+_0x3c8b0b(0x1ed)+(_0x31c3c5?.['message']||_0x31c3c5));for(const _0x22ef0b of _0x30d94e){try{const _0x57ef23=new RegExp('\x5cb'+escapeRegex(String(_0x22ef0b))+'\x5cb','i');if(_0x57ef23[_0x3c8b0b(0x234)](_0x52a2fc)){_0x490ebf=_0x22ef0b;break;}}catch(_0x48885a){}}}if(!_0x490ebf&&_0x484c89[_0x3c8b0b(0x227)]>-0x16a8+0xb*-0x9d+0x1d67)for(const _0x2cb70a of _0x484c89){try{const _0x55576a=new RegExp(wildcardToRegexPattern(_0x2cb70a),'i');if(_0x55576a['test'](_0x52a2fc)){_0x490ebf=_0x2cb70a;break;}}catch(_0x58e849){if(_0x52a2fc['toLowerCas'+'e']()[_0x3c8b0b(0x232)](_0x2cb70a[_0x3c8b0b(0x1bc)](/\*/g,'')[_0x3c8b0b(0x14b)+'e']())){_0x490ebf=_0x2cb70a;break;}}}if(!_0x490ebf&&_0x3777de[_0x3c8b0b(0x227)]>-0x3ed*-0x6+0x24e6*0x1+-0x3c74)for(const _0x167b99 of _0x3777de){try{const _0x315227=new RegExp(_0x167b99,'i');if(_0x315227[_0x3c8b0b(0x234)](_0x52a2fc)){_0x490ebf='regex:'+_0x167b99;break;}}catch(_0x28ee52){warn(_0x3c8b0b(0x205)+_0x3c8b0b(0x1d5)+_0x3c8b0b(0x1a7)+_0x3c8b0b(0x1a8)+_0x167b99+_0x3c8b0b(0x217)+(_0x28ee52?.[_0x3c8b0b(0x1fb)]||_0x28ee52));}}if(_0x490ebf){const _0x2ec9a8=await pickPmResponseAndAdvance(_0x490ebf[_0x3c8b0b(0x1bc)](/\s+$/,''),_0x383e66);if(!_0x2ec9a8)return;await sendPmReply(_0xd8e178,_0x3628a9,_0x2ec9a8);}}catch(_0xd4e461){error(_0xd4e461,_0x3c8b0b(0x205)+_0x3c8b0b(0x19d)+_0x3c8b0b(0x229)+(_0xd4e461?.[_0x3c8b0b(0x1fb)]||_0xd4e461));}}export async function cleanup(){const _0x494e90=_0x1d64d5;try{for(const _0x947c02 of processedMessageKeys[_0x494e90(0x218)]())try{clearTimeout(_0x947c02);}catch(_0x33a6e5){}processedMessageKeys['clear'](),automatonCache['clear'](),botInstance=null,botJid=null,sendApi=null,info(_0x494e90(0x205)+_0x494e90(0x199)+'p');}catch(_0x9e78fd){warn(_0x494e90(0x205)+_0x494e90(0x1cb)+'rror:\x20'+(_0x9e78fd?.[_0x494e90(0x1fb)]||_0x9e78fd));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};