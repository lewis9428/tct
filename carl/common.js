function _0x4300(_0x18f9fd,_0x5c5d95){const _0x3cbc39=_0x4588();return _0x4300=function(_0x45be9b,_0x2120e3){_0x45be9b=_0x45be9b-(0x24*0xf3+0x61e+-0x27c7*0x1);let _0x22ccb7=_0x3cbc39[_0x45be9b];return _0x22ccb7;},_0x4300(_0x18f9fd,_0x5c5d95);}const _0x73410b=_0x4300;(function(_0x13cac0,_0x353747){const _0x3271f5=_0x4300,_0x86f5fa=_0x13cac0();while(!![]){try{const _0xb6eede=-parseInt(_0x3271f5(0xac))/(0x7a+-0x1095+0x101c)+-parseInt(_0x3271f5(0x93))/(-0x2*-0x11c5+0x4*-0x7b2+0x26*-0x20)+-parseInt(_0x3271f5(0xc4))/(0x1a1e+0x120c+-0x59*0x7f)+parseInt(_0x3271f5(0xd9))/(-0x262d+0x13*-0x1eb+0x4aa2*0x1)*(-parseInt(_0x3271f5(0x8b))/(0x2*-0x8e1+-0x16ed+0x28b4))+parseInt(_0x3271f5(0xd1))/(-0x665+-0x2070+0x26db)+-parseInt(_0x3271f5(0xa2))/(0x1b66+0xd6*0x23+-0x817*0x7)*(-parseInt(_0x3271f5(0xde))/(0x2*-0x9bc+-0xd25+0x89*0x3d))+parseInt(_0x3271f5(0x88))/(0x168+0x1*-0x2485+0x2326);if(_0xb6eede===_0x353747)break;else _0x86f5fa['push'](_0x86f5fa['shift']());}catch(_0x1741ba){_0x86f5fa['push'](_0x86f5fa['shift']());}}}(_0x4588,0x1*-0x170a67+-0x715f8+-0x1*-0x2a3936));import{info,warn,error}from'../utils/logger.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';export const name='common';export const version=_0x73410b(0xcb);export const priority=0x1212+-0xbee+-0x2ea*0x2;export const commands=['common'];let botRef=null;const respondedMsgIds=new Set();function extractTextFromMessage(_0xa22fbe){const _0x43d647=_0x73410b;if(!_0xa22fbe||!_0xa22fbe[_0x43d647(0xa5)])return'';const _0x388def=_0xa22fbe[_0x43d647(0xa5)];return _0x388def[_0x43d647(0xf1)+'on']||_0x388def[_0x43d647(0x9e)+_0x43d647(0xd4)]?.[_0x43d647(0x83)]||_0x388def[_0x43d647(0xc6)+'ge']?.['caption']||_0x388def['videoMessa'+'ge']?.['caption']||'';}function parseJids(_0x2f5e6f){const _0x10e4c5=_0x73410b;if(!_0x2f5e6f)return[];const _0x19f848=_0x2f5e6f['replace'](/[,;]/g,'\x20')[_0x10e4c5(0x9d)](),_0x1662f5=_0x19f848[_0x10e4c5(0xa0)](/\s+/),_0x4974c2=[];for(const _0x1acc2b of _0x1662f5){const _0x10b648=_0x1acc2b['trim']()[_0x10e4c5(0xa4)](/^@+/,'');if(!_0x10b648)continue;if(/^\d{10,25}$/[_0x10e4c5(0x9b)](_0x10b648))_0x4974c2[_0x10e4c5(0xdd)](_0x10b648+(_0x10e4c5(0x9c)+'p.net'));else/\d{10,25}@(g\.us|s\.whatsapp\.net)$/[_0x10e4c5(0x9b)](_0x10b648)&&_0x4974c2[_0x10e4c5(0xdd)](_0x10b648);}return[...new Set(_0x4974c2)];}function toLowerRoman(_0x4508ac){const _0x481769=[[0x2a*0x1e+0x55d+-0x661,'m'],[0x125*0x9+-0x124+-0x5a5,'cm'],[0x387*0xb+0x5*0x35+-0x25e2,'d'],[-0xc5d+-0xe3+0xed0,'cd'],[0x15f0+0x23db+-0x3967,'c'],[0x5bc*-0x4+0xde1+0x1*0x969,'xc'],[0xece+0x1b92+-0x2*0x1517,'l'],[0x5*0x6f1+0x607*0x6+0x2b*-0x1a5,'xl'],[-0x1c36*-0x1+-0x6b*-0x1+-0x1c97,'x'],[0x54b*0x5+-0x10b*-0x21+-0x3cd9,'ix'],[0x1*0x29c+0x14a5+-0x173c,'v'],[0xbb9*-0x2+0x2157+-0x9e1,'iv'],[0xc5*0x29+-0xd6*-0xe+-0x2b40,'i']];let _0x12926f=_0x4508ac,_0x4345cf='';for(const [_0x22e506,_0x4b25c0]of _0x481769){while(_0x12926f>=_0x22e506){_0x4345cf+=_0x4b25c0,_0x12926f-=_0x22e506;}}return _0x4345cf;}async function findCommonUsersAndTheirGroups(_0x10a5b6=[]){const _0x4d49bc=_0x73410b,_0x277d9d=botRef?.[_0x4d49bc(0xd7)]||botRef;if(!_0x277d9d||typeof _0x277d9d[_0x4d49bc(0xe5)+_0x4d49bc(0xb6)+_0x4d49bc(0xa7)]!=='function')return error('['+name+(_0x4d49bc(0xb0)+_0x4d49bc(0x89)+_0x4d49bc(0xbb)+_0x4d49bc(0xe2)+_0x4d49bc(0xe3)+_0x4d49bc(0xce)+'tance.')),new Map();let _0x1139b5={};try{_0x1139b5=await _0x277d9d['groupFetch'+_0x4d49bc(0xb6)+_0x4d49bc(0xa7)]();}catch(_0x6ef076){return error(_0x6ef076,'['+name+(']\x20Failed\x20t'+'o\x20fetch\x20al'+_0x4d49bc(0x95)+'ating\x20grou'+_0x4d49bc(0x87))),new Map();}const _0xa7a96e=_0x10a5b6&&_0x10a5b6[_0x4d49bc(0x97)]?_0x10a5b6:Object[_0x4d49bc(0xdb)](_0x1139b5||{}),_0x4296b4=new Map(),_0x438817=new Map();for(const _0x42fb44 of _0xa7a96e){try{const _0xfaffe6=_0x1139b5?.[_0x42fb44]||await _0x277d9d[_0x4d49bc(0xe1)+_0x4d49bc(0x92)](_0x42fb44);if(!_0xfaffe6){warn('['+name+(_0x4d49bc(0xe7)+'ata\x20for\x20')+_0x42fb44);continue;}_0x438817[_0x4d49bc(0xc2)](_0x42fb44,_0xfaffe6);const _0x2e0e76=Array[_0x4d49bc(0xbc)](_0xfaffe6[_0x4d49bc(0xba)+'ts'])?_0xfaffe6[_0x4d49bc(0xba)+'ts']:Object[_0x4d49bc(0xf6)](_0xfaffe6[_0x4d49bc(0xba)+'ts']||{});for(const _0x4586d9 of _0x2e0e76){const _0x48fd9d=_0x4586d9?.['id'];if(!_0x48fd9d)continue;if(!_0x4296b4['has'](_0x48fd9d))_0x4296b4[_0x4d49bc(0xc2)](_0x48fd9d,[]);_0x4296b4[_0x4d49bc(0xef)](_0x48fd9d)['push']({'id':_0x42fb44,'subject':_0xfaffe6['subject']||_0x42fb44});}}catch(_0x217679){warn('['+name+(_0x4d49bc(0x8a)+'t\x20fetch\x20me'+_0x4d49bc(0xb9)+'\x20')+_0x42fb44+(_0x4d49bc(0xb7)+_0x4d49bc(0xaa))+(_0x217679?.['message']||_0x217679)+')');}}const _0x3653a3=new Map(),_0x381087=getBotJid()||botRef?.[_0x4d49bc(0xd7)]?.[_0x4d49bc(0xf2)]?.['id']||null;for(const [_0x2245c4,_0x4c9fb4]of _0x4296b4[_0x4d49bc(0x8f)]()){if(_0x4c9fb4[_0x4d49bc(0x97)]>-0x68c+0x2a9*0xb+-0x792*0x3&&_0x2245c4!==_0x381087){let _0x1c9196=_0x2245c4[_0x4d49bc(0xa0)]('@')[-0xe1d+0x4f3*0x2+-0x1*-0x437];for(const _0x5ec51a of _0x4c9fb4){const _0x3ce364=_0x438817['get'](_0x5ec51a['id']),_0x1f2a45=Array[_0x4d49bc(0xbc)](_0x3ce364?.['participan'+'ts'])?_0x3ce364['participan'+'ts']:Object['values'](_0x3ce364?.[_0x4d49bc(0xba)+'ts']||{}),_0x269469=_0x1f2a45['find'](_0x2e8b04=>_0x2e8b04['id']===_0x2245c4);if(_0x269469?.[_0x4d49bc(0xe0)]||_0x269469?.['pushName']){_0x1c9196=_0x269469[_0x4d49bc(0xe0)]||_0x269469[_0x4d49bc(0xed)];break;}}_0x3653a3[_0x4d49bc(0xc2)](_0x2245c4,{'name':_0x1c9196,'groups':_0x4c9fb4});}}return _0x3653a3;}function chunkMessage(_0x27d058,_0x55bbf1=0x7f8+-0x1068+0x1870){const _0x47009a=_0x73410b,_0x3fc80d=[];let _0x5d7b68='';for(const _0x251e21 of _0x27d058[_0x47009a(0xa0)]('\x0a')){_0x5d7b68['length']+_0x251e21[_0x47009a(0x97)]+(0x17c9+0x1*0x1eb+-0x2db*0x9)>_0x55bbf1&&(_0x3fc80d['push'](_0x5d7b68),_0x5d7b68=''),_0x5d7b68+=_0x251e21+'\x0a';}if(_0x5d7b68)_0x3fc80d[_0x47009a(0xdd)](_0x5d7b68);return _0x3fc80d;}export async function initialize(_0x437570){const _0x55f313=_0x73410b;botRef=_0x437570,info('['+name+(_0x55f313(0xdc)+_0x55f313(0x91)+'.'));}export async function onMessage(_0x27fb0a){const _0x2d471c=_0x73410b;try{if(!_0x27fb0a?.[_0x2d471c(0x8d)]?.[_0x2d471c(0xc3)]||!_0x27fb0a['message']||!_0x27fb0a[_0x2d471c(0xf3)])return;const _0x5b348c=_0x27fb0a[_0x2d471c(0x8d)][_0x2d471c(0xc3)];if(!_0x5b348c['endsWith'](_0x2d471c(0x96)))return;const _0x289bc4=await isadmin(botRef,_0x27fb0a)[_0x2d471c(0xe6)](()=>![]);if(!_0x289bc4)return;const _0x4e62ee=(_0x27fb0a[_0x2d471c(0x83)]||extractTextFromMessage(_0x27fb0a))['trim'](),_0x11a7ca=_0x4e62ee['split'](/\s+/),_0x57c769=_0x11a7ca[-0x10e1+0x10fc+-0x1b]?.[_0x2d471c(0xc5)+'e']();if(_0x57c769!==_0x2d471c(0x90))return;const _0x59badc=_0x27fb0a['key']['id'];if(_0x59badc){if(respondedMsgIds[_0x2d471c(0xa8)](_0x59badc))return;respondedMsgIds[_0x2d471c(0xca)](_0x59badc),setTimeout(()=>respondedMsgIds[_0x2d471c(0xa6)](_0x59badc),0x15fe+0x1*-0x77d1+0xd703);}const _0x24d245=botRef?.[_0x2d471c(0xd7)]||botRef;if(!_0x24d245){warn('['+name+(_0x2d471c(0xd5)+_0x2d471c(0xcf)+_0x2d471c(0xb2)));return;}const _0x33e753=_0x11a7ca[-0x20de+0x25d0+0x17*-0x37]?.[_0x2d471c(0xc5)+'e'](),_0x3ec203=_0x11a7ca[_0x2d471c(0xbd)](0x4*0x95e+-0x96b+-0x959*0x3)[_0x2d471c(0x85)]('\x20');if(_0x33e753===_0x2d471c(0x84)){const _0x4e2c98=parseJids(_0x3ec203);await _0x24d245[_0x2d471c(0xf0)+'e'](_0x5b348c,{'text':'ðŸ”Ž\x20Scanning'+_0x2d471c(0xae)+'r\x20users\x20wh'+_0x2d471c(0xb5)+_0x2d471c(0x98)+_0x2d471c(0xad)+_0x2d471c(0xc7)+_0x2d471c(0xcc)+_0x2d471c(0x99)});const _0x444484=await findCommonUsersAndTheirGroups(_0x4e2c98);if(!_0x444484||_0x444484['size']===-0x187f+-0x32f*0x7+-0x4*-0xbb2){await _0x24d245[_0x2d471c(0xf0)+'e'](_0x5b348c,{'text':_0x2d471c(0xbf)+_0x2d471c(0xc9)+_0x2d471c(0xb8)+_0x2d471c(0x8c)+'group\x20(wit'+_0x2d471c(0xb3)+_0x2d471c(0xa3)+_0x2d471c(0xb4)});return;}const _0x1b3c4e=[];let _0x256ad4='ðŸ‘¥\x20Found\x20'+_0x444484[_0x2d471c(0xd8)]+('\x20users\x20in\x20'+'common\x20gro'+_0x2d471c(0xcd));for(const [_0x471a2d,_0x4b8454]of _0x444484['entries']()){_0x1b3c4e[_0x2d471c(0xdd)](_0x471a2d);const _0x3ffe5a=_0x4b8454[_0x2d471c(0xe0)]||_0x471a2d[_0x2d471c(0xa0)]('@')[-0xb0*-0x25+0xe24*0x1+-0x2794];_0x256ad4+=_0x2d471c(0xa9)+_0x471a2d[_0x2d471c(0xa0)]('@')[0x163*0x9+-0xe79+0x1fe*0x1]+'\x20('+_0x3ffe5a+')\x0a',_0x4b8454[_0x2d471c(0xc8)][_0x2d471c(0xc0)]((_0x472117,_0x40d73c)=>{const _0x5540fa=_0x2d471c,_0x52c567=toLowerRoman(_0x40d73c+(-0x2193+-0x1d4a+-0x1f6f*-0x2));_0x256ad4+='('+_0x52c567+')\x20'+(_0x472117[_0x5540fa(0xeb)]||_0x472117['id'])+'\x0a';}),_0x256ad4+='\x0a';}const _0x21b13b=chunkMessage(_0x256ad4);for(const _0x93b159 of _0x21b13b){await _0x24d245[_0x2d471c(0xf0)+'e'](_0x5b348c,{'text':_0x93b159,'mentions':_0x1b3c4e});}return;}await _0x24d245[_0x2d471c(0xf0)+'e'](_0x5b348c,{'text':_0x2d471c(0xd2)+_0x2d471c(0xc1)+_0x2d471c(0x8e)+'Only)\x0a\x0a'+_0x2d471c(0xd0)+(_0x2d471c(0xea)+'ist\x20[group'+'_jids]\x20â€”\x20L'+_0x2d471c(0xd6)+_0x2d471c(0xb1)+_0x2d471c(0xbe)+'ple\x20groups'+_0x2d471c(0xf5)+_0x2d471c(0x9a)+'s\x20under\x20ea'+'ch\x20user.\x0a\x0a')+_0x2d471c(0xaf)+(_0x2d471c(0xd3)+_0x2d471c(0xee)+_0x2d471c(0x9f)+_0x2d471c(0xf4)+'ticipates\x20'+_0x2d471c(0xab))+(_0x2d471c(0xd3)+_0x2d471c(0xa1)+_0x2d471c(0xe4)+'et,\x2067890@'+_0x2d471c(0x86)+_0x2d471c(0xda)+'listed\x20gro'+'ups)')});}catch(_0xfc8469){error(_0xfc8469,'['+name+(_0x2d471c(0xec)+_0x2d471c(0x94)));}}export async function cleanup(){const _0x502534=_0x73410b;botRef=null,respondedMsgIds[_0x502534(0xe8)](),info('['+name+(_0x502534(0xdf)+_0x502534(0xe9)));}function _0x4588(){const _0x206a0b=['he\x20bot\x20ins','ance\x20not\x20c','Commands:\x0a','2638014sHPkNe','Common\x20Use','common\x20lis','xtMessage',']\x20Bot\x20inst','ists\x20users','sock','size','40ywyout','\x20only\x20the\x20','keys',']\x20module\x20i','push','248qKBdWV',']\x20module\x20c','name','groupMetad','s\x20not\x20avai','lable\x20on\x20t','whatsapp.n','groupFetch','catch',']\x20No\x20metad','clear','leaned\x20up.','-\x20common\x20l','subject',']\x20onMessag','pushName','t\x20(scan\x20al','get','sendMessag','conversati','user','isCommand','he\x20bot\x20par','\x20and\x20shows','values','text','list','join','g.us\x20(scan','ps.','34600311XcYZMq','chAllParti',']\x20Could\x20no','590485ioWZQA','\x20than\x20one\x20','key','on\x20(Admin\x20','entries','common','nitialized','ata','1797872axrPdW','e\x20error','l\x20particip','@g.us','length','n\x20multiple','econds...','\x20the\x20group','test','@s.whatsap','trim','extendedTe','l\x20groups\x20t','split','t\x2012345@s.','55965QigFjL','ecified\x20sc','replace','message','delete','pating','has','ðŸ‘¤\x20@','.\x20(','in)\x0a','1201771FEkrmY','\x20groups.\x20T','\x20groups\x20fo','Examples:\x0a',']\x20groupFet','\x20who\x20appea','onfigured','hin\x20the\x20sp','ope).','o\x20appear\x20i','AllPartici','.\x20Skipping','re\x20in\x20more','tadata\x20for','participan','cipating\x20i','isArray','slice','r\x20in\x20multi','No\x20users\x20f','forEach','r\x20Comparis','set','remoteJid','1372575PdNthS','toLowerCas','imageMessa','his\x20may\x20ta','groups','ound\x20who\x20a','add','3.2.1','ke\x20a\x20few\x20s','ups:\x0a\x0a'];_0x4588=function(){return _0x206a0b;};return _0x4588();}