const _0x3d7611=_0x16a6;(function(_0x232652,_0x58faca){const _0x5b3a23=_0x16a6,_0x3136e0=_0x232652();while(!![]){try{const _0x347fc1=parseInt(_0x5b3a23(0x1e0))/(0x641+-0xd21+-0x24b*-0x3)+parseInt(_0x5b3a23(0x1ca))/(0x1938+-0x1*-0x1fa6+-0x38dc)*(-parseInt(_0x5b3a23(0x1c1))/(-0x2372+0xbe7+0x178e))+parseInt(_0x5b3a23(0x1db))/(-0x1b19+-0x1*0x7fd+0x231a)+parseInt(_0x5b3a23(0x1cf))/(-0x21aa+0x9*-0x439+0x47b0)+-parseInt(_0x5b3a23(0x1b8))/(-0x1a83+-0xe0b+0x2894)+parseInt(_0x5b3a23(0x1f8))/(-0x1f0f+-0x2e*0x43+0x228*0x14)+-parseInt(_0x5b3a23(0x1c7))/(-0x788+-0x1de3+0x1*0x2573);if(_0x347fc1===_0x58faca)break;else _0x3136e0['push'](_0x3136e0['shift']());}catch(_0x2be59e){_0x3136e0['push'](_0x3136e0['shift']());}}}(_0xbf31,-0xae600+0x1e066+0x3a1ef*0x5));import{info,warn,error}from'../utils/logger.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x3d7611(0x1d0);export const version=_0x3d7611(0x1f4);export const priority=-0x1*-0x14f6+0x1131+-0x1*0x25d7;export const commands=['common'];function _0x16a6(_0x5c7d30,_0x3993dd){const _0x3339f=_0xbf31();return _0x16a6=function(_0x159cc7,_0x1b7daa){_0x159cc7=_0x159cc7-(-0xede+0xa91+0x5fa);let _0x4945cb=_0x3339f[_0x159cc7];return _0x4945cb;},_0x16a6(_0x5c7d30,_0x3993dd);}let botRef=null;const respondedMsgIds=new Set();function extractTextFromMessage(_0x4dfd9c){const _0x18e51b=_0x3d7611;if(!_0x4dfd9c||!_0x4dfd9c[_0x18e51b(0x1e3)])return'';const _0x3486c8=_0x4dfd9c[_0x18e51b(0x1e3)];return _0x3486c8[_0x18e51b(0x201)+'on']||_0x3486c8[_0x18e51b(0x1eb)+_0x18e51b(0x203)]?.[_0x18e51b(0x1dd)]||_0x3486c8[_0x18e51b(0x1ec)+'ge']?.[_0x18e51b(0x1c0)]||_0x3486c8[_0x18e51b(0x1e5)+'ge']?.[_0x18e51b(0x1c0)]||'';}function parseJids(_0x4cc95f){const _0x52c07e=_0x3d7611;if(!_0x4cc95f)return[];const _0xafa16=_0x4cc95f[_0x52c07e(0x1b6)](/[,;]/g,'\x20')[_0x52c07e(0x214)](),_0xf73455=_0xafa16['split'](/\s+/),_0x28b2a7=[];for(const _0x541774 of _0xf73455){const _0x1469b1=_0x541774['trim']()[_0x52c07e(0x1b6)](/^@+/,'');if(!_0x1469b1)continue;if(/^\d{10,25}$/[_0x52c07e(0x1d5)](_0x1469b1))_0x28b2a7[_0x52c07e(0x20b)](_0x1469b1+(_0x52c07e(0x1f0)+_0x52c07e(0x216)));else/\d{10,25}@(g\.us|s\.whatsapp\.net)$/[_0x52c07e(0x1d5)](_0x1469b1)&&_0x28b2a7[_0x52c07e(0x20b)](_0x1469b1);}return[...new Set(_0x28b2a7)];}function toLowerRoman(_0x44e5e5){const _0x50af7b=[[-0x2*-0xfad+-0x4a*0x5e+0x7*-0xa,'m'],[-0xc9b+0x1*0x11ce+0x1*-0x1af,'cm'],[0x1499*0x1+0x1b0f*0x1+-0x2db4,'d'],[-0x11dd+0x200a+0xc9d*-0x1,'cd'],[0x3*0x389+-0xf5b+0x524,'c'],[0x2*-0x117d+0x54d*0x3+0x136d,'xc'],[0x2*-0x9cb+-0x4fd*0x4+0x27bc,'l'],[0xddb+-0x1b78+0xdc5,'xl'],[0x2b7*0x3+0x18b3+0x2*-0x1067,'x'],[0x270b+0x2*-0x96b+-0x142c,'ix'],[-0x21e6+0x3*0x7f6+-0x1*-0xa09,'v'],[-0x1f17+-0x4b9+0x23d4,'iv'],[-0x508+0x1347+-0xe3e,'i']];let _0x47caa5=_0x44e5e5,_0x3075d9='';for(const [_0x30c819,_0x139b35]of _0x50af7b){while(_0x47caa5>=_0x30c819){_0x3075d9+=_0x139b35,_0x47caa5-=_0x30c819;}}return _0x3075d9;}async function findCommonUsersAndTheirGroups(_0xb3f47d=[]){const _0x4587d2=_0x3d7611,_0x3d0058=botRef?.['sock']||botRef;if(!_0x3d0058||typeof _0x3d0058['groupFetch'+'AllPartici'+'pating']!==_0x4587d2(0x1e6))return error('['+name+(_0x4587d2(0x1ad)+_0x4587d2(0x1d7)+_0x4587d2(0x21d)+_0x4587d2(0x1bf)+'lable\x20on\x20t'+_0x4587d2(0x1f6)+'tance.')),new Map();let _0x2b1361={};try{_0x2b1361=await _0x3d0058['groupFetch'+_0x4587d2(0x1d8)+_0x4587d2(0x1f5)]();}catch(_0x572e6d){return error(_0x572e6d,'['+name+(']\x20Failed\x20t'+_0x4587d2(0x1de)+_0x4587d2(0x200)+_0x4587d2(0x20e)+_0x4587d2(0x1f7))),new Map();}const _0x358e51=_0xb3f47d&&_0xb3f47d[_0x4587d2(0x1fd)]?_0xb3f47d:Object[_0x4587d2(0x1bc)](_0x2b1361||{}),_0x59dc99=new Map(),_0x34bd04=new Map();for(const _0x29b3fb of _0x358e51){try{const _0x18331a=_0x2b1361?.[_0x29b3fb]||await _0x3d0058[_0x4587d2(0x1e8)+_0x4587d2(0x1f1)](_0x29b3fb);if(!_0x18331a){warn('['+name+(_0x4587d2(0x1e2)+_0x4587d2(0x219))+_0x29b3fb);continue;}_0x34bd04[_0x4587d2(0x1ae)](_0x29b3fb,_0x18331a);const _0x2ef24e=Array[_0x4587d2(0x1fb)](_0x18331a[_0x4587d2(0x211)+'ts'])?_0x18331a[_0x4587d2(0x211)+'ts']:Object['values'](_0x18331a[_0x4587d2(0x211)+'ts']||{});for(const _0x150bb1 of _0x2ef24e){const _0x447f0b=_0x150bb1?.['id'];if(!_0x447f0b)continue;if(!_0x59dc99[_0x4587d2(0x213)](_0x447f0b))_0x59dc99['set'](_0x447f0b,[]);_0x59dc99['get'](_0x447f0b)[_0x4587d2(0x20b)]({'id':_0x29b3fb,'subject':_0x18331a[_0x4587d2(0x1e7)]||_0x29b3fb});}}catch(_0x33893a){warn('['+name+(_0x4587d2(0x217)+_0x4587d2(0x1b1)+'tadata\x20for'+'\x20')+_0x29b3fb+(_0x4587d2(0x1d3)+'.\x20(')+(_0x33893a?.[_0x4587d2(0x1e3)]||_0x33893a)+')');}}const _0x11efa=new Map(),_0x4f1bc9=getBotJid()||botRef?.['sock']?.[_0x4587d2(0x1b4)]?.['id']||null;for(const [_0x5e8377,_0x1f496a]of _0x59dc99[_0x4587d2(0x1b5)]()){if(_0x1f496a['length']>0x9b2*-0x3+0x441+0x22*0xbb&&_0x5e8377!==_0x4f1bc9){let _0x5e08ea=_0x5e8377[_0x4587d2(0x1b2)]('@')[0x1979+0x124*0xe+-0x2971*0x1];for(const _0x48f338 of _0x1f496a){const _0x40339e=_0x34bd04['get'](_0x48f338['id']),_0x9e8d25=Array['isArray'](_0x40339e?.[_0x4587d2(0x211)+'ts'])?_0x40339e['participan'+'ts']:Object[_0x4587d2(0x1e4)](_0x40339e?.[_0x4587d2(0x211)+'ts']||{}),_0x5b0449=_0x9e8d25[_0x4587d2(0x1ba)](_0x427208=>_0x427208['id']===_0x5e8377);if(_0x5b0449?.[_0x4587d2(0x20f)]||_0x5b0449?.['pushName']){_0x5e08ea=_0x5b0449[_0x4587d2(0x20f)]||_0x5b0449[_0x4587d2(0x1d4)];break;}}_0x11efa['set'](_0x5e8377,{'name':_0x5e08ea,'groups':_0x1f496a});}}return _0x11efa;}function chunkMessage(_0x21791d,_0x1aa9c6=0x3*0xa12+0xce3+-0x1b19){const _0x2e6686=_0x3d7611,_0x541a7d=[];let _0x5edab4='';for(const _0x16b8c8 of _0x21791d[_0x2e6686(0x1b2)]('\x0a')){_0x5edab4[_0x2e6686(0x1fd)]+_0x16b8c8[_0x2e6686(0x1fd)]+(-0x4c6+0x1*0x2339+0x3*-0xa26)>_0x1aa9c6&&(_0x541a7d[_0x2e6686(0x20b)](_0x5edab4),_0x5edab4=''),_0x5edab4+=_0x16b8c8+'\x0a';}if(_0x5edab4)_0x541a7d[_0x2e6686(0x20b)](_0x5edab4);return _0x541a7d;}function _0xbf31(){const _0x1b2adb=['delete','has','trim','add','p.net',']\x20Could\x20no',']\x20onMessag','ata\x20for\x20','Examples:\x0a','s\x20under\x20ea','@g.us','cipating\x20i',']\x20groupFet','set','ticipates\x20','sendMessag','t\x20fetch\x20me','split','remoteJid','user','entries','replace','his\x20may\x20ta','5304948HDsLDA','catch','find','No\x20users\x20f','keys','forEach','leaned\x20up.','s\x20not\x20avai','caption','3nTArBO','re\x20in\x20more','ch\x20user.\x0a\x0a','hin\x20the\x20sp','\x20groups.\x20T','Common\x20Use','4267552fJRIgR','o\x20appear\x20i','et,\x2067890@','1015842WBwHLe','\x20users\x20in\x20',']\x20module\x20i','clear','nitialized','4864390uJFTPK','common','ance\x20not\x20c','r\x20Comparis','.\x20Skipping','pushName','test','slice','chAllParti','AllPartici','in)\x0a','list','3307920QlPuAH','ke\x20a\x20few\x20s','text','o\x20fetch\x20al','isCommand','489312kxSIGS','groups',']\x20No\x20metad','message','values','videoMessa','function','subject','groupMetad','ope).','toLowerCas','extendedTe','imageMessa','key','size','r\x20users\x20wh','@s.whatsap','ata','t\x20(scan\x20al','ðŸ”Ž\x20Scanning','3.2.1','pating','he\x20bot\x20ins','ps.','1647870CdRWeo','l\x20groups\x20t','join','isArray','on\x20(Admin\x20','length','\x20groups\x20fo','_jids]\x20â€”\x20L','l\x20particip','conversati',']\x20Bot\x20inst','xtMessage','onfigured','whatsapp.n','ist\x20[group','common\x20lis','\x20only\x20the\x20','endsWith','listed\x20gro','push','ups)','\x20than\x20one\x20','ating\x20grou','name','ups:\x0a\x0a','participan'];_0xbf31=function(){return _0x1b2adb;};return _0xbf31();}export async function initialize(_0x24c6c3){const _0x163411=_0x3d7611;botRef=_0x24c6c3,info('['+name+(_0x163411(0x1cc)+_0x163411(0x1ce)+'.'));}export async function onMessage(_0x15e237){const _0x2114d9=_0x3d7611;try{if(!_0x15e237?.[_0x2114d9(0x1ed)]?.[_0x2114d9(0x1b3)]||!_0x15e237[_0x2114d9(0x1e3)]||!_0x15e237[_0x2114d9(0x1df)])return;const _0x3c637b=_0x15e237[_0x2114d9(0x1ed)]['remoteJid'];if(!_0x3c637b[_0x2114d9(0x209)](_0x2114d9(0x21c)))return;const _0x59b02f=await isadmin(botRef,_0x15e237)[_0x2114d9(0x1b9)](()=>![]);if(!_0x59b02f)return;const _0x1b402e=(_0x15e237['text']||extractTextFromMessage(_0x15e237))[_0x2114d9(0x214)](),_0x3d13c6=_0x1b402e[_0x2114d9(0x1b2)](/\s+/),_0x212843=_0x3d13c6[0x1*-0x6ca+-0x7fb*0x1+0xec5]?.[_0x2114d9(0x1ea)+'e']();if(_0x212843!==_0x2114d9(0x1d0))return;const _0x516a68=_0x15e237[_0x2114d9(0x1ed)]['id'];if(_0x516a68){if(respondedMsgIds[_0x2114d9(0x213)](_0x516a68))return;respondedMsgIds[_0x2114d9(0x215)](_0x516a68),setTimeout(()=>respondedMsgIds[_0x2114d9(0x212)](_0x516a68),-0x5945*-0x1+0xaf74+-0x9389);}const _0x252f07=botRef?.['sock']||botRef;if(!_0x252f07){warn('['+name+(_0x2114d9(0x202)+_0x2114d9(0x1d1)+_0x2114d9(0x204)));return;}const _0xc41e23=_0x3d13c6[-0x8*-0x51+-0x8*-0x3d3+-0x3d*0x8b]?.[_0x2114d9(0x1ea)+'e'](),_0x1caa00=_0x3d13c6[_0x2114d9(0x1d6)](0x1fd*-0x3+0x3fa+0x1ff)[_0x2114d9(0x1fa)]('\x20');if(_0xc41e23===_0x2114d9(0x1da)){const _0xaf28f4=parseJids(_0x1caa00);await _0x252f07['sendMessag'+'e'](_0x3c637b,{'text':_0x2114d9(0x1f3)+_0x2114d9(0x1fe)+_0x2114d9(0x1ef)+_0x2114d9(0x1c8)+'n\x20multiple'+_0x2114d9(0x1c5)+_0x2114d9(0x1b7)+_0x2114d9(0x1dc)+'econds...'});const _0x2dd8d6=await findCommonUsersAndTheirGroups(_0xaf28f4);if(!_0x2dd8d6||_0x2dd8d6[_0x2114d9(0x1ee)]===-0xd1a*-0x2+-0x90*-0x2+-0x1b54){await _0x252f07[_0x2114d9(0x1b0)+'e'](_0x3c637b,{'text':_0x2114d9(0x1bb)+'ound\x20who\x20a'+_0x2114d9(0x1c2)+_0x2114d9(0x20d)+'group\x20(wit'+_0x2114d9(0x1c4)+'ecified\x20sc'+_0x2114d9(0x1e9)});return;}const _0x4c221c=[];let _0x350c10='ðŸ‘¥\x20Found\x20'+_0x2dd8d6[_0x2114d9(0x1ee)]+(_0x2114d9(0x1cb)+'common\x20gro'+_0x2114d9(0x210));for(const [_0x348409,_0x185842]of _0x2dd8d6[_0x2114d9(0x1b5)]()){_0x4c221c[_0x2114d9(0x20b)](_0x348409);const _0x34cd8a=_0x185842[_0x2114d9(0x20f)]||_0x348409['split']('@')[0x14*0x18e+-0x1999+-0x57f];_0x350c10+='ðŸ‘¤\x20@'+_0x348409[_0x2114d9(0x1b2)]('@')[0x1993+0x13ae+-0x677*0x7]+'\x20('+_0x34cd8a+')\x0a',_0x185842[_0x2114d9(0x1e1)][_0x2114d9(0x1bd)]((_0x5010ee,_0x4987b1)=>{const _0x5920b5=toLowerRoman(_0x4987b1+(0x1bcb+0xdb*0x2+-0x1d80));_0x350c10+='('+_0x5920b5+')\x20'+(_0x5010ee['subject']||_0x5010ee['id'])+'\x0a';}),_0x350c10+='\x0a';}const _0x558fad=chunkMessage(_0x350c10);for(const _0xdc3ba2 of _0x558fad){await _0x252f07[_0x2114d9(0x1b0)+'e'](_0x3c637b,{'text':_0xdc3ba2,'mentions':_0x4c221c});}return;}await _0x252f07[_0x2114d9(0x1b0)+'e'](_0x3c637b,{'text':_0x2114d9(0x1c6)+_0x2114d9(0x1d2)+_0x2114d9(0x1fc)+'Only)\x0a\x0a'+'Commands:\x0a'+('-\x20common\x20l'+_0x2114d9(0x206)+_0x2114d9(0x1ff)+'ists\x20users'+'\x20who\x20appea'+'r\x20in\x20multi'+'ple\x20groups'+'\x20and\x20shows'+'\x20the\x20group'+_0x2114d9(0x21b)+_0x2114d9(0x1c3))+_0x2114d9(0x21a)+(_0x2114d9(0x207)+_0x2114d9(0x1f2)+_0x2114d9(0x1f9)+'he\x20bot\x20par'+_0x2114d9(0x1af)+_0x2114d9(0x1d9))+(_0x2114d9(0x207)+'t\x2012345@s.'+_0x2114d9(0x205)+_0x2114d9(0x1c9)+'g.us\x20(scan'+_0x2114d9(0x208)+_0x2114d9(0x20a)+_0x2114d9(0x20c))});}catch(_0x3b41af){error(_0x3b41af,'['+name+(_0x2114d9(0x218)+'e\x20error'));}}export async function cleanup(){const _0x3e3c06=_0x3d7611;botRef=null,respondedMsgIds[_0x3e3c06(0x1cd)](),info('['+name+(']\x20module\x20c'+_0x3e3c06(0x1be)));}