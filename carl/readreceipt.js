const _0x44d834=_0x3bb3;(function(_0xc52daa,_0x1c503e){const _0x14cb56=_0x3bb3,_0x29b437=_0xc52daa();while(!![]){try{const _0x7e5002=-parseInt(_0x14cb56(0xb8))/(-0x227*0xd+-0xbd*0x25+0x126f*0x3)*(parseInt(_0x14cb56(0xd2))/(-0x63e+-0x1*-0x188e+-0x124e))+-parseInt(_0x14cb56(0xb3))/(-0x221e+-0xc4a+0x2e6b)+parseInt(_0x14cb56(0xa5))/(-0x1*-0xbf+0x734*-0x5+0x2349)*(parseInt(_0x14cb56(0xbb))/(-0x2696+-0x115*0x7+0x2e*0x101))+parseInt(_0x14cb56(0xa9))/(0x8f5*0x3+0x1*0x1457+0x2f3*-0x10)*(parseInt(_0x14cb56(0xaa))/(-0x187b*0x1+0xa*0xc1+0x10f8))+-parseInt(_0x14cb56(0xcc))/(0x682+-0x1cd0+0x1656)+parseInt(_0x14cb56(0xa7))/(-0x1a4e+0x19b9+-0x1*-0x9e)+-parseInt(_0x14cb56(0xb7))/(0x1d35+0x1*0x92+-0x1dbd)*(-parseInt(_0x14cb56(0xc2))/(0x1342+0x1*-0x1c14+-0x8dd*-0x1));if(_0x7e5002===_0x1c503e)break;else _0x29b437['push'](_0x29b437['shift']());}catch(_0x2f02db){_0x29b437['push'](_0x29b437['shift']());}}}(_0x8916,-0x3*0x63fee+0x399df+0x7737*0x3c));import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';export const name='message-re'+_0x44d834(0xad);export const version='1.0.1';function _0x8916(){const _0x4f8801=['dConfig\x20re',',\x20auto-rea','onfig\x20erro','\x20failed:\x20','822462ZVgzdz','r:\x20','ot\x20instanc','setZone','1432660YvVFgI','1795oRQSQX','ED_WITH_SE','CONDS','5tmOzzr','zoneName',':\x20auto-rea','robi','enabled','gistration','isValid','11ENhgUQ','ndler\x20erro','true','status@bro','\x20cleaned\x20u','ring','ge\x20from\x20','TIMEZONE_N','\x20initializ','zed\x20with\x20b','6311760UHjggR','AUTOREAD_M','\x20at\x20',':\x20hotReloa','sock','ESSAGES','852aouLDh','key','toLocaleSt','AME',':\x20initiali','e\x20error:\x20','fromMillis','rror:\x20','DATETIME_M','TIMEZONE','disabled',':\x20refreshC','function','ding\x20messa','\x20cleanup\x20e','3346220wXYxTq','adcast','12958461tKvlvJ','message','164358iZSOFL','63snwpXO','fromMe','rror','ader','now'];_0x8916=function(){return _0x4f8801;};return _0x8916();}export const priority=0x8a6+-0x2406*-0x1+-0x2ca7;let botInstance=null,DEFAULT_TIMEZONE='Africa/Nai'+_0x44d834(0xbe),AUTO_READ_MESSAGES=![];function refreshConfig(){const _0x4914b8=_0x44d834;try{const _0x423c4d=typeof getConfig===_0x4914b8(0xa2)?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x423c4d[_0x4914b8(0x9f)]||_0x423c4d[_0x4914b8(0xc9)+_0x4914b8(0xd5)]||DEFAULT_TIMEZONE,AUTO_READ_MESSAGES=_0x423c4d[_0x4914b8(0xcd)+_0x4914b8(0xd1)]===!![]||_0x423c4d[_0x4914b8(0xcd)+_0x4914b8(0xd1)]===_0x4914b8(0xc4),info(name+(':\x20timezone'+'\x20set\x20to\x20')+DEFAULT_TIMEZONE+(_0x4914b8(0xb0)+'d\x20')+(AUTO_READ_MESSAGES?_0x4914b8(0xbf):_0x4914b8(0xa0)));}catch(_0x583d87){warn(name+(_0x4914b8(0xa1)+_0x4914b8(0xb1)+_0x4914b8(0xb4))+(_0x583d87?.['message']||_0x583d87));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0x98dc64=_0x44d834;try{refreshConfig();}catch(_0x4316ed){warn(name+(_0x98dc64(0xcf)+'dConfig\x20ha'+_0x98dc64(0xc3)+_0x98dc64(0xb4))+(_0x4316ed?.[_0x98dc64(0xa8)]||_0x4316ed));}});}catch(_0x2a7278){warn(name+(':\x20hotReloa'+_0x44d834(0xaf)+_0x44d834(0xc0)+_0x44d834(0xb2))+(_0x2a7278?.['message']||_0x2a7278));}refreshConfig();function formatTimestamp(_0x9de6b=Date[_0x44d834(0xae)](),_0x49eb59=DEFAULT_TIMEZONE){const _0x4debe9=_0x44d834;try{const _0x41d5f7=DateTime[_0x4debe9(0xd8)](_0x9de6b)[_0x4debe9(0xb6)](_0x49eb59);if(!_0x41d5f7[_0x4debe9(0xc1)])return new Date(_0x9de6b)[_0x4debe9(0xd4)+'ring']();return _0x41d5f7['toLocaleSt'+_0x4debe9(0xc7)](DateTime[_0x4debe9(0x9e)+_0x4debe9(0xb9)+_0x4debe9(0xba)])+'\x20('+_0x41d5f7[_0x4debe9(0xbc)]+')';}catch{return new Date(_0x9de6b)[_0x4debe9(0xd4)+_0x4debe9(0xc7)]();}}export async function initialize(_0x150368){const _0x5756f0=_0x44d834;try{botInstance=_0x150368,info(name+(_0x5756f0(0xd6)+_0x5756f0(0xcb)+_0x5756f0(0xb5)+'e')),refreshConfig();}catch(_0x15095c){warn(name+(_0x5756f0(0xca)+_0x5756f0(0xd7))+(_0x15095c?.[_0x5756f0(0xa8)]||_0x15095c));}}function _0x3bb3(_0x17c566,_0x4a891c){const _0x3264ff=_0x8916();return _0x3bb3=function(_0x57e695,_0x48c470){_0x57e695=_0x57e695-(0x150b+0x55e+-0x19cc);let _0x3a3ec2=_0x3264ff[_0x57e695];return _0x3a3ec2;},_0x3bb3(_0x17c566,_0x4a891c);}export async function onMessage(_0x5edb50){const _0x567de4=_0x44d834;try{if(!AUTO_READ_MESSAGES)return;if(!_0x5edb50||!_0x5edb50['key']||!_0x5edb50['message'])return;const _0x4642e9=_0x5edb50[_0x567de4(0xd3)]['remoteJid']||_0x5edb50['remoteJid']||'',_0x238ed7=_0x5edb50['key'][_0x567de4(0xab)]||![];if(_0x4642e9===_0x567de4(0xc5)+_0x567de4(0xa6)||_0x238ed7)return;const _0xfdafd3=formatTimestamp(Date[_0x567de4(0xae)](),DEFAULT_TIMEZONE);info(name+(_0x567de4(0xbd)+_0x567de4(0xa3)+_0x567de4(0xc8))+_0x4642e9+_0x567de4(0xce)+_0xfdafd3),await botInstance?.[_0x567de4(0xd0)]?.['readMessag'+'es']([_0x5edb50[_0x567de4(0xd3)]]);}catch(_0x280a04){error(_0x280a04,name+('\x20handler\x20e'+_0x567de4(0xac)));}}export async function cleanup(){const _0x23870a=_0x44d834;try{botInstance=null,info(name+(_0x23870a(0xc6)+'p'));}catch(_0x38820f){warn(name+(_0x23870a(0xa4)+_0x23870a(0x9d))+(_0x38820f?.['message']||_0x38820f));}}export const configKeys=[_0x44d834(0xcd)+_0x44d834(0xd1),_0x44d834(0x9f),_0x44d834(0xc9)+_0x44d834(0xd5)];