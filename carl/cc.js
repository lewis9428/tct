const _0x184359=_0x4ff7;(function(_0x2bec99,_0x5edbd4){const _0x13df92=_0x4ff7,_0x18d1c0=_0x2bec99();while(!![]){try{const _0xa09e2b=parseInt(_0x13df92(0x290))/(0x1608+0x22f+-0x1836)+parseInt(_0x13df92(0x261))/(-0x1e1b+-0x1*-0x10ed+0xd30)*(parseInt(_0x13df92(0x2b0))/(0x11*0xb+-0x33*0x5+0x47*0x1))+-parseInt(_0x13df92(0x258))/(-0x8c4+-0x2ac*-0x2+0x370)*(parseInt(_0x13df92(0x243))/(-0x26f*0x1+0x1c4e+0x2*-0xced))+parseInt(_0x13df92(0x200))/(0x1*0x1223+-0x6e3*0x2+-0x457)*(-parseInt(_0x13df92(0x29e))/(0x1a0+0x1*0x169+-0x16*0x23))+parseInt(_0x13df92(0x28e))/(0x177+-0x2384+0x6d1*0x5)*(-parseInt(_0x13df92(0x28b))/(0x1*-0x331+0x1581+-0x1247))+-parseInt(_0x13df92(0x2cd))/(-0x2196+0xd17+-0x1*-0x1489)+parseInt(_0x13df92(0x22a))/(-0x542+-0x100d+0x155a);if(_0xa09e2b===_0x5edbd4)break;else _0x18d1c0['push'](_0x18d1c0['shift']());}catch(_0x2c27e6){_0x18d1c0['push'](_0x18d1c0['shift']());}}}(_0x37d0,0x86f80+-0xd*0x16c97+-0x1573a6*-0x1));import _0x109486 from'fs';import _0x238de8 from'path';import _0x2b1eb4 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x2b2153}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0x2b2153),mkdtemp=_0x109486[_0x184359(0x29c)][_0x184359(0x248)],writeFileAsync=_0x109486[_0x184359(0x29c)]['writeFile'],unlink=_0x109486[_0x184359(0x29c)][_0x184359(0x2c5)],rm=_0x109486['promises']['rm'],DEFAULT_SIZE=0x17a9+-0x1c+-0x150d;export const name='cc';export const version=_0x184359(0x240)+'d';export const priority=0x1d7d*0x1+-0x14ef+0x82*-0x10;export const configKeys=['ALLOW_GROU'+_0x184359(0x250)];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(-0x18bd+0x17*-0x83+0x2491)*(0x154c+-0x1145+-0x1f);function markSendProcessed(_0x2c7228){const _0x38ba90=_0x184359;if(!_0x2c7228)return;if(processedSendKeys[_0x38ba90(0x2b5)](_0x2c7228))try{clearTimeout(processedSendKeys[_0x38ba90(0x288)](_0x2c7228));}catch(_0x198333){}const _0xc4a99a=setTimeout(()=>processedSendKeys[_0x38ba90(0x2da)](_0x2c7228),PROCESSED_SEND_TTL_MS);processedSendKeys[_0x38ba90(0x26c)](_0x2c7228,_0xc4a99a);}function isSendProcessed(_0x11fb63){const _0x1c81e5=_0x184359;return _0x11fb63&&processedSendKeys[_0x1c81e5(0x2b5)](_0x11fb63);}function _0x4ff7(_0x129869,_0x51f4b9){const _0x4488c2=_0x37d0();return _0x4ff7=function(_0x21f6c2,_0x4c9150){_0x21f6c2=_0x21f6c2-(0x118d*0x2+0xf02+-0x302a);let _0x2f8d83=_0x4488c2[_0x21f6c2];return _0x2f8d83;},_0x4ff7(_0x129869,_0x51f4b9);}function clearAllProcessedSends(){const _0x58362c=_0x184359;for(const _0x4f885c of processedSendKeys[_0x58362c(0x25b)]())try{clearTimeout(_0x4f885c);}catch(_0x258a9f){}processedSendKeys['clear']();}function setupSendApi(){const _0x2d6026=_0x184359;if(!botRef)return;if(typeof botRef[_0x2d6026(0x22c)+'e']===_0x2d6026(0x211))sendApi=async(_0xc2f070,_0x4caca1,_0x43bf93={})=>await botRef['sendMessag'+'e'](_0xc2f070,_0x4caca1,_0x43bf93);else botRef[_0x2d6026(0x29d)]&&typeof botRef[_0x2d6026(0x29d)][_0x2d6026(0x22c)+'e']===_0x2d6026(0x211)?sendApi=async(_0x41fc58,_0x3bee3e,_0x41ece0={})=>await botRef[_0x2d6026(0x29d)][_0x2d6026(0x22c)+'e'](_0x41fc58,_0x3bee3e,_0x41ece0):sendApi=null;}async function safeSend(_0x328a70,_0x3de108,_0x511e91={}){const _0x1a0205=_0x184359;if(!sendApi){warn(_0x1a0205(0x25c)+'pi\x20not\x20ava'+_0x1a0205(0x22f));throw new Error('sendApi\x20no'+_0x1a0205(0x1f7)+'e');}return await sendApi(_0x328a70,_0x3de108,_0x511e91);}function refreshConfig(){const _0x5934bf=_0x184359;try{const _0x2542dd=typeof getConfig===_0x5934bf(0x211)?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x2542dd[_0x5934bf(0x227)+_0x5934bf(0x250)],info('[cc]\x20confi'+_0x5934bf(0x251)+'ROUP_COMMA'+_0x5934bf(0x231)+ALLOW_GROUP_COMMANDS);}catch(_0x190bea){warn(_0x5934bf(0x26d)+_0x5934bf(0x2c3)+_0x5934bf(0x2c9)+(_0x190bea?.[_0x5934bf(0x2c6)]||_0x190bea));}}try{typeof hotReloadConfig===_0x184359(0x211)&&hotReloadConfig(()=>{const _0x34fd4a=_0x184359;try{refreshConfig();}catch(_0xab0f8c){warn(_0x34fd4a(0x280)+_0x34fd4a(0x281)+_0x34fd4a(0x2bb)+_0x34fd4a(0x2c9)+(_0xab0f8c?.[_0x34fd4a(0x2c6)]||_0xab0f8c));}});}catch(_0x4b3e1f){}refreshConfig();function getQuotedWrap(_0x41b056){const _0x25f067=_0x184359;if(!_0x41b056||!_0x41b056[_0x25f067(0x2c6)])return null;const _0x277b03=_0x41b056[_0x25f067(0x2c6)]?.[_0x25f067(0x215)+_0x25f067(0x277)]?.[_0x25f067(0x269)+'o'];if(_0x277b03&&_0x277b03['quotedMess'+_0x25f067(0x23d)])return{'quoted':_0x277b03[_0x25f067(0x2b1)+_0x25f067(0x23d)],'quotedKey':_0x277b03};for(const _0x401bf6 of Object[_0x25f067(0x276)](_0x41b056[_0x25f067(0x2c6)]||{})){const _0xc76bf3=_0x41b056['message'][_0x401bf6];if(_0xc76bf3&&_0xc76bf3[_0x25f067(0x269)+'o']&&_0xc76bf3['contextInf'+'o']['quotedMess'+_0x25f067(0x23d)])return{'quoted':_0xc76bf3[_0x25f067(0x269)+'o'][_0x25f067(0x2b1)+'age'],'quotedKey':_0xc76bf3['contextInf'+'o']};}const _0x460e35=_0x41b056[_0x25f067(0x2c6)]?.[_0x25f067(0x269)+'o']?.['quotedMess'+_0x25f067(0x23d)]||_0x41b056[_0x25f067(0x2c6)]?.[_0x25f067(0x22b)+_0x25f067(0x27c)]?.['quotedMess'+'age'],_0x4934e0=_0x41b056[_0x25f067(0x2c6)]?.['contextInf'+'o']?.['participan'+'t']||_0x41b056[_0x25f067(0x2c6)]?.[_0x25f067(0x22b)+'textInfo']?.[_0x25f067(0x1fc)+'t']||null;if(_0x460e35)return{'quoted':_0x460e35,'quotedKey':{'participant':_0x4934e0}};return null;}function isVideoNode(_0xd36bff){const _0x13d23c=_0x184359;if(!_0xd36bff)return![];if(_0xd36bff[_0x13d23c(0x214)+'ge'])return!![];if(_0xd36bff['message']&&_0xd36bff[_0x13d23c(0x2c6)][_0x13d23c(0x214)+'ge'])return!![];if(_0xd36bff[_0x13d23c(0x226)+_0x13d23c(0x1f3)]&&typeof _0xd36bff[_0x13d23c(0x226)+'ssage'][_0x13d23c(0x2dc)]===_0x13d23c(0x235)&&_0xd36bff['documentMe'+_0x13d23c(0x1f3)][_0x13d23c(0x2dc)][_0x13d23c(0x2d2)](_0x13d23c(0x213)))return!![];return![];}async function streamQuotedMediaToFile(_0x5eb81b,_0x2fa49c){const _0x2bb7b0=_0x184359;try{const _0x1a1509=[{'node':_0x5eb81b[_0x2bb7b0(0x214)+'ge'],'type':_0x2bb7b0(0x213)},{'node':_0x5eb81b[_0x2bb7b0(0x226)+_0x2bb7b0(0x1f3)]&&String(_0x5eb81b[_0x2bb7b0(0x226)+_0x2bb7b0(0x1f3)][_0x2bb7b0(0x2dc)]||'')[_0x2bb7b0(0x2d2)]('video')?_0x5eb81b[_0x2bb7b0(0x226)+'ssage']:null,'type':_0x2bb7b0(0x213)},{'node':_0x5eb81b[_0x2bb7b0(0x2c6)]?.[_0x2bb7b0(0x214)+'ge'],'type':'video'},{'node':_0x5eb81b[_0x2bb7b0(0x2c6)]?.[_0x2bb7b0(0x226)+_0x2bb7b0(0x1f3)]&&String(_0x5eb81b[_0x2bb7b0(0x2c6)]['documentMe'+_0x2bb7b0(0x1f3)]['mimetype']||'')['startsWith'](_0x2bb7b0(0x213))?_0x5eb81b[_0x2bb7b0(0x2c6)][_0x2bb7b0(0x226)+_0x2bb7b0(0x1f3)]:null,'type':_0x2bb7b0(0x213)}];let _0x1e1eab=null,_0x345054=null;for(const _0x4e04c8 of _0x1a1509){if(_0x4e04c8[_0x2bb7b0(0x2a0)]){_0x1e1eab=_0x4e04c8[_0x2bb7b0(0x2a0)],_0x345054=_0x4e04c8[_0x2bb7b0(0x2ca)];break;}}if(!_0x1e1eab||!_0x345054)return null;let _0x512750=_0x2bb7b0(0x25a);if(_0x345054===_0x2bb7b0(0x213))_0x512750=_0x2bb7b0(0x25a);if(_0x1e1eab[_0x2bb7b0(0x1ff)]){const _0x74e387=String(_0x1e1eab['fileName'])['split']('.')[_0x2bb7b0(0x24d)]();if(_0x74e387&&_0x74e387[_0x2bb7b0(0x209)]<=-0x21bf+0x1dda+-0xf*-0x43)_0x512750=_0x74e387;}else{if(_0x1e1eab[_0x2bb7b0(0x2dc)]){if(_0x1e1eab[_0x2bb7b0(0x2dc)][_0x2bb7b0(0x216)]('mp4'))_0x512750=_0x2bb7b0(0x25a);else{if(_0x1e1eab[_0x2bb7b0(0x2dc)][_0x2bb7b0(0x216)](_0x2bb7b0(0x285)))_0x512750=_0x2bb7b0(0x285);}}}const _0x575578=_0x238de8[_0x2bb7b0(0x291)](_0x2fa49c,_0x2bb7b0(0x262)+Date[_0x2bb7b0(0x2c7)]()+'.'+_0x512750),_0x13adbf=await downloadContentFromMessage(_0x1e1eab,_0x345054);if(!_0x13adbf)return null;const _0x139473=_0x109486[_0x2bb7b0(0x2cb)+_0x2bb7b0(0x1f2)](_0x575578);return await pipeline(_0x13adbf,_0x139473),{'path':_0x575578,'type':_0x345054,'contentNode':_0x1e1eab};}catch(_0x204762){return warn(_0x2bb7b0(0x286)+_0x2bb7b0(0x2e2)+_0x2bb7b0(0x2e9)+_0x2bb7b0(0x282)+(_0x204762?.[_0x2bb7b0(0x2c6)]||_0x204762)),null;}}function spawnFFmpeg(_0x477bed,_0x315ed7){return new Promise((_0x5165e2,_0x4ffb4a)=>{const _0x71fdd4=_0x4ff7,_0xcd5068=spawn('ffmpeg',_0x477bed,{'stdio':[_0x71fdd4(0x2ec),_0x71fdd4(0x254),_0x71fdd4(0x254)]});let _0x369b38='';_0xcd5068['stderr']['on']('data',_0x3e931a=>{const _0x50e83b=_0x71fdd4;_0x369b38+=_0x3e931a[_0x50e83b(0x20c)]();if(_0x315ed7)_0x315ed7(_0x3e931a);}),_0xcd5068['on'](_0x71fdd4(0x2ac),_0x2c916c=>{const _0x3e50ae=_0x71fdd4;if(_0x2c916c===0x135*-0x1+0x17*0x1a3+-0x2470)_0x5165e2(_0x369b38);else _0x4ffb4a(new Error(_0x3e50ae(0x256)+_0x3e50ae(0x208)+_0x2c916c+'\x0a'+_0x369b38));}),_0xcd5068['on']('error',_0x138c78=>_0x4ffb4a(_0x138c78));});}async function transcodeToVideoNote(_0x459bef,_0xd09efc,_0x1b379e=DEFAULT_SIZE){const _0x57b24d=_0x184359,_0x69df7f=['-y','-i',_0x459bef,'-t','60','-vf',_0x57b24d(0x2ee)+_0x57b24d(0x207)+_0x1b379e+(_0x57b24d(0x24f)+_0x57b24d(0x29b)+',')+_0x1b379e+_0x57b24d(0x205)+_0x1b379e+':'+_0x1b379e+(_0x57b24d(0x28c)+_0x57b24d(0x25f)+_0x57b24d(0x2d5)),'-r','30',_0x57b24d(0x212),'libx264',_0x57b24d(0x2e4),_0x57b24d(0x28d),'-level',_0x57b24d(0x220),_0x57b24d(0x20a),_0x57b24d(0x266),_0x57b24d(0x289),'28',_0x57b24d(0x24e),_0x57b24d(0x228),_0x57b24d(0x2eb),'64k',_0xd09efc];return await spawnFFmpeg(_0x69df7f),_0xd09efc;}async function audioToVideoNote(_0x483884,_0x1def4a,_0xc6d84b=null,_0x18e7ca=DEFAULT_SIZE){const _0x57af7e=_0x184359,_0x45f736=_0x238de8[_0x57af7e(0x2d3)](_0x1def4a),_0x300849=_0x238de8[_0x57af7e(0x291)](_0x45f736,'audio_inte'+_0x57af7e(0x2a5)+Date[_0x57af7e(0x2c7)]()+_0x57af7e(0x1fb)),_0x4e2828=_0xc6d84b||_0x238de8[_0x57af7e(0x291)](_0x45f736,'audio_cove'+'r_'+Date['now']()+'.png');!_0xc6d84b&&await spawnFFmpeg(['-y','-f',_0x57af7e(0x2ae),'-i',_0x57af7e(0x1fd)+'k:s='+_0x18e7ca+'x'+_0x18e7ca,_0x4e2828]);await spawnFFmpeg(['-y',_0x57af7e(0x26f),'1','-i',_0x4e2828,'-i',_0x483884,_0x57af7e(0x212),_0x57af7e(0x2c8),'-t','60',_0x57af7e(0x24e),_0x57af7e(0x228),_0x57af7e(0x2eb),_0x57af7e(0x1f4),_0x57af7e(0x1fa),_0x57af7e(0x20a),_0x57af7e(0x266),_0x300849]),await transcodeToVideoNote(_0x300849,_0x1def4a,_0x18e7ca);try{await unlink(_0x300849);}catch(_0x55b915){}if(!_0xc6d84b)try{await unlink(_0x4e2828);}catch(_0x44b558){}return _0x1def4a;}function normalizeTarget(_0x87e0db){const _0x57bbfb=_0x184359;if(!_0x87e0db)return null;let _0x282347=String(_0x87e0db)[_0x57bbfb(0x2d1)]();if(_0x282347[_0x57bbfb(0x216)]('@'))try{return jidNormalizedUser(_0x282347);}catch(_0x382c5f){return _0x282347;}_0x282347=_0x282347[_0x57bbfb(0x259)](/[^\d]/g,'');if(!_0x282347)return null;if(_0x282347[_0x57bbfb(0x209)]<0x747+0x3*-0x721+0xe24||_0x282347[_0x57bbfb(0x209)]>-0x329*-0x1+-0x1*0xe35+0xb1b)return null;return _0x282347+('@s.whatsap'+_0x57bbfb(0x2af));}export async function initialize(_0x18ac7e){const _0x4c8449=_0x184359;if(!_0x18ac7e)throw new Error(_0x4c8449(0x1f5)+_0x4c8449(0x1f9)+'es\x20bot\x20ins'+'tance');botRef=_0x18ac7e,setupSendApi(),refreshConfig();try{const _0x109f38=getBotJid();info(_0x4c8449(0x2e1)+_0x4c8449(0x21b)+'\x20default;\x20'+'set\x20ALLOW_'+_0x4c8449(0x253)+'ANDS=true\x20'+_0x4c8449(0x298)+'n\x20groups).'+_0x4c8449(0x2a9)+(_0x109f38||_0x4c8449(0x21c)));}catch(_0x2e5303){info(_0x4c8449(0x2e1)+_0x4c8449(0x274)+_0x4c8449(0x255)+_0x4c8449(0x202));}}export async function onMessage(_0x4dd5f7){const _0x1de772=_0x184359;try{if(!_0x4dd5f7||!_0x4dd5f7[_0x1de772(0x29f)]||!_0x4dd5f7[_0x1de772(0x2c6)])return;const _0x36157f=typeof _0x4dd5f7[_0x1de772(0x2a2)]==='string'&&_0x4dd5f7[_0x1de772(0x2a2)][_0x1de772(0x2d1)]()?_0x4dd5f7[_0x1de772(0x2a2)]['trim']():_0x4dd5f7['message']?.[_0x1de772(0x23b)+'on']||_0x4dd5f7[_0x1de772(0x2c6)]?.['extendedTe'+_0x1de772(0x277)]?.[_0x1de772(0x2a2)]||_0x4dd5f7['message']?.[_0x1de772(0x214)+'ge']?.['caption']||_0x4dd5f7[_0x1de772(0x2c6)]?.[_0x1de772(0x2be)+'ge']?.['caption']||_0x4dd5f7[_0x1de772(0x2c6)]?.[_0x1de772(0x226)+'ssage']?.[_0x1de772(0x2e8)]||'';if(!_0x36157f)return;const _0x2b8155=_0x36157f[_0x1de772(0x2d1)](),_0x2a7804=_0x2b8155[_0x1de772(0x26b)](/\s+/),_0x4c535f=_0x2a7804[0x635+-0x1f23+-0x18ee*-0x1][_0x1de772(0x2ad)+'e']();if(!(_0x4c535f==='cc'||/^\/cc\b/i['test'](_0x2b8155)))return;const _0x3aa05a=_0x4dd5f7[_0x1de772(0x29f)][_0x1de772(0x2bc)],_0x1504a1=typeof _0x3aa05a==='string'&&_0x3aa05a[_0x1de772(0x271)](_0x1de772(0x28a));if(_0x1504a1){if(!ALLOW_GROUP_COMMANDS){info(_0x1de772(0x1f6)+'\x20command\x20i'+_0x1de772(0x2cc)+'LOW_GROUP_'+_0x1de772(0x273)+_0x1de772(0x24b));return;}let _0x5ac251=![];try{_0x5ac251=await isadmin(botRef,_0x4dd5f7);}catch(_0x10519c){warn(_0x1de772(0x234)+_0x1de772(0x26e)+'ailed:\x20'+(_0x10519c?.['message']||_0x10519c)),_0x5ac251=![];}if(!_0x5ac251){if(sendApi)try{await safeSend(_0x3aa05a,{'text':'Only\x20group'+'\x20admins\x20ma'+_0x1de772(0x206)+_0x1de772(0x2bd)+'fig\x20restri'+_0x1de772(0x229),'quoted':_0x4dd5f7[_0x1de772(0x29f)]});}catch(_0x607c1a){}return;}}let _0x2fe01a=_0x2a7804[0x25a0+-0x2469+-0x136]||null;if(!_0x2fe01a&&_0x36157f[_0x1de772(0x216)]('\x0a')){const _0x2f0578=_0x36157f[_0x1de772(0x26b)](/\r?\n/)[_0x1de772(0x244)](_0xdf0630=>_0xdf0630['trim']())['filter'](Boolean);if(_0x2f0578[_0x1de772(0x209)]>=0x66*-0x38+-0x93a*-0x4+0x74b*-0x2)_0x2fe01a=_0x2f0578[0x18*-0xd1+0x49b+0xefe][_0x1de772(0x26b)](/\s+/)[0x1dc6+-0x4a*-0x3d+0x25*-0x148];}let _0x5a11cb=getQuotedWrap(_0x4dd5f7),_0x25e8e0=![];!_0x5a11cb&&((_0x4dd5f7[_0x1de772(0x2c6)]?.['videoMessa'+'ge']||_0x4dd5f7[_0x1de772(0x2c6)]?.[_0x1de772(0x226)+_0x1de772(0x1f3)]&&String(_0x4dd5f7['message'][_0x1de772(0x226)+_0x1de772(0x1f3)][_0x1de772(0x2dc)]||'')[_0x1de772(0x2d2)](_0x1de772(0x213)))&&(_0x5a11cb={'quoted':_0x4dd5f7['message'],'quotedKey':_0x4dd5f7[_0x1de772(0x2c6)]?.[_0x1de772(0x269)+'o']||{}},_0x25e8e0=!![]));if(!_0x2fe01a){const _0x96cc67=_0x3aa05a;sendApi&&await safeSend(_0x96cc67,{'text':_0x1de772(0x21d)+_0x1de772(0x218)+_0x1de772(0x23f)+_0x1de772(0x241)+'\x20<number\x20o'+_0x1de772(0x252)+_0x1de772(0x287)+'video\x20with'+_0x1de772(0x2d0)+_0x1de772(0x2de)+_0x1de772(0x2a4)+_0x1de772(0x2ab)+_0x1de772(0x1f8)+_0x1de772(0x2aa)+_0x1de772(0x21f)+'2036338072'+'2467155@g.'+_0x1de772(0x2e0),'quoted':_0x4dd5f7[_0x1de772(0x29f)]});return;}if(!_0x5a11cb||!_0x5a11cb[_0x1de772(0x294)]){if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x24a)+'ly\x20to\x20a\x20vi'+_0x1de772(0x23f)+_0x1de772(0x2f0)+'\x20a\x20video\x20w'+_0x1de772(0x2b6)+_0x1de772(0x247)+_0x1de772(0x2df)+'convert\x20it'+'\x20into\x20a\x20vi'+_0x1de772(0x210),'quoted':_0x4dd5f7[_0x1de772(0x29f)]});return;}if(!isVideoNode(_0x5a11cb['quoted'])){const _0x512906=_0x5a11cb[_0x1de772(0x294)];if(_0x512906[_0x1de772(0x2be)+'ge']){if(sendApi)await safeSend(_0x3aa05a,{'text':'The\x20replie'+'d\x20media\x20is'+_0x1de772(0x275)+_0x1de772(0x221)+_0x1de772(0x260)+_0x1de772(0x2b3)+_0x1de772(0x2b7)+'-notes.\x20Pl'+_0x1de772(0x1fe)+_0x1de772(0x2f1)+_0x1de772(0x20d)+_0x1de772(0x225)+_0x1de772(0x2e6)+_0x1de772(0x201)+'e.','quoted':_0x4dd5f7[_0x1de772(0x29f)]})[_0x1de772(0x264)](()=>{});}else{if(_0x512906[_0x1de772(0x232)+'sage']){if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x27a)+_0x1de772(0x2c1)+_0x1de772(0x21e)+_0x1de772(0x2b8)+'not\x20be\x20con'+_0x1de772(0x268)+'a\x20video-no'+_0x1de772(0x27e)+_0x1de772(0x279)+'a\x20video\x20me'+_0x1de772(0x278),'quoted':_0x4dd5f7['key']})[_0x1de772(0x264)](()=>{});}else{if(_0x512906['audioMessa'+'ge']){if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x27a)+_0x1de772(0x2c1)+_0x1de772(0x222)+_0x1de772(0x2b2)+'urrently\x20e'+'xpects\x20a\x20v'+_0x1de772(0x223)+_0x1de772(0x27b)+_0x1de772(0x2cf)+_0x1de772(0x2db)+'se\x20reply\x20t'+'o\x20a\x20video\x20'+_0x1de772(0x2d8),'quoted':_0x4dd5f7['key']})[_0x1de772(0x264)](()=>{});}else{if(_0x512906[_0x1de772(0x226)+_0x1de772(0x1f3)]&&_0x512906[_0x1de772(0x226)+'ssage'][_0x1de772(0x2dc)]&&_0x512906[_0x1de772(0x226)+'ssage'][_0x1de772(0x2dc)][_0x1de772(0x2d2)](_0x1de772(0x24c))){if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x27a)+'d\x20document'+_0x1de772(0x2b9)+_0x1de772(0x263)+'verts\x20*vid'+_0x1de772(0x2a3)+_0x1de772(0x27d)+'ply\x20to\x20a\x20v'+_0x1de772(0x223)+_0x1de772(0x246),'quoted':_0x4dd5f7[_0x1de772(0x29f)]})['catch'](()=>{});}else{if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x27a)+_0x1de772(0x2c1)+_0x1de772(0x245)+_0x1de772(0x27f)+_0x1de772(0x2a8)+_0x1de772(0x23e)+_0x1de772(0x25d)+_0x1de772(0x2a1)+_0x1de772(0x236)+'\x20message\x20t'+_0x1de772(0x23c)+_0x1de772(0x2ea)+_0x1de772(0x2c4)+'.','quoted':_0x4dd5f7[_0x1de772(0x29f)]})['catch'](()=>{});}}}}return;}const _0x138485=normalizeTarget(_0x2fe01a);if(!_0x138485){if(sendApi)await safeSend(_0x3aa05a,{'text':'Could\x20not\x20'+_0x1de772(0x2c2)+_0x1de772(0x203)+_0x2fe01a+(_0x1de772(0x2b4)+_0x1de772(0x283)+_0x1de772(0x26a)+_0x1de772(0x2d9)+_0x1de772(0x284)+_0x1de772(0x2dd)+_0x1de772(0x2a6)),'quoted':_0x4dd5f7[_0x1de772(0x29f)]});return;}try{const _0x365fee=getBotJid();if(_0x365fee&&_0x138485===_0x365fee){if(sendApi)await safeSend(_0x3aa05a,{'text':'Refusing\x20t'+'o\x20send\x20the'+_0x1de772(0x25e)+'\x20video-not'+_0x1de772(0x20b)+_0x1de772(0x237),'quoted':_0x4dd5f7['key']});return;}}catch(_0x4573cc){}const _0x3bf3fd=String(_0x4dd5f7['key']['id']||''),_0x4e7f25=_0x3bf3fd+'::'+_0x138485;if(isSendProcessed(_0x4e7f25)){info(_0x1de772(0x20e)+_0x1de772(0x293)+_0x1de772(0x2ce)+'r\x20'+_0x4e7f25);return;}markSendProcessed(_0x4e7f25);const _0x34c1bf=await mkdtemp(_0x238de8[_0x1de772(0x291)](_0x2b1eb4[_0x1de772(0x2e7)](),_0x1de772(0x238)));let _0x34fb5d=null;try{const _0x289fdb=_0x5a11cb['quoted'],_0xf19727=_0x289fdb?.[_0x1de772(0x214)+'ge']?.[_0x1de772(0x265)+'ail']||_0x289fdb?.[_0x1de772(0x226)+'ssage']?.['jpegThumbn'+'ail']||_0x289fdb?.['message']?.['videoMessa'+'ge']?.[_0x1de772(0x265)+_0x1de772(0x296)]||null;_0xf19727&&(Buffer[_0x1de772(0x2d4)](_0xf19727)||_0xf19727 instanceof Uint8Array)&&(_0x34fb5d=_0x238de8['join'](_0x34c1bf,_0x1de772(0x22e)),await writeFileAsync(_0x34fb5d,Buffer['from'](_0xf19727)));const _0x72494f=await streamQuotedMediaToFile(_0x289fdb,_0x34c1bf);if(!_0x72494f){if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x28f)+_0x1de772(0x297)+_0x1de772(0x270)+_0x1de772(0x295)+_0x1de772(0x239)+_0x1de772(0x2c0)+_0x1de772(0x267)+_0x1de772(0x249)+_0x1de772(0x29a)+_0x1de772(0x233)+_0x1de772(0x2a7)+_0x1de772(0x2ed),'quoted':_0x4dd5f7[_0x1de772(0x29f)]});await rm(_0x34c1bf,{'recursive':!![],'force':!![]})[_0x1de772(0x264)](()=>{});return;}const {path:_0x2b296c,type:_0x4b0b36}=_0x72494f,_0x12531e=_0x238de8[_0x1de772(0x291)](_0x34c1bf,_0x1de772(0x20f)+Date[_0x1de772(0x2c7)]()+_0x1de772(0x1fb));await transcodeToVideoNote(_0x2b296c,_0x12531e);const _0x201b39={'video':{'url':_0x12531e},'mimetype':_0x1de772(0x21a),'fileName':_0x1de772(0x242)+_0x1de772(0x1fb),'ptv':!![]};try{if(!sendApi)throw new Error(_0x1de772(0x2e3)+_0x1de772(0x1f7)+'e');await safeSend(_0x138485,_0x201b39),info(_0x1de772(0x224)+_0x1de772(0x22d)+'\x20to\x20'+_0x138485);if(sendApi){const _0x28b5bd=_0x25e8e0?_0x1de772(0x219)+_0x1de772(0x2c4)+_0x1de772(0x272)+_0x138485+(_0x1de772(0x2ba)+_0x1de772(0x2bf)+_0x1de772(0x257)+_0x1de772(0x299)):_0x1de772(0x219)+_0x1de772(0x2c4)+'\x20sent\x20to\x20'+_0x138485+'.';await safeSend(_0x3aa05a,{'text':_0x28b5bd,'quoted':_0x4dd5f7[_0x1de772(0x29f)]})['catch'](()=>{});}}catch(_0x5f05ed){error(_0x5f05ed,_0x1de772(0x230)+'d\x20sending\x20'+_0x1de772(0x2ef)+_0x138485+':\x20'+(_0x5f05ed?.['message']||_0x5f05ed));if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x28f)+_0x1de772(0x292)+'\x20'+_0x138485+':\x20'+(_0x5f05ed?.[_0x1de772(0x2c6)]||_0x5f05ed),'quoted':_0x4dd5f7[_0x1de772(0x29f)]})[_0x1de772(0x264)](()=>{});}try{await unlink(_0x2b296c)[_0x1de772(0x264)](()=>{}),await unlink(_0x12531e)[_0x1de772(0x264)](()=>{});if(_0x34fb5d)await unlink(_0x34fb5d)[_0x1de772(0x264)](()=>{});await rm(_0x34c1bf,{'recursive':!![],'force':!![]});}catch(_0x2b0740){}}catch(_0x5df1ea){error(_0x5df1ea,_0x1de772(0x204)+'nal\x20error:'+'\x20'+(_0x5df1ea?.[_0x1de772(0x2c6)]||_0x5df1ea));if(sendApi)await safeSend(_0x3aa05a,{'text':_0x1de772(0x23a)+'\x20failed:\x20'+(_0x5df1ea?.[_0x1de772(0x2c6)]||_0x5df1ea),'quoted':_0x4dd5f7[_0x1de772(0x29f)]})[_0x1de772(0x264)](()=>{});await rm(_0x34c1bf,{'recursive':!![],'force':!![]})['catch'](()=>{});}}catch(_0x418a00){error(_0x418a00,_0x1de772(0x2e5)+_0x1de772(0x217)+(_0x418a00?.[_0x1de772(0x2c6)]||_0x418a00));}}export async function cleanup(){const _0x64e42d=_0x184359;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x64e42d(0x2d6)+_0x64e42d(0x2d7));}function _0x37d0(){const _0xa95ccb=['ted\x20media\x20','deo\x20messag','1.8.1-fixe','e\x20with\x20`cc','video_note','10YKpALL','map','\x20not\x20a\x20vid','ge.','n\x20`cc\x20<num','mkdtemp','\x20Ensure\x20th','Please\x20rep','alse)','image','pop','-c:a',',-2)\x27:\x27if(','P_COMMANDS','g:\x20ALLOW_G','r\x20JID>`\x20—\x20','GROUP_COMM','pipe','tJid\x20unkno','ffmpeg\x20exi','o\x20with\x20cap','695140PMSBey','replace','mp4','values','[cc]\x20sendA','shape.\x20Ple','\x20generated',':(oh-ih)/2','c\x20converts','10XiibPI','in_','ge.\x20cc\x20con','catch','jpegThumbn','veryfast','cessible).','verted\x20to\x20','contextInf','onal\x20digit','split','set','[cc]\x20refre','in\x20check\x20f','-loop','he\x20quoted\x20','endsWith','\x20sent\x20to\x20','COMMANDS=f','alized\x20(bo','\x20an\x20image\x20','keys','xtMessage','ssage.','\x20reply\x20to\x20','The\x20replie','ge\x20(or\x20a\x20v','textInfo','\x20Please\x20re','te.\x20Please','eo\x20or\x20is\x20a','[cc]\x20hotRe','loadConfig','ailed:\x20','\x20internati','g.\x202547...','webm','[cc]\x20strea','OR\x20send\x20a\x20','get','-crf','@g.us','2622798amjPjP',':(ow-iw)/2','baseline','32BZUFmy','Failed\x20to\x20','654391NXrhDs','join','deliver\x20to','cate\x20send\x20','quoted','video\x20(it\x20','ail','download\x20t','to\x20allow\x20i','tion.)','e\x20media\x20is','gt(a,1),-2','promises','sock','7PcKHlf','key','node','ase\x20reply\x20','text','eos*\x20only.','>`\x20(no\x20rep','rmediate_','id\x20JID.','nd\x20try\x20aga','n\x20unsuppor','\x20botJid=','47XXXXXXXX','ly).\x20Examp','close','toLowerCas','lavfi','p.net','452607osxnNr','quotedMess','file.\x20cc\x20c','\x20*videos*\x20','\x22.\x20Provide','has','ith\x20captio','into\x20video','\x20which\x20can','\x20is\x20an\x20ima','.\x20(You\x20sen','\x20handler\x20e','remoteJid','server-con','imageMessa','t\x20the\x20vide','ty\x20or\x20inac','d\x20media\x20is','parse\x20targ','shConfig\x20e','video-note','unlink','message','now','libx264','rror:\x20','type','createWrit','gnored\x20(AL','145120XakWuz','skipped\x20fo','ideo\x20docum','\x20caption\x20`','trim','startsWith','dirname','isBuffer',',setsar=1','[cc]\x20clean','ed\x20up','message.','s\x20only\x20(e.','delete','ent).\x20Plea','mimetype',')\x20or\x20a\x20val','cc\x20<number','ber>`)\x20to\x20','us`','[cc]\x20initi','mQuotedMed','sendApi\x20no','-profile:v','[cc]\x20handl','\x20it\x20into\x20a','tmpdir','caption','iaToFile\x20f','it\x20into\x20a\x20','-b:a','ignore','in.','scale=\x27if(','to\x20','e\x20(or\x20send','\x20to\x20a\x20vide','eStream','ssage','64k','cc.initial','[cc]\x20group','t\x20availabl','le:\x20`cc\x2025','ize\x20requir','-shortest','.mp4','participan','color=blac','ease\x20reply','fileName','7519296eNRtiB','\x20video-not','wn)','et\x20\x22','[cc]\x20inter',')\x27,pad=','y\x20use\x20cc\x20(','gt(a,1),','t\x20code\x20','length','-preset','e\x20to\x20the\x20b','toString','o\x20message\x20','[cc]\x20dupli','out_','deo-note.','function','-c:v','video','videoMessa','extendedTe','includes','er\x20error:\x20','ly\x20to\x20a\x20vi','Converted\x20','video/mp4','alized\x20(PM','<unknown>','Usage:\x20rep','\x20a\x20sticker','`\x20or\x20`cc\x201','3.0','(photo).\x20c','\x20an\x20audio\x20','ideo\x20messa','[cc]\x20sent\x20','to\x20convert','documentMe','ALLOW_GROU','aac','cted).','23293479agcOTw','messageCon','sendMessag','video\x20note','thumb.jpg','ilable','[cc]\x20faile','NDS=','stickerMes','\x20present\x20a','[cc]\x20isadm','string','to\x20a\x20video','ot\x20itself.','cc-','may\x20be\x20emp','Conversion','conversati','o\x20convert\x20','age'];_0x37d0=function(){return _0xa95ccb;};return _0x37d0();}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};