const _0x3d30e4=_0x3d06;(function(_0x3d6eab,_0x2d1312){const _0x51e8f1=_0x3d06,_0xfdd624=_0x3d6eab();while(!![]){try{const _0xdfb921=parseInt(_0x51e8f1(0x116))/(0x4a1+-0x1d78+0x18d8)*(-parseInt(_0x51e8f1(0x175))/(0x2*0x3f6+-0x1*0x1a51+-0x1*-0x1267))+parseInt(_0x51e8f1(0x1b2))/(0xa0c+-0x1de8+-0x13df*-0x1)*(parseInt(_0x51e8f1(0x114))/(-0x7d*0x4a+-0x225c+0x4682))+parseInt(_0x51e8f1(0x1d8))/(-0x2*0x9f5+-0x3a*0x84+0x1*0x31d7)+parseInt(_0x51e8f1(0x1b5))/(0xd3d+-0x161*-0x1+0x4*-0x3a6)+parseInt(_0x51e8f1(0x133))/(0x6f*0x21+0x22b*0x3+-0x139*0x11)+parseInt(_0x51e8f1(0x112))/(0x4c*-0x73+0x3d7*-0x3+-0x1*-0x2db1)*(-parseInt(_0x51e8f1(0x153))/(-0xb41+-0xa56+-0x15a*-0x10))+-parseInt(_0x51e8f1(0x137))/(-0x1*-0xad2+-0x107c+-0x92*-0xa)*(parseInt(_0x51e8f1(0x109))/(0x1256+-0x7d4*0x2+-0x2a3));if(_0xdfb921===_0x2d1312)break;else _0xfdd624['push'](_0xfdd624['shift']());}catch(_0x488d92){_0xfdd624['push'](_0xfdd624['shift']());}}}(_0x2d6a,0x870e+0x28f31+-0x23b1*-0x7));import _0x1727f0 from'fs';import _0xa0c1a7 from'path';import _0x5a3e95 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x1afcf0}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';function _0x3d06(_0x48672c,_0x4e004e){const _0x4b2ac3=_0x2d6a();return _0x3d06=function(_0x510d72,_0xdc8e86){_0x510d72=_0x510d72-(-0x231d+0x4bd*-0x1+0x28b6);let _0x4d01e6=_0x4b2ac3[_0x510d72];return _0x4d01e6;},_0x3d06(_0x48672c,_0x4e004e);}import{getConfig,hotReloadConfig}from'../utils/config.js';function _0x2d6a(){const _0x172671=['cessible).','-notes.\x20Pl','\x20to\x20','xtMessage','mp4','promises','video-note','es\x20bot\x20ins','length','Refusing\x20t','ty\x20or\x20inac','rmediate_','Please\x20rep','1.8.1-fixe','rror:\x20','stderr','ignore','COMMANDS=f','ideo\x20messa','e\x20to\x20the\x20b','split','[cc]\x20clean','tJid\x20unkno','video\x20with','from','3319701sQKOHT','sage','webm','Could\x20not\x20','284040AfLxLQ','ANDS=true\x20','eo\x20or\x20is\x20a','quoted','-loop',',-2)\x27:\x27if(','`\x20or\x20`cc\x201','to\x20allow\x20i','\x20internati','deliver\x20to','wn)','te.\x20Please','writeFile','pop','thumb.jpg','\x20which\x20can','message','ly\x20to\x20a\x20vi','scale=\x27if(','\x20default;\x20','ase\x20reply\x20','P_COMMANDS','o\x20send\x20the','ssage','(photo).\x20c','quotedMess','\x20*videos*\x20','dirname','3236697HzxTAH','cc.initial',':(ow-iw)/2','gt(a,1),','delete','to\x20convert','id\x20JID.','video\x20(it\x20','cate\x20send\x20','catch','test','ly).\x20Examp','map','messageCon','message.','join','[cc]\x20initi','ith\x20captio','mQuotedMed','video\x20note','ent).\x20Plea','text','eos*\x20only.','-crf','\x20Ensure\x20th','ber>`)\x20to\x20','-profile:v','veryfast','server-con','trim','contextInf','\x20reply\x20to\x20','-c:v','jpegThumbn','13606Xtjfvu','audio_cove','o\x20with\x20cap','xpects\x20a\x20v','ALLOW_GROU','-vf','-c:a','d\x20sending\x20','\x20is\x20an\x20ima','et\x20\x22','to\x20a\x20video','clear','nal\x20error:','set','.\x20(You\x20sen','er\x20error:\x20','verted\x20to\x20','\x20an\x20image\x20','OR\x20send\x20a\x20','age','alse)','p.net','alized\x20(PM','imageMessa','convert\x20it','The\x20replie','documentMe','cc-','skipped\x20fo','key','cc\x20<number','\x20not\x20a\x20vid',')\x27,pad=','function','Usage:\x20rep','nd\x20try\x20aga','@s.whatsap','it\x20into\x20a\x20','NDS=','[cc]\x20hotRe','d\x20media\x20is','fig\x20restri','\x20it\x20into\x20a','startsWith','d\x20document','o\x20convert\x20','participan','node','data','[cc]\x20dupli','tmpdir','filter','shape.\x20Ple','onal\x20digit','into\x20video','e\x20with\x20`cc','file.\x20cc\x20c','conversati','fileName','\x20admins\x20ma','o\x20message\x20','48738DpWOLt','loadConfig','3.0','715758vBKkHw','e\x20(or\x20send','[cc]\x20isadm','aac','gnored\x20(AL','\x20Please\x20re','eStream','s\x20only\x20(e.','Converted\x20','libx264','r\x20JID>`\x20â€”\x20','[cc]\x20confi','[cc]\x20inter','[cc]\x20strea','\x20command\x20i','mkdtemp','2036338072','caption','e\x20media\x20is',',setsar=1','extendedTe','g.\x202547...','video/mp4','\x20<number\x20o','alized\x20(bo','set\x20ALLOW_','-preset','ilable','video_note','he\x20quoted\x20','-level','remoteJid','\x22.\x20Provide','ffmpeg','\x20sent\x20to\x20','738770dVyaOA','iaToFile\x20f','ffmpeg\x20exi','n\x20`cc\x20<num','cted).','[cc]\x20group','sock','Conversion','64k','values','ted\x20media\x20','>`\x20(no\x20rep','ot\x20itself.','video','ideo\x20docum','t\x20availabl','ail','unlink','audioMessa','string','textInfo','shConfig\x20e','keys','t\x20the\x20vide','isBuffer','[cc]\x20handl','\x20into\x20a\x20vi','includes','ed\x20up','\x20generated',')\x20or\x20a\x20val','[cc]\x20sent\x20','.mp4','toLowerCas','GROUP_COMM','ge.\x20cc\x20con','may\x20be\x20emp','Only\x20group','Failed\x20to\x20','o\x20a\x20video\x20','now','y\x20use\x20cc\x20(','[cc]\x20sendA','get','has','-shortest','\x20video-not','tion.)','le:\x20`cc\x2025','tance','sendMessag','ROUP_COMMA','to\x20','ailed:\x20',':(oh-ih)/2','ssage.','22KUdrsB','deo-note.','mimetype','gt(a,1),-2','download\x20t','videoMessa','deo\x20messag','toString','audio_inte','8SROuvw','in.','4nGGFDA','-b:a','11LyhPce','verts\x20*vid','c\x20converts','urrently\x20e'];_0x2d6a=function(){return _0x172671;};return _0x2d6a();}import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0x1afcf0),mkdtemp=_0x1727f0[_0x3d30e4(0x11f)][_0x3d30e4(0x1c4)],writeFileAsync=_0x1727f0[_0x3d30e4(0x11f)][_0x3d30e4(0x143)],unlink=_0x1727f0[_0x3d30e4(0x11f)][_0x3d30e4(0xe2)],rm=_0x1727f0['promises']['rm'],DEFAULT_SIZE=-0x1bc7+0x1806+0x641;export const name='cc';export const version=_0x3d30e4(0x127)+'d';export const priority=0xbfe*0x1+0x245b+-0x1*0x2feb;export const configKeys=[_0x3d30e4(0x179)+_0x3d30e4(0x14c)];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(-0xf5f+-0x5d*-0xb+0xb6f*0x1)*(-0x82*0x2+0x1*0x1d7b+-0x188f);function markSendProcessed(_0x1778b7){const _0x3c79d3=_0x3d30e4;if(!_0x1778b7)return;if(processedSendKeys[_0x3c79d3(0xfd)](_0x1778b7))try{clearTimeout(processedSendKeys[_0x3c79d3(0xfc)](_0x1778b7));}catch(_0x53a894){}const _0xaf0c6e=setTimeout(()=>processedSendKeys[_0x3c79d3(0x157)](_0x1778b7),PROCESSED_SEND_TTL_MS);processedSendKeys[_0x3c79d3(0x182)](_0x1778b7,_0xaf0c6e);}function isSendProcessed(_0x1e48db){const _0xbceb0c=_0x3d30e4;return _0x1e48db&&processedSendKeys[_0xbceb0c(0xfd)](_0x1e48db);}function clearAllProcessedSends(){const _0xdc634d=_0x3d30e4;for(const _0x49c624 of processedSendKeys[_0xdc634d(0x1e1)]())try{clearTimeout(_0x49c624);}catch(_0x1f4877){}processedSendKeys[_0xdc634d(0x180)]();}function setupSendApi(){const _0x356e73=_0x3d30e4;if(!botRef)return;if(typeof botRef['sendMessag'+'e']===_0x356e73(0x196))sendApi=async(_0x3ddb83,_0x3d1012,_0x37c8e6={})=>await botRef['sendMessag'+'e'](_0x3ddb83,_0x3d1012,_0x37c8e6);else botRef['sock']&&typeof botRef[_0x356e73(0x1de)][_0x356e73(0x103)+'e']===_0x356e73(0x196)?sendApi=async(_0x1fbe98,_0x59557e,_0x16364e={})=>await botRef[_0x356e73(0x1de)]['sendMessag'+'e'](_0x1fbe98,_0x59557e,_0x16364e):sendApi=null;}async function safeSend(_0x41b404,_0xf740df,_0x1bf702={}){const _0xcddc15=_0x3d30e4;if(!sendApi){warn(_0xcddc15(0xfb)+'pi\x20not\x20ava'+_0xcddc15(0x1d0));throw new Error('sendApi\x20no'+_0xcddc15(0xe0)+'e');}return await sendApi(_0x41b404,_0xf740df,_0x1bf702);}function refreshConfig(){const _0xe2b77a=_0x3d30e4;try{const _0x57906c=typeof getConfig===_0xe2b77a(0x196)?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x57906c['ALLOW_GROU'+_0xe2b77a(0x14c)],info(_0xe2b77a(0x1c0)+'g:\x20ALLOW_G'+_0xe2b77a(0x104)+_0xe2b77a(0x19b)+ALLOW_GROUP_COMMANDS);}catch(_0x5dbd7c){warn('[cc]\x20refre'+_0xe2b77a(0xe6)+_0xe2b77a(0x128)+(_0x5dbd7c?.['message']||_0x5dbd7c));}}try{typeof hotReloadConfig===_0x3d30e4(0x196)&&hotReloadConfig(()=>{const _0x1b7b6c=_0x3d30e4;try{refreshConfig();}catch(_0x2408e5){warn(_0x1b7b6c(0x19c)+_0x1b7b6c(0x1b3)+'\x20handler\x20e'+_0x1b7b6c(0x128)+(_0x2408e5?.[_0x1b7b6c(0x147)]||_0x2408e5));}});}catch(_0x4127bf){}refreshConfig();function getQuotedWrap(_0x287fd1){const _0x131382=_0x3d30e4;if(!_0x287fd1||!_0x287fd1[_0x131382(0x147)])return null;const _0x28c354=_0x287fd1['message']?.['extendedTe'+'xtMessage']?.[_0x131382(0x171)+'o'];if(_0x28c354&&_0x28c354[_0x131382(0x150)+_0x131382(0x188)])return{'quoted':_0x28c354['quotedMess'+_0x131382(0x188)],'quotedKey':_0x28c354};for(const _0x312605 of Object[_0x131382(0xe7)](_0x287fd1['message']||{})){const _0xb03ad5=_0x287fd1[_0x131382(0x147)][_0x312605];if(_0xb03ad5&&_0xb03ad5['contextInf'+'o']&&_0xb03ad5[_0x131382(0x171)+'o'][_0x131382(0x150)+'age'])return{'quoted':_0xb03ad5[_0x131382(0x171)+'o'][_0x131382(0x150)+_0x131382(0x188)],'quotedKey':_0xb03ad5[_0x131382(0x171)+'o']};}const _0x41486e=_0x287fd1['message']?.[_0x131382(0x171)+'o']?.[_0x131382(0x150)+'age']||_0x287fd1['message']?.[_0x131382(0x160)+_0x131382(0xe5)]?.[_0x131382(0x150)+_0x131382(0x188)],_0x14ac81=_0x287fd1[_0x131382(0x147)]?.['contextInf'+'o']?.['participan'+'t']||_0x287fd1[_0x131382(0x147)]?.['messageCon'+_0x131382(0xe5)]?.[_0x131382(0x1a3)+'t']||null;if(_0x41486e)return{'quoted':_0x41486e,'quotedKey':{'participant':_0x14ac81}};return null;}function isVideoNode(_0x244ac8){const _0x30722a=_0x3d30e4;if(!_0x244ac8)return![];if(_0x244ac8['videoMessa'+'ge'])return!![];if(_0x244ac8['message']&&_0x244ac8[_0x30722a(0x147)][_0x30722a(0x10e)+'ge'])return!![];if(_0x244ac8['documentMe'+_0x30722a(0x14e)]&&typeof _0x244ac8[_0x30722a(0x18f)+_0x30722a(0x14e)][_0x30722a(0x10b)]===_0x30722a(0xe4)&&_0x244ac8[_0x30722a(0x18f)+_0x30722a(0x14e)][_0x30722a(0x10b)][_0x30722a(0x1a0)](_0x30722a(0xde)))return!![];return![];}async function streamQuotedMediaToFile(_0x10d95a,_0x4685ff){const _0x2195b0=_0x3d30e4;try{const _0x2d6bc8=[{'node':_0x10d95a[_0x2195b0(0x10e)+'ge'],'type':_0x2195b0(0xde)},{'node':_0x10d95a[_0x2195b0(0x18f)+_0x2195b0(0x14e)]&&String(_0x10d95a['documentMe'+_0x2195b0(0x14e)][_0x2195b0(0x10b)]||'')['startsWith']('video')?_0x10d95a[_0x2195b0(0x18f)+'ssage']:null,'type':_0x2195b0(0xde)},{'node':_0x10d95a[_0x2195b0(0x147)]?.['videoMessa'+'ge'],'type':'video'},{'node':_0x10d95a[_0x2195b0(0x147)]?.['documentMe'+_0x2195b0(0x14e)]&&String(_0x10d95a['message'][_0x2195b0(0x18f)+_0x2195b0(0x14e)][_0x2195b0(0x10b)]||'')[_0x2195b0(0x1a0)](_0x2195b0(0xde))?_0x10d95a['message'][_0x2195b0(0x18f)+_0x2195b0(0x14e)]:null,'type':_0x2195b0(0xde)}];let _0x49c7a4=null,_0x4f399f=null;for(const _0xdd7e11 of _0x2d6bc8){if(_0xdd7e11[_0x2195b0(0x1a4)]){_0x49c7a4=_0xdd7e11['node'],_0x4f399f=_0xdd7e11['type'];break;}}if(!_0x49c7a4||!_0x4f399f)return null;let _0x45d6df=_0x2195b0(0x11e);if(_0x4f399f===_0x2195b0(0xde))_0x45d6df='mp4';if(_0x49c7a4[_0x2195b0(0x1af)]){const _0x37af58=String(_0x49c7a4[_0x2195b0(0x1af)])[_0x2195b0(0x12e)]('.')[_0x2195b0(0x144)]();if(_0x37af58&&_0x37af58['length']<=0x178e+0x684*0x5+-0x381a)_0x45d6df=_0x37af58;}else{if(_0x49c7a4[_0x2195b0(0x10b)]){if(_0x49c7a4[_0x2195b0(0x10b)][_0x2195b0(0xec)](_0x2195b0(0x11e)))_0x45d6df='mp4';else{if(_0x49c7a4[_0x2195b0(0x10b)]['includes'](_0x2195b0(0x135)))_0x45d6df=_0x2195b0(0x135);}}}const _0x1122c3=_0xa0c1a7[_0x2195b0(0x162)](_0x4685ff,'in_'+Date[_0x2195b0(0xf9)]()+'.'+_0x45d6df),_0xcf0ea5=await downloadContentFromMessage(_0x49c7a4,_0x4f399f);if(!_0xcf0ea5)return null;const _0x489dec=_0x1727f0['createWrit'+_0x2195b0(0x1bb)](_0x1122c3);return await pipeline(_0xcf0ea5,_0x489dec),{'path':_0x1122c3,'type':_0x4f399f,'contentNode':_0x49c7a4};}catch(_0xf2cb38){return warn(_0x2195b0(0x1c2)+_0x2195b0(0x165)+_0x2195b0(0x1d9)+_0x2195b0(0x106)+(_0xf2cb38?.[_0x2195b0(0x147)]||_0xf2cb38)),null;}}function spawnFFmpeg(_0x4f6c07,_0xaa36e8){return new Promise((_0xd5c6c,_0x313c94)=>{const _0x351caf=_0x3d06,_0x6d997a=spawn(_0x351caf(0x1d6),_0x4f6c07,{'stdio':[_0x351caf(0x12a),'pipe','pipe']});let _0x15c762='';_0x6d997a[_0x351caf(0x129)]['on'](_0x351caf(0x1a5),_0x4cea37=>{const _0x4793d7=_0x351caf;_0x15c762+=_0x4cea37[_0x4793d7(0x110)]();if(_0xaa36e8)_0xaa36e8(_0x4cea37);}),_0x6d997a['on']('close',_0xb1f0b3=>{const _0x464407=_0x351caf;if(_0xb1f0b3===-0x1bd7*-0x1+0x2335+-0x3f0c)_0xd5c6c(_0x15c762);else _0x313c94(new Error(_0x464407(0x1da)+'t\x20code\x20'+_0xb1f0b3+'\x0a'+_0x15c762));}),_0x6d997a['on']('error',_0x298210=>_0x313c94(_0x298210));});}async function transcodeToVideoNote(_0x23a377,_0x548f39,_0x435c06=DEFAULT_SIZE){const _0x2c70b8=_0x3d30e4,_0x319e4a=['-y','-i',_0x23a377,'-t','60',_0x2c70b8(0x17a),_0x2c70b8(0x149)+_0x2c70b8(0x156)+_0x435c06+(_0x2c70b8(0x13c)+_0x2c70b8(0x10c)+',')+_0x435c06+_0x2c70b8(0x195)+_0x435c06+':'+_0x435c06+(_0x2c70b8(0x155)+_0x2c70b8(0x107)+_0x2c70b8(0x1c8)),'-r','30',_0x2c70b8(0x173),_0x2c70b8(0x1be),_0x2c70b8(0x16d),'baseline',_0x2c70b8(0x1d3),_0x2c70b8(0x1b4),'-preset',_0x2c70b8(0x16e),_0x2c70b8(0x16a),'28',_0x2c70b8(0x17b),_0x2c70b8(0x1b8),_0x2c70b8(0x115),_0x2c70b8(0x1e0),_0x548f39];return await spawnFFmpeg(_0x319e4a),_0x548f39;}async function audioToVideoNote(_0x147960,_0x5c29d4,_0x263207=null,_0x1f327b=DEFAULT_SIZE){const _0x5bb3ad=_0x3d30e4,_0x42b7d7=_0xa0c1a7[_0x5bb3ad(0x152)](_0x5c29d4),_0x480f84=_0xa0c1a7[_0x5bb3ad(0x162)](_0x42b7d7,_0x5bb3ad(0x111)+_0x5bb3ad(0x125)+Date[_0x5bb3ad(0xf9)]()+_0x5bb3ad(0xf1)),_0x5e3531=_0x263207||_0xa0c1a7[_0x5bb3ad(0x162)](_0x42b7d7,_0x5bb3ad(0x176)+'r_'+Date['now']()+'.png');!_0x263207&&await spawnFFmpeg(['-y','-f','lavfi','-i','color=blac'+'k:s='+_0x1f327b+'x'+_0x1f327b,_0x5e3531]);await spawnFFmpeg(['-y',_0x5bb3ad(0x13b),'1','-i',_0x5e3531,'-i',_0x147960,'-c:v','libx264','-t','60',_0x5bb3ad(0x17b),'aac',_0x5bb3ad(0x115),_0x5bb3ad(0x1e0),_0x5bb3ad(0xfe),_0x5bb3ad(0x1cf),_0x5bb3ad(0x16e),_0x480f84]),await transcodeToVideoNote(_0x480f84,_0x5c29d4,_0x1f327b);try{await unlink(_0x480f84);}catch(_0x3a6a69){}if(!_0x263207)try{await unlink(_0x5e3531);}catch(_0x2ccbf2){}return _0x5c29d4;}function normalizeTarget(_0x26730f){const _0x58efa5=_0x3d30e4;if(!_0x26730f)return null;let _0x284a4b=String(_0x26730f)[_0x58efa5(0x170)]();if(_0x284a4b[_0x58efa5(0xec)]('@'))try{return jidNormalizedUser(_0x284a4b);}catch(_0x545c66){return _0x284a4b;}_0x284a4b=_0x284a4b['replace'](/[^\d]/g,'');if(!_0x284a4b)return null;if(_0x284a4b[_0x58efa5(0x122)]<-0x11b5+-0x246*0x4+0x1ad5||_0x284a4b[_0x58efa5(0x122)]>0x1376+0xdee+0x7*-0x4c3)return null;return _0x284a4b+(_0x58efa5(0x199)+_0x58efa5(0x18a));}export async function initialize(_0x4fed7b){const _0x135e84=_0x3d30e4;if(!_0x4fed7b)throw new Error(_0x135e84(0x154)+'ize\x20requir'+_0x135e84(0x121)+_0x135e84(0x102));botRef=_0x4fed7b,setupSendApi(),refreshConfig();try{const _0x306e4a=getBotJid();info(_0x135e84(0x163)+_0x135e84(0x18b)+_0x135e84(0x14a)+_0x135e84(0x1ce)+_0x135e84(0xf3)+_0x135e84(0x138)+_0x135e84(0x13e)+'n\x20groups).'+'\x20botJid='+(_0x306e4a||'<unknown>'));}catch(_0x39828b){info(_0x135e84(0x163)+_0x135e84(0x1cd)+_0x135e84(0x130)+_0x135e84(0x141));}}export async function onMessage(_0xb6ae6a){const _0xd6afc0=_0x3d30e4;try{if(!_0xb6ae6a||!_0xb6ae6a[_0xd6afc0(0x192)]||!_0xb6ae6a[_0xd6afc0(0x147)])return;const _0x3ac65b=typeof _0xb6ae6a[_0xd6afc0(0x168)]===_0xd6afc0(0xe4)&&_0xb6ae6a[_0xd6afc0(0x168)]['trim']()?_0xb6ae6a['text'][_0xd6afc0(0x170)]():_0xb6ae6a['message']?.[_0xd6afc0(0x1ae)+'on']||_0xb6ae6a[_0xd6afc0(0x147)]?.[_0xd6afc0(0x1c9)+_0xd6afc0(0x11d)]?.[_0xd6afc0(0x168)]||_0xb6ae6a['message']?.['videoMessa'+'ge']?.[_0xd6afc0(0x1c6)]||_0xb6ae6a[_0xd6afc0(0x147)]?.[_0xd6afc0(0x18c)+'ge']?.[_0xd6afc0(0x1c6)]||_0xb6ae6a[_0xd6afc0(0x147)]?.[_0xd6afc0(0x18f)+_0xd6afc0(0x14e)]?.['caption']||'';if(!_0x3ac65b)return;const _0x5506a7=_0x3ac65b['trim'](),_0x53c679=_0x5506a7['split'](/\s+/),_0x8d307e=_0x53c679[-0x1bc*0x16+0x43b*-0x1+-0xe21*-0x3][_0xd6afc0(0xf2)+'e']();if(!(_0x8d307e==='cc'||/^\/cc\b/i[_0xd6afc0(0x15d)](_0x5506a7)))return;const _0x2a7509=_0xb6ae6a[_0xd6afc0(0x192)][_0xd6afc0(0x1d4)],_0x2fcc0c=typeof _0x2a7509===_0xd6afc0(0xe4)&&_0x2a7509['endsWith']('@g.us');if(_0x2fcc0c){if(!ALLOW_GROUP_COMMANDS){info(_0xd6afc0(0x1dd)+_0xd6afc0(0x1c3)+_0xd6afc0(0x1b9)+'LOW_GROUP_'+_0xd6afc0(0x12b)+_0xd6afc0(0x189));return;}let _0x2659fb=![];try{_0x2659fb=await isadmin(botRef,_0xb6ae6a);}catch(_0x5037d7){warn(_0xd6afc0(0x1b7)+'in\x20check\x20f'+'ailed:\x20'+(_0x5037d7?.['message']||_0x5037d7)),_0x2659fb=![];}if(!_0x2659fb){if(sendApi)try{await safeSend(_0x2a7509,{'text':_0xd6afc0(0xf6)+_0xd6afc0(0x1b0)+_0xd6afc0(0xfa)+_0xd6afc0(0x16f)+_0xd6afc0(0x19e)+_0xd6afc0(0x1dc),'quoted':_0xb6ae6a[_0xd6afc0(0x192)]});}catch(_0x5794bc){}return;}}let _0x17456b=_0x53c679[-0x242a+-0xdef+0x79*0x6a]||null;if(!_0x17456b&&_0x3ac65b[_0xd6afc0(0xec)]('\x0a')){const _0x1d3358=_0x3ac65b[_0xd6afc0(0x12e)](/\r?\n/)[_0xd6afc0(0x15f)](_0x198adb=>_0x198adb[_0xd6afc0(0x170)]())[_0xd6afc0(0x1a8)](Boolean);if(_0x1d3358[_0xd6afc0(0x122)]>=-0x2b2+-0x6cf*-0x3+-0x11b9)_0x17456b=_0x1d3358[-0x22*-0x123+0x150b+-0xbf0*0x5][_0xd6afc0(0x12e)](/\s+/)[-0x264*0x3+-0xc5b+0x1387];}let _0x32611d=getQuotedWrap(_0xb6ae6a),_0x22ba8c=![];!_0x32611d&&((_0xb6ae6a[_0xd6afc0(0x147)]?.['videoMessa'+'ge']||_0xb6ae6a[_0xd6afc0(0x147)]?.[_0xd6afc0(0x18f)+'ssage']&&String(_0xb6ae6a[_0xd6afc0(0x147)][_0xd6afc0(0x18f)+_0xd6afc0(0x14e)][_0xd6afc0(0x10b)]||'')[_0xd6afc0(0x1a0)](_0xd6afc0(0xde)))&&(_0x32611d={'quoted':_0xb6ae6a[_0xd6afc0(0x147)],'quotedKey':_0xb6ae6a[_0xd6afc0(0x147)]?.[_0xd6afc0(0x171)+'o']||{}},_0x22ba8c=!![]));if(!_0x17456b){const _0x54cbd7=_0x2a7509;sendApi&&await safeSend(_0x54cbd7,{'text':_0xd6afc0(0x197)+_0xd6afc0(0x148)+_0xd6afc0(0x10f)+_0xd6afc0(0x1ac)+_0xd6afc0(0x1cc)+_0xd6afc0(0x1bf)+_0xd6afc0(0x187)+_0xd6afc0(0x131)+'\x20caption\x20`'+_0xd6afc0(0x193)+_0xd6afc0(0xdc)+_0xd6afc0(0x15e)+_0xd6afc0(0x101)+'47XXXXXXXX'+_0xd6afc0(0x13d)+_0xd6afc0(0x1c5)+'2467155@g.'+'us`','quoted':_0xb6ae6a[_0xd6afc0(0x192)]});return;}if(!_0x32611d||!_0x32611d[_0xd6afc0(0x13a)]){if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x126)+'ly\x20to\x20a\x20vi'+'deo\x20messag'+_0xd6afc0(0x1b6)+'\x20a\x20video\x20w'+_0xd6afc0(0x164)+_0xd6afc0(0x1db)+_0xd6afc0(0x16c)+_0xd6afc0(0x18d)+_0xd6afc0(0xeb)+_0xd6afc0(0x10a),'quoted':_0xb6ae6a['key']});return;}if(!isVideoNode(_0x32611d[_0xd6afc0(0x13a)])){const _0x238224=_0x32611d[_0xd6afc0(0x13a)];if(_0x238224[_0xd6afc0(0x18c)+'ge']){if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x18e)+_0xd6afc0(0x19d)+_0xd6afc0(0x186)+_0xd6afc0(0x14f)+_0xd6afc0(0x118)+_0xd6afc0(0x151)+_0xd6afc0(0x1ab)+_0xd6afc0(0x11b)+'ease\x20reply'+'\x20to\x20a\x20vide'+_0xd6afc0(0x1b1)+_0xd6afc0(0x158)+_0xd6afc0(0x19f)+'\x20video-not'+'e.','quoted':_0xb6ae6a[_0xd6afc0(0x192)]})[_0xd6afc0(0x15c)](()=>{});}else{if(_0x238224['stickerMes'+_0xd6afc0(0x134)]){if(sendApi)await safeSend(_0x2a7509,{'text':'The\x20replie'+_0xd6afc0(0x19d)+'\x20a\x20sticker'+_0xd6afc0(0x146)+'not\x20be\x20con'+_0xd6afc0(0x185)+'a\x20video-no'+_0xd6afc0(0x142)+_0xd6afc0(0x172)+'a\x20video\x20me'+_0xd6afc0(0x108),'quoted':_0xb6ae6a[_0xd6afc0(0x192)]})[_0xd6afc0(0x15c)](()=>{});}else{if(_0x238224[_0xd6afc0(0xe3)+'ge']){if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x18e)+_0xd6afc0(0x19d)+'\x20an\x20audio\x20'+_0xd6afc0(0x1ad)+_0xd6afc0(0x119)+_0xd6afc0(0x178)+_0xd6afc0(0x12c)+'ge\x20(or\x20a\x20v'+_0xd6afc0(0xdf)+_0xd6afc0(0x167)+'se\x20reply\x20t'+_0xd6afc0(0xf8)+_0xd6afc0(0x161),'quoted':_0xb6ae6a[_0xd6afc0(0x192)]})[_0xd6afc0(0x15c)](()=>{});}else{if(_0x238224[_0xd6afc0(0x18f)+_0xd6afc0(0x14e)]&&_0x238224[_0xd6afc0(0x18f)+_0xd6afc0(0x14e)]['mimetype']&&_0x238224[_0xd6afc0(0x18f)+_0xd6afc0(0x14e)][_0xd6afc0(0x10b)][_0xd6afc0(0x1a0)]('image')){if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x18e)+_0xd6afc0(0x1a1)+_0xd6afc0(0x17d)+_0xd6afc0(0xf4)+_0xd6afc0(0x117)+_0xd6afc0(0x169)+_0xd6afc0(0x1ba)+'ply\x20to\x20a\x20v'+_0xd6afc0(0x12c)+'ge.','quoted':_0xb6ae6a[_0xd6afc0(0x192)]})[_0xd6afc0(0x15c)](()=>{});}else{if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x18e)+_0xd6afc0(0x19d)+_0xd6afc0(0x194)+_0xd6afc0(0x139)+'n\x20unsuppor'+_0xd6afc0(0x1e2)+_0xd6afc0(0x1a9)+_0xd6afc0(0x14b)+_0xd6afc0(0x17f)+'\x20message\x20t'+_0xd6afc0(0x1a2)+_0xd6afc0(0x19a)+_0xd6afc0(0x120)+'.','quoted':_0xb6ae6a['key']})['catch'](()=>{});}}}}return;}const _0x41f2d3=normalizeTarget(_0x17456b);if(!_0x41f2d3){if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x136)+'parse\x20targ'+_0xd6afc0(0x17e)+_0x17456b+(_0xd6afc0(0x1d5)+_0xd6afc0(0x13f)+_0xd6afc0(0x1aa)+_0xd6afc0(0x1bc)+_0xd6afc0(0x1ca)+_0xd6afc0(0xef)+_0xd6afc0(0x159)),'quoted':_0xb6ae6a['key']});return;}try{const _0x24c6a8=getBotJid();if(_0x24c6a8&&_0x41f2d3===_0x24c6a8){if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x123)+_0xd6afc0(0x14d)+_0xd6afc0(0xee)+_0xd6afc0(0xff)+_0xd6afc0(0x12d)+_0xd6afc0(0xdd),'quoted':_0xb6ae6a[_0xd6afc0(0x192)]});return;}}catch(_0x4a5bc9){}const _0x470af2=String(_0xb6ae6a[_0xd6afc0(0x192)]['id']||''),_0x217e97=_0x470af2+'::'+_0x41f2d3;if(isSendProcessed(_0x217e97)){info(_0xd6afc0(0x1a6)+_0xd6afc0(0x15b)+_0xd6afc0(0x191)+'r\x20'+_0x217e97);return;}markSendProcessed(_0x217e97);const _0x2ef92a=await mkdtemp(_0xa0c1a7[_0xd6afc0(0x162)](_0x5a3e95[_0xd6afc0(0x1a7)](),_0xd6afc0(0x190)));let _0x103974=null;try{const _0x1d61f4=_0x32611d[_0xd6afc0(0x13a)],_0x39af57=_0x1d61f4?.['videoMessa'+'ge']?.['jpegThumbn'+_0xd6afc0(0xe1)]||_0x1d61f4?.['documentMe'+_0xd6afc0(0x14e)]?.[_0xd6afc0(0x174)+_0xd6afc0(0xe1)]||_0x1d61f4?.[_0xd6afc0(0x147)]?.['videoMessa'+'ge']?.[_0xd6afc0(0x174)+'ail']||null;_0x39af57&&(Buffer[_0xd6afc0(0xe9)](_0x39af57)||_0x39af57 instanceof Uint8Array)&&(_0x103974=_0xa0c1a7[_0xd6afc0(0x162)](_0x2ef92a,_0xd6afc0(0x145)),await writeFileAsync(_0x103974,Buffer[_0xd6afc0(0x132)](_0x39af57)));const _0x136712=await streamQuotedMediaToFile(_0x1d61f4,_0x2ef92a);if(!_0x136712){if(sendApi)await safeSend(_0x2a7509,{'text':'Failed\x20to\x20'+_0xd6afc0(0x10d)+_0xd6afc0(0x1d2)+_0xd6afc0(0x15a)+_0xd6afc0(0xf5)+_0xd6afc0(0x124)+_0xd6afc0(0x11a)+_0xd6afc0(0x16b)+_0xd6afc0(0x1c7)+'\x20present\x20a'+_0xd6afc0(0x198)+_0xd6afc0(0x113),'quoted':_0xb6ae6a[_0xd6afc0(0x192)]});await rm(_0x2ef92a,{'recursive':!![],'force':!![]})[_0xd6afc0(0x15c)](()=>{});return;}const {path:_0x3943c1,type:_0x43ddf1}=_0x136712,_0x325e7f=_0xa0c1a7[_0xd6afc0(0x162)](_0x2ef92a,'out_'+Date['now']()+_0xd6afc0(0xf1));await transcodeToVideoNote(_0x3943c1,_0x325e7f);const _0xa55a5a={'video':{'url':_0x325e7f},'mimetype':_0xd6afc0(0x1cb),'fileName':_0xd6afc0(0x1d1)+_0xd6afc0(0xf1),'ptv':!![]};try{if(!sendApi)throw new Error('sendApi\x20no'+_0xd6afc0(0xe0)+'e');await safeSend(_0x41f2d3,_0xa55a5a),info(_0xd6afc0(0xf0)+_0xd6afc0(0x166)+_0xd6afc0(0x11c)+_0x41f2d3);if(sendApi){const _0x164be9=_0x22ba8c?_0xd6afc0(0x1bd)+_0xd6afc0(0x120)+_0xd6afc0(0x1d7)+_0x41f2d3+(_0xd6afc0(0x183)+_0xd6afc0(0xe8)+_0xd6afc0(0x177)+_0xd6afc0(0x100)):_0xd6afc0(0x1bd)+_0xd6afc0(0x120)+'\x20sent\x20to\x20'+_0x41f2d3+'.';await safeSend(_0x2a7509,{'text':_0x164be9,'quoted':_0xb6ae6a['key']})['catch'](()=>{});}}catch(_0x1e3ca7){error(_0x1e3ca7,'[cc]\x20faile'+_0xd6afc0(0x17c)+_0xd6afc0(0x105)+_0x41f2d3+':\x20'+(_0x1e3ca7?.['message']||_0x1e3ca7));if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0xf7)+_0xd6afc0(0x140)+'\x20'+_0x41f2d3+':\x20'+(_0x1e3ca7?.[_0xd6afc0(0x147)]||_0x1e3ca7),'quoted':_0xb6ae6a['key']})[_0xd6afc0(0x15c)](()=>{});}try{await unlink(_0x3943c1)[_0xd6afc0(0x15c)](()=>{}),await unlink(_0x325e7f)[_0xd6afc0(0x15c)](()=>{});if(_0x103974)await unlink(_0x103974)[_0xd6afc0(0x15c)](()=>{});await rm(_0x2ef92a,{'recursive':!![],'force':!![]});}catch(_0x482f9){}}catch(_0x5a705b){error(_0x5a705b,_0xd6afc0(0x1c1)+_0xd6afc0(0x181)+'\x20'+(_0x5a705b?.['message']||_0x5a705b));if(sendApi)await safeSend(_0x2a7509,{'text':_0xd6afc0(0x1df)+'\x20failed:\x20'+(_0x5a705b?.[_0xd6afc0(0x147)]||_0x5a705b),'quoted':_0xb6ae6a[_0xd6afc0(0x192)]})[_0xd6afc0(0x15c)](()=>{});await rm(_0x2ef92a,{'recursive':!![],'force':!![]})[_0xd6afc0(0x15c)](()=>{});}}catch(_0x3341c4){error(_0x3341c4,_0xd6afc0(0xea)+_0xd6afc0(0x184)+(_0x3341c4?.['message']||_0x3341c4));}}export async function cleanup(){const _0x18f40e=_0x3d30e4;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x18f40e(0x12f)+_0x18f40e(0xed));}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};