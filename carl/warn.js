const _0x3ded5a=_0x100f;(function(_0x552d03,_0x26a076){const _0x36eaa1=_0x100f,_0x598f4e=_0x552d03();while(!![]){try{const _0x4c9b97=parseInt(_0x36eaa1(0x1f4))/(-0x27c*0x1+0x1bb+-0x2*-0x61)*(-parseInt(_0x36eaa1(0x1ff))/(0x15d5+-0x268c+0x10b9))+-parseInt(_0x36eaa1(0x246))/(0x1*-0xbfb+0xa24*0x1+-0x1*-0x1da)+parseInt(_0x36eaa1(0x20b))/(-0xdff*-0x1+-0x1*-0x261d+-0x3418)+-parseInt(_0x36eaa1(0x1c5))/(-0x14cd*0x1+0x1309*-0x2+-0x1*-0x3ae4)+parseInt(_0x36eaa1(0x1f0))/(-0x1109*0x2+-0x22*0x1f+0x92*0x43)*(parseInt(_0x36eaa1(0x184))/(-0xe03*0x2+-0x3*0x8e9+-0x8*-0x6d9))+-parseInt(_0x36eaa1(0x19b))/(-0xeab+-0xbf6+0x1aa9)*(-parseInt(_0x36eaa1(0x1a5))/(0x7ad+0x824*0x1+0x8*-0x1f9))+parseInt(_0x36eaa1(0x14e))/(-0x1*-0xaa4+-0x9*-0x43b+-0x1*0x30ad);if(_0x4c9b97===_0x26a076)break;else _0x598f4e['push'](_0x598f4e['shift']());}catch(_0x4f1c11){_0x598f4e['push'](_0x598f4e['shift']());}}}(_0x1971,-0x4bc53*-0x1+-0x26b*0xd7+0x4acdb));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import*as _0x57a2f3 from'../utils/groups.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{downloadContentFromMessage}from'@whiskeysockets/baileys';export const name=_0x3ded5a(0x1a9);export const version='4.1.0';export const priority=0x1a8c+0x1840+0x3e1*-0xd;export const commands=[_0x3ded5a(0x1a9),_0x3ded5a(0x1df),_0x3ded5a(0x134),'warnlist',_0x3ded5a(0x244)];const TABLE_WARNS=_0x3ded5a(0x181),TABLE_SETTINGS=_0x3ded5a(0x166)+_0x3ded5a(0x125);let botRef=null,sendApi=null,config={};function uniqArray(_0x2979c1=[]){const _0x7dff0f=_0x3ded5a;return Array[_0x7dff0f(0x1c7)](new Set((_0x2979c1||[])['map'](String)[_0x7dff0f(0x1ac)](Boolean)));}function safeJSONParse(_0x33e3d4,_0x475dd5=[]){const _0x3e15a7=_0x3ded5a;try{return JSON[_0x3e15a7(0x1bd)](_0x33e3d4);}catch(_0x22e9e5){return _0x475dd5;}}function sleep(_0x5a8424){return new Promise(_0x2ca4e1=>setTimeout(_0x2ca4e1,_0x5a8424));}function normalizeToUserJidLocal(_0x4432b3){try{return normalizeToJid?normalizeToJid(_0x4432b3):_0x4432b3;}catch{return _0x4432b3;}}class AhoCorasick{constructor(_0x49f510=[]){const _0x11f5c3=_0x3ded5a;this[_0x11f5c3(0x20a)]=[{'next':{},'fail':0x0,'output':[]}];if(_0x49f510&&_0x49f510[_0x11f5c3(0x1e4)])this[_0x11f5c3(0x1dd)](_0x49f510);}[_0x3ded5a(0x1dd)](_0x5c8d11){const _0x7254a0=_0x3ded5a;this[_0x7254a0(0x20a)]=[{'next':{},'fail':0x0,'output':[]}];for(const _0x376b59 of _0x5c8d11){let _0x31ef7c=-0x2fc+0x1ef2*-0x1+-0x56*-0x65;for(const _0x428b24 of _0x376b59){!this[_0x7254a0(0x20a)][_0x31ef7c]['next'][_0x428b24]&&(this['nodes'][_0x31ef7c][_0x7254a0(0x241)][_0x428b24]=this['nodes'][_0x7254a0(0x1e4)],this[_0x7254a0(0x20a)][_0x7254a0(0x128)]({'next':{},'fail':0x0,'output':[]})),_0x31ef7c=this[_0x7254a0(0x20a)][_0x31ef7c]['next'][_0x428b24];}this[_0x7254a0(0x20a)][_0x31ef7c][_0x7254a0(0x137)][_0x7254a0(0x128)](_0x376b59);}const _0x54c356=[];for(const _0x10eb4b in this[_0x7254a0(0x20a)][-0x28d*0xd+-0x17d4+0x1*0x38fd][_0x7254a0(0x241)]){const _0x4c7df8=this[_0x7254a0(0x20a)][0x1*0x214a+-0x82a+-0x30*0x86][_0x7254a0(0x241)][_0x10eb4b];this[_0x7254a0(0x20a)][_0x4c7df8][_0x7254a0(0x247)]=0x1*0xa26+-0x112*-0x1+-0xb38,_0x54c356[_0x7254a0(0x128)](_0x4c7df8);}while(_0x54c356[_0x7254a0(0x1e4)]){const _0x578c69=_0x54c356[_0x7254a0(0x189)]();for(const _0x45559a in this[_0x7254a0(0x20a)][_0x578c69][_0x7254a0(0x241)]){const _0x159168=this[_0x7254a0(0x20a)][_0x578c69][_0x7254a0(0x241)][_0x45559a];let _0x46abf6=this[_0x7254a0(0x20a)][_0x578c69][_0x7254a0(0x247)];while(_0x46abf6&&!this[_0x7254a0(0x20a)][_0x46abf6]['next'][_0x45559a])_0x46abf6=this[_0x7254a0(0x20a)][_0x46abf6][_0x7254a0(0x247)];if(this['nodes'][_0x46abf6][_0x7254a0(0x241)][_0x45559a])this['nodes'][_0x159168][_0x7254a0(0x247)]=this[_0x7254a0(0x20a)][_0x46abf6][_0x7254a0(0x241)][_0x45559a];else this['nodes'][_0x159168][_0x7254a0(0x247)]=-0x4cc*0x5+0x17a1+0x5b;this['nodes'][_0x159168][_0x7254a0(0x137)][_0x7254a0(0x128)](...this['nodes'][this[_0x7254a0(0x20a)][_0x159168][_0x7254a0(0x247)]][_0x7254a0(0x137)]),_0x54c356[_0x7254a0(0x128)](_0x159168);}}}['search'](_0x5790c5){const _0x1bc1d9=_0x3ded5a,_0x3e6391=[];let _0x51d458=0x1803+-0x2622+0xe1f;for(let _0x38b407=0xa*0x271+-0x20b1*-0x1+-0xb*0x531;_0x38b407<_0x5790c5['length'];_0x38b407++){const _0x2c34b2=_0x5790c5[_0x38b407];while(_0x51d458&&!this[_0x1bc1d9(0x20a)][_0x51d458][_0x1bc1d9(0x241)][_0x2c34b2])_0x51d458=this[_0x1bc1d9(0x20a)][_0x51d458][_0x1bc1d9(0x247)];if(this[_0x1bc1d9(0x20a)][_0x51d458][_0x1bc1d9(0x241)][_0x2c34b2])_0x51d458=this[_0x1bc1d9(0x20a)][_0x51d458][_0x1bc1d9(0x241)][_0x2c34b2];else _0x51d458=0x1*-0x2c9+0xb1b+0x47*-0x1e;if(this[_0x1bc1d9(0x20a)][_0x51d458][_0x1bc1d9(0x137)]['length'])for(const _0x4ffed0 of this[_0x1bc1d9(0x20a)][_0x51d458][_0x1bc1d9(0x137)]){_0x3e6391['push']({'keyword':_0x4ffed0,'index':_0x38b407-_0x4ffed0['length']+(-0xbe9+-0x1e6d+-0x3*-0xe1d)});}}return _0x3e6391;}}const ahoCache=new Map();async function ensureSchema(){const _0x1f8f7a=_0x3ded5a;try{await db['exec']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f8f7a(0x112)+_0x1f8f7a(0x141)+_0x1f8f7a(0x1cb)+TABLE_WARNS+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+_0x1f8f7a(0x1ed)+'XT\x20NOT\x20NUL'+_0x1f8f7a(0x24a)+_0x1f8f7a(0x20d)+_0x1f8f7a(0x193)+_0x1f8f7a(0x1e1)+_0x1f8f7a(0x24a)+_0x1f8f7a(0x24c)+_0x1f8f7a(0x160)+_0x1f8f7a(0x15d)+_0x1f8f7a(0x239)+_0x1f8f7a(0x180)+'\x20\x20\x20\x20\x20PRIMA'+_0x1f8f7a(0x11f)+_0x1f8f7a(0x1db)+_0x1f8f7a(0x1a4)+_0x1f8f7a(0x180)+_0x1f8f7a(0x11c)+'\x20')),await db[_0x1f8f7a(0x209)](_0x1f8f7a(0x164)+'\x20\x20\x20CREATE\x20'+'TABLE\x20IF\x20N'+_0x1f8f7a(0x1cb)+TABLE_SETTINGS+(_0x1f8f7a(0x19c)+_0x1f8f7a(0x23c)+_0x1f8f7a(0x1ed)+_0x1f8f7a(0x201)+_0x1f8f7a(0x15f)+_0x1f8f7a(0x180)+'\x20\x20blocklis'+_0x1f8f7a(0x13a)+_0x1f8f7a(0x170)+_0x1f8f7a(0x180)+_0x1f8f7a(0x16a)+_0x1f8f7a(0x161))),info(_0x1f8f7a(0x23a)+'abase\x20sche'+_0x1f8f7a(0x220)+'.');}catch(_0x14ff23){error(_0x14ff23,'[warn]\x20sch'+_0x1f8f7a(0x109)+_0x1f8f7a(0x1c8));throw _0x14ff23;}}async function getWarnCount(_0x1df00d,_0x13c29b){const _0x3c8d5e=_0x3ded5a;try{const _0x464766=await db[_0x3c8d5e(0x1ab)]('SELECT\x20war'+_0x3c8d5e(0x139)+_0x3c8d5e(0x1b3)+TABLE_WARNS+(_0x3c8d5e(0x222)+_0x3c8d5e(0x191)+_0x3c8d5e(0x185)+_0x3c8d5e(0x18e)),[_0x1df00d,_0x13c29b]);return _0x464766?_0x464766['warn_count']:-0x1e15+-0x1815+0x362a;}catch(_0x4eedb1){return warn(_0x3c8d5e(0x1ba)+_0x3c8d5e(0x187)+_0x3c8d5e(0x183)+(_0x4eedb1?.[_0x3c8d5e(0x245)]||_0x4eedb1)),-0x8d7+0xeed*-0x1+0xc*0x1fb;}}async function setWarnCount(_0x9df176,_0x46a5a1,_0x36d2c0){const _0x380e93=_0x3ded5a;try{await db['run'](_0x380e93(0x13e)+'O\x20'+TABLE_WARNS+(_0x380e93(0x19f)+_0x380e93(0x165)+',\x20warn_cou'+_0x380e93(0x1c2)+'\x20(?,\x20?,\x20?)'+_0x380e93(0x164)+_0x380e93(0x1f9)+'FLICT(chat'+'_jid,\x20user'+'_jid)\x20DO\x20U'+'PDATE\x20SET\x20'+'warn_count'+'\x20=\x20exclude'+_0x380e93(0x1b7)+_0x380e93(0x167)),[_0x9df176,_0x46a5a1,_0x36d2c0]);}catch(_0x3f08c9){warn(_0x380e93(0x110)+_0x380e93(0x187)+_0x380e93(0x183)+(_0x3f08c9?.['message']||_0x3f08c9));}}async function getBlocklist(_0x8ef189){const _0x2cbf86=_0x3ded5a;try{const _0xe76e13=await db[_0x2cbf86(0x1ab)](_0x2cbf86(0x1ea)+_0x2cbf86(0x1f3)+'M\x20'+TABLE_SETTINGS+(_0x2cbf86(0x222)+'t_jid\x20=\x20?'),[_0x8ef189]);return _0xe76e13?safeJSONParse(_0xe76e13[_0x2cbf86(0x12a)],[]):[];}catch(_0x14103b){return warn(_0x2cbf86(0x1ba)+_0x2cbf86(0x140)+_0x2cbf86(0x183)+(_0x14103b?.['message']||_0x14103b)),[];}}function _0x100f(_0x44f61f,_0x18d2c5){const _0x1070b2=_0x1971();return _0x100f=function(_0x3e220b,_0x5016aa){_0x3e220b=_0x3e220b-(0x22e2+0x1e2d+0x1*-0x400d);let _0x4d49d1=_0x1070b2[_0x3e220b];return _0x4d49d1;},_0x100f(_0x44f61f,_0x18d2c5);}async function setBlocklist(_0x14e120,_0x22ed6f){const _0x55f17f=_0x3ded5a;ahoCache['delete'](_0x14e120);try{await db['run']('INSERT\x20INT'+'O\x20'+TABLE_SETTINGS+(_0x55f17f(0x19f)+',\x20blocklis'+'t)\x20VALUES\x20'+_0x55f17f(0x230)+_0x55f17f(0x180)+_0x55f17f(0x240)+_0x55f17f(0x18c)+_0x55f17f(0x13f)+_0x55f17f(0x251)+_0x55f17f(0x120)+'cluded.blo'+_0x55f17f(0x17b)),[_0x14e120,JSON['stringify'](uniqArray(_0x22ed6f))]);}catch(_0x27226e){warn('[warn]\x20set'+_0x55f17f(0x140)+_0x55f17f(0x183)+(_0x27226e?.[_0x55f17f(0x245)]||_0x27226e));}}function setupApi(_0x5093ef){const _0x5f557c=_0x3ded5a;botRef=_0x5093ef;if(botRef){if(typeof botRef[_0x5f557c(0x1c1)+'e']===_0x5f557c(0x1fe))sendApi=async(_0x511f78,_0xf5788b)=>await botRef[_0x5f557c(0x1c1)+'e'](_0x511f78,_0xf5788b);else botRef[_0x5f557c(0x23f)]&&typeof botRef[_0x5f557c(0x23f)][_0x5f557c(0x1c1)+'e']==='function'?sendApi=async(_0x3a8179,_0xcce334)=>await botRef[_0x5f557c(0x23f)]['sendMessag'+'e'](_0x3a8179,_0xcce334):sendApi=null;}}async function safeSend(_0x207d11,_0x41d7eb){const _0x42529d=_0x3ded5a;if(!sendApi){warn('[warn]\x20sen'+'d\x20API\x20not\x20'+_0x42529d(0x14b));return;}try{await sendApi(_0x207d11,_0x41d7eb);}catch(_0xa8f4e5){error(_0xa8f4e5,_0x42529d(0x114)+_0x42529d(0x12f)+_0x42529d(0x1c6)+_0x42529d(0x205)+_0x207d11);}}async function deleteMessage(_0x580cad){const _0x519319=_0x3ded5a;if(!_0x580cad)return![];try{const _0x3dceb5=botRef?.[_0x519319(0x23f)]||botRef;if(_0x3dceb5&&typeof _0x3dceb5[_0x519319(0x1c1)+'e']===_0x519319(0x1fe))return await _0x3dceb5[_0x519319(0x1c1)+'e'](_0x580cad[_0x519319(0x1fb)],{'delete':_0x580cad}),!![];return warn(_0x519319(0x1ef)+_0x519319(0x1bb)+_0x519319(0x1da)+'ilable'),![];}catch(_0x79b303){return error(_0x79b303,_0x519319(0x114)+_0x519319(0x1c0)+_0x519319(0x218)+'e\x20'+(_0x580cad['id']||_0x519319(0x22c))+':\x20'+(_0x79b303?.['message']||_0x79b303)),![];}}function refreshConfig(){const _0x44ef28=_0x3ded5a,_0x5a1bb8=getConfig()||{};config={'MAX_WARNS':0x3,'WARN_MESSAGE':_0x44ef28(0x14d)+_0x44ef28(0x10a)+_0x44ef28(0x102)+_0x44ef28(0x156)+_0x44ef28(0x1fd)+_0x44ef28(0x1ec)+_0x44ef28(0x174)+_0x44ef28(0x107)+_0x44ef28(0x105)+'ing_warns}'+_0x44ef28(0x18f)+_0x44ef28(0x15b),'DEFAULT_REASON':_0x44ef28(0x252)+_0x44ef28(0x1cf)+'.','SHOW_TRIGGER_IN_REASON':!![],..._0x5a1bb8[_0x44ef28(0x190)+'M']||{}};}function getMessageText(_0x549241){const _0x5f5878=_0x3ded5a,_0x146ab9=_0x549241['message'];if(!_0x146ab9)return'';return _0x146ab9[_0x5f5878(0x242)+'on']||_0x146ab9[_0x5f5878(0x118)+'xtMessage']?.['text']||_0x146ab9['imageMessa'+'ge']?.[_0x5f5878(0x152)]||_0x146ab9['videoMessa'+'ge']?.[_0x5f5878(0x152)]||_0x146ab9[_0x5f5878(0x133)+'ssage']?.['fileName']||'';}function normalizeForMatch(_0x244478){const _0x52dbb3=_0x3ded5a;let _0x256d80=String(_0x244478||'');try{_0x256d80=_0x256d80[_0x52dbb3(0x253)]('NFKC');}catch(_0xacb550){}return _0x256d80[_0x52dbb3(0x1f1)+'e']();}async function kickUser(_0x46d2e6,_0x3e7052){const _0x45eee1=_0x3ded5a;try{const _0x382c52=botRef?.[_0x45eee1(0x23f)]||botRef;if(_0x382c52&&typeof _0x382c52['groupParti'+_0x45eee1(0x212)+'ate']===_0x45eee1(0x1fe))return await _0x382c52['groupParti'+_0x45eee1(0x212)+_0x45eee1(0x194)](_0x46d2e6,[_0x3e7052],_0x45eee1(0x1fa)),info('[warn]\x20Kic'+_0x45eee1(0x138)+_0x3e7052+_0x45eee1(0x14c)+_0x46d2e6),!![];return warn(_0x45eee1(0x16b)+_0x45eee1(0x182)+'\x20not\x20avail'+_0x45eee1(0x1f2)),![];}catch(_0x53e197){return error(_0x53e197,_0x45eee1(0x114)+_0x45eee1(0x1aa)+'k\x20'+_0x3e7052),![];}}async function captureMediaInMemory(_0x242953){const _0x419ec6=_0x3ded5a;try{if(!_0x242953||!_0x242953['message'])return null;const _0x57f921=_0x242953[_0x419ec6(0x245)],_0x215e5d=[{'key':'imageMessa'+'ge','type':_0x419ec6(0x1bf)},{'key':_0x419ec6(0x179)+'ge','type':_0x419ec6(0x211)},{'key':_0x419ec6(0x13d),'type':_0x419ec6(0x237)},{'key':_0x419ec6(0x14a)+'ge','type':_0x419ec6(0x219)},{'key':_0x419ec6(0x133)+'ssage','type':'document'},{'key':_0x419ec6(0x1af)+_0x419ec6(0x108),'type':_0x419ec6(0x17a)}];for(const _0x47f60f of _0x215e5d){if(_0x57f921[_0x47f60f[_0x419ec6(0x1d4)]]){const _0x26df3e=_0x57f921[_0x47f60f[_0x419ec6(0x1d4)]],_0x173e5b=_0x47f60f[_0x419ec6(0x17f)];try{const _0x3f7b20=await downloadContentFromMessage(_0x57f921[_0x47f60f[_0x419ec6(0x1d4)]],_0x173e5b),_0x15d1cf=[];for await(const _0x171536 of _0x3f7b20)_0x15d1cf[_0x419ec6(0x128)](_0x171536);if(!_0x15d1cf[_0x419ec6(0x1e4)])return null;const _0x3461ab=Buffer[_0x419ec6(0x22f)](_0x15d1cf);return{'buffer':_0x3461ab,'messageType':_0x173e5b,'mimetype':_0x26df3e[_0x419ec6(0x168)]||null,'fileName':_0x26df3e['fileName']||null,'caption':_0x26df3e[_0x419ec6(0x152)]||null,'ptv':!!_0x57f921[_0x419ec6(0x13d)],'gifPlayback':!!_0x57f921[_0x419ec6(0x179)+'ge']?.['gifPlaybac'+'k'],'ptt':!!_0x57f921[_0x419ec6(0x14a)+'ge']?.['ptt']};}catch(_0x143f0c){return warn('[warn]\x20cap'+_0x419ec6(0x122)+_0x419ec6(0x132)+_0x419ec6(0x1ad)+'ype\x20'+_0x173e5b+':\x20'+(_0x143f0c?.['message']||_0x143f0c)),null;}}}return null;}catch(_0x24c9e2){return warn(_0x419ec6(0x1ee)+_0x419ec6(0x122)+'nMemory\x20to'+'p\x20error:\x20'+(_0x24c9e2?.[_0x419ec6(0x245)]||_0x24c9e2)),null;}}async function issueWarning(_0x428cf2,_0x233fb0,_0x106e77,_0x275079=![]){const _0x389ff6=_0x3ded5a;try{const _0x1d84ef=await getWarnCount(_0x233fb0,_0x428cf2),_0x4370a9=_0x1d84ef+(0x15c6+-0x7*-0x515+-0x2de*0x14);await setWarnCount(_0x233fb0,_0x428cf2,_0x4370a9);if(_0x4370a9>=config[_0x389ff6(0x176)])await safeSend(_0x233fb0,{'text':_0x389ff6(0x1b1)+'TðŸš¨*\x0a\x0aUser\x20'+'@'+_0x428cf2[_0x389ff6(0x192)]('@')[-0x1d*0x14f+-0x1*0x2173+0x23b3*0x2]+('\x20has\x20reach'+_0x389ff6(0x129)+'imum\x20warni'+'ng\x20limit\x20a'+_0x389ff6(0x22e)+_0x389ff6(0x234)),'mentions':[_0x428cf2]}),await sleep(0x19*-0x6f+0x16eb*0x1+-0xa20),await kickUser(_0x233fb0,_0x428cf2),await setWarnCount(_0x233fb0,_0x428cf2,0xc8f+0x1f6+-0x1*0xe85);else{const _0x4e2f9d=config[_0x389ff6(0x176)]-_0x4370a9;let _0x4ed1c4=_0x106e77?.['reason']||config[_0x389ff6(0x215)+'ASON'];_0x275079&&config[_0x389ff6(0x1e7)+_0x389ff6(0x12d)+'ON']&&_0x106e77?.[_0x389ff6(0x208)]&&(_0x4ed1c4=_0x4ed1c4+_0x389ff6(0x135)+_0x106e77[_0x389ff6(0x208)]+'\x22)');const _0x7786f=config[_0x389ff6(0x1ae)+'GE']['replace']('{user}','@'+_0x428cf2[_0x389ff6(0x192)]('@')[0x15*-0xee+-0x1*0x7bb+0x1b41])[_0x389ff6(0x207)](_0x389ff6(0x11e)+'}',String(config['MAX_WARNS']))[_0x389ff6(0x207)]('{remaining'+_0x389ff6(0x249),String(_0x4e2f9d))[_0x389ff6(0x207)]('{reason}',_0x4ed1c4);await safeSend(_0x233fb0,{'text':_0x7786f,'mentions':[_0x428cf2]});}}catch(_0x435e9d){warn(_0x389ff6(0x113)+'ueWarning\x20'+_0x389ff6(0x183)+(_0x435e9d?.['message']||_0x435e9d));}}async function findTrigger(_0x2473e7,_0x21c972){const _0x216070=_0x3ded5a;try{const _0xc0bc66=_0x2473e7[_0x216070(0x245)];if(!_0xc0bc66)return null;const _0x16ad1b={'fileName':_0xc0bc66[_0x216070(0x133)+'ssage']?.[_0x216070(0x1c4)]?.[_0x216070(0x1f1)+'e'](),'mimeType':(_0xc0bc66['imageMessa'+'ge']?.[_0x216070(0x168)]||_0xc0bc66['videoMessa'+'ge']?.[_0x216070(0x168)]||_0xc0bc66[_0x216070(0x14a)+'ge']?.[_0x216070(0x168)]||_0xc0bc66[_0x216070(0x133)+_0x216070(0x188)]?.['mimetype'])?.[_0x216070(0x1f1)+'e'](),'isImg':!!_0xc0bc66[_0x216070(0x1e8)+'ge'],'isVid':!!_0xc0bc66['videoMessa'+'ge'],'isAud':!!_0xc0bc66[_0x216070(0x14a)+'ge'],'isDoc':!!_0xc0bc66[_0x216070(0x133)+_0x216070(0x188)]};for(const _0x4d0587 of _0x21c972){if(!_0x4d0587['startsWith']('*'))continue;const _0x56d684=_0x4d0587[_0x216070(0x1d9)](-0x1f53+-0x24c1*-0x1+-0x56d*0x1)['toLowerCas'+'e']();if(_0x56d684===_0x216070(0x14f)&&_0x16ad1b[_0x216070(0x248)])return{'reason':_0x216070(0x203)+_0x216070(0x173)+_0x216070(0x149),'trigger':_0x216070(0x1bf)};if(_0x56d684==='vid'&&_0x16ad1b['isVid'])return{'reason':'sending\x20a\x20'+'blocked\x20me'+_0x216070(0x149),'trigger':_0x216070(0x211)};if(_0x56d684===_0x216070(0x10c)&&_0x16ad1b[_0x216070(0x227)])return{'reason':_0x216070(0x203)+'blocked\x20me'+_0x216070(0x149),'trigger':_0x216070(0x219)};if(_0x56d684===_0x216070(0x235)&&_0x16ad1b[_0x216070(0x163)])return{'reason':_0x216070(0x203)+_0x216070(0x173)+'dia\x20type','trigger':_0x216070(0x22d)};if(_0x16ad1b[_0x216070(0x1c4)]&&_0x16ad1b[_0x216070(0x1c4)]['endsWith']('.'+_0x56d684))return{'reason':_0x216070(0x203)+'blocked\x20fi'+_0x216070(0x225),'trigger':'*.'+_0x56d684};if(_0x16ad1b[_0x216070(0x162)]&&_0x16ad1b[_0x216070(0x162)][_0x216070(0x1dc)]('/'+_0x56d684))return{'reason':_0x216070(0x203)+'blocked\x20fi'+_0x216070(0x225),'trigger':'*.'+_0x56d684};}const _0x3458e0=getMessageText(_0x2473e7);if(!_0x3458e0)return null;const _0x24d8d2=_0x21c972['filter'](_0x315d90=>!_0x315d90[_0x216070(0x153)]('*'));if(_0x24d8d2[_0x216070(0x1e4)]===0x1702*0x1+-0xd98+0x2*-0x4b5)return null;const _0x1f6dbe=_0x2473e7[_0x216070(0x1d4)][_0x216070(0x1fb)],_0x5f1772=_0x24d8d2['join']('\x00');let _0x541a19;const _0x44dafb=ahoCache[_0x216070(0x1ab)](_0x1f6dbe);if(_0x44dafb&&_0x44dafb['serialized'+_0x216070(0x11a)]===_0x5f1772)_0x541a19=_0x44dafb[_0x216070(0x255)];else{const _0x316071=_0x24d8d2['map'](normalizeForMatch);_0x541a19=new AhoCorasick(_0x316071),ahoCache['set'](_0x1f6dbe,{'serializedKeywords':_0x5f1772,'aho':_0x541a19});}const _0x3d28ec=normalizeForMatch(_0x3458e0),_0x425b49=_0x541a19[_0x216070(0x25b)](_0x3d28ec);for(const _0x43cbbb of _0x425b49){const _0x2ff9cf=_0x43cbbb[_0x216070(0x199)],_0x75f505=_0x2ff9cf+_0x43cbbb['keyword'][_0x216070(0x1e4)],_0x43739f=_0x3d28ec[_0x2ff9cf-(-0x38*0x4c+0x4c1+0xbe0)],_0x5f117b=_0x3d28ec[_0x75f505],_0x4047c1=_0x2ff9cf===-0x13*0x12b+0x1b2f*-0x1+0x14*0x278||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/[_0x216070(0x1e6)](_0x43739f)||!/\w/['test'](_0x43739f),_0xa5b061=_0x75f505===_0x3d28ec[_0x216070(0x1e4)]||/[\s.,\/#!$%\^&\*;:{}=\-_`~()]/['test'](_0x5f117b)||!/\w/[_0x216070(0x1e6)](_0x5f117b);if(_0x4047c1&&_0xa5b061){const _0xe83bfa=_0x24d8d2[_0x216070(0x216)](_0xcdd095=>normalizeForMatch(_0xcdd095)===_0x43cbbb[_0x216070(0x104)]);return{'reason':_0x216070(0x145)+_0x216070(0x1b8),'trigger':_0xe83bfa||_0x43cbbb[_0x216070(0x104)]};}}return null;}catch(_0x134b44){return warn('[warn]\x20fin'+_0x216070(0x119)+'rror:\x20'+(_0x134b44?.[_0x216070(0x245)]||_0x134b44)),null;}}async function getDeleteLogTargetJid(){const _0x3ae323=_0x3ded5a;try{const _0x45c851=await db[_0x3ae323(0x1ab)](_0x3ae323(0x224)+_0x3ae323(0x103)+_0x3ae323(0x21b)+_0x3ae323(0x121)+_0x3ae323(0x13c)+_0x3ae323(0x1b9));return _0x45c851?.[_0x3ae323(0x1ca)]||getBotJid();}catch(_0x487524){return getBotJid();}}async function forwardDeletedWarning(_0x10b83f,_0x222a1f=null,_0xfea24a=null){const _0x59b5d2=_0x3ded5a;try{const _0xedc763=await getDeleteLogTargetJid();if(!_0xedc763)return;const _0x4de798=_0x10b83f[_0x59b5d2(0x1d4)]?.[_0x59b5d2(0x243)+'t']||_0x10b83f[_0x59b5d2(0x1d4)]?.['remoteJid']||_0x59b5d2(0x210),_0x4b8558=String(_0x4de798)['split']('@')[-0x22e7+-0xe79+-0xa*-0x4f0],_0x15715d=_0x10b83f[_0x59b5d2(0x1d4)]?.[_0x59b5d2(0x1fb)],_0x3f802f=getMessageText(_0x10b83f)||'';let _0x33180d='PM';try{if(_0x15715d&&_0x15715d[_0x59b5d2(0x1b4)](_0x59b5d2(0x169))){const _0x43f702=await(botRef?.[_0x59b5d2(0x23f)]||botRef)[_0x59b5d2(0x214)+'ata'](_0x15715d);_0x33180d=_0x43f702?.[_0x59b5d2(0x19e)]||_0x59b5d2(0x17e)+_0x59b5d2(0x143);}}catch(_0xed5272){_0x33180d=_0x59b5d2(0x17e)+_0x59b5d2(0x143);}const _0x46b7b8=_0x222a1f?.[_0x59b5d2(0x208)]?_0x59b5d2(0x1b2)+String(_0x222a1f[_0x59b5d2(0x208)]):'',_0x4f6d34=[_0x59b5d2(0x1de)+_0x59b5d2(0x21e),'',_0x59b5d2(0x157)+'@'+_0x4b8558,_0x59b5d2(0x148)+_0x33180d+'\x20('+_0x15715d+')',_0x59b5d2(0x1c3)+'l\x20Message:'+'*',_0x59b5d2(0x11b)+_0x3f802f+_0x59b5d2(0x11b)];if(_0x46b7b8)_0x4f6d34['push']('',_0x46b7b8);await safeSend(_0xedc763,{'text':_0x4f6d34[_0x59b5d2(0x111)]('\x0a'),'mentions':[_0x4de798]});if(_0xfea24a?.[_0x59b5d2(0x151)]?.[_0x59b5d2(0x1e4)])try{let _0x245cec={};const _0x45f3fc=_0xfea24a[_0x59b5d2(0x152)]||'';switch(_0xfea24a[_0x59b5d2(0x232)+'e']){case'image':_0x245cec={'image':_0xfea24a[_0x59b5d2(0x151)],'caption':_0x45f3fc,'mimetype':_0xfea24a[_0x59b5d2(0x168)]};break;case _0x59b5d2(0x211):case _0x59b5d2(0x237):_0x245cec={'video':_0xfea24a[_0x59b5d2(0x151)],'caption':_0x45f3fc,'mimetype':_0xfea24a[_0x59b5d2(0x168)],'gifPlayback':!!_0xfea24a[_0x59b5d2(0x1a2)+'k']};if(_0xfea24a[_0x59b5d2(0x232)+'e']===_0x59b5d2(0x237))_0x245cec['ptv']=!![];break;case'audio':_0x245cec={'audio':_0xfea24a[_0x59b5d2(0x151)],'ptt':!!_0xfea24a[_0x59b5d2(0x23d)],'mimetype':_0xfea24a[_0x59b5d2(0x168)]};break;case _0x59b5d2(0x17a):_0x245cec={'sticker':_0xfea24a[_0x59b5d2(0x151)]};break;case _0x59b5d2(0x22d):_0x245cec={'document':_0xfea24a[_0x59b5d2(0x151)],'fileName':_0xfea24a[_0x59b5d2(0x1c4)]||'file','mimetype':_0xfea24a['mimetype'],'caption':_0x45f3fc};break;default:return;}await safeSend(_0xedc763,{..._0x245cec,'mentions':[_0x4de798]});}catch(_0x3239ad){warn(_0x59b5d2(0x196)+_0x59b5d2(0x1cd)+_0x59b5d2(0x21a)+'edia)\x20fail'+'ed:\x20'+(_0x3239ad?.[_0x59b5d2(0x245)]||_0x3239ad));}}catch(_0x1f0d4c){warn('[warn]\x20for'+'wardDelete'+'dWarning\x20f'+'ailed:\x20'+(_0x1f0d4c?.[_0x59b5d2(0x245)]||_0x1f0d4c));}}function splitRestForGp(_0x104ddc){const _0x597beb=_0x3ded5a;if(!_0x104ddc)return{'left':'','gp':null};const _0x53e952=_0x104ddc[_0x597beb(0x1a0)](/\bgp[:\s]+(.+)$/i);if(_0x53e952){const _0x5b8178=_0x104ddc[_0x597beb(0x1d6)](-0x8d4*-0x1+-0x14b3+0xbdf,_0x53e952[_0x597beb(0x199)])[_0x597beb(0x171)](),_0x35030a=_0x53e952[0x25c9*0x1+-0x10fd+-0x14cb*0x1]['trim']();return{'left':_0x5b8178,'gp':_0x35030a};}const _0x27200a=_0x104ddc['split'](/\s+/)[_0x597beb(0x1ac)](Boolean);if(_0x27200a[_0x597beb(0x1e4)]>0xd*-0x19d+-0x19*0x14b+0xaa9*0x5){const _0x599626=_0x27200a[_0x27200a[_0x597beb(0x1e4)]-(0x11*-0x1c3+-0x47c+0x2270)];if(_0x599626[_0x597beb(0x1f1)+'e']()===_0x597beb(0x11d)||_0x599626[_0x597beb(0x1dc)]('@'))return _0x27200a[_0x597beb(0x1e3)](),{'left':_0x27200a[_0x597beb(0x111)]('\x20')[_0x597beb(0x171)](),'gp':_0x599626};}return{'left':_0x104ddc[_0x597beb(0x171)](),'gp':null};}function parseItemsAndGpOneLine(_0x2beccf,_0x55bd93){const _0x3f5f18=_0x3ded5a,_0x455303=(_0x2beccf||'')['split'](/\r?\n/)[-0xf3f+0x9bc+0x583][_0x3f5f18(0x171)](),_0x4d6109=new RegExp(_0x3f5f18(0x206)+_0x55bd93+')\x5cb','i'),_0x18bcc9=_0x455303['replace'](_0x4d6109,'')[_0x3f5f18(0x171)](),{left:_0x173a78,gp:_0x5877dc}=splitRestForGp(_0x18bcc9),_0x1da2c6=(_0x173a78||'')[_0x3f5f18(0x192)](/[, ]+/)[_0x3f5f18(0x154)](_0x59a0b4=>_0x59a0b4[_0x3f5f18(0x171)]())['filter'](Boolean);return{'items':_0x1da2c6,'gp':_0x5877dc,'rawLeft':_0x173a78};}async function findStoredMatchFromFindings(_0x33f921=[]){const _0x53a6b5=_0x3ded5a;try{const _0x7c95c3=await listSudo();if(!_0x7c95c3?.[_0x53a6b5(0x1e4)])return null;const _0x148a30=new Set(_0x7c95c3[_0x53a6b5(0x154)](String));for(const _0x52fda4 of _0x33f921||[]){if(!_0x52fda4?.[_0x53a6b5(0x1d2)])continue;const _0x21a62b=normalizeToJid(_0x52fda4[_0x53a6b5(0x1d2)]);if(_0x21a62b&&_0x148a30[_0x53a6b5(0x177)](_0x21a62b))return _0x21a62b;if(_0x148a30['has'](_0x52fda4[_0x53a6b5(0x1d2)]))return _0x52fda4[_0x53a6b5(0x1d2)];}return null;}catch(_0xfaedde){return warn(_0x53a6b5(0x24d)+_0x53a6b5(0x213)+_0x53a6b5(0x16e)+'ings\x20error'+':\x20'+(_0xfaedde?.['message']||_0xfaedde)),null;}}async function resolveDefaultChatJidsForUser(_0x410e3a){const _0x25622d=_0x3ded5a;try{const _0x21fbb0=await getDefault(_0x410e3a)[_0x25622d(0x223)](()=>null);if(!_0x21fbb0||Array[_0x25622d(0x254)](_0x21fbb0)&&_0x21fbb0['length']===0x3*-0x3ef+-0x1c0c+-0x27d9*-0x1)return[];const _0x57f0b9=Array[_0x25622d(0x254)](_0x21fbb0)?_0x21fbb0:[_0x21fbb0];let _0x38c616=[];for(const _0xe4e5a5 of _0x57f0b9){try{const _0x37b6a8=await getConnection(_0xe4e5a5)[_0x25622d(0x223)](()=>null);if(Array[_0x25622d(0x254)](_0x37b6a8))_0x38c616['push'](..._0x37b6a8);else{if(_0x37b6a8)_0x38c616[_0x25622d(0x128)](String(_0x37b6a8));}}catch(_0x3e919a){warn(_0x25622d(0x18b)+'olving\x20con'+_0x25622d(0x1be)+_0xe4e5a5+_0x25622d(0x1a1)+(_0x3e919a?.[_0x25622d(0x245)]||_0x3e919a));}}return uniqArray(_0x38c616[_0x25622d(0x154)](_0x598fa4=>String(_0x598fa4)[_0x25622d(0x171)]()));}catch(_0x578c61){return warn('[warn]\x20res'+'olveDefaul'+_0x25622d(0x21c)+_0x25622d(0x1b6)+_0x25622d(0x10d)+(_0x578c61?.[_0x25622d(0x245)]||_0x578c61)),[];}}export async function initialize(_0x399947){const _0x57313c=_0x3ded5a;try{setupApi(_0x399947),await ensureSchema(),refreshConfig(),info(_0x57313c(0x1b5)+_0x57313c(0x136)+_0x57313c(0x124));}catch(_0x2338d8){error(_0x2338d8,_0x57313c(0x198)+'tialize\x20fa'+_0x57313c(0x16c));throw _0x2338d8;}}export async function onMessage(_0x1751d1){const _0x5db40f=_0x3ded5a;if(!_0x1751d1?.['key']?.['remoteJid']||!_0x1751d1[_0x5db40f(0x245)])return;const _0x194ee3=_0x1751d1[_0x5db40f(0x1d4)]['remoteJid'],_0x4f8ad3=_0x194ee3[_0x5db40f(0x1b4)]('@g.us'),_0x3336fa=_0x1751d1[_0x5db40f(0x1d4)][_0x5db40f(0x243)+'t']||_0x1751d1[_0x5db40f(0x1d4)][_0x5db40f(0x1fb)],_0x503f7b=_0x3336fa[_0x5db40f(0x192)]('@')[-0x172f+-0xc9c+0x11*0x21b],_0x238c8c=getMessageText(_0x1751d1),_0x387535=_0x1751d1[_0x5db40f(0x19a)]&&_0x238c8c?_0x238c8c[_0x5db40f(0x171)]()[_0x5db40f(0x192)](/\s+/)[-0x1dd9*0x1+-0x392*-0x7+0x71*0xb][_0x5db40f(0x1f1)+'e']()['replace']('/',''):null;if(_0x1751d1['isCommand']&&_0x387535&&commands[_0x5db40f(0x1dc)](_0x387535)){if(!_0x4f8ad3){const _0x1c2b1c=Boolean(_0x1751d1[_0x5db40f(0x1d4)][_0x5db40f(0x12b)]);let _0x3257e9=null;if(_0x1c2b1c)_0x3257e9=getBotJid()||_0x194ee3;else{if(!await isSudo(botRef,_0x1751d1))return;const _0x2fde58=await userJidFromCtx(_0x1751d1)||{'findings':[]};_0x3257e9=await findStoredMatchFromFindings(_0x2fde58[_0x5db40f(0x12c)]);if(!_0x3257e9){warn('[warn]\x20sud'+_0x5db40f(0x23e)+_0x5db40f(0x18d)+_0x5db40f(0x1e9)+_0x5db40f(0x15c));return;}}if(_0x387535===_0x5db40f(0x1a9))return safeSend(_0x3257e9,{'text':'The\x20`.warn'+_0x5db40f(0x126)+_0x5db40f(0x21d)+_0x5db40f(0x16f)+'e\x20run\x20it\x20i'+_0x5db40f(0x131)+_0x5db40f(0x130)+_0x5db40f(0x147)+_0x5db40f(0x117)+'entioning\x20'+_0x5db40f(0x1f5)});const _0x1f000c=parseItemsAndGpOneLine(_0x238c8c,_0x387535),{items:_0x4fe960,gp:_0x326506}=_0x1f000c;if(!_0x326506)return safeSend(_0x3257e9,{'text':_0x5db40f(0x24e)+'.'+_0x387535+'\x20'+(_0x387535==='warnlist'?'':_0x5db40f(0x10e)+_0x5db40f(0x1d8))+('\x20gp:<alias'+_0x5db40f(0x250))});if((_0x387535===_0x5db40f(0x1df)||_0x387535==='warnunlock'||_0x387535==='resetwarns')&&_0x4fe960[_0x5db40f(0x1e4)]===-0x101*0x3+-0x2395+0x1a*0x17c)return safeSend(_0x3257e9,{'text':_0x5db40f(0x24e)+'.'+_0x387535+(_0x5db40f(0x115)+_0x5db40f(0x259)+_0x5db40f(0x150)+_0x5db40f(0x256))});let _0x1d16bd=[];if(_0x326506[_0x5db40f(0x1f1)+'e']()===_0x5db40f(0x11d))_0x1d16bd=await _0x57a2f3[_0x5db40f(0x202)+'ids']();else{const _0x5a26db=await _0x57a2f3['resolveNam'+'e'](_0x326506);if(_0x5a26db)_0x1d16bd=[_0x5a26db];else{if(_0x326506[_0x5db40f(0x1dc)]('@'))_0x1d16bd=[_0x57a2f3[_0x5db40f(0x1d5)+'oUserJid'](_0x326506)];else return safeSend(_0x3257e9,{'text':_0x5db40f(0x159)+'\x20alias/jid'+_0x5db40f(0x25a)+_0x326506+'\x22.'});}}if(!_0x1d16bd[_0x5db40f(0x1e4)])return safeSend(_0x3257e9,{'text':_0x5db40f(0x200)+_0x5db40f(0x1a8)+'y\x20target\x20g'+'roups\x20for\x20'+'\x27'+_0x326506+'\x27.'});if(_0x387535===_0x5db40f(0x1df)||_0x387535===_0x5db40f(0x134)){let _0x2ceb47=-0xaf9+0x1bd7+0xfe*-0x11;for(const _0x12529c of _0x1d16bd){const _0x2773ae=await getBlocklist(_0x12529c),_0x281761=new Set(_0x2773ae['map'](_0x504cb8=>_0x504cb8['toLowerCas'+'e']())),_0xed7861=_0x281761[_0x5db40f(0x1d7)];_0x387535===_0x5db40f(0x1df)?_0x4fe960[_0x5db40f(0x178)](_0x2135a6=>_0x281761[_0x5db40f(0x1a3)](_0x2135a6[_0x5db40f(0x1f1)+'e']())):_0x4fe960[_0x5db40f(0x178)](_0x3a2094=>_0x281761['delete'](_0x3a2094[_0x5db40f(0x1f1)+'e']())),_0x281761[_0x5db40f(0x1d7)]!==_0xed7861&&(await setBlocklist(_0x12529c,Array['from'](_0x281761)),_0x2ceb47++);}await safeSend(_0x3257e9,{'text':(_0x387535===_0x5db40f(0x1df)?_0x5db40f(0x10f):_0x5db40f(0x1ce))+'\x20'+_0x4fe960[_0x5db40f(0x1e4)]+(_0x5db40f(0x258)+_0x5db40f(0x1d0))+_0x2ceb47+'\x20of\x20'+_0x1d16bd[_0x5db40f(0x1e4)]+'\x20group(s).'});}else{if(_0x387535==='warnlist'){const _0x4cf7b8=new Set();for(const _0x4ac9fd of _0x1d16bd){const _0x26e2bb=await getBlocklist(_0x4ac9fd);_0x26e2bb['forEach'](_0x13d53a=>_0x4cf7b8[_0x5db40f(0x1a3)](_0x13d53a));}const _0x2b2a9c=Array[_0x5db40f(0x1c7)](_0x4cf7b8);if(_0x2b2a9c[_0x5db40f(0x1e4)]===-0xc73+0x18a*0x6+-0x337*-0x1)return safeSend(_0x3257e9,{'text':_0x5db40f(0x172)+_0x5db40f(0x226)+_0x5db40f(0x22b)+_0x5db40f(0x15a)+_0x5db40f(0x231)});await safeSend(_0x3257e9,{'text':_0x5db40f(0x186)+'d\x20Blocklis'+'t\x20ðŸš«*\x0a\x0a-\x20'+_0x2b2a9c['join'](_0x5db40f(0x195))});}else{if(_0x387535===_0x5db40f(0x244)){for(const _0x34a5e6 of _0x1d16bd){for(const _0x48616c of _0x4fe960){let _0x3a0dc6=_0x48616c['startsWith']('@')?_0x48616c['substring'](0x1cc2+0x6*0x31d+-0x2f6f*0x1)+(_0x5db40f(0x12e)+_0x5db40f(0x19d)):_0x48616c;if(!_0x3a0dc6[_0x5db40f(0x1dc)]('@'))_0x3a0dc6+=_0x5db40f(0x12e)+_0x5db40f(0x19d);await setWarnCount(_0x34a5e6,normalizeToUserJidLocal(_0x3a0dc6),-0x2009*0x1+-0x3*-0x61d+0xdb2);}}await safeSend(_0x3257e9,{'text':'Reset\x20warn'+'ings\x20for\x20'+_0x4fe960[_0x5db40f(0x1e4)]+(_0x5db40f(0x20c)+_0x5db40f(0x217))+_0x1d16bd['length']+_0x5db40f(0x1a7)});}}}return;}if(_0x4f8ad3){if(!await isadmin(botRef,_0x1751d1))return;const _0x284c03=_0x1751d1[_0x5db40f(0x245)]?.[_0x5db40f(0x118)+_0x5db40f(0x1f6)]?.[_0x5db40f(0x1f7)+'o'];if(_0x387535===_0x5db40f(0x1a9)){const _0x1f2333=_0x284c03?.[_0x5db40f(0x1e0)+'id']||[];let _0x61e51=_0x1f2333[0x265*-0x5+-0x1*-0x95b+0x29e],_0x36a7a7=null;!_0x61e51&&_0x284c03?.['quotedMess'+'age']&&(_0x61e51=_0x284c03[_0x5db40f(0x243)+'t'],_0x36a7a7={'remoteJid':_0x194ee3,'id':_0x284c03[_0x5db40f(0x221)],'fromMe':_0x284c03[_0x5db40f(0x243)+'t']===(botRef?.[_0x5db40f(0x23f)]?.[_0x5db40f(0x257)]?.['id']||getBotJid()),'participant':_0x284c03[_0x5db40f(0x243)+'t']});if(!_0x61e51)return safeSend(_0x194ee3,{'text':_0x5db40f(0x146)+_0x5db40f(0x1bc)+_0x5db40f(0x13b)+_0x5db40f(0x123)+_0x5db40f(0x1cc)+_0x5db40f(0x1a6)+'\x20the\x20`.war'+_0x5db40f(0x10b)+'.'});_0x36a7a7&&await deleteMessage(_0x36a7a7);const _0xeae180=_0x238c8c['replace']('/'+_0x387535,'')[_0x5db40f(0x207)](/@\d+/g,'')['trim']();await issueWarning(_0x61e51,_0x194ee3,{'reason':_0xeae180},![]),await safeSend(_0x194ee3,{'text':'Issued\x20war'+_0x5db40f(0x21f)+_0x61e51[_0x5db40f(0x192)]('@')[-0x58*-0x12+0x1f*-0x13e+0x24f*0xe]+'.','mentions':[_0x61e51]});return;}const _0x2e531b=_0x194ee3,_0x49cc4e=await resolveDefaultChatJidsForUser(_0x503f7b),_0x3694e8=_0x49cc4e[_0x5db40f(0x1e4)]>0x23f3+-0x5f1+-0x2*0xf01?_0x49cc4e:[_0x194ee3];_0x49cc4e[_0x5db40f(0x1e4)]===0xc34+0x672+-0x155*0xe&&safeSend(_0x2e531b,_0x5db40f(0x144)+_0x5db40f(0x24f)+_0x5db40f(0x24b)+_0x5db40f(0x155)+_0x5db40f(0x1fc)+_0x5db40f(0x1d3)+_0x5db40f(0x236)+_0x5db40f(0x1c9)+_0x5db40f(0x1f8)+'ault`\x20to\x20c'+_0x5db40f(0x1b0));if(_0x387535===_0x5db40f(0x1df)||_0x387535==='warnunlock'){const _0x4d3cb9=_0x238c8c['split'](/\s+/)['slice'](0x1a28+0x1dcc+-0x37f3)[_0x5db40f(0x111)]('\x20')[_0x5db40f(0x192)](/[, ]+/)[_0x5db40f(0x1ac)](Boolean);if(_0x4d3cb9[_0x5db40f(0x1e4)]===-0xe1a*-0x1+0x300+-0x111a)return safeSend(_0x2e531b,{'text':_0x5db40f(0x1e5)+_0x387535+(_0x5db40f(0x20e)+_0x5db40f(0x15e))});for(const _0xb7b611 of _0x3694e8){const _0x3a5102=await getBlocklist(_0xb7b611),_0x1d4f8e=new Set(_0x3a5102['map'](_0x511f93=>_0x511f93[_0x5db40f(0x1f1)+'e']()));_0x387535===_0x5db40f(0x1df)?_0x4d3cb9[_0x5db40f(0x178)](_0x5cbcc1=>_0x1d4f8e['add'](_0x5cbcc1[_0x5db40f(0x1f1)+'e']())):_0x4d3cb9[_0x5db40f(0x178)](_0x14ffdb=>_0x1d4f8e[_0x5db40f(0x229)](_0x14ffdb[_0x5db40f(0x1f1)+'e']())),await setBlocklist(_0xb7b611,Array[_0x5db40f(0x1c7)](_0x1d4f8e));}await safeSend(_0x2e531b,{'text':(_0x387535==='warnlock'?'Added':_0x5db40f(0x22a))+'\x20'+_0x4d3cb9[_0x5db40f(0x1e4)]+(_0x5db40f(0x258)+_0x5db40f(0x142))+_0x3694e8[_0x5db40f(0x1e4)]+_0x5db40f(0x1a7)});}else{if(_0x387535==='warnlist'){const _0x1fa919=new Set();for(const _0x47c427 of _0x3694e8){const _0x347954=await getBlocklist(_0x47c427);_0x347954[_0x5db40f(0x178)](_0x2d4ed3=>_0x1fa919[_0x5db40f(0x1a3)](_0x2d4ed3));}const _0x46352f=Array[_0x5db40f(0x1c7)](_0x1fa919);if(_0x46352f['length']===0x1797+-0x18ba+0x123)return safeSend(_0x2e531b,{'text':_0x5db40f(0x172)+'ist\x20for\x20yo'+_0x5db40f(0x233)+_0x5db40f(0x20f)+_0x5db40f(0x23b)+'pty.'});await safeSend(_0x2e531b,{'text':_0x5db40f(0x1e2)+'st\x20(Defaul'+_0x5db40f(0x17c)+_0x46352f[_0x5db40f(0x111)](_0x5db40f(0x195))});}else{if(_0x387535===_0x5db40f(0x244)){const _0x93b432=_0x284c03?.['mentionedJ'+'id']||[];let _0x188723=_0x93b432[-0x69*0x9+0xfcb*-0x1+0x137c];!_0x188723&&_0x284c03?.[_0x5db40f(0x197)+'age']&&(_0x188723=_0x284c03[_0x5db40f(0x243)+'t']);if(!_0x188723)return safeSend(_0x2e531b,{'text':_0x5db40f(0x146)+_0x5db40f(0x1bc)+_0x5db40f(0x158)+_0x5db40f(0x116)+_0x5db40f(0x1eb)+_0x5db40f(0x127)});for(const _0x59bd1e of _0x3694e8){await setWarnCount(_0x59bd1e,_0x188723,0x709*0x1+-0x244d+-0x1*-0x1d44);}await safeSend(_0x2e531b,{'text':_0x5db40f(0x228)+_0x5db40f(0x106)+_0x188723['split']('@')[-0x9b5+0x1bf6+-0x1241]+_0x5db40f(0x204)+_0x3694e8[_0x5db40f(0x1e4)]+'\x20group(s).','mentions':[_0x188723]});}}}return;}}if(_0x4f8ad3){if(_0x1751d1[_0x5db40f(0x1d4)][_0x5db40f(0x12b)]||await isadmin(botRef,_0x1751d1))return;const _0x314d48=await getBlocklist(_0x194ee3);if(!_0x314d48||_0x314d48[_0x5db40f(0x1e4)]===-0x21c5+-0xb41+0x2d06)return;const _0x26fb78=await findTrigger(_0x1751d1,_0x314d48);if(!_0x26fb78)return;const _0xcab215=await captureMediaInMemory(_0x1751d1),_0x2e60c2=await deleteMessage(_0x1751d1[_0x5db40f(0x1d4)]);_0x2e60c2?(await forwardDeletedWarning(_0x1751d1,_0x26fb78,_0xcab215)['catch'](()=>{}),await issueWarning(_0x3336fa,_0x194ee3,_0x26fb78,!![])):warn(_0x5db40f(0x175)+_0x5db40f(0x18a)+_0x5db40f(0x218)+'e\x20'+(_0x1751d1[_0x5db40f(0x1d4)]?.['id']||'[no-id]')+(_0x5db40f(0x17d)+_0x5db40f(0x1d1)));}}export async function cleanup(){const _0x41b650=_0x3ded5a;botRef=null,sendApi=null,ahoCache['clear'](),info(_0x41b650(0x1b5)+_0x41b650(0x238)+_0x41b650(0x16d));}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};function _0x1971(){const _0x140b1d=['[warn]\x20set','join','\x20\x20\x20CREATE\x20','[warn]\x20iss','[warn]\x20Fai','\x20item1,ite','ion\x20them\x20t','\x20user\x20or\x20m','extendedTe','dTrigger\x20e','Keywords','```',');\x0a\x20\x20\x20\x20\x20\x20\x20','all','{max_warns','RY\x20KEY\x20(ch','klist\x20=\x20ex','\x20WHERE\x20key','tureMediaI','ge\x20or\x20ment','lized.','ngs','`\x20command\x20','rnings.','push','ed\x20the\x20max','blocklist','fromMe','findings','ER_IN_REAS','@s.whatsap','led\x20to\x20sen','oup\x20by\x20rep','nside\x20a\x20gr','nMemory\x20fa','documentMe','warnunlock','\x20(\x22','ule\x20initia','output','ked\x20','n_count\x20FR','t\x20TEXT\x20DEF','er\x27s\x20messa','\x20=\x20\x27target','ptvMessage','INSERT\x20INT',')\x20DO\x20UPDAT','Blocklist\x20','TABLE\x20IF\x20N','or\x20your\x20','oup','Note:\x20You\x20','using\x20a\x20bl','Usage:\x20Rep','lying\x20to\x20a','ðŸ’¬\x20*Chat:*\x20','dia\x20type','audioMessa','available','\x20from\x20','*âš ï¸WARN\x20MES','11901910WfOgby','img','alias|jid|','buffer','caption','startsWith','map','ection.\x20Co','r}\x0a*MAX\x20WA','ðŸ‘¤\x20*User:*\x20','er\x20or\x20ment','Unknown\x20gp','d\x20group(s)','\x20{reason}','ored\x20list.','INTEGER\x20DE','f,*jpeg','\x20KEY,\x0a\x20\x20\x20\x20','arn_count\x20','\x20\x20\x20','mimeType','isDoc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20user_jid','warn_setti','nt;','mimetype','@g.us','\x20\x20);\x0a\x20\x20\x20\x20\x20','[warn]\x20kic','iled','d\x20up.','chFromFind','nly.\x20Pleas','AULT\x20\x27[]\x27\x0a','trim','The\x20blockl','blocked\x20me','\x0a*REMAININ','[warn]\x20Cou','MAX_WARNS','has','forEach','videoMessa','sticker','cklist;','ts)\x20ðŸš«*\x0a\x0a-\x20',',\x20skipping','Unknown\x20Gr','type','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn_users','k\x20function','error:\x20','133LGBtvX','AND\x20user_j','*ðŸš«\x20Combine','WarnCount\x20','ssage','shift','ld\x20not\x20del','[warn]\x20res','T(chat_jid','m\x20PM\x20not\x20f','id\x20=\x20?','\x0a*REASON:*','WARN_SYSTE','t_jid\x20=\x20?\x20','split','ser_jid\x20TE','ate','\x0a-\x20','[warn]\x20for','quotedMess','[warn]\x20ini','index','isCommand','1466280RQPQzu','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','p.net','subject','\x20(chat_jid','match','\x20failed:\x20','gifPlaybac','add','er_jid)\x0a\x20\x20','9JyogiR','hile\x20using','\x20group(s).','resolve\x20an','warn','led\x20to\x20kic','get','filter','iled\x20for\x20t','WARN_MESSA','stickerMes','onfigure.','*ðŸš¨BAN\x20ALER','Matched:\x20','OM\x20','endsWith','[warn]\x20mod','orUser\x20fai','d.warn_cou','ocked\x20word','_jid\x27','[warn]\x20get','ete\x20functi','ly\x20to\x20a\x20us','parse','nection\x20','image','led\x20to\x20del','sendMessag','nt)\x20VALUES','ðŸ”—\x20*Origina','fileName','2756745XDmrwn','d\x20message\x20','from','on\x20failed','p\x20only.\x20Us','value','OT\x20EXISTS\x20','ion\x20them\x20w','wardDelete','Unlocked','roup\x20rules','or\x20','\x20warning.','jid','l\x20apply\x20to','key','normalizeT','slice','size','2...','substring','on\x20not\x20ava','at_jid,\x20us','includes','build','ðŸš«\x20*Warn\x20De','warnlock','mentionedJ','XT\x20NOT\x20NUL','*ðŸš«\x20Blockli','pop','length','Usage:\x20/','test','SHOW_TRIGG','imageMessa','ound\x20in\x20st','SELECT\x20blo','o\x20reset\x20wa','max_warns}','hat_jid\x20TE','[warn]\x20cap','[warn]\x20del','146532TZZVSf','toLowerCas','able','cklist\x20FRO','2iROYRa','them.','xtMessage','contextInf','e\x20`/setdef','\x20\x20\x20\x20ON\x20CON','remove','remoteJid','mmands\x20wil','RNINGS:*\x20{','function','597602WTBZEd','Could\x20not\x20','XT\x20PRIMARY','getUniqueJ','sending\x20a\x20','\x20in\x20your\x20','to\x20','^/?(','replace','trigger','exec','nodes','1914912sjtwii','\x20user(s)\x20a','\x20\x20\x20\x20\x20\x20\x20\x20\x20u','\x20item1,*pd','\x20connectio','Unknown','video','cipantsUpd','dStoredMat','groupMetad','DEFAULT_RE','find','cross\x20','ete\x20messag','audio','dWarning(m','lete_prefs','tChatJidsF','is\x20group-o','letion*','ning\x20to\x20@','ma\x20ensured','stanzaId','\x20WHERE\x20cha','catch','SELECT\x20val','le\x20type','ist\x20for\x20th','isAud','Warnings\x20r','delete','Removed','e\x20specifie','[no-id]','document','nd\x20will\x20be','concat','(?,\x20?)\x0a\x20\x20\x20','\x20is\x20empty.','messageTyp','ur\x20default','\x20removed.','doc','\x20this\x20grou','ptv','ule\x20cleane','FAULT\x200,\x0a\x20','[warn]\x20Dat','n(s)\x20is\x20em','\x20\x20\x20\x20\x20\x20\x20\x20\x20c','ptt','o\x20user\x20fro','sock','ON\x20CONFLIC','next','conversati','participan','resetwarns','message','2050818QFTlQy','fail','isImg','_warns}','L,\x0a\x20\x20\x20\x20\x20\x20\x20','fault\x20conn','\x20\x20\x20\x20\x20\x20\x20\x20\x20w','[warn]\x20fin','PM\x20Usage:\x20','have\x20no\x20de','|jid|all>','E\x20SET\x20bloc','Breaking\x20g','normalize','isArray','aho','all>','user','\x20item(s)\x20f','m2...\x20gp:<',':\x20\x22','search','SER:*\x20{use','ue\x20FROM\x20de','keyword',':*\x20{remain','eset\x20for\x20@','G\x20WARNINGS','sage','ema\x20creati','SAGEâš ï¸*\x0a\x0a*U','n`\x20command','aud','led:\x20','item1,item','Locked'];_0x1971=function(){return _0x140b1d;};return _0x1971();}