const _0x36e768=_0xd8b9;(function(_0x717ce2,_0x1c00f8){const _0xb93dd6=_0xd8b9,_0xef1886=_0x717ce2();while(!![]){try{const _0x159321=parseInt(_0xb93dd6(0x122))/(0x19*-0x107+-0x335+-0x1ce5*-0x1)+parseInt(_0xb93dd6(0xed))/(0xb36+-0x44*-0x5f+-0x2470)*(parseInt(_0xb93dd6(0xca))/(-0xaf4+-0x73*0x42+0x289d))+parseInt(_0xb93dd6(0xc1))/(-0x1*0x1029+0x1918+-0x8eb)*(-parseInt(_0xb93dd6(0x136))/(0x1*-0x725+0x2*0xef9+-0x16c8))+-parseInt(_0xb93dd6(0x16f))/(0x6*0x1d0+-0x1*-0x2194+0x2*-0x1637)*(parseInt(_0xb93dd6(0x11b))/(-0x1650+-0xddf+0x2436))+parseInt(_0xb93dd6(0xe7))/(0x2c9*0x9+0x1*-0x8e9+-0x1020)+parseInt(_0xb93dd6(0xc4))/(0x21c2+0x3*0x54b+-0x319a)+parseInt(_0xb93dd6(0xbd))/(0xf14+0x748+0xb29*-0x2);if(_0x159321===_0x1c00f8)break;else _0xef1886['push'](_0xef1886['shift']());}catch(_0x4b7245){_0xef1886['push'](_0xef1886['shift']());}}}(_0x6cdf,0x19*0x3+0x1aab0+0xb9ea));export const name=_0x36e768(0xf3);export const version=_0x36e768(0xe9);export const priority=-0x1d*0x3e+0x23e9+-0x1c89;export const commands=['cmd'];import{info,warn,error}from'../utils/logger.js';function _0x6cdf(){const _0x48b1e3=['ings)','filter','includes','_tagcmds_c','Name\x20then\x20','ji\x20failed:','T\x200,\x0a\x20\x20\x20\x20\x20','\x20failed:\x20','isFinite','\x0a\x20\x20\x20\x20\x20\x20\x20\x20e','\x20\x20\x20);\x0a\x20\x20\x20\x20','T\x20mapping\x20','test','bare\x20@/@@)','ated_by,\x20c','NOT\x20NULL,\x0a','hat\x20ON\x20','failed:\x20','groupMetad',':\x20(no\x20mapp','ete\x20index\x20','\x20add\x20<emoj','teCmdByEmo','\x20emoji)\x20DO','emoji','user','p.net','INSERT\x20INT','match','with\x20\x22hell','\x20NOT\x20NULL,','IF\x20NOT\x20EXI','\x20emoji,\x20ma','217jewqVp','delete','rtCmd\x20fail','i>\x20<mappin','mention','conversati','=\x20excluded','101143jojdcV','N\x20CONFLICT','store','t\x20@Display','extendedTe','\x0a•\x20cmd\x20del','split','get','ALUES\x20(?,\x20','\x20id\x20INTEGE','map','d\x20delete\x20i','isCommand','sort','\x20(part\x20','STS\x20',')\x0a\x20\x20\x20\x20\x20\x20\x20O','ailed','Deleted\x20','toLowerCas','175MWcHCk','\x20\x20\x20\x20\x20\x20\x20\x20ma','hGroupPart','contacts','list','g...>','t_jid\x20TEXT','ATE\x20TABLE\x20','\x20UPDATE\x20SE','CREMENT,\x0a\x20','add','pushName','videoMessa','\x20\x20\x20UNIQUE(','\x20\x20\x20\x20\x20\x20\x20cha','mode','push','eated_by,\x20','ata','\x0a•\x20cmd\x20add','ChatJidsFo','<n>\x0a•\x20cmd\x20','ma\x20ensured','teAllCmds\x20','onnection(','remoteJid','raw','(chat_jid)','getContact','FROM\x20','o\x22\x0a\x20\x20@@\x20hi','.mapping,\x20','reated_at\x20','slice','\x20\x20\x20\x20\x20creat','DELETE\x20FRO','created_by','[tag]\x20list','from','now','e\x20all','Usage:\x20cmd','delete\x20all',')\x20across\x20','imageMessa','lving\x20conn','Invalid\x20in','gForChat\x20e','):\x0a','[tag]\x20clea','no\x20send\x20ap','[tag]\x20onMe','GER\x20DEFAUL','created_at','\x20@\x20hello\x20\x20','[tag]\x20isad','lveDefault','48414EcrDGQ','tag_cmds','s).','chat_jid,\x20','\x0a\x20\x20\x20\x20\x20\x20CRE','Saved\x20mapp','AND\x20emoji\x20','displayNam',')\x20across\x20y','icipants\x20f','reSchema\x20f','trim','(chat_jid,','by,\x20create','join','rs\x20to\x20tag.','KEY\x20AUTOIN',')\x20for\x20emoj','\x20\x20\x20\x20->\x20lis','[tag]\x20fetc','message','send\x20raw\x20t','Cmds\x20faile','\x20cmd\x20delet','xamples:\x0a\x20','⚠️\x20No\x20membe','[tag]\x20dele','[tag]\x20reso','R\x20PRIMARY\x20','string','failed','\x20default\x20c','\x20<emoji>\x20<','isArray','\x20mapping(s','Failed\x20to\x20','participan','rror','text','length','key','d:\x20','apping,\x20cr','ction','SIZE','[tag]\x20ensu','\x20delete\x20<e','cmd\x20usage:','moji>\x20|\x20cm','996400TuYyaF','find','vname','on(s).','16320BTyvvc','\x20(chat_jid','=\x20?','2260134dTAOiH','short','ed_at\x20INTE','w\x20text\x20->\x20','name','startsWith','101583FfSrZR','exec','sendMessag','ted_at;','indexOf','changes','[tag]\x20send','xtMessage','ing\x20for\x20','teCmdById\x20','\x20->\x20','ention\x20eve','rUser\x20fail','ialized','atchMappin','\x20WHERE\x20cha','ned\x20up','[tag]\x20disp','mapping','has','floor','@g.us','sock','t_jid\x20=\x20?\x20','function','run','caption','t_jid\x20=\x20?','ed:\x20','512560ezmHdO','[tag]\x20init','2.0.4','•\x20cmd\x20dele','jid','verifiedNa','2AoAqzg','env','CREATE\x20IND','gForChat\x20(','reated_by\x20','mapping>\x0a•','tag','notify','\x22hi\x22\x20and\x20m','luded.crea','?,\x20?,\x20?,\x20?','->\x20mention','replace'];_0x6cdf=function(){return _0x48b1e3;};return _0x6cdf();}import{db}from'../utils/database.js';import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';const TABLE=_0x36e768(0x170),BATCH_SIZE=Number(process[_0x36e768(0xee)]['TAG_BATCH_'+_0x36e768(0xb8)]||-0x7*0x567+-0x1*0x2611+0x6*0xcae)||0x1ff4+-0x24bb+0x4f9;let botRef=null,sendApi=null;async function ensureSchema(){const _0x265fa9=_0x36e768;try{await db[_0x265fa9(0xcb)](_0x265fa9(0x173)+_0x265fa9(0x13d)+_0x265fa9(0x119)+_0x265fa9(0x131)+TABLE+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x265fa9(0x12b)+_0x265fa9(0xa8)+_0x265fa9(0x9c)+_0x265fa9(0x13f)+_0x265fa9(0x144)+_0x265fa9(0x13c)+_0x265fa9(0x118)+_0x265fa9(0x103)+'moji\x20TEXT\x20'+_0x265fa9(0x109)+_0x265fa9(0x137)+'pping\x20TEXT'+'\x20NOT\x20NULL,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+_0x265fa9(0xf1)+'TEXT\x20DEFAU'+'LT\x20\x27\x27,\x0a\x20\x20\x20'+_0x265fa9(0x158)+_0x265fa9(0xc6)+_0x265fa9(0x16a)+_0x265fa9(0x100)+_0x265fa9(0x143)+_0x265fa9(0x172)+'emoji)\x0a\x20\x20\x20'+_0x265fa9(0x104))),await db[_0x265fa9(0xcb)](_0x265fa9(0xef)+'EX\x20IF\x20NOT\x20'+'EXISTS\x20idx'+_0x265fa9(0xfd)+_0x265fa9(0x10a)+TABLE+(_0x265fa9(0x151)+';')),info('[tag]\x20sche'+_0x265fa9(0x14c));}catch(_0x1aebcb){error(_0x1aebcb,_0x265fa9(0xb9)+_0x265fa9(0x179)+_0x265fa9(0x133));throw _0x1aebcb;}}async function upsertCmd(_0x4ebacd,_0x522690,_0x1bc882,_0x1be0c4){const _0x29ca0f=_0x36e768;try{const _0xbf81fe=Math[_0x29ca0f(0xde)](Date[_0x29ca0f(0x15d)]()/(-0x47*0x27+0xb00+0x3b9));return await db[_0x29ca0f(0xe3)](_0x29ca0f(0x115)+'O\x20'+TABLE+(_0x29ca0f(0xc2)+',\x20emoji,\x20m'+_0x29ca0f(0xb6)+_0x29ca0f(0x147)+_0x29ca0f(0x16b)+')\x0a\x20\x20\x20\x20\x20\x20\x20V'+_0x29ca0f(0x12a)+_0x29ca0f(0xf7)+_0x29ca0f(0x132)+_0x29ca0f(0x123)+_0x29ca0f(0x17b)+_0x29ca0f(0x111)+_0x29ca0f(0x13e)+_0x29ca0f(0x105)+_0x29ca0f(0x121)+_0x29ca0f(0x155)+_0x29ca0f(0x15a)+'\x20=\x20exclude'+'d.created_'+_0x29ca0f(0x99)+'d_at\x20=\x20exc'+_0x29ca0f(0xf6)+_0x29ca0f(0xcd)),[_0x4ebacd,_0x522690,_0x1bc882,_0x1be0c4||'',_0xbf81fe]),!![];}catch(_0x128b17){return warn('[tag]\x20upse'+_0x29ca0f(0x11d)+'ed:\x20'+(_0x128b17?.['message']||_0x128b17)),![];}}async function listCmds(_0xa8599){const _0x1e994f=_0x36e768;try{const _0x55b813=await db['all']('SELECT\x20id,'+_0x1e994f(0x11a)+'pping,\x20cre'+_0x1e994f(0x108)+_0x1e994f(0x156)+_0x1e994f(0x153)+TABLE+(_0x1e994f(0xd9)+_0x1e994f(0xe1)+'ORDER\x20BY\x20i'+'d'),[_0xa8599]);return _0x55b813||[];}catch(_0x5c05ad){return warn(_0x1e994f(0x15b)+_0x1e994f(0xa2)+_0x1e994f(0xb5)+(_0x5c05ad?.[_0x1e994f(0xa0)]||_0x5c05ad)),[];}}async function deleteCmdByEmoji(_0x3c6aab,_0x180e01){const _0x333080=_0x36e768;try{const _0x5a7e32=await db['run'](_0x333080(0x159)+'M\x20'+TABLE+(_0x333080(0xd9)+'t_jid\x20=\x20?\x20'+_0x333080(0x175)+_0x333080(0xc3)),[_0x3c6aab,_0x180e01]);return _0x5a7e32?.[_0x333080(0xcf)]||-0x722+0x2*0xde8+-0x14ae*0x1;}catch(_0x3df1ef){return warn('[tag]\x20dele'+_0x333080(0x110)+_0x333080(0xff)+'\x20'+(_0x3df1ef?.['message']||_0x3df1ef)),0x49*-0x27+0x2314+-0x17f5;}}async function deleteCmdById(_0x30bcbe,_0x511b29){const _0x196ccd=_0x36e768;try{const _0xd96b44=await db[_0x196ccd(0xe3)](_0x196ccd(0x159)+'M\x20'+TABLE+(_0x196ccd(0xd9)+_0x196ccd(0xe1)+'AND\x20id\x20=\x20?'),[_0x30bcbe,_0x511b29]);return _0xd96b44?.['changes']||0xbde+-0x17*-0x1b1+-0x32c5;}catch(_0x17823a){return warn(_0x196ccd(0xa6)+_0x196ccd(0xd3)+_0x196ccd(0x10b)+(_0x17823a?.['message']||_0x17823a)),0x1753*-0x1+-0x207*-0x2+0x1345*0x1;}}async function deleteAllCmds(_0x2d8ef2){const _0x5f58d6=_0x36e768;try{const _0x500f9b=await db[_0x5f58d6(0xe3)](_0x5f58d6(0x159)+'M\x20'+TABLE+('\x20WHERE\x20cha'+_0x5f58d6(0xe5)),[_0x2d8ef2]);return _0x500f9b?.['changes']||0x75c+-0x1145+-0x1*-0x9e9;}catch(_0x22b932){return warn(_0x5f58d6(0xa6)+_0x5f58d6(0x14d)+_0x5f58d6(0x10b)+(_0x22b932?.[_0x5f58d6(0xa0)]||_0x22b932)),0xc99*0x2+0x1*0xf47+0x1*-0x2879;}}function getMessageText(_0x526286){const _0xdcfd73=_0x36e768;if(!_0x526286||!_0x526286['message'])return'';const _0x1a2147=_0x526286[_0xdcfd73(0xa0)];if(_0x1a2147[_0xdcfd73(0x120)+'on'])return _0x1a2147[_0xdcfd73(0x120)+'on'];if(_0x1a2147[_0xdcfd73(0x126)+'xtMessage']?.['text'])return _0x1a2147[_0xdcfd73(0x126)+_0xdcfd73(0xd1)][_0xdcfd73(0xb2)];if(_0x1a2147[_0xdcfd73(0x162)+'ge']?.[_0xdcfd73(0xe4)])return _0x1a2147[_0xdcfd73(0x162)+'ge'][_0xdcfd73(0xe4)];if(_0x1a2147[_0xdcfd73(0x142)+'ge']?.[_0xdcfd73(0xe4)])return _0x1a2147[_0xdcfd73(0x142)+'ge'][_0xdcfd73(0xe4)];return'';}function _0xd8b9(_0x42e41a,_0x28d945){const _0x2e6e40=_0x6cdf();return _0xd8b9=function(_0x22a733,_0x583caa){_0x22a733=_0x22a733-(-0x26dd+0x1f6a+0x80c);let _0x271d36=_0x2e6e40[_0x22a733];return _0x271d36;},_0xd8b9(_0x42e41a,_0x28d945);}async function safeSend(_0x3f8809,_0x3ba610){const _0x1fb2b4=_0x36e768;try{if(!sendApi)throw new Error(_0x1fb2b4(0x168)+'i');return await sendApi(_0x3f8809,_0x3ba610);}catch(_0x241404){warn(_0x1fb2b4(0xd0)+'\x20failed:',_0x241404?.[_0x1fb2b4(0xa0)]||_0x241404);throw _0x241404;}}async function resolveDisplayName(_0x140577){const _0x13a508=_0x36e768;try{if(!_0x140577)return'';const _0xba40bf=(_0x140577+'')[_0x13a508(0x128)]?.('@')?.[0x10c*0x15+-0x162f+-0x1*-0x33]||_0x140577;if(botRef?.[_0x13a508(0x124)]){const _0x394ff4=botRef[_0x13a508(0x124)][_0x13a508(0x139)]?.[_0x140577]||botRef[_0x13a508(0x124)][_0x13a508(0x139)]&&botRef[_0x13a508(0x124)]['contacts'][_0x13a508(0x129)]&&botRef[_0x13a508(0x124)][_0x13a508(0x139)][_0x13a508(0x129)](_0x140577);if(_0x394ff4){const _0x6da041=_0x394ff4[_0x13a508(0xc8)]||_0x394ff4[_0x13a508(0xec)+'me']||_0x394ff4[_0x13a508(0xf4)]||_0x394ff4[_0x13a508(0x141)]||_0x394ff4[_0x13a508(0xbf)]||_0x394ff4[_0x13a508(0xc5)]||_0x394ff4[_0x13a508(0x176)+'e'];if(_0x6da041)return String(_0x6da041);}}try{if(typeof botRef['getContact']===_0x13a508(0xe2)){const _0x856bc=await botRef[_0x13a508(0x152)](_0x140577);if(_0x856bc&&(_0x856bc[_0x13a508(0xc8)]||_0x856bc[_0x13a508(0xf4)]||_0x856bc[_0x13a508(0x141)]||_0x856bc[_0x13a508(0xbf)]))return String(_0x856bc[_0x13a508(0xc8)]||_0x856bc['notify']||_0x856bc[_0x13a508(0x141)]||_0x856bc['vname']);}}catch(_0x13fdec){}return String(_0xba40bf);}catch(_0x4cbe10){return String(_0x140577)['split']('@')[0xa97+0x3e9+-0xe80];}}async function fetchGroupParticipants(_0x5763b7){const _0x3583bb=_0x36e768;try{let _0x5e2a01=null;if(typeof botRef[_0x3583bb(0x10c)+_0x3583bb(0x148)]==='function')try{_0x5e2a01=await botRef['groupMetad'+'ata'](_0x5763b7);}catch(_0x1dc64d){_0x5e2a01=null;}if((!_0x5e2a01||!Array['isArray'](_0x5e2a01[_0x3583bb(0xb0)+'ts']))&&botRef?.[_0x3583bb(0xe0)])try{if(typeof botRef['sock'][_0x3583bb(0x10c)+_0x3583bb(0x148)]==='function')_0x5e2a01=await botRef[_0x3583bb(0xe0)][_0x3583bb(0x10c)+_0x3583bb(0x148)](_0x5763b7);}catch(_0x16c0be){_0x5e2a01=_0x5e2a01||null;}const _0x3adcc2=Array[_0x3583bb(0xad)](_0x5e2a01?.[_0x3583bb(0xb0)+'ts'])?_0x5e2a01[_0x3583bb(0xb0)+'ts']:[],_0x57e5cf=[];for(const _0x3a4f14 of _0x3adcc2){const _0x1dd63c=_0x3a4f14&&typeof _0x3a4f14===_0x3583bb(0xa9)?_0x3a4f14:_0x3a4f14?.['id']||_0x3a4f14?.[_0x3583bb(0xeb)]||(_0x3a4f14?.[_0x3583bb(0x113)]?_0x3a4f14['user']+('@s.whatsap'+_0x3583bb(0x114)):null);if(!_0x1dd63c)continue;const _0x27ce15=_0x3a4f14?.['name']||_0x3a4f14?.['notify']||_0x3a4f14?.[_0x3583bb(0x141)]||await resolveDisplayName(_0x1dd63c);_0x57e5cf[_0x3583bb(0x146)]({'id':_0x1dd63c,'name':_0x27ce15,'raw':_0x3a4f14});}return _0x57e5cf;}catch(_0x3357bb){return warn(_0x3583bb(0x9f)+_0x3583bb(0x138)+_0x3583bb(0x178)+_0x3583bb(0x133),_0x3357bb?.[_0x3583bb(0xa0)]||_0x3357bb),[];}}function chunkArray(_0x29e0f0,_0x5217f4){const _0x65cee0=_0x36e768,_0x37e767=[];for(let _0x15139a=0xa02+-0x25d*-0x2+0x4*-0x3af;_0x15139a<_0x29e0f0[_0x65cee0(0xb3)];_0x15139a+=_0x5217f4)_0x37e767[_0x65cee0(0x146)](_0x29e0f0['slice'](_0x15139a,_0x15139a+_0x5217f4));return _0x37e767;}function parseMapping(_0x37c3a9){const _0x1d118b=_0x36e768,_0x3d6274=(_0x37c3a9??'')['toString']()['trim']();if(!_0x3d6274)return{'mode':_0x1d118b(0x150),'text':''};if(_0x3d6274[_0x1d118b(0xc9)]('@@'))return{'mode':_0x1d118b(0x13a),'text':_0x3d6274[_0x1d118b(0xb3)]>-0x20dd+-0x5f4+0x26d3?_0x3d6274[_0x1d118b(0x157)](-0x1c0+0x4*-0x182+0x3e5*0x2)['trim']():''};if(_0x3d6274[_0x1d118b(0xc9)]('@'))return{'mode':'mention','text':_0x3d6274['length']>0x9*-0x90+0x1*-0x13de+0x18ef?_0x3d6274[_0x1d118b(0x157)](-0x17f0+-0x1ee1+-0x1b69*-0x2)[_0x1d118b(0x17a)]():''};return{'mode':_0x1d118b(0x150),'text':_0x3d6274};}async function dispatchMappingForChat(_0x1c28e9,_0x2240f9,_0xc5fe73=''){const _0x427684=_0x36e768,_0x46a91e=parseMapping(_0x2240f9),_0x4b007b=_0xc5fe73?_0xc5fe73[_0x427684(0x17a)]():'';if(_0x46a91e[_0x427684(0x145)]===_0x427684(0x11f)){const _0x2806b4=_0x46a91e[_0x427684(0xb2)]?_0x4b007b?_0x46a91e[_0x427684(0xb2)]+'\x20'+_0x4b007b:_0x46a91e[_0x427684(0xb2)]:_0x4b007b||'👋',_0x47dd73=await fetchGroupParticipants(_0x1c28e9);if(!_0x47dd73[_0x427684(0xb3)]){await safeSend(_0x1c28e9,{'text':_0x427684(0xa5)+_0x427684(0x9b)});return;}const _0x3066a6=_0x47dd73[_0x427684(0x12c)](_0x8afa03=>_0x8afa03['id'])['filter'](Boolean);if(_0x3066a6[_0x427684(0xb3)]<=BATCH_SIZE){await safeSend(_0x1c28e9,{'text':_0x2806b4,'mentions':_0x3066a6});return;}const _0x47c89e=chunkArray(_0x47dd73,BATCH_SIZE);for(const _0x134d5d of _0x47c89e){const _0x444290=_0x134d5d[_0x427684(0x12c)](_0x1bb21d=>_0x1bb21d['id']),_0x49ddd9=_0x2806b4;await safeSend(_0x1c28e9,{'text':_0x49ddd9,'mentions':_0x444290}),await new Promise(_0x6c9c3f=>setTimeout(_0x6c9c3f,-0xe3*0xb+0x520+-0x59b*-0x1));}return;}if(_0x46a91e[_0x427684(0x145)]===_0x427684(0x13a)){const _0x20bcc7=_0x46a91e[_0x427684(0xb2)]?_0x46a91e['text']:'',_0x329a33=await fetchGroupParticipants(_0x1c28e9);if(!_0x329a33['length']){await safeSend(_0x1c28e9,{'text':_0x427684(0xa5)+_0x427684(0x9b)});return;}const _0x544f3a=new Set(),_0x56a277=[];for(const _0x18bb05 of _0x329a33)!_0x544f3a[_0x427684(0xdd)](_0x18bb05['id'])&&(_0x544f3a[_0x427684(0x140)](_0x18bb05['id']),_0x56a277[_0x427684(0x146)](_0x18bb05));if(_0x56a277[_0x427684(0xb3)]<=BATCH_SIZE){const _0x3bbb4a=_0x56a277['map'](_0x249068=>'@'+String(_0x249068[_0x427684(0xc8)]||_0x249068['id'][_0x427684(0x128)]('@')[0x6de+0x2416*-0x1+0x1d38])['replace'](/\r?\n/g,'\x20')[_0x427684(0x17a)]())[_0x427684(0x9a)](',\x20'),_0x32042f=_0x20bcc7?_0x3bbb4a+'\x0a\x0a'+_0x20bcc7:_0x3bbb4a;await safeSend(_0x1c28e9,{'text':_0x32042f,'mentions':_0x56a277[_0x427684(0x12c)](_0x3d7632=>_0x3d7632['id'])});return;}const _0x3069c6=chunkArray(_0x56a277,BATCH_SIZE);let _0x3f2c1b=0x1806+-0xbb*-0x19+0x1*-0x2a49;for(const _0x33b024 of _0x3069c6){_0x3f2c1b++;const _0x338264=_0x33b024['map'](_0x354d7e=>'@'+String(_0x354d7e['name']||_0x354d7e['id'][_0x427684(0x128)]('@')[-0x185f+-0x1417+-0x7*-0x65a])[_0x427684(0xf9)](/\r?\n/g,'\x20')[_0x427684(0x17a)]())[_0x427684(0x9a)](',\x20'),_0x14877a=_0x20bcc7?_0x338264+'\x0a\x0a'+_0x20bcc7+_0x427684(0x130)+_0x3f2c1b+'/'+_0x3069c6[_0x427684(0xb3)]+')':_0x338264+'\x20(part\x20'+_0x3f2c1b+'/'+_0x3069c6[_0x427684(0xb3)]+')';await safeSend(_0x1c28e9,{'text':_0x14877a,'mentions':_0x33b024['map'](_0x56757c=>_0x56757c['id'])}),await new Promise(_0x110d77=>setTimeout(_0x110d77,-0x2334+0xa05+0x1a29));}return;}const _0x425e0f=_0x46a91e[_0x427684(0xb2)]?_0x4b007b?_0x46a91e['text']+'\x20'+_0x4b007b:_0x46a91e[_0x427684(0xb2)]:_0x4b007b||'';await safeSend(_0x1c28e9,{'text':_0x425e0f});}export async function initialize(_0x4588ba){const _0x4263d0=_0x36e768;botRef=_0x4588ba;if(botRef){if(typeof botRef['sendMessag'+'e']===_0x4263d0(0xe2))sendApi=async(_0x25c35c,_0xfbeccc)=>await botRef[_0x4263d0(0xcc)+'e'](_0x25c35c,_0xfbeccc);else botRef[_0x4263d0(0xe0)]&&typeof botRef[_0x4263d0(0xe0)][_0x4263d0(0xcc)+'e']==='function'?sendApi=async(_0x604639,_0x50e30d)=>await botRef[_0x4263d0(0xe0)][_0x4263d0(0xcc)+'e'](_0x604639,_0x50e30d):sendApi=null;}await ensureSchema(),info(_0x4263d0(0xe8)+_0x4263d0(0xd7));}function detectCommandNameFromText(_0x366590){const _0x20ed9b=_0x36e768;if(!_0x366590)return null;const _0x627aa6=_0x366590[_0x20ed9b(0x17a)]();if(!_0x627aa6)return null;const _0x97d69d=_0x627aa6[_0x20ed9b(0x128)](/\s+/);return _0x97d69d[-0x1*0x15c7+0xfb4+0x613][_0x20ed9b(0x135)+'e']();}async function resolveDefaultChatJidsForUser(_0x5eeede){const _0x2122b7=_0x36e768;try{const _0x26f36b=await getDefault(_0x5eeede)['catch'](()=>null);if(!_0x26f36b||Array[_0x2122b7(0xad)](_0x26f36b)&&_0x26f36b[_0x2122b7(0xb3)]===0x1c33+0x21d*0x3+-0x228a)return[];const _0x517ade=Array[_0x2122b7(0xad)](_0x26f36b)?_0x26f36b:[_0x26f36b];let _0x2eeebd=[];for(const _0x47ba4e of _0x517ade){try{const _0x2c3fc5=await getConnection(_0x47ba4e)['catch'](()=>null);if(Array[_0x2122b7(0xad)](_0x2c3fc5))_0x2eeebd['push'](..._0x2c3fc5);else{if(_0x2c3fc5)_0x2eeebd[_0x2122b7(0x146)](String(_0x2c3fc5));}}catch(_0x3c8f29){warn(_0x2122b7(0xa7)+_0x2122b7(0x163)+'ection\x20'+_0x47ba4e+_0x2122b7(0x101)+(_0x3c8f29?.[_0x2122b7(0xa0)]||_0x3c8f29));}}return Array['from'](new Set(_0x2eeebd[_0x2122b7(0x12c)](_0x385659=>String(_0x385659)[_0x2122b7(0x17a)]())[_0x2122b7(0xfb)](Boolean)));}catch(_0x2d394a){return warn(_0x2122b7(0xa7)+_0x2122b7(0x16e)+_0x2122b7(0x14a)+_0x2122b7(0xd6)+_0x2122b7(0xe6)+(_0x2d394a?.['message']||_0x2d394a)),[];}}function isBoundaryAt(_0x3b7219,_0x4e57a1,_0xad20cc){const _0x4e5deb=_0x36e768,_0x37ebda=_0x4e57a1-(-0x8*-0x71+-0x599*0x5+0x1876)>=0x2*-0xb44+-0x1460+0x2ae8?_0x3b7219[_0x4e57a1-(0xce9+0x9f3*-0x1+-0x2f5)]:null,_0x371d8f=_0x4e57a1+_0xad20cc<_0x3b7219[_0x4e5deb(0xb3)]?_0x3b7219[_0x4e57a1+_0xad20cc]:null,_0x58f119=_0x46fd98=>_0x46fd98!=null&&/[0-9A-Za-z_]/[_0x4e5deb(0x106)](_0x46fd98);return!_0x58f119(_0x37ebda)&&!_0x58f119(_0x371d8f);}export async function onMessage(_0x336325){const _0x2f88f6=_0x36e768;try{if(!_0x336325||!_0x336325['key']||!_0x336325[_0x2f88f6(0xa0)])return;const _0x229da2=_0x336325[_0x2f88f6(0xb4)][_0x2f88f6(0x14f)],_0x2f7a0a=typeof _0x229da2===_0x2f88f6(0xa9)&&_0x229da2['endsWith'](_0x2f88f6(0xdf)),_0xb235a7=_0x336325[_0x2f88f6(0xb4)]&&(_0x336325['key'][_0x2f88f6(0xb0)+'t']||_0x336325[_0x2f88f6(0xb4)][_0x2f88f6(0x15c)]||_0x336325[_0x2f88f6(0xb4)]['remoteJid'])||'',_0x370358=(_0xb235a7||'')[_0x2f88f6(0x128)]('@')[0x26e4+0xf6f*0x1+-0x3653];let _0x30ba8b=![];try{if(_0x2f7a0a)_0x30ba8b=await isadmin(botRef,_0x336325);}catch(_0x290074){warn(_0x2f88f6(0x16d)+'min\x20check\x20'+_0x2f88f6(0xaa),_0x290074?.['message']||_0x290074),_0x30ba8b=![];}if(!_0x30ba8b)return;const _0x908004=await resolveDefaultChatJidsForUser(_0x370358);if(!_0x908004||_0x908004[_0x2f88f6(0xb3)]===0xa*0x2ce+0x178e+-0x339a)return;if(_0x336325[_0x2f88f6(0x12e)]){const _0x5315d7=_0x336325[_0x2f88f6(0xb2)]&&_0x336325[_0x2f88f6(0xb2)][_0x2f88f6(0x17a)]()?_0x336325[_0x2f88f6(0xb2)][_0x2f88f6(0x17a)]():getMessageText(_0x336325)[_0x2f88f6(0x17a)](),_0x1b80ec=detectCommandNameFromText(_0x5315d7);if(!_0x1b80ec)return;const _0x4e44f5=Array['isArray'](commands)?commands['map'](_0xaac66b=>String(_0xaac66b)[_0x2f88f6(0x135)+'e']()):[];if(!_0x4e44f5[_0x2f88f6(0xfc)](_0x1b80ec))return;const _0x26aaa8=_0x5315d7[_0x2f88f6(0x128)](/\s+/)[_0x2f88f6(0x157)](0x1*0x1fa+0x423+-0x61c)[_0x2f88f6(0x9a)]('\x20')[_0x2f88f6(0x17a)](),_0x58d8f9=_0x26aaa8[_0x2f88f6(0x128)](/\s+/)[_0x2f88f6(0xfb)](Boolean),_0x21fe56=_0x58d8f9[-0x17*-0x121+-0xdcd*-0x1+-0x27c4]?_0x58d8f9[-0x5*0x8+0x1c9*-0x1+-0x47*-0x7][_0x2f88f6(0x135)+'e']():null;if(!_0x21fe56||_0x21fe56==='help'){await safeSend(_0x229da2,{'text':_0x2f88f6(0xbb)+_0x2f88f6(0x149)+_0x2f88f6(0xac)+_0x2f88f6(0xf2)+'\x20cmd\x20list\x0a'+_0x2f88f6(0xea)+'te\x20<emoji>'+_0x2f88f6(0x127)+_0x2f88f6(0x10e)+_0x2f88f6(0x14b)+_0x2f88f6(0x160)+'\x0aMapping\x20e'+_0x2f88f6(0xa4)+_0x2f88f6(0x16c)+_0x2f88f6(0xf8)+'\x20everyone\x20'+_0x2f88f6(0x117)+_0x2f88f6(0x154)+_0x2f88f6(0x9e)+_0x2f88f6(0x125)+_0x2f88f6(0xfe)+_0x2f88f6(0xf5)+_0x2f88f6(0xd5)+'ryone\x0a\x20\x20ra'+_0x2f88f6(0xc7)+_0x2f88f6(0xa1)+'ext\x20to\x20def'+'ault\x20conne'+_0x2f88f6(0xb7)});return;}if(_0x21fe56===_0x2f88f6(0x140)){if(_0x58d8f9[_0x2f88f6(0xb3)]<-0x1*-0x1df5+-0x26c3+-0x3d*-0x25){await safeSend(_0x229da2,{'text':_0x2f88f6(0x15f)+_0x2f88f6(0x10f)+_0x2f88f6(0x11e)+_0x2f88f6(0x13b)});return;}const _0x20d59c=_0x58d8f9[0x2676+0x187c+-0x7b*0x83],_0x5117b8=_0x58d8f9[_0x2f88f6(0x157)](0x1730+0x663+-0x1d91)['join']('\x20');let _0x43b369=-0x2605+-0x1dbb+0x2*0x21e0;for(const _0x5db14e of _0x908004){const _0x2d6936=await upsertCmd(_0x5db14e,_0x20d59c,_0x5117b8,_0xb235a7||'');if(_0x2d6936)_0x43b369++;}if(_0x43b369>0x1*-0x11f2+-0x5*-0x281+0x56d)await safeSend(_0x229da2,{'text':_0x2f88f6(0x174)+_0x2f88f6(0xd2)+_0x20d59c+_0x2f88f6(0xd4)+_0x5117b8+'\x20to\x20'+_0x43b369+('\x20default\x20c'+_0x2f88f6(0x14e)+_0x2f88f6(0x171))});else await safeSend(_0x229da2,{'text':_0x2f88f6(0xaf)+'save\x20mappi'+'ng\x20for\x20'+_0x20d59c});return;}if(_0x21fe56===_0x2f88f6(0x13a)){let _0x3f77fd=[];for(const _0xb66c3b of _0x908004){const _0xbb76e4=await listCmds(_0xb66c3b);if(!_0xbb76e4[_0x2f88f6(0xb3)]){_0x3f77fd[_0x2f88f6(0x146)]('—\x20'+_0xb66c3b+(_0x2f88f6(0x10d)+_0x2f88f6(0xfa)));continue;}const _0x1e2a2d=_0xbb76e4[_0x2f88f6(0x12c)]((_0x3b8527,_0x3f2df7)=>_0x3f2df7+(-0x32d*0xa+0xfdf+-0x9*-0x1c4)+'.\x20'+_0x3b8527[_0x2f88f6(0x112)]+_0x2f88f6(0xd4)+_0x3b8527[_0x2f88f6(0xdc)]);_0x3f77fd[_0x2f88f6(0x146)]('—\x20'+_0xb66c3b+'\x20('+_0xbb76e4['length']+_0x2f88f6(0x166)+_0x1e2a2d[_0x2f88f6(0x9a)]('\x0a'));}let _0x52816d='';for(const _0x32d6fb of _0x3f77fd){const _0x1dd88e=_0x32d6fb+'\x0a\x0a';(_0x52816d+_0x1dd88e)[_0x2f88f6(0xb3)]>-0x2f*0xad+-0x1d12+0x42b1&&(await safeSend(_0x229da2,{'text':_0x52816d['trim']()}),_0x52816d=''),_0x52816d+=_0x1dd88e;}if(_0x52816d['trim']())await safeSend(_0x229da2,{'text':_0x52816d['trim']()});return;}if(_0x21fe56===_0x2f88f6(0x11c)){if(_0x58d8f9['length']<-0x55*-0x23+0x19cf*0x1+-0x256c){await safeSend(_0x229da2,{'text':_0x2f88f6(0x15f)+_0x2f88f6(0xba)+_0x2f88f6(0xbc)+_0x2f88f6(0x12d)+'ndex\x20<n>\x20|'+_0x2f88f6(0xa3)+_0x2f88f6(0x15e)});return;}if(_0x58d8f9[-0x3*0x107+-0x11*-0x101+-0xdfb]==='all'){let _0x562c53=0xa*0x3b3+-0x12f5*0x1+0x1209*-0x1;for(const _0xc67d8c of _0x908004){const _0x105850=await deleteAllCmds(_0xc67d8c);_0x562c53+=_0x105850;}await safeSend(_0x229da2,{'text':'Deleted\x20'+_0x562c53+('\x20mapping(s'+_0x2f88f6(0x161))+_0x908004['length']+(_0x2f88f6(0xab)+_0x2f88f6(0x14e)+_0x2f88f6(0x171))});return;}if(_0x58d8f9[0xdd*-0x1f+-0x1*0x5c9+-0x208d*-0x1]==='index'&&_0x58d8f9[_0x2f88f6(0xb3)]>=0x685*0x1+-0x1ef+-0x493){const _0x1e6f00=parseInt(_0x58d8f9[-0xb*0x229+-0x82c*-0x3+-0xbf],-0x3*0x112+0x1*0x1349+-0x1*0x1009);if(!Number[_0x2f88f6(0x102)](_0x1e6f00)||_0x1e6f00<=0xb*-0x103+0x21f9+-0x16d8){await safeSend(_0x229da2,{'text':_0x2f88f6(0x164)+'dex'});return;}let _0x405cdc=-0x1*-0x24b3+0x1b*-0xab+-0x12aa;for(const _0x477cfa of _0x908004){const _0x55a07e=await listCmds(_0x477cfa);if(_0x1e6f00>_0x55a07e[_0x2f88f6(0xb3)])continue;const _0x55f170=_0x55a07e[_0x1e6f00-(-0x4*-0x23b+-0x1460+0xb75)]['id'],_0x3073e4=await deleteCmdById(_0x477cfa,_0x55f170);_0x405cdc+=_0x3073e4;}await safeSend(_0x229da2,{'text':_0x2f88f6(0x134)+_0x405cdc+(_0x2f88f6(0xae)+')\x20(index\x20')+_0x1e6f00+(_0x2f88f6(0x177)+'our\x20defaul'+'t\x20connecti'+_0x2f88f6(0xc0))});return;}const _0x5e3ec8=_0x58d8f9[0x2464+-0xeee+-0x1575];let _0xb18227=-0x98d+0x110b+0x3bf*-0x2;for(const _0x37e28c of _0x908004){const _0x3912f0=await deleteCmdByEmoji(_0x37e28c,_0x5e3ec8);_0xb18227+=_0x3912f0;}await safeSend(_0x229da2,{'text':'Deleted\x20'+_0xb18227+(_0x2f88f6(0xae)+_0x2f88f6(0x9d)+'i\x20')+_0x5e3ec8+('\x20across\x20yo'+'ur\x20default'+'\x20connectio'+'n(s).')});return;}return;}const _0x22b47f=getMessageText(_0x336325);if(!_0x22b47f||!_0x22b47f[_0x2f88f6(0x17a)]())return;const _0x2977f0=_0x22b47f[_0x2f88f6(0x17a)](),_0x41d905=/(?:^|\s)(@@?)\s+([^\n]+)/,_0x372613=_0x2977f0[_0x2f88f6(0x116)](_0x41d905);if(_0x372613){const _0x327183=_0x372613[-0x631+-0x1f9a+0x25cc],_0x1b0289=(_0x372613[0x7e4+-0x1f41+0x175f]||'')[_0x2f88f6(0x17a)](),_0x54a062=(_0x327183+'\x20'+_0x1b0289)[_0x2f88f6(0x17a)]();for(const _0x4a9dc0 of _0x908004){try{await dispatchMappingForChat(_0x4a9dc0,_0x54a062,'');}catch(_0x1a3335){warn(_0x2f88f6(0xdb)+_0x2f88f6(0xd8)+_0x2f88f6(0xf0)+_0x2f88f6(0x107)+'\x20error',_0x1a3335?.[_0x2f88f6(0xa0)]||_0x1a3335);}}return;}for(const _0x12a8ac of _0x908004){const _0x16f2b8=await listCmds(_0x12a8ac);if(!_0x16f2b8['length'])continue;const _0x1e49f9=_0x16f2b8[_0x2f88f6(0x12c)](_0x2d1634=>_0x2d1634[_0x2f88f6(0x112)])[_0x2f88f6(0xfb)](Boolean)[_0x2f88f6(0x12f)]((_0x261380,_0x53bc2f)=>_0x53bc2f['length']-_0x261380[_0x2f88f6(0xb3)]);let _0x341337=null,_0x1e05b0=null;for(const _0x368d7d of _0x1e49f9){if(!_0x368d7d)continue;let _0x461881=_0x2977f0['indexOf'](_0x368d7d);while(_0x461881!==-(-0xb7+0x2703+-0x264b*0x1)){if(isBoundaryAt(_0x2977f0,_0x461881,_0x368d7d['length'])){_0x341337=_0x368d7d,_0x1e05b0=_0x16f2b8[_0x2f88f6(0xbe)](_0x419048=>_0x419048[_0x2f88f6(0x112)]===_0x368d7d);break;}_0x461881=_0x2977f0[_0x2f88f6(0xce)](_0x368d7d,_0x461881+(0x1e5a+0x26f8+-0x4551));}if(_0x341337)break;}if(!_0x341337||!_0x1e05b0)continue;let _0x43908a='';const _0x4de540=_0x2977f0['indexOf'](_0x341337);if(_0x4de540!==-(-0x261b+-0x7de+0x5*0x932)){const _0x4fbc8a=_0x2977f0[_0x2f88f6(0x157)](_0x4de540+_0x341337[_0x2f88f6(0xb3)])[_0x2f88f6(0x17a)]();if(_0x4fbc8a)_0x43908a=_0x4fbc8a;}try{await dispatchMappingForChat(_0x12a8ac,_0x1e05b0[_0x2f88f6(0xdc)]||'',_0x43908a);}catch(_0x41c936){warn(_0x2f88f6(0xdb)+_0x2f88f6(0xd8)+_0x2f88f6(0x165)+_0x2f88f6(0xb1),_0x41c936?.['message']||_0x41c936);}}}catch(_0x220875){error(_0x220875,_0x2f88f6(0x169)+'ssage\x20fata'+'l');}}export async function cleanup(){const _0xef55ef=_0x36e768;botRef=null,sendApi=null,info(_0xef55ef(0x167)+_0xef55ef(0xda));}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};