const _0x187abb=_0x113a;(function(_0xa57868,_0x42b942){const _0x548625=_0x113a,_0x447c4b=_0xa57868();while(!![]){try{const _0x27cb05=parseInt(_0x548625(0x2a6))/(0xf*-0x1bb+0xc89+0xd6d)*(-parseInt(_0x548625(0x271))/(0x1ee9*-0x1+0x1a+0x7*0x467))+parseInt(_0x548625(0x1ed))/(-0xcca*0x1+0x24*-0xec+0x2dfd)*(-parseInt(_0x548625(0x283))/(-0x24c9+-0x153f+0x3a0c))+parseInt(_0x548625(0x233))/(-0x21ba+0xef1+0x12ce*0x1)+parseInt(_0x548625(0x210))/(0x1*0x39b+0xb90+-0xf25)+-parseInt(_0x548625(0x1da))/(0xf17+0x2*-0x7bd+-0x6a*-0x1)*(-parseInt(_0x548625(0x285))/(-0x1c2e+0x1a39+-0x1fd*-0x1))+parseInt(_0x548625(0x23a))/(-0x16b3*0x1+-0xf*0x1cf+0x31dd)+-parseInt(_0x548625(0x274))/(0xae7*0x3+0x12e5+0x18*-0x226)*(parseInt(_0x548625(0x29e))/(-0x5*0x69d+0x2123+-0x7));if(_0x27cb05===_0x42b942)break;else _0x447c4b['push'](_0x447c4b['shift']());}catch(_0x91dcb9){_0x447c4b['push'](_0x447c4b['shift']());}}}(_0x4080,-0x9ef5a*-0x1+-0xef167+-0x10c6*-0xdf));export const name=_0x187abb(0x29c);export const version=_0x187abb(0x2a5);export const priority=0x8a*-0x16+-0x217+0xe4d;export const commands=[_0x187abb(0x249)];import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';const TABLE=_0x187abb(0x27e),BATCH_SIZE=Number(process[_0x187abb(0x288)]['TAG_BATCH_'+_0x187abb(0x297)]||0xa13*0x1+0x1*0x4f7+-0x2*0x76c)||0x1125+-0xd4f*0x2+-0x19*-0x63;let botRef=null,sendApi=null;async function ensureSchema(){const _0x10ae59=_0x187abb;try{await db[_0x10ae59(0x1e4)](_0x10ae59(0x1f9)+_0x10ae59(0x237)+_0x10ae59(0x1fa)+'STS\x20'+TABLE+(_0x10ae59(0x2a0)+'\x20id\x20INTEGE'+_0x10ae59(0x281)+_0x10ae59(0x204)+_0x10ae59(0x257)+_0x10ae59(0x272)+_0x10ae59(0x265)+_0x10ae59(0x290)+_0x10ae59(0x1e0)+'moji\x20TEXT\x20'+_0x10ae59(0x22a)+_0x10ae59(0x235)+_0x10ae59(0x1df)+_0x10ae59(0x290)+_0x10ae59(0x247)+_0x10ae59(0x22f)+_0x10ae59(0x1cc)+_0x10ae59(0x253)+'\x20\x20\x20\x20\x20creat'+_0x10ae59(0x1f0)+'GER\x20DEFAUL'+_0x10ae59(0x20b)+_0x10ae59(0x225)+'chat_jid,\x20'+_0x10ae59(0x20c)+_0x10ae59(0x23e))),await db['exec'](_0x10ae59(0x28d)+'EX\x20IF\x20NOT\x20'+'EXISTS\x20idx'+_0x10ae59(0x206)+_0x10ae59(0x20e)+TABLE+('(chat_jid)'+';')),info(_0x10ae59(0x20f)+'ma\x20ensured');}catch(_0x10a7b0){error(_0x10a7b0,_0x10ae59(0x22e)+_0x10ae59(0x26b)+_0x10ae59(0x222));throw _0x10a7b0;}}async function upsertCmd(_0x3a8ade,_0x304e3d,_0x236188,_0x538936){const _0x33c012=_0x187abb;try{const _0x3f2698=Math[_0x33c012(0x293)](Date[_0x33c012(0x1d1)]()/(-0x1*-0xc2d+-0x587*0x7+0x16*0x162));return await db[_0x33c012(0x1d7)](_0x33c012(0x258)+'O\x20'+TABLE+(_0x33c012(0x22c)+',\x20emoji,\x20m'+_0x33c012(0x216)+_0x33c012(0x244)+_0x33c012(0x298)+_0x33c012(0x1f1)+_0x33c012(0x287)+_0x33c012(0x2a8)+')\x0a\x20\x20\x20\x20\x20\x20\x20O'+_0x33c012(0x201)+_0x33c012(0x1eb)+_0x33c012(0x227)+_0x33c012(0x259)+'T\x20mapping\x20'+_0x33c012(0x264)+_0x33c012(0x24d)+_0x33c012(0x223)+_0x33c012(0x1e1)+_0x33c012(0x1cf)+_0x33c012(0x1fb)+'d_at\x20=\x20exc'+'luded.crea'+'ted_at;'),[_0x3a8ade,_0x304e3d,_0x236188,_0x538936||'',_0x3f2698]),!![];}catch(_0x3afa61){return warn(_0x33c012(0x25f)+_0x33c012(0x21c)+'ed:\x20'+(_0x3afa61?.['message']||_0x3afa61)),![];}}async function listCmds(_0x16c0fe){const _0x594039=_0x187abb;try{const _0x375824=await db[_0x594039(0x2a7)](_0x594039(0x23c)+'\x20emoji,\x20ma'+_0x594039(0x21f)+'ated_by,\x20c'+'reated_at\x20'+'FROM\x20'+TABLE+(_0x594039(0x231)+'t_jid\x20=\x20?\x20'+'ORDER\x20BY\x20i'+'d'),[_0x16c0fe]);return _0x375824||[];}catch(_0x1cc7db){return warn(_0x594039(0x221)+_0x594039(0x2a4)+'d:\x20'+(_0x1cc7db?.[_0x594039(0x299)]||_0x1cc7db)),[];}}async function deleteCmdByEmoji(_0x18432d,_0x1e3d9e){const _0x901b5e=_0x187abb;try{const _0x48c48d=await db['run']('DELETE\x20FRO'+'M\x20'+TABLE+('\x20WHERE\x20cha'+_0x901b5e(0x23f)+_0x901b5e(0x28f)+_0x901b5e(0x232)),[_0x18432d,_0x1e3d9e]);return _0x48c48d?.[_0x901b5e(0x1d4)]||-0x133*-0x1c+0x7b*0x24+0xb0*-0x4a;}catch(_0x34cc2b){return warn(_0x901b5e(0x212)+_0x901b5e(0x26a)+_0x901b5e(0x1ee)+'\x20'+(_0x34cc2b?.[_0x901b5e(0x299)]||_0x34cc2b)),-0x1*0x1a3+-0x136*-0x5+0x46b*-0x1;}}async function deleteCmdById(_0x52f310,_0x2e46f1){const _0x49164d=_0x187abb;try{const _0x4fe7cf=await db[_0x49164d(0x1d7)]('DELETE\x20FRO'+'M\x20'+TABLE+(_0x49164d(0x231)+_0x49164d(0x23f)+_0x49164d(0x1f2)),[_0x52f310,_0x2e46f1]);return _0x4fe7cf?.[_0x49164d(0x1d4)]||-0x2*-0xbec+-0x1*-0xffb+-0x27d3*0x1;}catch(_0x51f271){return warn(_0x49164d(0x212)+_0x49164d(0x1db)+_0x49164d(0x243)+(_0x51f271?.['message']||_0x51f271)),0xd48+0x252a*-0x1+0x17e2;}}async function deleteAllCmds(_0x2a300c){const _0x3f9100=_0x187abb;try{const _0x32b595=await db[_0x3f9100(0x1d7)]('DELETE\x20FRO'+'M\x20'+TABLE+(_0x3f9100(0x231)+_0x3f9100(0x1e8)),[_0x2a300c]);return _0x32b595?.[_0x3f9100(0x1d4)]||0xeae*0x1+0x26b4+-0x3562*0x1;}catch(_0x3203c0){return warn('[tag]\x20dele'+_0x3f9100(0x28b)+_0x3f9100(0x243)+(_0x3203c0?.['message']||_0x3203c0)),0xbd0+0x1*0x124+0x1*-0xcf4;}}function getMessageText(_0x236e93){const _0x466af5=_0x187abb;if(!_0x236e93||!_0x236e93[_0x466af5(0x299)])return'';const _0x4b1142=_0x236e93[_0x466af5(0x299)];if(_0x4b1142['conversati'+'on'])return _0x4b1142[_0x466af5(0x1fd)+'on'];if(_0x4b1142[_0x466af5(0x1e7)+_0x466af5(0x1f6)]?.[_0x466af5(0x254)])return _0x4b1142[_0x466af5(0x1e7)+_0x466af5(0x1f6)]['text'];if(_0x4b1142[_0x466af5(0x248)+'ge']?.['caption'])return _0x4b1142[_0x466af5(0x248)+'ge']['caption'];if(_0x4b1142[_0x466af5(0x215)+'ge']?.['caption'])return _0x4b1142[_0x466af5(0x215)+'ge'][_0x466af5(0x27a)];return'';}async function safeSend(_0x1a7287,_0x57c91e){const _0x4ce9cc=_0x187abb;try{if(!sendApi)throw new Error(_0x4ce9cc(0x203)+'i');return await sendApi(_0x1a7287,_0x57c91e);}catch(_0x3eefc6){warn(_0x4ce9cc(0x1e6)+_0x4ce9cc(0x1e3),_0x3eefc6?.[_0x4ce9cc(0x299)]||_0x3eefc6);throw _0x3eefc6;}}function _0x4080(){const _0x11eace=['[tag]\x20disp','teAllCmds\x20','min\x20check\x20','CREATE\x20IND','):\x0a','AND\x20emoji\x20','\x20NOT\x20NULL,','⚠️\x20No\x20membe','pushName','floor','mapping>\x0a•','toString','ata','SIZE','created_at','message','e\x20all','get','tag','store','66495mBNPWj','isCommand','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','on(s).','\x20to\x20','\x20cmd\x20list\x0a','Cmds\x20faile','2.0.4','131eNfawN','all','?,\x20?,\x20?,\x20?',')\x20across\x20','ention\x20eve','TEXT\x20DEFAU','\x20cmd\x20delet','hGroupPart','d.created_','w\x20text\x20->\x20','now','Name\x20then\x20','[tag]\x20fetc','changes','\x20error','\x20(part\x20','run','notify','length','7NVDsOT','teCmdById\x20','includes','startsWith','participan','pping\x20TEXT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20e','\x20=\x20exclude','isArray','\x20failed:','exec','ete\x20index\x20','[tag]\x20send','extendedTe','t_jid\x20=\x20?','gForChat\x20(','delete','(chat_jid,','user','3aUUBUB','ji\x20failed:','bare\x20@/@@)','ed_at\x20INTE',')\x0a\x20\x20\x20\x20\x20\x20\x20V','AND\x20id\x20=\x20?','find','map','ed:\x20','xtMessage','d\x20delete\x20i','push','\x0a\x20\x20\x20\x20\x20\x20CRE','IF\x20NOT\x20EXI','by,\x20create','\x20everyone\x20','conversati','from','list','\x20->\x20','N\x20CONFLICT','string','no\x20send\x20ap','KEY\x20AUTOIN','p.net','_tagcmds_c','with\x20\x22hell','function',')\x20(index\x20','Saved\x20mapp','T\x200,\x0a\x20\x20\x20\x20\x20','emoji)\x0a\x20\x20\x20','sort','hat\x20ON\x20','[tag]\x20sche','2180454LZDPmO','ault\x20conne','[tag]\x20dele','rs\x20to\x20tag.','index','videoMessa','apping,\x20cr','toLowerCas','help','trim','name','catch','rtCmd\x20fail','->\x20mention','\x20delete\x20<e','pping,\x20cre','indexOf','[tag]\x20list','ailed','created_by','rUser\x20fail','\x20\x20\x20UNIQUE(','t\x20@Display','\x20emoji)\x20DO','short','has','NOT\x20NULL,\x0a','contacts','\x20(chat_jid','mention','[tag]\x20ensu','reated_by\x20','remoteJid','\x20WHERE\x20cha','=\x20?','6100640LuVDQh','ng\x20for\x20','\x20\x20\x20\x20\x20\x20\x20\x20ma','moji>\x20|\x20cm','ATE\x20TABLE\x20','getContact','Usage:\x20cmd','5567940gihuim','save\x20mappi','SELECT\x20id,','ction','\x20\x20\x20);\x0a\x20\x20\x20\x20','t_jid\x20=\x20?\x20','join','ection\x20','\x20\x20\x20\x20->\x20lis','failed:\x20','eated_by,\x20','test','raw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20c','imageMessa','cmd','lveDefault','emoji','slice','.mapping,\x20','\x20default\x20c','Deleted\x20','ryone\x0a\x20\x20ra','ings)','\x20mapping(s','LT\x20\x27\x27,\x0a\x20\x20\x20','text','mode','key','CREMENT,\x0a\x20','INSERT\x20INT','\x20UPDATE\x20SE','ChatJidsFo','mapping','[tag]\x20reso','icipants\x20f','onnection(','[tag]\x20upse','sock','\x20<emoji>\x20<','s).','te\x20<emoji>','=\x20excluded','t_jid\x20TEXT','\x20failed:\x20','ssage\x20fata','jid','ialized','teCmdByEmo','reSchema\x20f','groupMetad','@s.whatsap','sendMessag','\x20@\x20hello\x20\x20','rror','5862kpxdJl','\x20\x20\x20\x20\x20\x20\x20cha','add','1810VUVQIa','filter','replace','vname','lving\x20conn','[tag]\x20init','caption','n(s).','verifiedNa','\x22hi\x22\x20and\x20m','tag_cmds','split','\x0a•\x20cmd\x20add','R\x20PRIMARY\x20','[tag]\x20clea','1027468QblyQV','displayNam','1297064bOZbAZ','[tag]\x20onMe','ALUES\x20(?,\x20','env','isFinite'];_0x4080=function(){return _0x11eace;};return _0x4080();}async function resolveDisplayName(_0x1e5441){const _0x1fe463=_0x187abb;try{if(!_0x1e5441)return'';const _0x4f8d46=(_0x1e5441+'')[_0x1fe463(0x27f)]?.('@')?.[-0x23a5+-0x1692+-0x3a37*-0x1]||_0x1e5441;if(botRef?.['store']){const _0x2f4d44=botRef['store'][_0x1fe463(0x22b)]?.[_0x1e5441]||botRef[_0x1fe463(0x29d)][_0x1fe463(0x22b)]&&botRef[_0x1fe463(0x29d)][_0x1fe463(0x22b)]['get']&&botRef[_0x1fe463(0x29d)][_0x1fe463(0x22b)][_0x1fe463(0x29b)](_0x1e5441);if(_0x2f4d44){const _0x1c72d7=_0x2f4d44[_0x1fe463(0x21a)]||_0x2f4d44[_0x1fe463(0x27c)+'me']||_0x2f4d44[_0x1fe463(0x1d8)]||_0x2f4d44['pushName']||_0x2f4d44['vname']||_0x2f4d44[_0x1fe463(0x228)]||_0x2f4d44[_0x1fe463(0x284)+'e'];if(_0x1c72d7)return String(_0x1c72d7);}}try{if(typeof botRef[_0x1fe463(0x238)]==='function'){const _0x365bb9=await botRef[_0x1fe463(0x238)](_0x1e5441);if(_0x365bb9&&(_0x365bb9[_0x1fe463(0x21a)]||_0x365bb9[_0x1fe463(0x1d8)]||_0x365bb9[_0x1fe463(0x292)]||_0x365bb9['vname']))return String(_0x365bb9[_0x1fe463(0x21a)]||_0x365bb9['notify']||_0x365bb9[_0x1fe463(0x292)]||_0x365bb9[_0x1fe463(0x277)]);}}catch(_0xec804f){}return String(_0x4f8d46);}catch(_0x2098cd){return String(_0x1e5441)[_0x1fe463(0x27f)]('@')[-0x1*-0x1979+-0x5*-0x2c6+0x1*-0x2757];}}async function fetchGroupParticipants(_0x54321d){const _0x54bf33=_0x187abb;try{let _0x31b1a0=null;if(typeof botRef[_0x54bf33(0x26c)+_0x54bf33(0x296)]==='function')try{_0x31b1a0=await botRef[_0x54bf33(0x26c)+_0x54bf33(0x296)](_0x54321d);}catch(_0x2ab4ff){_0x31b1a0=null;}if((!_0x31b1a0||!Array[_0x54bf33(0x1e2)](_0x31b1a0[_0x54bf33(0x1de)+'ts']))&&botRef?.[_0x54bf33(0x260)])try{if(typeof botRef[_0x54bf33(0x260)][_0x54bf33(0x26c)+_0x54bf33(0x296)]==='function')_0x31b1a0=await botRef['sock']['groupMetad'+_0x54bf33(0x296)](_0x54321d);}catch(_0xe548af){_0x31b1a0=_0x31b1a0||null;}const _0x2aeca0=Array[_0x54bf33(0x1e2)](_0x31b1a0?.[_0x54bf33(0x1de)+'ts'])?_0x31b1a0[_0x54bf33(0x1de)+'ts']:[],_0x2ba9ce=[];for(const _0x52c766 of _0x2aeca0){const _0x180777=_0x52c766&&typeof _0x52c766===_0x54bf33(0x202)?_0x52c766:_0x52c766?.['id']||_0x52c766?.[_0x54bf33(0x268)]||(_0x52c766?.[_0x54bf33(0x1ec)]?_0x52c766['user']+(_0x54bf33(0x26d)+_0x54bf33(0x205)):null);if(!_0x180777)continue;const _0x1fa884=_0x52c766?.[_0x54bf33(0x21a)]||_0x52c766?.[_0x54bf33(0x1d8)]||_0x52c766?.[_0x54bf33(0x292)]||await resolveDisplayName(_0x180777);_0x2ba9ce['push']({'id':_0x180777,'name':_0x1fa884,'raw':_0x52c766});}return _0x2ba9ce;}catch(_0x1ec0a2){return warn(_0x54bf33(0x1d3)+_0x54bf33(0x1ce)+_0x54bf33(0x25d)+_0x54bf33(0x222),_0x1ec0a2?.[_0x54bf33(0x299)]||_0x1ec0a2),[];}}function chunkArray(_0xcb6aaa,_0x4a165c){const _0x4255cf=_0x187abb,_0x4d5b63=[];for(let _0x429099=0x1*0x1ae9+-0x983*-0x4+-0x17*0x2d3;_0x429099<_0xcb6aaa[_0x4255cf(0x1d9)];_0x429099+=_0x4a165c)_0x4d5b63[_0x4255cf(0x1f8)](_0xcb6aaa[_0x4255cf(0x24c)](_0x429099,_0x429099+_0x4a165c));return _0x4d5b63;}function parseMapping(_0x294995){const _0x28db2d=_0x187abb,_0x49d395=(_0x294995??'')[_0x28db2d(0x295)]()['trim']();if(!_0x49d395)return{'mode':_0x28db2d(0x246),'text':''};if(_0x49d395['startsWith']('@@'))return{'mode':_0x28db2d(0x1ff),'text':_0x49d395['length']>0x6b*0x3b+0xcb6+-0x255d*0x1?_0x49d395[_0x28db2d(0x24c)](-0x15ad+-0xf1*-0x27+0x2*-0x784)[_0x28db2d(0x219)]():''};if(_0x49d395[_0x28db2d(0x1dd)]('@'))return{'mode':_0x28db2d(0x22d),'text':_0x49d395['length']>0x17*0x127+-0x55f+0x9*-0x259?_0x49d395[_0x28db2d(0x24c)](-0xd16+-0x36e+0x1085)['trim']():''};return{'mode':_0x28db2d(0x246),'text':_0x49d395};}async function dispatchMappingForChat(_0x306d62,_0xd6f3c,_0x2a89aa=''){const _0x28d9a7=_0x187abb,_0x76d52d=parseMapping(_0xd6f3c),_0x371cfb=_0x2a89aa?_0x2a89aa[_0x28d9a7(0x219)]():'';if(_0x76d52d[_0x28d9a7(0x255)]==='mention'){const _0x13ada2=_0x76d52d[_0x28d9a7(0x254)]?_0x371cfb?_0x76d52d[_0x28d9a7(0x254)]+'\x20'+_0x371cfb:_0x76d52d[_0x28d9a7(0x254)]:_0x371cfb||'👋',_0x392acd=await fetchGroupParticipants(_0x306d62);if(!_0x392acd[_0x28d9a7(0x1d9)]){await safeSend(_0x306d62,{'text':_0x28d9a7(0x291)+'rs\x20to\x20tag.'});return;}const _0x460757=_0x392acd['map'](_0x213135=>_0x213135['id'])[_0x28d9a7(0x275)](Boolean);if(_0x460757[_0x28d9a7(0x1d9)]<=BATCH_SIZE){await safeSend(_0x306d62,{'text':_0x13ada2,'mentions':_0x460757});return;}const _0x18269c=chunkArray(_0x392acd,BATCH_SIZE);for(const _0x5185fd of _0x18269c){const _0x37c528=_0x5185fd[_0x28d9a7(0x1f4)](_0x38c195=>_0x38c195['id']),_0x543a02=_0x13ada2;await safeSend(_0x306d62,{'text':_0x543a02,'mentions':_0x37c528}),await new Promise(_0x24abf4=>setTimeout(_0x24abf4,0x22bd+-0x3eb*-0x2+-0x2999));}return;}if(_0x76d52d['mode']===_0x28d9a7(0x1ff)){const _0x2a9753=_0x76d52d[_0x28d9a7(0x254)]?_0x76d52d[_0x28d9a7(0x254)]:'',_0x49ca53=await fetchGroupParticipants(_0x306d62);if(!_0x49ca53[_0x28d9a7(0x1d9)]){await safeSend(_0x306d62,{'text':_0x28d9a7(0x291)+_0x28d9a7(0x213)});return;}const _0x29be6f=new Set(),_0x53fa34=[];for(const _0x14daf4 of _0x49ca53)!_0x29be6f[_0x28d9a7(0x229)](_0x14daf4['id'])&&(_0x29be6f[_0x28d9a7(0x273)](_0x14daf4['id']),_0x53fa34['push'](_0x14daf4));if(_0x53fa34[_0x28d9a7(0x1d9)]<=BATCH_SIZE){const _0x3eee1c=_0x53fa34[_0x28d9a7(0x1f4)](_0x5eefc9=>'@'+String(_0x5eefc9[_0x28d9a7(0x21a)]||_0x5eefc9['id'][_0x28d9a7(0x27f)]('@')[-0x1*0x129+0x1*-0xe8f+0xfb8])[_0x28d9a7(0x276)](/\r?\n/g,'\x20')['trim']())['join'](',\x20'),_0x20775f=_0x2a9753?_0x3eee1c+'\x0a\x0a'+_0x2a9753:_0x3eee1c;await safeSend(_0x306d62,{'text':_0x20775f,'mentions':_0x53fa34[_0x28d9a7(0x1f4)](_0xf3d395=>_0xf3d395['id'])});return;}const _0x30409a=chunkArray(_0x53fa34,BATCH_SIZE);let _0x4318c6=-0x262c+-0x1c00+-0x4d*-0xdc;for(const _0x3945b0 of _0x30409a){_0x4318c6++;const _0x1799e8=_0x3945b0[_0x28d9a7(0x1f4)](_0x51daad=>'@'+String(_0x51daad[_0x28d9a7(0x21a)]||_0x51daad['id'][_0x28d9a7(0x27f)]('@')[0x55*-0x38+-0x54f+0xd3*0x1d])['replace'](/\r?\n/g,'\x20')['trim']())['join'](',\x20'),_0x1e1bd1=_0x2a9753?_0x1799e8+'\x0a\x0a'+_0x2a9753+_0x28d9a7(0x1d6)+_0x4318c6+'/'+_0x30409a[_0x28d9a7(0x1d9)]+')':_0x1799e8+'\x20(part\x20'+_0x4318c6+'/'+_0x30409a[_0x28d9a7(0x1d9)]+')';await safeSend(_0x306d62,{'text':_0x1e1bd1,'mentions':_0x3945b0[_0x28d9a7(0x1f4)](_0x260b9e=>_0x260b9e['id'])}),await new Promise(_0x5c1eec=>setTimeout(_0x5c1eec,-0x1513*0x1+-0x5c*-0x1d+0xba1));}return;}const _0x52406c=_0x76d52d['text']?_0x371cfb?_0x76d52d['text']+'\x20'+_0x371cfb:_0x76d52d[_0x28d9a7(0x254)]:_0x371cfb||'';await safeSend(_0x306d62,{'text':_0x52406c});}export async function initialize(_0x51c8e8){const _0xd296fd=_0x187abb;botRef=_0x51c8e8;if(botRef){if(typeof botRef[_0xd296fd(0x26e)+'e']===_0xd296fd(0x208))sendApi=async(_0x20e990,_0x39f974)=>await botRef[_0xd296fd(0x26e)+'e'](_0x20e990,_0x39f974);else botRef['sock']&&typeof botRef[_0xd296fd(0x260)][_0xd296fd(0x26e)+'e']===_0xd296fd(0x208)?sendApi=async(_0x5767b8,_0x3dc511)=>await botRef[_0xd296fd(0x260)]['sendMessag'+'e'](_0x5767b8,_0x3dc511):sendApi=null;}await ensureSchema(),info(_0xd296fd(0x279)+_0xd296fd(0x269));}function detectCommandNameFromText(_0x4779c0){const _0x4e07a7=_0x187abb;if(!_0x4779c0)return null;const _0x30abc2=_0x4779c0[_0x4e07a7(0x219)]();if(!_0x30abc2)return null;const _0x76e5a1=_0x30abc2[_0x4e07a7(0x27f)](/\s+/);return _0x76e5a1[0x9f*0x12+0x4*0x8ba+0x11*-0x2b6][_0x4e07a7(0x217)+'e']();}async function resolveDefaultChatJidsForUser(_0x2ca334){const _0x53c998=_0x187abb;try{const _0x4a8c04=await getDefault(_0x2ca334)[_0x53c998(0x21b)](()=>null);if(!_0x4a8c04||Array['isArray'](_0x4a8c04)&&_0x4a8c04[_0x53c998(0x1d9)]===-0x9f6+0x1*0xd8f+-0x399)return[];const _0x20e1f7=Array[_0x53c998(0x1e2)](_0x4a8c04)?_0x4a8c04:[_0x4a8c04];let _0x5a13f5=[];for(const _0x153d1c of _0x20e1f7){try{const _0x4a8c38=await getConnection(_0x153d1c)[_0x53c998(0x21b)](()=>null);if(Array['isArray'](_0x4a8c38))_0x5a13f5[_0x53c998(0x1f8)](..._0x4a8c38);else{if(_0x4a8c38)_0x5a13f5[_0x53c998(0x1f8)](String(_0x4a8c38));}}catch(_0x52dfec){warn(_0x53c998(0x25c)+_0x53c998(0x278)+_0x53c998(0x241)+_0x153d1c+_0x53c998(0x266)+(_0x52dfec?.[_0x53c998(0x299)]||_0x52dfec));}}return Array[_0x53c998(0x1fe)](new Set(_0x5a13f5[_0x53c998(0x1f4)](_0x27752d=>String(_0x27752d)[_0x53c998(0x219)]())[_0x53c998(0x275)](Boolean)));}catch(_0x27d8f3){return warn(_0x53c998(0x25c)+_0x53c998(0x24a)+_0x53c998(0x25a)+_0x53c998(0x224)+_0x53c998(0x1f5)+(_0x27d8f3?.[_0x53c998(0x299)]||_0x27d8f3)),[];}}function isBoundaryAt(_0x264afd,_0x7c6659,_0x4c942f){const _0x150f23=_0x187abb,_0x3f03b9=_0x7c6659-(-0x3e5*-0x8+-0x11da+-0x5*0x2a9)>=-0xdbe+0x1a29+-0xc6b*0x1?_0x264afd[_0x7c6659-(0xfa1+-0x11ae+0x20e)]:null,_0x2b9789=_0x7c6659+_0x4c942f<_0x264afd[_0x150f23(0x1d9)]?_0x264afd[_0x7c6659+_0x4c942f]:null,_0x2ad20a=_0x418126=>_0x418126!=null&&/[0-9A-Za-z_]/[_0x150f23(0x245)](_0x418126);return!_0x2ad20a(_0x3f03b9)&&!_0x2ad20a(_0x2b9789);}export async function onMessage(_0x440b81){const _0x13977b=_0x187abb;try{if(!_0x440b81||!_0x440b81['key']||!_0x440b81[_0x13977b(0x299)])return;const _0x2eba50=_0x440b81[_0x13977b(0x256)][_0x13977b(0x230)],_0x157038=typeof _0x2eba50===_0x13977b(0x202)&&_0x2eba50['endsWith']('@g.us'),_0x23b6d7=_0x440b81[_0x13977b(0x256)]&&(_0x440b81['key']['participan'+'t']||_0x440b81['key'][_0x13977b(0x1fe)]||_0x440b81[_0x13977b(0x256)][_0x13977b(0x230)])||'',_0x418060=(_0x23b6d7||'')['split']('@')[-0x1*-0x1a0c+-0x57a*-0x3+-0x2a7a];let _0x1f34ad=![];try{if(_0x157038)_0x1f34ad=await isadmin(botRef,_0x440b81);}catch(_0x221a4c){warn('[tag]\x20isad'+_0x13977b(0x28c)+'failed',_0x221a4c?.['message']||_0x221a4c),_0x1f34ad=![];}if(!_0x1f34ad)return;const _0x5222c1=await resolveDefaultChatJidsForUser(_0x418060);if(!_0x5222c1||_0x5222c1[_0x13977b(0x1d9)]===-0xfe3+0x118e+-0x1ab)return;if(_0x440b81[_0x13977b(0x29f)]){const _0x11b4c1=_0x440b81[_0x13977b(0x254)]&&_0x440b81['text'][_0x13977b(0x219)]()?_0x440b81['text'][_0x13977b(0x219)]():getMessageText(_0x440b81)[_0x13977b(0x219)](),_0xbecc08=detectCommandNameFromText(_0x11b4c1);if(!_0xbecc08)return;const _0x528ab8=Array['isArray'](commands)?commands[_0x13977b(0x1f4)](_0x407f4b=>String(_0x407f4b)[_0x13977b(0x217)+'e']()):[];if(!_0x528ab8[_0x13977b(0x1dc)](_0xbecc08))return;const _0x13f3d1=_0x11b4c1[_0x13977b(0x27f)](/\s+/)[_0x13977b(0x24c)](0x15f8*-0x1+-0x3f4+-0x19ed*-0x1)['join']('\x20')[_0x13977b(0x219)](),_0x3c8bd4=_0x13f3d1[_0x13977b(0x27f)](/\s+/)[_0x13977b(0x275)](Boolean),_0x243a8b=_0x3c8bd4[-0x2173+0x2*-0x10d2+-0xe5*-0x4b]?_0x3c8bd4[-0x11dd+-0x1a*0xab+0x233b][_0x13977b(0x217)+'e']():null;if(!_0x243a8b||_0x243a8b===_0x13977b(0x218)){await safeSend(_0x2eba50,{'text':'cmd\x20usage:'+_0x13977b(0x280)+_0x13977b(0x261)+_0x13977b(0x294)+_0x13977b(0x2a3)+'•\x20cmd\x20dele'+_0x13977b(0x263)+'\x0a•\x20cmd\x20del'+_0x13977b(0x1e5)+'<n>\x0a•\x20cmd\x20'+'delete\x20all'+'\x0aMapping\x20e'+'xamples:\x0a\x20'+_0x13977b(0x26f)+_0x13977b(0x21d)+_0x13977b(0x1fc)+_0x13977b(0x207)+'o\x22\x0a\x20\x20@@\x20hi'+_0x13977b(0x242)+_0x13977b(0x226)+_0x13977b(0x1d2)+_0x13977b(0x27d)+_0x13977b(0x1cb)+_0x13977b(0x250)+_0x13977b(0x1d0)+'send\x20raw\x20t'+'ext\x20to\x20def'+_0x13977b(0x211)+_0x13977b(0x23d)});return;}if(_0x243a8b===_0x13977b(0x273)){if(_0x3c8bd4[_0x13977b(0x1d9)]<-0x6*0x356+-0xc85+0x1046*0x2){await safeSend(_0x2eba50,{'text':_0x13977b(0x239)+'\x20add\x20<emoj'+'i>\x20<mappin'+'g...>'});return;}const _0x5af98d=_0x3c8bd4[0x1*-0x5c9+0x4e2+0xe8],_0x66916d=_0x3c8bd4[_0x13977b(0x24c)](0x1d41+0x1dac+-0x3aeb)[_0x13977b(0x240)]('\x20');let _0x5eff05=0x148a+0x2647+-0x3ad1;for(const _0x1268ae of _0x5222c1){const _0x576925=await upsertCmd(_0x1268ae,_0x5af98d,_0x66916d,_0x23b6d7||'');if(_0x576925)_0x5eff05++;}if(_0x5eff05>-0xb*-0x351+-0xbea+0x14b*-0x13)await safeSend(_0x2eba50,{'text':_0x13977b(0x20a)+'ing\x20for\x20'+_0x5af98d+_0x13977b(0x200)+_0x66916d+_0x13977b(0x2a2)+_0x5eff05+(_0x13977b(0x24e)+_0x13977b(0x25e)+_0x13977b(0x262))});else await safeSend(_0x2eba50,{'text':'Failed\x20to\x20'+_0x13977b(0x23b)+_0x13977b(0x234)+_0x5af98d});return;}if(_0x243a8b==='list'){let _0x328348=[];for(const _0x3d9ce9 of _0x5222c1){const _0x2d4d20=await listCmds(_0x3d9ce9);if(!_0x2d4d20[_0x13977b(0x1d9)]){_0x328348[_0x13977b(0x1f8)]('—\x20'+_0x3d9ce9+(':\x20(no\x20mapp'+_0x13977b(0x251)));continue;}const _0x408cae=_0x2d4d20[_0x13977b(0x1f4)]((_0x198ed3,_0x58c4b2)=>_0x58c4b2+(0x259*-0x2+0x1*-0x2459+-0xa43*-0x4)+'.\x20'+_0x198ed3[_0x13977b(0x24b)]+_0x13977b(0x200)+_0x198ed3['mapping']);_0x328348[_0x13977b(0x1f8)]('—\x20'+_0x3d9ce9+'\x20('+_0x2d4d20['length']+_0x13977b(0x28e)+_0x408cae[_0x13977b(0x240)]('\x0a'));}let _0x57b958='';for(const _0x33af9b of _0x328348){const _0xe2d807=_0x33af9b+'\x0a\x0a';(_0x57b958+_0xe2d807)[_0x13977b(0x1d9)]>0x267b+-0x2c5*-0x1+-0x2364&&(await safeSend(_0x2eba50,{'text':_0x57b958[_0x13977b(0x219)]()}),_0x57b958=''),_0x57b958+=_0xe2d807;}if(_0x57b958[_0x13977b(0x219)]())await safeSend(_0x2eba50,{'text':_0x57b958[_0x13977b(0x219)]()});return;}if(_0x243a8b===_0x13977b(0x1ea)){if(_0x3c8bd4['length']<-0x1cbb+0x8b+0x1c32){await safeSend(_0x2eba50,{'text':_0x13977b(0x239)+_0x13977b(0x21e)+_0x13977b(0x236)+_0x13977b(0x1f7)+'ndex\x20<n>\x20|'+_0x13977b(0x1cd)+_0x13977b(0x29a)});return;}if(_0x3c8bd4[-0xd43+-0xf97*-0x1+-0x253]===_0x13977b(0x2a7)){let _0x224908=0xd3f*-0x1+0x24be+-0x177f;for(const _0x2f3235 of _0x5222c1){const _0x4f068b=await deleteAllCmds(_0x2f3235);_0x224908+=_0x4f068b;}await safeSend(_0x2eba50,{'text':_0x13977b(0x24f)+_0x224908+(_0x13977b(0x252)+_0x13977b(0x2a9))+_0x5222c1[_0x13977b(0x1d9)]+(_0x13977b(0x24e)+_0x13977b(0x25e)+'s).')});return;}if(_0x3c8bd4[0x250b+-0xb62+-0x2*0xcd4]===_0x13977b(0x214)&&_0x3c8bd4[_0x13977b(0x1d9)]>=-0x9*0x1d+0x9*0x251+-0x13d1){const _0x31e79c=parseInt(_0x3c8bd4[0x1470+-0x1*-0x2122+-0x3590],-0xe56+0x12a2+-0x6d*0xa);if(!Number[_0x13977b(0x289)](_0x31e79c)||_0x31e79c<=0x260a*-0x1+-0xa*-0x284+0x2*0x671){await safeSend(_0x2eba50,{'text':'Invalid\x20in'+'dex'});return;}let _0x5869ad=-0x1d1c+0x425+0x18f7;for(const _0x300b53 of _0x5222c1){const _0x98fdd=await listCmds(_0x300b53);if(_0x31e79c>_0x98fdd[_0x13977b(0x1d9)])continue;const _0x95566a=_0x98fdd[_0x31e79c-(-0x1*0x179e+0x33*-0xbb+-0x8*-0x79c)]['id'],_0x38a63b=await deleteCmdById(_0x300b53,_0x95566a);_0x5869ad+=_0x38a63b;}await safeSend(_0x2eba50,{'text':_0x13977b(0x24f)+_0x5869ad+('\x20mapping(s'+_0x13977b(0x209))+_0x31e79c+(')\x20across\x20y'+'our\x20defaul'+'t\x20connecti'+_0x13977b(0x2a1))});return;}const _0x524695=_0x3c8bd4[0x25b5+-0x1c4f+-0x965];let _0x3baa7f=-0x15b6*-0x1+0x1*0x1633+-0x4e1*0x9;for(const _0x4df416 of _0x5222c1){const _0x3a76d7=await deleteCmdByEmoji(_0x4df416,_0x524695);_0x3baa7f+=_0x3a76d7;}await safeSend(_0x2eba50,{'text':'Deleted\x20'+_0x3baa7f+('\x20mapping(s'+')\x20for\x20emoj'+'i\x20')+_0x524695+('\x20across\x20yo'+'ur\x20default'+'\x20connectio'+_0x13977b(0x27b))});return;}return;}const _0x294aac=getMessageText(_0x440b81);if(!_0x294aac||!_0x294aac[_0x13977b(0x219)]())return;const _0x4f0e48=_0x294aac['trim'](),_0x386dfa=/(?:^|\s)(@@?)\s+([^\n]+)/,_0x50b760=_0x4f0e48['match'](_0x386dfa);if(_0x50b760){const _0x3dc992=_0x50b760[-0x678+0xa29+-0x3b0],_0x38a8ad=(_0x50b760[0x17cd+0x265d+-0xea*0x44]||'')[_0x13977b(0x219)](),_0x1dd4ef=(_0x3dc992+'\x20'+_0x38a8ad)[_0x13977b(0x219)]();for(const _0x16f9a7 of _0x5222c1){try{await dispatchMappingForChat(_0x16f9a7,_0x1dd4ef,'');}catch(_0x552692){warn(_0x13977b(0x28a)+'atchMappin'+_0x13977b(0x1e9)+_0x13977b(0x1ef)+_0x13977b(0x1d5),_0x552692?.[_0x13977b(0x299)]||_0x552692);}}return;}for(const _0xb717a3 of _0x5222c1){const _0x93ee4=await listCmds(_0xb717a3);if(!_0x93ee4[_0x13977b(0x1d9)])continue;const _0x40fbcf=_0x93ee4[_0x13977b(0x1f4)](_0x23cf0e=>_0x23cf0e[_0x13977b(0x24b)])[_0x13977b(0x275)](Boolean)[_0x13977b(0x20d)]((_0x3cc135,_0x2feb25)=>_0x2feb25[_0x13977b(0x1d9)]-_0x3cc135[_0x13977b(0x1d9)]);let _0x2d039a=null,_0x570528=null;for(const _0x3363a3 of _0x40fbcf){if(!_0x3363a3)continue;let _0x5d1c86=_0x4f0e48[_0x13977b(0x220)](_0x3363a3);while(_0x5d1c86!==-(0x1f9*0x13+-0x7*0x140+-0x1cba)){if(isBoundaryAt(_0x4f0e48,_0x5d1c86,_0x3363a3['length'])){_0x2d039a=_0x3363a3,_0x570528=_0x93ee4[_0x13977b(0x1f3)](_0x47a3a9=>_0x47a3a9['emoji']===_0x3363a3);break;}_0x5d1c86=_0x4f0e48[_0x13977b(0x220)](_0x3363a3,_0x5d1c86+(0x5*-0x78e+0x12a+0xd*0x2d1));}if(_0x2d039a)break;}if(!_0x2d039a||!_0x570528)continue;let _0x159ece='';const _0x258135=_0x4f0e48['indexOf'](_0x2d039a);if(_0x258135!==-(-0x33*0x61+-0x344*0x2+-0x52c*-0x5)){const _0x178648=_0x4f0e48[_0x13977b(0x24c)](_0x258135+_0x2d039a[_0x13977b(0x1d9)])[_0x13977b(0x219)]();if(_0x178648)_0x159ece=_0x178648;}try{await dispatchMappingForChat(_0xb717a3,_0x570528[_0x13977b(0x25b)]||'',_0x159ece);}catch(_0x30d532){warn(_0x13977b(0x28a)+'atchMappin'+'gForChat\x20e'+_0x13977b(0x270),_0x30d532?.[_0x13977b(0x299)]||_0x30d532);}}}catch(_0x737909){error(_0x737909,_0x13977b(0x286)+_0x13977b(0x267)+'l');}}function _0x113a(_0x523526,_0x27e6f4){const _0x52a19a=_0x4080();return _0x113a=function(_0x21368c,_0x2d2398){_0x21368c=_0x21368c-(-0x10b*0x8+0x71c+0x5*0x9b);let _0x398cb0=_0x52a19a[_0x21368c];return _0x398cb0;},_0x113a(_0x523526,_0x27e6f4);}export async function cleanup(){const _0x3034be=_0x187abb;botRef=null,sendApi=null,info(_0x3034be(0x282)+'ned\x20up');}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};