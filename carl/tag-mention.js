const _0xc261f8=_0x305e;(function(_0x53affc,_0x443af8){const _0x3cfc3f=_0x305e,_0x4d673e=_0x53affc();while(!![]){try{const _0xc9924=parseInt(_0x3cfc3f(0x88))/(-0x3*-0x1f+-0x3*-0x954+-0x1c58)+parseInt(_0x3cfc3f(0x73))/(0x8b2+-0x2153+0x18a3)*(-parseInt(_0x3cfc3f(0x107))/(-0x94+0x1*-0x108e+0x4d*0x39))+parseInt(_0x3cfc3f(0xc6))/(0x1*-0x6c9+-0xc3b+0x1308)*(-parseInt(_0x3cfc3f(0x97))/(-0x2*0x46b+-0x1*-0xe5f+0x2c2*-0x2))+parseInt(_0x3cfc3f(0x96))/(0x3*0xb6c+0x43*-0x3d+-0x1*0x1247)*(-parseInt(_0x3cfc3f(0x94))/(0x1004+-0x4c0+-0x1*0xb3d))+-parseInt(_0x3cfc3f(0x103))/(-0xd7*0x11+-0x20be+0x21*0x16d)*(parseInt(_0x3cfc3f(0x150))/(-0x1421*0x1+-0x2e5*-0x1+0x1145))+-parseInt(_0x3cfc3f(0xfe))/(-0x1*-0xf49+0x1ab7+-0x29f6)*(parseInt(_0x3cfc3f(0xb6))/(0x1*-0x94d+0xfb4+0xb*-0x94))+parseInt(_0x3cfc3f(0x155))/(-0x11*-0x1a3+-0x23dd*0x1+0x816)*(parseInt(_0x3cfc3f(0x123))/(-0x1cf*-0xa+0x413*-0x1+-0xdf6));if(_0xc9924===_0x443af8)break;else _0x4d673e['push'](_0x4d673e['shift']());}catch(_0x4af410){_0x4d673e['push'](_0x4d673e['shift']());}}}(_0x2e2f,-0x298*-0x12d+0x1c446+-0x2*-0x488f));export const name='tag';export const version=_0xc261f8(0x8d);export const priority=-0x1e37+-0x182*-0x7+0x6d*0x2f;export const commands=[_0xc261f8(0x136)];import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';const TABLE=_0xc261f8(0xf8),BATCH_SIZE=Number(process[_0xc261f8(0xa0)]['TAG_BATCH_'+_0xc261f8(0xf3)]||0x1420+0x10*0x137+-0x1*0x275e)||0x2ec*-0x6+-0x1*0x85f+0x1a19;let botRef=null,sendApi=null;async function ensureSchema(){const _0x4d0e75=_0xc261f8;try{await db[_0x4d0e75(0x84)](_0x4d0e75(0xab)+_0x4d0e75(0x93)+_0x4d0e75(0x14a)+_0x4d0e75(0x10c)+TABLE+(_0x4d0e75(0x90)+_0x4d0e75(0x110)+_0x4d0e75(0xe6)+_0x4d0e75(0xf4)+_0x4d0e75(0x131)+_0x4d0e75(0xd7)+_0x4d0e75(0x11b)+_0x4d0e75(0x145)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+_0x4d0e75(0x13e)+_0x4d0e75(0xd4)+_0x4d0e75(0x11f)+_0x4d0e75(0x99)+_0x4d0e75(0x145)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+_0x4d0e75(0xc2)+_0x4d0e75(0xd5)+'LT\x20\x27\x27,\x0a\x20\x20\x20'+_0x4d0e75(0x10f)+_0x4d0e75(0x82)+_0x4d0e75(0xaf)+_0x4d0e75(0x152)+_0x4d0e75(0xe2)+'chat_jid,\x20'+_0x4d0e75(0x12f)+_0x4d0e75(0x133))),await db[_0x4d0e75(0x84)]('CREATE\x20IND'+_0x4d0e75(0xcc)+'EXISTS\x20idx'+'_tagcmds_c'+_0x4d0e75(0x92)+TABLE+(_0x4d0e75(0x11c)+';')),info(_0x4d0e75(0x13a)+_0x4d0e75(0x14e));}catch(_0x3f5f48){error(_0x3f5f48,'[tag]\x20ensu'+_0x4d0e75(0xdf)+_0x4d0e75(0xcd));throw _0x3f5f48;}}async function upsertCmd(_0x20e3bf,_0x11a5c3,_0x23311e,_0x59e582){const _0x5f238e=_0xc261f8;try{const _0x65ee43=Math['floor'](Date['now']()/(0x1a8*0x13+-0xbd*-0x3+0x63*-0x4d));return await db[_0x5f238e(0x128)]('INSERT\x20INT'+'O\x20'+TABLE+('\x20(chat_jid'+_0x5f238e(0x112)+_0x5f238e(0x129)+_0x5f238e(0x13c)+_0x5f238e(0x114)+')\x0a\x20\x20\x20\x20\x20\x20\x20V'+_0x5f238e(0x8f)+_0x5f238e(0x12b)+_0x5f238e(0xf0)+_0x5f238e(0xcf)+_0x5f238e(0xd6)+_0x5f238e(0xa2)+_0x5f238e(0x144)+_0x5f238e(0xbd)+_0x5f238e(0x7c)+_0x5f238e(0xf2)+'created_by'+_0x5f238e(0x151)+_0x5f238e(0x9e)+'by,\x20create'+_0x5f238e(0x14c)+_0x5f238e(0xb7)+_0x5f238e(0xa1)),[_0x20e3bf,_0x11a5c3,_0x23311e,_0x59e582||'',_0x65ee43]),!![];}catch(_0x40f6ad){return warn('[tag]\x20upse'+'rtCmd\x20fail'+_0x5f238e(0x77)+(_0x40f6ad?.[_0x5f238e(0xe9)]||_0x40f6ad)),![];}}async function listCmds(_0x165d46){const _0x2dcb30=_0xc261f8;try{const _0x4710e3=await db[_0x2dcb30(0x9f)](_0x2dcb30(0x127)+'\x20emoji,\x20ma'+'pping,\x20cre'+'ated_by,\x20c'+_0x2dcb30(0xeb)+_0x2dcb30(0x120)+TABLE+(_0x2dcb30(0x154)+_0x2dcb30(0x109)+_0x2dcb30(0x11d)+'d'),[_0x165d46]);return _0x4710e3||[];}catch(_0x51b78a){return warn(_0x2dcb30(0x135)+_0x2dcb30(0xce)+_0x2dcb30(0xfc)+(_0x51b78a?.['message']||_0x51b78a)),[];}}async function deleteCmdByEmoji(_0x5a0464,_0x102712){const _0x1386c6=_0xc261f8;try{const _0x2e5b96=await db[_0x1386c6(0x128)](_0x1386c6(0xb8)+'M\x20'+TABLE+('\x20WHERE\x20cha'+_0x1386c6(0x109)+_0x1386c6(0xb1)+'=\x20?'),[_0x5a0464,_0x102712]);return _0x2e5b96?.[_0x1386c6(0x108)]||-0x5*-0x247+-0x21dd+0x3*0x77e;}catch(_0x471d42){return warn(_0x1386c6(0x12a)+'teCmdByEmo'+_0x1386c6(0xad)+'\x20'+(_0x471d42?.['message']||_0x471d42)),0x38*-0x67+-0x18df+0x2f67*0x1;}}async function deleteCmdById(_0x5a5aba,_0x2108e8){const _0x47fa2e=_0xc261f8;try{const _0x4bd2cc=await db[_0x47fa2e(0x128)]('DELETE\x20FRO'+'M\x20'+TABLE+(_0x47fa2e(0x154)+_0x47fa2e(0x109)+_0x47fa2e(0xe4)),[_0x5a5aba,_0x2108e8]);return _0x4bd2cc?.[_0x47fa2e(0x108)]||-0x2077+0xe76*-0x1+0x125*0x29;}catch(_0x2180f5){return warn(_0x47fa2e(0x12a)+_0x47fa2e(0x7e)+_0x47fa2e(0x9c)+(_0x2180f5?.[_0x47fa2e(0xe9)]||_0x2180f5)),0x265f+0x2476+0x4ad5*-0x1;}}async function deleteAllCmds(_0x1cc892){const _0x1e5bbf=_0xc261f8;try{const _0x963bca=await db[_0x1e5bbf(0x128)](_0x1e5bbf(0xb8)+'M\x20'+TABLE+('\x20WHERE\x20cha'+_0x1e5bbf(0x10a)),[_0x1cc892]);return _0x963bca?.['changes']||0x674+-0xaa5*0x3+0x197b;}catch(_0x29f7ad){return warn(_0x1e5bbf(0x12a)+'teAllCmds\x20'+_0x1e5bbf(0x9c)+(_0x29f7ad?.[_0x1e5bbf(0xe9)]||_0x29f7ad)),0xea*-0xc+0xa31*-0x2+0x1f5a;}}function getMessageText(_0x9599d9){const _0x65f5b0=_0xc261f8;if(!_0x9599d9||!_0x9599d9[_0x65f5b0(0xe9)])return'';const _0x22cd62=_0x9599d9[_0x65f5b0(0xe9)];if(_0x22cd62[_0x65f5b0(0xe1)+'on'])return _0x22cd62['conversati'+'on'];if(_0x22cd62[_0x65f5b0(0x142)+_0x65f5b0(0xdc)]?.[_0x65f5b0(0xc8)])return _0x22cd62['extendedTe'+_0x65f5b0(0xdc)][_0x65f5b0(0xc8)];if(_0x22cd62[_0x65f5b0(0xa3)+'ge']?.['caption'])return _0x22cd62[_0x65f5b0(0xa3)+'ge'][_0x65f5b0(0x156)];if(_0x22cd62[_0x65f5b0(0x141)+'ge']?.[_0x65f5b0(0x156)])return _0x22cd62[_0x65f5b0(0x141)+'ge'][_0x65f5b0(0x156)];return'';}async function safeSend(_0x4df0a5,_0x3fcdc3){const _0x47bcb8=_0xc261f8;try{if(!sendApi)throw new Error('no\x20send\x20ap'+'i');return await sendApi(_0x4df0a5,_0x3fcdc3);}catch(_0xd6a23b){warn(_0x47bcb8(0x13b)+'\x20failed:',_0xd6a23b?.['message']||_0xd6a23b);throw _0xd6a23b;}}async function resolveDisplayName(_0x2b2840){const _0x41ba09=_0xc261f8;try{if(!_0x2b2840)return'';const _0x4e1a2d=(_0x2b2840+'')[_0x41ba09(0xb5)]?.('@')?.[-0xc57+0x94d*-0x2+-0x1*-0x1ef1]||_0x2b2840;if(botRef?.[_0x41ba09(0x13f)]){const _0x2d40d1=botRef[_0x41ba09(0x13f)]['contacts']?.[_0x2b2840]||botRef[_0x41ba09(0x13f)]['contacts']&&botRef[_0x41ba09(0x13f)][_0x41ba09(0x14b)][_0x41ba09(0xc4)]&&botRef['store']['contacts'][_0x41ba09(0xc4)](_0x2b2840);if(_0x2d40d1){const _0x360997=_0x2d40d1[_0x41ba09(0x79)]||_0x2d40d1[_0x41ba09(0xf6)+'me']||_0x2d40d1['notify']||_0x2d40d1[_0x41ba09(0x146)]||_0x2d40d1[_0x41ba09(0x13d)]||_0x2d40d1['short']||_0x2d40d1[_0x41ba09(0x8c)+'e'];if(_0x360997)return String(_0x360997);}}try{if(typeof botRef[_0x41ba09(0x119)]==='function'){const _0x40a660=await botRef[_0x41ba09(0x119)](_0x2b2840);if(_0x40a660&&(_0x40a660[_0x41ba09(0x79)]||_0x40a660[_0x41ba09(0x11a)]||_0x40a660['pushName']||_0x40a660['vname']))return String(_0x40a660[_0x41ba09(0x79)]||_0x40a660[_0x41ba09(0x11a)]||_0x40a660[_0x41ba09(0x146)]||_0x40a660[_0x41ba09(0x13d)]);}}catch(_0x542d0f){}return String(_0x4e1a2d);}catch(_0x4d6709){return String(_0x2b2840)[_0x41ba09(0xb5)]('@')[-0x1*0x202d+-0x6*-0x27+0x1*0x1f43];}}async function fetchGroupParticipants(_0x2bdb5d){const _0x51f06c=_0xc261f8;try{let _0x2107f4=null;if(typeof botRef['groupMetad'+_0x51f06c(0x137)]===_0x51f06c(0xbf))try{_0x2107f4=await botRef[_0x51f06c(0xba)+_0x51f06c(0x137)](_0x2bdb5d);}catch(_0x2054b2){_0x2107f4=null;}if((!_0x2107f4||!Array[_0x51f06c(0xd3)](_0x2107f4[_0x51f06c(0x10b)+'ts']))&&botRef?.['sock'])try{if(typeof botRef[_0x51f06c(0x100)][_0x51f06c(0xba)+_0x51f06c(0x137)]===_0x51f06c(0xbf))_0x2107f4=await botRef[_0x51f06c(0x100)][_0x51f06c(0xba)+_0x51f06c(0x137)](_0x2bdb5d);}catch(_0x31ecd3){_0x2107f4=_0x2107f4||null;}const _0x343e3f=Array[_0x51f06c(0xd3)](_0x2107f4?.[_0x51f06c(0x10b)+'ts'])?_0x2107f4[_0x51f06c(0x10b)+'ts']:[],_0x50f8f2=[];for(const _0x5ea72b of _0x343e3f){const _0x5e6766=_0x5ea72b&&typeof _0x5ea72b===_0x51f06c(0xc3)?_0x5ea72b:_0x5ea72b?.['id']||_0x5ea72b?.['jid']||(_0x5ea72b?.[_0x51f06c(0x89)]?_0x5ea72b[_0x51f06c(0x89)]+(_0x51f06c(0xde)+_0x51f06c(0x105)):null);if(!_0x5e6766)continue;const _0x261db=_0x5ea72b?.[_0x51f06c(0x79)]||_0x5ea72b?.[_0x51f06c(0x11a)]||_0x5ea72b?.[_0x51f06c(0x146)]||await resolveDisplayName(_0x5e6766);_0x50f8f2[_0x51f06c(0x148)]({'id':_0x5e6766,'name':_0x261db,'raw':_0x5ea72b});}return _0x50f8f2;}catch(_0x5cbffd){return warn(_0x51f06c(0x87)+_0x51f06c(0x10d)+'icipants\x20f'+_0x51f06c(0xcd),_0x5cbffd?.[_0x51f06c(0xe9)]||_0x5cbffd),[];}}function chunkArray(_0x3a2d3a,_0x43f9db){const _0x5b09ac=_0xc261f8,_0x11fcff=[];for(let _0x3e8697=-0x11f5+0x767+-0xe*-0xc1;_0x3e8697<_0x3a2d3a[_0x5b09ac(0x9d)];_0x3e8697+=_0x43f9db)_0x11fcff[_0x5b09ac(0x148)](_0x3a2d3a[_0x5b09ac(0x115)](_0x3e8697,_0x3e8697+_0x43f9db));return _0x11fcff;}function parseMapping(_0x133a1e){const _0x278f47=_0xc261f8,_0x4785a9=(_0x133a1e??'')['toString']()[_0x278f47(0xbe)]();if(!_0x4785a9)return{'mode':_0x278f47(0xd0),'text':''};if(_0x4785a9['startsWith']('@@'))return{'mode':'list','text':_0x4785a9[_0x278f47(0x9d)]>0xd4c+-0xa8d*-0x1+0x11*-0x167?_0x4785a9[_0x278f47(0x115)](-0x2e*0xbc+0x204e+-0x1*-0x17c)['trim']():''};if(_0x4785a9[_0x278f47(0x7b)]('@'))return{'mode':'mention','text':_0x4785a9[_0x278f47(0x9d)]>-0xf56*-0x2+0x6+-0x1eb1?_0x4785a9[_0x278f47(0x115)](0x1afb*-0x1+0xb46+-0xfb6*-0x1)['trim']():''};return{'mode':_0x278f47(0xd0),'text':_0x4785a9};}async function dispatchMappingForChat(_0x323616,_0x4259c9,_0x3f0554=''){const _0x2054ee=_0xc261f8,_0x360ba1=parseMapping(_0x4259c9),_0x18d589=_0x3f0554?_0x3f0554[_0x2054ee(0xbe)]():'';if(_0x360ba1[_0x2054ee(0xb2)]===_0x2054ee(0x14f)){const _0x59c0fb=_0x360ba1[_0x2054ee(0xc8)]?_0x18d589?_0x360ba1[_0x2054ee(0xc8)]+'\x20'+_0x18d589:_0x360ba1['text']:_0x18d589||'ðŸ‘‹',_0x1b1bc8=await fetchGroupParticipants(_0x323616);if(!_0x1b1bc8[_0x2054ee(0x9d)]){await safeSend(_0x323616,{'text':_0x2054ee(0x126)+_0x2054ee(0xbb)});return;}const _0xc3b6da=_0x1b1bc8[_0x2054ee(0xa6)](_0x2d0cd0=>_0x2d0cd0['id'])[_0x2054ee(0x8e)](Boolean);if(_0xc3b6da['length']<=BATCH_SIZE){await safeSend(_0x323616,{'text':_0x59c0fb,'mentions':_0xc3b6da});return;}const _0x423aa6=chunkArray(_0x1b1bc8,BATCH_SIZE);for(const _0x3fca4b of _0x423aa6){const _0x532116=_0x3fca4b[_0x2054ee(0xa6)](_0x70f92c=>_0x70f92c['id']),_0x14d6ca=_0x59c0fb;await safeSend(_0x323616,{'text':_0x14d6ca,'mentions':_0x532116}),await new Promise(_0x5e56fc=>setTimeout(_0x5e56fc,-0x117c+-0x1878+0x5*0x896));}return;}if(_0x360ba1[_0x2054ee(0xb2)]===_0x2054ee(0xd1)){const _0x55e4b6=_0x360ba1[_0x2054ee(0xc8)]?_0x360ba1['text']:'',_0x33ca3b=await fetchGroupParticipants(_0x323616);if(!_0x33ca3b[_0x2054ee(0x9d)]){await safeSend(_0x323616,{'text':_0x2054ee(0x126)+'rs\x20to\x20tag.'});return;}const _0x815c99=new Set(),_0x55929b=[];for(const _0x340f55 of _0x33ca3b)!_0x815c99[_0x2054ee(0x102)](_0x340f55['id'])&&(_0x815c99[_0x2054ee(0x139)](_0x340f55['id']),_0x55929b['push'](_0x340f55));if(_0x55929b[_0x2054ee(0x9d)]<=BATCH_SIZE){const _0x102cfe=_0x55929b[_0x2054ee(0xa6)](_0x907d95=>'@'+String(_0x907d95[_0x2054ee(0x79)]||_0x907d95['id'][_0x2054ee(0xb5)]('@')[-0x63f+0x17e*0x5+-0x137])[_0x2054ee(0xef)](/\r?\n/g,'\x20')[_0x2054ee(0xbe)]())[_0x2054ee(0xc5)](',\x20'),_0x54b743=_0x55e4b6?_0x102cfe+'\x0a\x0a'+_0x55e4b6:_0x102cfe;await safeSend(_0x323616,{'text':_0x54b743,'mentions':_0x55929b[_0x2054ee(0xa6)](_0x32a33f=>_0x32a33f['id'])});return;}const _0x226a02=chunkArray(_0x55929b,BATCH_SIZE);let _0x179685=-0xd3*0x5+0x4b*-0x61+0x62*0x55;for(const _0x47a273 of _0x226a02){_0x179685++;const _0x8785d9=_0x47a273[_0x2054ee(0xa6)](_0x300b0b=>'@'+String(_0x300b0b[_0x2054ee(0x79)]||_0x300b0b['id'][_0x2054ee(0xb5)]('@')[0x3*0x4bd+0x10d*-0x14+0x6cd])[_0x2054ee(0xef)](/\r?\n/g,'\x20')[_0x2054ee(0xbe)]())[_0x2054ee(0xc5)](',\x20'),_0x3f1e2f=_0x55e4b6?_0x8785d9+'\x0a\x0a'+_0x55e4b6+_0x2054ee(0x9a)+_0x179685+'/'+_0x226a02[_0x2054ee(0x9d)]+')':_0x8785d9+_0x2054ee(0x9a)+_0x179685+'/'+_0x226a02[_0x2054ee(0x9d)]+')';await safeSend(_0x323616,{'text':_0x3f1e2f,'mentions':_0x47a273[_0x2054ee(0xa6)](_0x3bbc77=>_0x3bbc77['id'])}),await new Promise(_0x449249=>setTimeout(_0x449249,-0x9ae+-0x1c*0x15d+0x30d4));}return;}const _0x5e0ada=_0x360ba1[_0x2054ee(0xc8)]?_0x18d589?_0x360ba1[_0x2054ee(0xc8)]+'\x20'+_0x18d589:_0x360ba1['text']:_0x18d589||'';await safeSend(_0x323616,{'text':_0x5e0ada});}export async function initialize(_0x26a969){const _0x19121a=_0xc261f8;botRef=_0x26a969;if(botRef){if(typeof botRef[_0x19121a(0xa9)+'e']===_0x19121a(0xbf))sendApi=async(_0x12549a,_0x344dc1)=>await botRef[_0x19121a(0xa9)+'e'](_0x12549a,_0x344dc1);else botRef[_0x19121a(0x100)]&&typeof botRef[_0x19121a(0x100)]['sendMessag'+'e']===_0x19121a(0xbf)?sendApi=async(_0x17c7e4,_0x4d3638)=>await botRef[_0x19121a(0x100)][_0x19121a(0xa9)+'e'](_0x17c7e4,_0x4d3638):sendApi=null;}await ensureSchema(),info(_0x19121a(0x117)+_0x19121a(0x101));}function detectCommandNameFromText(_0x6a5e9f){const _0x2e9f43=_0xc261f8;if(!_0x6a5e9f)return null;const _0x3109aa=_0x6a5e9f[_0x2e9f43(0xbe)]();if(!_0x3109aa)return null;const _0x954bda=_0x3109aa[_0x2e9f43(0xb5)](/\s+/);return _0x954bda[0x20+-0x456+0x436][_0x2e9f43(0xca)+'e']();}async function resolveDefaultChatJidsForUser(_0x3c5f2f){const _0x5b5d45=_0xc261f8;try{const _0x1c2d27=await getDefault(_0x3c5f2f)[_0x5b5d45(0x118)](()=>null);if(!_0x1c2d27||Array['isArray'](_0x1c2d27)&&_0x1c2d27[_0x5b5d45(0x9d)]===0x802+0x1289+0xf*-0x1c5)return[];const _0x339868=Array['isArray'](_0x1c2d27)?_0x1c2d27:[_0x1c2d27];let _0x42ff5c=[];for(const _0x5be99f of _0x339868){try{const _0x455e65=await getConnection(_0x5be99f)[_0x5b5d45(0x118)](()=>null);if(Array['isArray'](_0x455e65))_0x42ff5c[_0x5b5d45(0x148)](..._0x455e65);else{if(_0x455e65)_0x42ff5c['push'](String(_0x455e65));}}catch(_0x4c23c8){warn(_0x5b5d45(0x8b)+'lving\x20conn'+_0x5b5d45(0x125)+_0x5be99f+_0x5b5d45(0xdd)+(_0x4c23c8?.[_0x5b5d45(0xe9)]||_0x4c23c8));}}return Array['from'](new Set(_0x42ff5c['map'](_0x135c25=>String(_0x135c25)[_0x5b5d45(0xbe)]())[_0x5b5d45(0x8e)](Boolean)));}catch(_0x2b6793){return warn('[tag]\x20reso'+'lveDefault'+_0x5b5d45(0x74)+'rUser\x20fail'+_0x5b5d45(0x77)+(_0x2b6793?.[_0x5b5d45(0xe9)]||_0x2b6793)),[];}}function _0x2e2f(){const _0x53ea80=['8234967CBHYQt','our\x20defaul','ection\x20','âš ï¸\x20No\x20membe','SELECT\x20id,','run','apping,\x20cr','[tag]\x20dele','?,\x20?,\x20?,\x20?','\x20->\x20',')\x20across\x20y','failed','emoji)\x0a\x20\x20\x20','index','CREMENT,\x0a\x20','ryone\x0a\x20\x20ra','\x20\x20\x20);\x0a\x20\x20\x20\x20','help','[tag]\x20list','cmd','ata','ssage\x20fata','add','[tag]\x20sche','[tag]\x20send','eated_by,\x20','vname','moji\x20TEXT\x20','store','Usage:\x20cmd','videoMessa','extendedTe','save\x20mappi','\x20UPDATE\x20SE','\x20NOT\x20NULL,','pushName','ing\x20for\x20','push','ned\x20up','IF\x20NOT\x20EXI','contacts','d_at\x20=\x20exc','\x20<emoji>\x20<','ma\x20ensured','mention','1107891geQQJy','\x20=\x20exclude','T\x200,\x0a\x20\x20\x20\x20\x20','delete\x20all','\x20WHERE\x20cha','48WlhipD','caption','Deleted\x20','endsWith','\x20mapping(s','ndex\x20<n>\x20|','2ChaItz','ChatJidsFo','\x20across\x20yo','ction','ed:\x20','[tag]\x20clea','name','ault\x20conne','startsWith','=\x20excluded','test','teCmdById\x20','gForChat\x20e','\x20cmd\x20delet','ng\x20for\x20','ed_at\x20INTE','):\x0a','exec','dex','Failed\x20to\x20','[tag]\x20fetc','143677NWjXEY','user','\x20to\x20','[tag]\x20reso','displayNam','2.0.4','filter','ALUES\x20(?,\x20','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','rror','hat\x20ON\x20','ATE\x20TABLE\x20','31633wRMrtu','te\x20<emoji>','786TQTpCW','77090PcHDbO','\x20everyone\x20','pping\x20TEXT','\x20(part\x20','ext\x20to\x20def','failed:\x20','length','d.created_','all','env','ted_at;','\x20emoji)\x20DO','imageMessa','<n>\x0aâ€¢\x20cmd\x20','mapping>\x0aâ€¢','map','[tag]\x20isad','xamples:\x0a\x20','sendMessag','\x0aâ€¢\x20cmd\x20del','\x0a\x20\x20\x20\x20\x20\x20CRE','\x20@\x20hello\x20\x20','ji\x20failed:','ings)','GER\x20DEFAUL','e\x20all','AND\x20emoji\x20','mode','key','from','split','2763167JxkZcu','luded.crea','DELETE\x20FRO','@g.us','groupMetad','rs\x20to\x20tag.','ur\x20default','T\x20mapping\x20','trim','function','g...>','\x20add\x20<emoj','reated_by\x20','string','get','join','4IbFlpz','atchMappin','text','s).','toLowerCas','cmd\x20usage:','EX\x20IF\x20NOT\x20','ailed','Cmds\x20faile','N\x20CONFLICT','raw','list','w\x20text\x20->\x20','isArray','NOT\x20NULL,\x0a','TEXT\x20DEFAU','(chat_jid,','\x20\x20\x20\x20\x20\x20\x20cha',')\x20for\x20emoj','sort','t\x20@Display','includes','xtMessage','\x20failed:\x20','@s.whatsap','reSchema\x20f','d\x20delete\x20i','conversati','\x20\x20\x20UNIQUE(','gForChat\x20(','AND\x20id\x20=\x20?','Saved\x20mapp','R\x20PRIMARY\x20','->\x20mention','\x20connectio','message','\x20error','reated_at\x20','[tag]\x20onMe','remoteJid','n(s).','replace',')\x0a\x20\x20\x20\x20\x20\x20\x20O','moji>\x20|\x20cm','.mapping,\x20','SIZE','KEY\x20AUTOIN','ention\x20eve','verifiedNa','onnection(','tag_cmds','\x20default\x20c','indexOf',')\x20across\x20','d:\x20','[tag]\x20disp','20vHjjtt','â€¢\x20cmd\x20dele','sock','ialized','has','40bmoLfO','min\x20check\x20','p.net','mapping','1798263EScbap','changes','t_jid\x20=\x20?\x20','t_jid\x20=\x20?','participan','STS\x20','hGroupPart',':\x20(no\x20mapp','\x20\x20\x20\x20\x20creat','\x20id\x20INTEGE','ete\x20index\x20',',\x20emoji,\x20m','Name\x20then\x20','created_at','slice','emoji','[tag]\x20init','catch','getContact','notify','t_jid\x20TEXT','(chat_jid)','ORDER\x20BY\x20i','delete','\x20\x20\x20\x20\x20\x20\x20\x20ma','FROM\x20','t\x20connecti','match'];_0x2e2f=function(){return _0x53ea80;};return _0x2e2f();}function isBoundaryAt(_0x4e4738,_0x23864e,_0x5592e2){const _0x344849=_0xc261f8,_0x22700e=_0x23864e-(-0x2*0x11dc+-0x3b3+-0x276c*-0x1)>=0x28*0x31+-0x237c+0x1*0x1bd4?_0x4e4738[_0x23864e-(-0x40d*0x5+0x950+0x6*0x1d3)]:null,_0x1e62bd=_0x23864e+_0x5592e2<_0x4e4738['length']?_0x4e4738[_0x23864e+_0x5592e2]:null,_0x90e3f2=_0x30e876=>_0x30e876!=null&&/[0-9A-Za-z_]/[_0x344849(0x7d)](_0x30e876);return!_0x90e3f2(_0x22700e)&&!_0x90e3f2(_0x1e62bd);}export async function onMessage(_0x515d91){const _0x592bd6=_0xc261f8;try{if(!_0x515d91||!_0x515d91[_0x592bd6(0xb3)]||!_0x515d91[_0x592bd6(0xe9)])return;const _0x3ad854=_0x515d91[_0x592bd6(0xb3)][_0x592bd6(0xed)],_0x5b0e06=typeof _0x3ad854==='string'&&_0x3ad854[_0x592bd6(0x158)](_0x592bd6(0xb9)),_0x25d2b4=_0x515d91[_0x592bd6(0xb3)]&&(_0x515d91[_0x592bd6(0xb3)][_0x592bd6(0x10b)+'t']||_0x515d91['key'][_0x592bd6(0xb4)]||_0x515d91['key'][_0x592bd6(0xed)])||'',_0x13bb66=(_0x25d2b4||'')[_0x592bd6(0xb5)]('@')[0xf06+-0xf66+0x60];let _0x5c258e=![];try{if(_0x5b0e06)_0x5c258e=await isadmin(botRef,_0x515d91);}catch(_0x494593){warn(_0x592bd6(0xa7)+_0x592bd6(0x104)+_0x592bd6(0x12e),_0x494593?.['message']||_0x494593),_0x5c258e=![];}if(!_0x5c258e)return;const _0x43d28e=await resolveDefaultChatJidsForUser(_0x13bb66);if(!_0x43d28e||_0x43d28e[_0x592bd6(0x9d)]===-0x2311*-0x1+-0xbb9*-0x2+-0x1381*0x3)return;if(_0x515d91['isCommand']){const _0x489bb3=_0x515d91[_0x592bd6(0xc8)]&&_0x515d91[_0x592bd6(0xc8)][_0x592bd6(0xbe)]()?_0x515d91[_0x592bd6(0xc8)]['trim']():getMessageText(_0x515d91)[_0x592bd6(0xbe)](),_0x18c323=detectCommandNameFromText(_0x489bb3);if(!_0x18c323)return;const _0x16cbbd=Array[_0x592bd6(0xd3)](commands)?commands[_0x592bd6(0xa6)](_0x3ea1ae=>String(_0x3ea1ae)[_0x592bd6(0xca)+'e']()):[];if(!_0x16cbbd[_0x592bd6(0xdb)](_0x18c323))return;const _0x3ca6bc=_0x489bb3[_0x592bd6(0xb5)](/\s+/)['slice'](-0x23a5+-0x13f2+-0xc*-0x4a2)[_0x592bd6(0xc5)]('\x20')[_0x592bd6(0xbe)](),_0x4df2b9=_0x3ca6bc[_0x592bd6(0xb5)](/\s+/)[_0x592bd6(0x8e)](Boolean),_0x5c91f7=_0x4df2b9[0x256d+0x252f+-0x4*0x12a7]?_0x4df2b9[-0x1d75+-0x1759*0x1+0x34ce][_0x592bd6(0xca)+'e']():null;if(!_0x5c91f7||_0x5c91f7===_0x592bd6(0x134)){await safeSend(_0x3ad854,{'text':_0x592bd6(0xcb)+'\x0aâ€¢\x20cmd\x20add'+_0x592bd6(0x14d)+_0x592bd6(0xa5)+'\x20cmd\x20list\x0a'+_0x592bd6(0xff)+_0x592bd6(0x95)+_0x592bd6(0xaa)+_0x592bd6(0x111)+_0x592bd6(0xa4)+_0x592bd6(0x153)+'\x0aMapping\x20e'+_0x592bd6(0xa8)+_0x592bd6(0xac)+_0x592bd6(0xe7)+_0x592bd6(0x98)+'with\x20\x22hell'+'o\x22\x0a\x20\x20@@\x20hi'+'\x20\x20\x20\x20->\x20lis'+_0x592bd6(0xda)+_0x592bd6(0x113)+'\x22hi\x22\x20and\x20m'+_0x592bd6(0xf5)+_0x592bd6(0x132)+_0x592bd6(0xd2)+'send\x20raw\x20t'+_0x592bd6(0x9b)+_0x592bd6(0x7a)+_0x592bd6(0x76)});return;}if(_0x5c91f7===_0x592bd6(0x139)){if(_0x4df2b9['length']<-0x1029+0x41*0x2d+-0x87*-0x9){await safeSend(_0x3ad854,{'text':_0x592bd6(0x140)+_0x592bd6(0xc1)+'i>\x20<mappin'+_0x592bd6(0xc0)});return;}const _0x1b7916=_0x4df2b9[-0x1e1e+-0x190*-0x19+-0x8f1],_0x512ca9=_0x4df2b9[_0x592bd6(0x115)](-0xbe7+0xf2b+0x1a1*-0x2)[_0x592bd6(0xc5)]('\x20');let _0x18e823=0x1189*-0x1+-0x6*-0x17d+0x1*0x89b;for(const _0xd08417 of _0x43d28e){const _0x1383fa=await upsertCmd(_0xd08417,_0x1b7916,_0x512ca9,_0x25d2b4||'');if(_0x1383fa)_0x18e823++;}if(_0x18e823>-0x25e5+0x1dbf*-0x1+0x43a4)await safeSend(_0x3ad854,{'text':_0x592bd6(0xe5)+_0x592bd6(0x147)+_0x1b7916+_0x592bd6(0x12c)+_0x512ca9+_0x592bd6(0x8a)+_0x18e823+(_0x592bd6(0xf9)+_0x592bd6(0xf7)+'s).')});else await safeSend(_0x3ad854,{'text':_0x592bd6(0x86)+_0x592bd6(0x143)+_0x592bd6(0x81)+_0x1b7916});return;}if(_0x5c91f7===_0x592bd6(0xd1)){let _0x5f1b30=[];for(const _0x1ee7ba of _0x43d28e){const _0x253bf7=await listCmds(_0x1ee7ba);if(!_0x253bf7['length']){_0x5f1b30[_0x592bd6(0x148)]('â€”\x20'+_0x1ee7ba+(_0x592bd6(0x10e)+_0x592bd6(0xae)));continue;}const _0x4db493=_0x253bf7[_0x592bd6(0xa6)]((_0x40a09a,_0x5b902c)=>_0x5b902c+(0xb2b*0x3+0xb5c+-0x24*0x13f)+'.\x20'+_0x40a09a[_0x592bd6(0x116)]+_0x592bd6(0x12c)+_0x40a09a[_0x592bd6(0x106)]);_0x5f1b30[_0x592bd6(0x148)]('â€”\x20'+_0x1ee7ba+'\x20('+_0x253bf7[_0x592bd6(0x9d)]+_0x592bd6(0x83)+_0x4db493[_0x592bd6(0xc5)]('\x0a'));}let _0x3e9291='';for(const _0x10f9ea of _0x5f1b30){const _0x3ede48=_0x10f9ea+'\x0a\x0a';(_0x3e9291+_0x3ede48)[_0x592bd6(0x9d)]>-0x8*0x3b+-0x33*0x3+0x84d&&(await safeSend(_0x3ad854,{'text':_0x3e9291['trim']()}),_0x3e9291=''),_0x3e9291+=_0x3ede48;}if(_0x3e9291[_0x592bd6(0xbe)]())await safeSend(_0x3ad854,{'text':_0x3e9291[_0x592bd6(0xbe)]()});return;}if(_0x5c91f7===_0x592bd6(0x11e)){if(_0x4df2b9[_0x592bd6(0x9d)]<-0x944+-0x2251*-0x1+-0x190b){await safeSend(_0x3ad854,{'text':'Usage:\x20cmd'+'\x20delete\x20<e'+_0x592bd6(0xf1)+_0x592bd6(0xe0)+_0x592bd6(0x72)+_0x592bd6(0x80)+_0x592bd6(0xb0)});return;}if(_0x4df2b9[0x405*-0x3+-0xc*0x209+0x247c]===_0x592bd6(0x9f)){let _0x4e188c=0x20d9+-0x2636+0x55d*0x1;for(const _0x4349d8 of _0x43d28e){const _0x24aabd=await deleteAllCmds(_0x4349d8);_0x4e188c+=_0x24aabd;}await safeSend(_0x3ad854,{'text':_0x592bd6(0x157)+_0x4e188c+('\x20mapping(s'+_0x592bd6(0xfb))+_0x43d28e[_0x592bd6(0x9d)]+(_0x592bd6(0xf9)+_0x592bd6(0xf7)+_0x592bd6(0xc9))});return;}if(_0x4df2b9[0x1743+0xafd*0x3+-0x3839]===_0x592bd6(0x130)&&_0x4df2b9[_0x592bd6(0x9d)]>=-0x16fc+-0x5ce*0x5+0x3405){const _0x349fcd=parseInt(_0x4df2b9[0x28b*0x7+0xe02+-0x7*0x48b],-0x661+0x18e0+-0x1275);if(!Number['isFinite'](_0x349fcd)||_0x349fcd<=-0xad+0xc81+-0xbd4){await safeSend(_0x3ad854,{'text':'Invalid\x20in'+_0x592bd6(0x85)});return;}let _0x2bbcc9=0x17ef+-0x2*-0xd24+-0x3237;for(const _0x460415 of _0x43d28e){const _0x5a653a=await listCmds(_0x460415);if(_0x349fcd>_0x5a653a[_0x592bd6(0x9d)])continue;const _0x5c5dd0=_0x5a653a[_0x349fcd-(0xe49*0x1+-0x23c9+0x1581)]['id'],_0x34c25d=await deleteCmdById(_0x460415,_0x5c5dd0);_0x2bbcc9+=_0x34c25d;}await safeSend(_0x3ad854,{'text':_0x592bd6(0x157)+_0x2bbcc9+(_0x592bd6(0x159)+')\x20(index\x20')+_0x349fcd+(_0x592bd6(0x12d)+_0x592bd6(0x124)+_0x592bd6(0x121)+'on(s).')});return;}const _0x3665a8=_0x4df2b9[0x3*-0x7fd+-0x381+-0x21d*-0xd];let _0x331803=-0x11*0x1b1+-0x1e4+0x1ea5;for(const _0x114f54 of _0x43d28e){const _0x68926b=await deleteCmdByEmoji(_0x114f54,_0x3665a8);_0x331803+=_0x68926b;}await safeSend(_0x3ad854,{'text':_0x592bd6(0x157)+_0x331803+(_0x592bd6(0x159)+_0x592bd6(0xd8)+'i\x20')+_0x3665a8+(_0x592bd6(0x75)+_0x592bd6(0xbc)+_0x592bd6(0xe8)+_0x592bd6(0xee))});return;}return;}const _0x1a6873=getMessageText(_0x515d91);if(!_0x1a6873||!_0x1a6873[_0x592bd6(0xbe)]())return;const _0x5e1d22=_0x1a6873[_0x592bd6(0xbe)](),_0x5b1545=/(?:^|\s)(@@?)\s+([^\n]+)/,_0x274700=_0x5e1d22[_0x592bd6(0x122)](_0x5b1545);if(_0x274700){const _0x48a150=_0x274700[-0x6*-0x1cf+0x2f*0x83+-0x22e6],_0x474de7=(_0x274700[-0x58*-0x25+-0x2*0x26+-0xe3*0xe]||'')[_0x592bd6(0xbe)](),_0x494788=(_0x48a150+'\x20'+_0x474de7)[_0x592bd6(0xbe)]();for(const _0x5eb379 of _0x43d28e){try{await dispatchMappingForChat(_0x5eb379,_0x494788,'');}catch(_0x593bd6){warn('[tag]\x20disp'+_0x592bd6(0xc7)+_0x592bd6(0xe3)+'bare\x20@/@@)'+_0x592bd6(0xea),_0x593bd6?.[_0x592bd6(0xe9)]||_0x593bd6);}}return;}for(const _0x4e70c2 of _0x43d28e){const _0x449be6=await listCmds(_0x4e70c2);if(!_0x449be6['length'])continue;const _0x35389e=_0x449be6['map'](_0x54f3cd=>_0x54f3cd['emoji'])[_0x592bd6(0x8e)](Boolean)[_0x592bd6(0xd9)]((_0x31b392,_0x52f975)=>_0x52f975['length']-_0x31b392[_0x592bd6(0x9d)]);let _0xa9dea5=null,_0x5253ee=null;for(const _0x191060 of _0x35389e){if(!_0x191060)continue;let _0x1d36fd=_0x5e1d22[_0x592bd6(0xfa)](_0x191060);while(_0x1d36fd!==-(0x1cef+0x1a48+-0x4a*0xbf)){if(isBoundaryAt(_0x5e1d22,_0x1d36fd,_0x191060[_0x592bd6(0x9d)])){_0xa9dea5=_0x191060,_0x5253ee=_0x449be6['find'](_0x255d02=>_0x255d02[_0x592bd6(0x116)]===_0x191060);break;}_0x1d36fd=_0x5e1d22[_0x592bd6(0xfa)](_0x191060,_0x1d36fd+(-0xb*0x15d+0x8*-0x30c+-0x20*-0x13b));}if(_0xa9dea5)break;}if(!_0xa9dea5||!_0x5253ee)continue;let _0x2349f6='';const _0x72f003=_0x5e1d22['indexOf'](_0xa9dea5);if(_0x72f003!==-(0x6a*0x1f+-0x12a6+0x5d1)){const _0x3e0d7f=_0x5e1d22[_0x592bd6(0x115)](_0x72f003+_0xa9dea5['length'])['trim']();if(_0x3e0d7f)_0x2349f6=_0x3e0d7f;}try{await dispatchMappingForChat(_0x4e70c2,_0x5253ee[_0x592bd6(0x106)]||'',_0x2349f6);}catch(_0x54dfde){warn(_0x592bd6(0xfd)+_0x592bd6(0xc7)+_0x592bd6(0x7f)+_0x592bd6(0x91),_0x54dfde?.[_0x592bd6(0xe9)]||_0x54dfde);}}}catch(_0x5cf6ca){error(_0x5cf6ca,_0x592bd6(0xec)+_0x592bd6(0x138)+'l');}}export async function cleanup(){const _0x15f9a6=_0xc261f8;botRef=null,sendApi=null,info(_0x15f9a6(0x78)+_0x15f9a6(0x149));}function _0x305e(_0x3971bf,_0x15e2fc){const _0x4bddda=_0x2e2f();return _0x305e=function(_0xacff99,_0x3c924f){_0xacff99=_0xacff99-(-0x2018+-0x2*-0x67d+0x10*0x139);let _0x24c3ee=_0x4bddda[_0xacff99];return _0x24c3ee;},_0x305e(_0x3971bf,_0x15e2fc);}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};