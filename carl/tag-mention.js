const _0x29dd04=_0x52e2;(function(_0x4dbfbf,_0x7b4539){const _0x1372e4=_0x52e2,_0x17c6f1=_0x4dbfbf();while(!![]){try{const _0x180943=-parseInt(_0x1372e4(0x1f9))/(0x18d9+-0x18ee+0x2*0xb)*(-parseInt(_0x1372e4(0x1cc))/(-0xb8*-0x19+-0x2f3+-0xf03))+-parseInt(_0x1372e4(0x18c))/(-0x1f31+-0x3ad*0x1+0x22e1)+-parseInt(_0x1372e4(0x1c9))/(0x755*0x1+0x4c+-0x79d)*(parseInt(_0x1372e4(0x15a))/(0xee4*0x1+0x3a*-0x29+0x595*-0x1))+parseInt(_0x1372e4(0x191))/(-0x2211+0x1bfd+0x61a)+parseInt(_0x1372e4(0x21b))/(0x1ae1+-0xa67*-0x2+-0x2fa8)+-parseInt(_0x1372e4(0x211))/(0x1c95+0x16+-0x1ca3)+-parseInt(_0x1372e4(0x1bd))/(0x293*0x6+-0x17*0x14f+0xeb0*0x1);if(_0x180943===_0x7b4539)break;else _0x17c6f1['push'](_0x17c6f1['shift']());}catch(_0x2566e1){_0x17c6f1['push'](_0x17c6f1['shift']());}}}(_0x4d7c,0xd8a*-0x3e+-0xb91ca+-0x14a9d1*-0x1));export const name=_0x29dd04(0x1ec);function _0x52e2(_0x50bc1e,_0x5e2585){const _0x15419f=_0x4d7c();return _0x52e2=function(_0x2380aa,_0x4f5833){_0x2380aa=_0x2380aa-(0x2c7*0x9+0x7*-0x437+-0x5cf*-0x1);let _0x8a9bf7=_0x15419f[_0x2380aa];return _0x8a9bf7;},_0x52e2(_0x50bc1e,_0x5e2585);}export const version=_0x29dd04(0x1ef);export const priority=-0x1f8*0xb+-0x9*0x11c+0x1ffe;export const commands=['cmd'];import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';const TABLE='tag_cmds',BATCH_SIZE=Number(process[_0x29dd04(0x1fb)]['TAG_BATCH_'+_0x29dd04(0x201)]||0x7*0x2e9+-0x224+-0x1209)||0xb1*-0x27+0x2*-0x12c+-0x1d81*-0x1;let botRef=null,sendApi=null;async function ensureSchema(){const _0x2dccfd=_0x29dd04;try{await db[_0x2dccfd(0x218)](_0x2dccfd(0x199)+_0x2dccfd(0x1ed)+_0x2dccfd(0x155)+_0x2dccfd(0x198)+TABLE+(_0x2dccfd(0x180)+'\x20id\x20INTEGE'+_0x2dccfd(0x21d)+_0x2dccfd(0x174)+_0x2dccfd(0x179)+_0x2dccfd(0x1b2)+'t_jid\x20TEXT'+_0x2dccfd(0x16f)+_0x2dccfd(0x1d2)+'moji\x20TEXT\x20'+'NOT\x20NULL,\x0a'+_0x2dccfd(0x1a5)+_0x2dccfd(0x20f)+_0x2dccfd(0x16f)+_0x2dccfd(0x226)+_0x2dccfd(0x223)+_0x2dccfd(0x20c)+_0x2dccfd(0x217)+_0x2dccfd(0x17a)+_0x2dccfd(0x220)+_0x2dccfd(0x187)+_0x2dccfd(0x1e9)+'\x20\x20\x20UNIQUE('+'chat_jid,\x20'+_0x2dccfd(0x1c7)+_0x2dccfd(0x19a))),await db[_0x2dccfd(0x218)](_0x2dccfd(0x150)+_0x2dccfd(0x1ca)+_0x2dccfd(0x1bc)+_0x2dccfd(0x1fd)+_0x2dccfd(0x15f)+TABLE+(_0x2dccfd(0x20a)+';')),info(_0x2dccfd(0x224)+_0x2dccfd(0x1bf));}catch(_0x287645){error(_0x287645,_0x2dccfd(0x1f3)+'reSchema\x20f'+_0x2dccfd(0x19b));throw _0x287645;}}async function upsertCmd(_0xecaada,_0x3d0018,_0x8bb738,_0x21a866){const _0x4d6980=_0x29dd04;try{const _0x2f1eba=Math[_0x4d6980(0x1d7)](Date[_0x4d6980(0x1e4)]()/(-0x26ff+0xb26+0x1fc1));return await db[_0x4d6980(0x164)]('INSERT\x20INT'+'O\x20'+TABLE+(_0x4d6980(0x163)+_0x4d6980(0x1c2)+_0x4d6980(0x161)+_0x4d6980(0x14f)+_0x4d6980(0x20b)+')\x0a\x20\x20\x20\x20\x20\x20\x20V'+'ALUES\x20(?,\x20'+_0x4d6980(0x1fc)+')\x0a\x20\x20\x20\x20\x20\x20\x20O'+_0x4d6980(0x1b8)+_0x4d6980(0x1bb)+_0x4d6980(0x172)+_0x4d6980(0x16d)+_0x4d6980(0x213)+'=\x20excluded'+_0x4d6980(0x182)+_0x4d6980(0x215)+_0x4d6980(0x1a4)+'d.created_'+'by,\x20create'+'d_at\x20=\x20exc'+_0x4d6980(0x1f2)+'ted_at;'),[_0xecaada,_0x3d0018,_0x8bb738,_0x21a866||'',_0x2f1eba]),!![];}catch(_0x5a13f3){return warn(_0x4d6980(0x1c1)+_0x4d6980(0x212)+_0x4d6980(0x1de)+(_0x5a13f3?.[_0x4d6980(0x1cf)]||_0x5a13f3)),![];}}async function listCmds(_0x4e80f2){const _0xf559a8=_0x29dd04;try{const _0xc4065d=await db[_0xf559a8(0x21c)](_0xf559a8(0x1b0)+_0xf559a8(0x1b4)+'pping,\x20cre'+_0xf559a8(0x1af)+_0xf559a8(0x1e2)+'FROM\x20'+TABLE+(_0xf559a8(0x1a7)+_0xf559a8(0x219)+'ORDER\x20BY\x20i'+'d'),[_0x4e80f2]);return _0xc4065d||[];}catch(_0x303d35){return warn(_0xf559a8(0x168)+_0xf559a8(0x156)+_0xf559a8(0x1df)+(_0x303d35?.[_0xf559a8(0x1cf)]||_0x303d35)),[];}}async function deleteCmdByEmoji(_0x9abfcc,_0x1d2b9a){const _0x590236=_0x29dd04;try{const _0xfe7cdf=await db[_0x590236(0x164)](_0x590236(0x154)+'M\x20'+TABLE+(_0x590236(0x1a7)+_0x590236(0x219)+_0x590236(0x202)+'=\x20?'),[_0x9abfcc,_0x1d2b9a]);return _0xfe7cdf?.[_0x590236(0x18a)]||-0x8e*-0x2d+-0x1d7f+0x1b*0x2b;}catch(_0x5273ef){return warn(_0x590236(0x17e)+_0x590236(0x183)+'ji\x20failed:'+'\x20'+(_0x5273ef?.[_0x590236(0x1cf)]||_0x5273ef)),-0x1c*0xdf+-0x2*0x52f+0x22c2;}}async function deleteCmdById(_0x5185b6,_0x2a9310){const _0x24e3f6=_0x29dd04;try{const _0x589cc2=await db[_0x24e3f6(0x164)](_0x24e3f6(0x154)+'M\x20'+TABLE+(_0x24e3f6(0x1a7)+'t_jid\x20=\x20?\x20'+_0x24e3f6(0x1be)),[_0x5185b6,_0x2a9310]);return _0x589cc2?.[_0x24e3f6(0x18a)]||-0x1be8*-0x1+0x22f8+0x8*-0x7dc;}catch(_0x96f5bd){return warn('[tag]\x20dele'+_0x24e3f6(0x157)+_0x24e3f6(0x189)+(_0x96f5bd?.[_0x24e3f6(0x1cf)]||_0x96f5bd)),-0x9f8+-0x3*-0x62+0x8d2;}}async function deleteAllCmds(_0x2a9a7d){const _0x50154a=_0x29dd04;try{const _0x313a49=await db[_0x50154a(0x164)](_0x50154a(0x154)+'M\x20'+TABLE+(_0x50154a(0x1a7)+_0x50154a(0x214)),[_0x2a9a7d]);return _0x313a49?.[_0x50154a(0x18a)]||-0x1759+-0x258e+0x3ce7;}catch(_0x317581){return warn(_0x50154a(0x17e)+_0x50154a(0x1f0)+_0x50154a(0x189)+(_0x317581?.[_0x50154a(0x1cf)]||_0x317581)),-0x11b2+0x63*-0x5b+0x34e3;}}function getMessageText(_0x5a81f5){const _0x42db36=_0x29dd04;if(!_0x5a81f5||!_0x5a81f5['message'])return'';const _0x58ce2f=_0x5a81f5[_0x42db36(0x1cf)];if(_0x58ce2f[_0x42db36(0x1e0)+'on'])return _0x58ce2f['conversati'+'on'];if(_0x58ce2f[_0x42db36(0x151)+_0x42db36(0x1e6)]?.[_0x42db36(0x193)])return _0x58ce2f[_0x42db36(0x151)+_0x42db36(0x1e6)][_0x42db36(0x193)];if(_0x58ce2f[_0x42db36(0x1ac)+'ge']?.[_0x42db36(0x1d9)])return _0x58ce2f[_0x42db36(0x1ac)+'ge'][_0x42db36(0x1d9)];if(_0x58ce2f[_0x42db36(0x21e)+'ge']?.[_0x42db36(0x1d9)])return _0x58ce2f[_0x42db36(0x21e)+'ge'][_0x42db36(0x1d9)];return'';}async function safeSend(_0x2bfdee,_0xcfc5a1){const _0x272588=_0x29dd04;try{if(!sendApi)throw new Error(_0x272588(0x169)+'i');return await sendApi(_0x2bfdee,_0xcfc5a1);}catch(_0x28d608){warn('[tag]\x20send'+_0x272588(0x1a0),_0x28d608?.[_0x272588(0x1cf)]||_0x28d608);throw _0x28d608;}}async function resolveDisplayName(_0x3f7760){const _0x59b787=_0x29dd04;try{if(!_0x3f7760)return'';const _0x2f5015=(_0x3f7760+'')['split']?.('@')?.[-0x128d+0x2209+-0xf7c*0x1]||_0x3f7760;if(botRef?.[_0x59b787(0x1d0)]){const _0x537e15=botRef[_0x59b787(0x1d0)][_0x59b787(0x165)]?.[_0x3f7760]||botRef[_0x59b787(0x1d0)][_0x59b787(0x165)]&&botRef[_0x59b787(0x1d0)][_0x59b787(0x165)]['get']&&botRef[_0x59b787(0x1d0)][_0x59b787(0x165)]['get'](_0x3f7760);if(_0x537e15){const _0x42b620=_0x537e15[_0x59b787(0x1ff)]||_0x537e15[_0x59b787(0x195)+'me']||_0x537e15[_0x59b787(0x1a2)]||_0x537e15[_0x59b787(0x1b5)]||_0x537e15[_0x59b787(0x1dc)]||_0x537e15[_0x59b787(0x21a)]||_0x537e15[_0x59b787(0x18d)+'e'];if(_0x42b620)return String(_0x42b620);}}try{if(typeof botRef[_0x59b787(0x15c)]==='function'){const _0x4244f5=await botRef[_0x59b787(0x15c)](_0x3f7760);if(_0x4244f5&&(_0x4244f5[_0x59b787(0x1ff)]||_0x4244f5[_0x59b787(0x1a2)]||_0x4244f5[_0x59b787(0x1b5)]||_0x4244f5['vname']))return String(_0x4244f5[_0x59b787(0x1ff)]||_0x4244f5['notify']||_0x4244f5[_0x59b787(0x1b5)]||_0x4244f5[_0x59b787(0x1dc)]);}}catch(_0x5b1036){}return String(_0x2f5015);}catch(_0x26d240){return String(_0x3f7760)[_0x59b787(0x1f1)]('@')[0x1dcd+0x1952+-0x371f];}}async function fetchGroupParticipants(_0x3b61ac){const _0x7cab28=_0x29dd04;try{let _0x168b1a=null;if(typeof botRef[_0x7cab28(0x167)+_0x7cab28(0x22c)]===_0x7cab28(0x206))try{_0x168b1a=await botRef[_0x7cab28(0x167)+_0x7cab28(0x22c)](_0x3b61ac);}catch(_0x465ff3){_0x168b1a=null;}if((!_0x168b1a||!Array['isArray'](_0x168b1a[_0x7cab28(0x1b9)+'ts']))&&botRef?.[_0x7cab28(0x19d)])try{if(typeof botRef[_0x7cab28(0x19d)][_0x7cab28(0x167)+'ata']===_0x7cab28(0x206))_0x168b1a=await botRef[_0x7cab28(0x19d)][_0x7cab28(0x167)+_0x7cab28(0x22c)](_0x3b61ac);}catch(_0xa73226){_0x168b1a=_0x168b1a||null;}const _0x3e58c2=Array['isArray'](_0x168b1a?.[_0x7cab28(0x1b9)+'ts'])?_0x168b1a[_0x7cab28(0x1b9)+'ts']:[],_0x14b374=[];for(const _0x1d0920 of _0x3e58c2){const _0x74e99=_0x1d0920&&typeof _0x1d0920===_0x7cab28(0x1e1)?_0x1d0920:_0x1d0920?.['id']||_0x1d0920?.[_0x7cab28(0x20d)]||(_0x1d0920?.['user']?_0x1d0920[_0x7cab28(0x173)]+(_0x7cab28(0x188)+_0x7cab28(0x1c8)):null);if(!_0x74e99)continue;const _0x485279=_0x1d0920?.[_0x7cab28(0x1ff)]||_0x1d0920?.[_0x7cab28(0x1a2)]||_0x1d0920?.[_0x7cab28(0x1b5)]||await resolveDisplayName(_0x74e99);_0x14b374[_0x7cab28(0x1eb)]({'id':_0x74e99,'name':_0x485279,'raw':_0x1d0920});}return _0x14b374;}catch(_0x28124f){return warn(_0x7cab28(0x1db)+_0x7cab28(0x16a)+'icipants\x20f'+_0x7cab28(0x19b),_0x28124f?.[_0x7cab28(0x1cf)]||_0x28124f),[];}}function chunkArray(_0xeb242a,_0x1fdda5){const _0x583f4f=_0x29dd04,_0x3bf567=[];for(let _0xf1181a=-0x241b+0x1356+-0x51*-0x35;_0xf1181a<_0xeb242a[_0x583f4f(0x210)];_0xf1181a+=_0x1fdda5)_0x3bf567['push'](_0xeb242a['slice'](_0xf1181a,_0xf1181a+_0x1fdda5));return _0x3bf567;}function parseMapping(_0x3c38f5){const _0x15cc9a=_0x29dd04,_0x3ce1d5=(_0x3c38f5??'')[_0x15cc9a(0x22d)]()[_0x15cc9a(0x152)]();if(!_0x3ce1d5)return{'mode':_0x15cc9a(0x1c3),'text':''};if(_0x3ce1d5[_0x15cc9a(0x166)]('@@'))return{'mode':_0x15cc9a(0x1d5),'text':_0x3ce1d5['length']>0x23c3*0x1+-0x25ea+0x4f*0x7?_0x3ce1d5[_0x15cc9a(0x186)](0x1*0x181d+0x1ff5*0x1+-0x4ac*0xc)['trim']():''};if(_0x3ce1d5[_0x15cc9a(0x166)]('@'))return{'mode':'mention','text':_0x3ce1d5['length']>0xe9*-0x27+0x1d6c+0x614*0x1?_0x3ce1d5['slice'](0x74+0x2390*0x1+-0x2403)[_0x15cc9a(0x152)]():''};return{'mode':_0x15cc9a(0x1c3),'text':_0x3ce1d5};}async function dispatchMappingForChat(_0x3772ca,_0x241f30,_0x54ac76=''){const _0x37fb29=_0x29dd04,_0x6c0e4f=parseMapping(_0x241f30),_0xe42898=_0x54ac76?_0x54ac76[_0x37fb29(0x152)]():'';if(_0x6c0e4f[_0x37fb29(0x22a)]===_0x37fb29(0x197)){const _0x3cfb3f=_0x6c0e4f[_0x37fb29(0x193)]?_0xe42898?_0x6c0e4f[_0x37fb29(0x193)]+'\x20'+_0xe42898:_0x6c0e4f[_0x37fb29(0x193)]:_0xe42898||'👋',_0x319c60=await fetchGroupParticipants(_0x3772ca);if(!_0x319c60['length']){await safeSend(_0x3772ca,{'text':_0x37fb29(0x1fe)+'rs\x20to\x20tag.'});return;}const _0x30babb=_0x319c60['map'](_0x1672dd=>_0x1672dd['id'])[_0x37fb29(0x18b)](Boolean);if(_0x30babb['length']<=BATCH_SIZE){await safeSend(_0x3772ca,{'text':_0x3cfb3f,'mentions':_0x30babb});return;}const _0x56b011=chunkArray(_0x319c60,BATCH_SIZE);for(const _0x416d0b of _0x56b011){const _0x4999b4=_0x416d0b[_0x37fb29(0x20e)](_0x22edb0=>_0x22edb0['id']),_0x6d8a7c=_0x3cfb3f;await safeSend(_0x3772ca,{'text':_0x6d8a7c,'mentions':_0x4999b4}),await new Promise(_0x2bbf02=>setTimeout(_0x2bbf02,-0x269*-0xd+-0x53*0x17+-0x16e6));}return;}if(_0x6c0e4f['mode']==='list'){const _0x5ea902=_0x6c0e4f['text']?_0x6c0e4f['text']:'',_0xe5b6bc=await fetchGroupParticipants(_0x3772ca);if(!_0xe5b6bc['length']){await safeSend(_0x3772ca,{'text':_0x37fb29(0x1fe)+_0x37fb29(0x17c)});return;}const _0x38cf4=new Set(),_0x5ee70b=[];for(const _0x766ae9 of _0xe5b6bc)!_0x38cf4[_0x37fb29(0x1e7)](_0x766ae9['id'])&&(_0x38cf4[_0x37fb29(0x221)](_0x766ae9['id']),_0x5ee70b[_0x37fb29(0x1eb)](_0x766ae9));if(_0x5ee70b[_0x37fb29(0x210)]<=BATCH_SIZE){const _0x819a69=_0x5ee70b['map'](_0xcad1f3=>'@'+String(_0xcad1f3[_0x37fb29(0x1ff)]||_0xcad1f3['id'][_0x37fb29(0x1f1)]('@')[-0x8bb+0x7d7+-0xe4*-0x1])[_0x37fb29(0x14e)](/\r?\n/g,'\x20')['trim']())[_0x37fb29(0x185)](',\x20'),_0x2fd4c3=_0x5ea902?_0x819a69+'\x0a\x0a'+_0x5ea902:_0x819a69;await safeSend(_0x3772ca,{'text':_0x2fd4c3,'mentions':_0x5ee70b[_0x37fb29(0x20e)](_0x306191=>_0x306191['id'])});return;}const _0x1d57e2=chunkArray(_0x5ee70b,BATCH_SIZE);let _0x1bcc86=-0x1a09+0x1cf2+-0x2e9*0x1;for(const _0x1e0212 of _0x1d57e2){_0x1bcc86++;const _0x486e45=_0x1e0212[_0x37fb29(0x20e)](_0x17657b=>'@'+String(_0x17657b[_0x37fb29(0x1ff)]||_0x17657b['id']['split']('@')[0xc77+0x26cb+-0x3342])[_0x37fb29(0x14e)](/\r?\n/g,'\x20')[_0x37fb29(0x152)]())[_0x37fb29(0x185)](',\x20'),_0x3c6b31=_0x5ea902?_0x486e45+'\x0a\x0a'+_0x5ea902+'\x20(part\x20'+_0x1bcc86+'/'+_0x1d57e2['length']+')':_0x486e45+_0x37fb29(0x222)+_0x1bcc86+'/'+_0x1d57e2['length']+')';await safeSend(_0x3772ca,{'text':_0x3c6b31,'mentions':_0x1e0212[_0x37fb29(0x20e)](_0xe640f=>_0xe640f['id'])}),await new Promise(_0x13e54f=>setTimeout(_0x13e54f,-0x147*0x4+0x1268+-0xc52));}return;}const _0x511345=_0x6c0e4f['text']?_0xe42898?_0x6c0e4f[_0x37fb29(0x193)]+'\x20'+_0xe42898:_0x6c0e4f[_0x37fb29(0x193)]:_0xe42898||'';await safeSend(_0x3772ca,{'text':_0x511345});}export async function initialize(_0x5467e9){const _0xb1ab6=_0x29dd04;botRef=_0x5467e9;if(botRef){if(typeof botRef['sendMessag'+'e']===_0xb1ab6(0x206))sendApi=async(_0x499741,_0x7dc642)=>await botRef['sendMessag'+'e'](_0x499741,_0x7dc642);else botRef[_0xb1ab6(0x19d)]&&typeof botRef[_0xb1ab6(0x19d)]['sendMessag'+'e']===_0xb1ab6(0x206)?sendApi=async(_0xdeb1c3,_0x55e066)=>await botRef[_0xb1ab6(0x19d)][_0xb1ab6(0x1c0)+'e'](_0xdeb1c3,_0x55e066):sendApi=null;}await ensureSchema(),info(_0xb1ab6(0x19f)+'ialized');}function _0x4d7c(){const _0x4d645d=['CREATE\x20IND','extendedTe','trim','\x20cmd\x20delet','DELETE\x20FRO','IF\x20NOT\x20EXI','Cmds\x20faile','teCmdById\x20','lveDefault','dex','5PqWUbZ','\x22hi\x22\x20and\x20m','getContact','help','isArray','hat\x20ON\x20','catch','apping,\x20cr',')\x20across\x20','\x20(chat_jid','run','contacts','startsWith','groupMetad','[tag]\x20list','no\x20send\x20ap','hGroupPart','ssage\x20fata','Invalid\x20in','\x20UPDATE\x20SE','ing\x20for\x20','\x20NOT\x20NULL,','\x20<emoji>\x20<','):\x0a','\x20emoji)\x20DO','user','KEY\x20AUTOIN','from','ur\x20default','<n>\x0a•\x20cmd\x20','d\x20delete\x20i','CREMENT,\x0a\x20','\x20\x20\x20\x20\x20creat','\x20delete\x20<e','rs\x20to\x20tag.','rUser\x20fail','[tag]\x20dele','with\x20\x22hell','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','save\x20mappi','.mapping,\x20','teCmdByEmo','Failed\x20to\x20','join','slice','GER\x20DEFAUL','@s.whatsap','failed:\x20','changes','filter','533997QqBEmf','displayNam','[tag]\x20isad','i>\x20<mappin','mapping>\x0a•','3420252mArROY','toLowerCas','text','ention\x20eve','verifiedNa','ection\x20','mention','STS\x20','\x0a\x20\x20\x20\x20\x20\x20CRE','\x20\x20\x20);\x0a\x20\x20\x20\x20','ailed','onnection(','sock','match','[tag]\x20init','\x20failed:','w\x20text\x20->\x20','notify','send\x20raw\x20t','\x20=\x20exclude','\x20\x20\x20\x20\x20\x20\x20\x20ma','\x20\x20\x20\x20->\x20lis','\x20WHERE\x20cha','Name\x20then\x20','Usage:\x20cmd','Saved\x20mapp','ault\x20conne','imageMessa','failed','cmd\x20usage:','ated_by,\x20c','SELECT\x20id,','mapping','\x20\x20\x20\x20\x20\x20\x20cha','o\x22\x0a\x20\x20@@\x20hi','\x20emoji,\x20ma','pushName','indexOf',')\x20across\x20y','N\x20CONFLICT','participan','ChatJidsFo','(chat_jid,','EXISTS\x20idx','731286rhUvGF','AND\x20id\x20=\x20?','ma\x20ensured','sendMessag','[tag]\x20upse',',\x20emoji,\x20m','raw','emoji','\x20everyone\x20','moji>\x20|\x20cm','emoji)\x0a\x20\x20\x20','p.net','324704tonzPt','EX\x20IF\x20NOT\x20','test','277874bmuvGa',')\x20(index\x20','\x20error','message','store','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20e','endsWith','\x0a•\x20cmd\x20add','list','remoteJid','floor','g...>','caption','bare\x20@/@@)','[tag]\x20fetc','vname','ction','ed:\x20','d:\x20','conversati','string','reated_at\x20','includes','now','[tag]\x20disp','xtMessage','has','delete\x20all','T\x200,\x0a\x20\x20\x20\x20\x20','e\x20all','push','tag','ATE\x20TABLE\x20','ndex\x20<n>\x20|','2.0.4','teAllCmds\x20','split','luded.crea','[tag]\x20ensu','index','\x20add\x20<emoj','\x0a•\x20cmd\x20del','•\x20cmd\x20dele','our\x20defaul','1TaBebX','s).','env','?,\x20?,\x20?,\x20?','_tagcmds_c','⚠️\x20No\x20membe','name','atchMappin','SIZE','AND\x20emoji\x20','find','ryone\x0a\x20\x20ra','ned\x20up','function','key','[tag]\x20reso','\x20default\x20c','(chat_jid)','created_at','TEXT\x20DEFAU','jid','map','pping\x20TEXT','length','5031976FuSzEc','rtCmd\x20fail','T\x20mapping\x20','t_jid\x20=\x20?','created_by','[tag]\x20clea','LT\x20\x27\x27,\x0a\x20\x20\x20','exec','t_jid\x20=\x20?\x20','short','4490710tcgSFB','all','R\x20PRIMARY\x20','videoMessa','[tag]\x20onMe','ed_at\x20INTE','add','\x20(part\x20','reated_by\x20','[tag]\x20sche','\x20mapping(s','\x0a\x20\x20\x20\x20\x20\x20\x20\x20c','ng\x20for\x20','Deleted\x20','lving\x20conn','mode','min\x20check\x20','ata','toString','->\x20mention','replace','eated_by,\x20'];_0x4d7c=function(){return _0x4d645d;};return _0x4d7c();}function detectCommandNameFromText(_0x168658){const _0x20b4d2=_0x29dd04;if(!_0x168658)return null;const _0x521415=_0x168658[_0x20b4d2(0x152)]();if(!_0x521415)return null;const _0x1b5793=_0x521415['split'](/\s+/);return _0x1b5793[0x2*-0xacb+-0x4*-0x63d+0x1*-0x35e][_0x20b4d2(0x192)+'e']();}async function resolveDefaultChatJidsForUser(_0x29bd18){const _0x29bb86=_0x29dd04;try{const _0x764f63=await getDefault(_0x29bd18)[_0x29bb86(0x160)](()=>null);if(!_0x764f63||Array[_0x29bb86(0x15e)](_0x764f63)&&_0x764f63['length']===-0x18ab+0x25be+-0xd13*0x1)return[];const _0x520c1=Array[_0x29bb86(0x15e)](_0x764f63)?_0x764f63:[_0x764f63];let _0xc837fb=[];for(const _0x38d5d7 of _0x520c1){try{const _0x587082=await getConnection(_0x38d5d7)[_0x29bb86(0x160)](()=>null);if(Array[_0x29bb86(0x15e)](_0x587082))_0xc837fb['push'](..._0x587082);else{if(_0x587082)_0xc837fb['push'](String(_0x587082));}}catch(_0xb858ea){warn('[tag]\x20reso'+_0x29bb86(0x229)+_0x29bb86(0x196)+_0x38d5d7+'\x20failed:\x20'+(_0xb858ea?.[_0x29bb86(0x1cf)]||_0xb858ea));}}return Array['from'](new Set(_0xc837fb[_0x29bb86(0x20e)](_0x2ef194=>String(_0x2ef194)[_0x29bb86(0x152)]())[_0x29bb86(0x18b)](Boolean)));}catch(_0x759a0a){return warn(_0x29bb86(0x208)+_0x29bb86(0x158)+_0x29bb86(0x1ba)+_0x29bb86(0x17d)+_0x29bb86(0x1de)+(_0x759a0a?.[_0x29bb86(0x1cf)]||_0x759a0a)),[];}}function isBoundaryAt(_0x290c19,_0x396a9e,_0x4159c0){const _0x3fe8fa=_0x29dd04,_0x4c0e36=_0x396a9e-(0x1668+0x13*0xb9+-0x2422)>=-0x275+-0x2643+0x28b8?_0x290c19[_0x396a9e-(0x1b63+-0x20f5+0x593)]:null,_0x49c8d7=_0x396a9e+_0x4159c0<_0x290c19[_0x3fe8fa(0x210)]?_0x290c19[_0x396a9e+_0x4159c0]:null,_0x514f84=_0x23cd49=>_0x23cd49!=null&&/[0-9A-Za-z_]/[_0x3fe8fa(0x1cb)](_0x23cd49);return!_0x514f84(_0x4c0e36)&&!_0x514f84(_0x49c8d7);}export async function onMessage(_0x432bed){const _0x5723a5=_0x29dd04;try{if(!_0x432bed||!_0x432bed[_0x5723a5(0x207)]||!_0x432bed[_0x5723a5(0x1cf)])return;const _0x407a61=_0x432bed['key'][_0x5723a5(0x1d6)],_0x3c36be=typeof _0x407a61==='string'&&_0x407a61[_0x5723a5(0x1d3)]('@g.us'),_0x43d02d=_0x432bed[_0x5723a5(0x207)]&&(_0x432bed['key'][_0x5723a5(0x1b9)+'t']||_0x432bed['key'][_0x5723a5(0x175)]||_0x432bed['key'][_0x5723a5(0x1d6)])||'',_0x5c65ec=(_0x43d02d||'')[_0x5723a5(0x1f1)]('@')[0x88c*-0x3+-0x1a22+0x33c6];let _0x34aa9f=![];try{if(_0x3c36be)_0x34aa9f=await isadmin(botRef,_0x432bed);}catch(_0x22745f){warn(_0x5723a5(0x18e)+_0x5723a5(0x22b)+_0x5723a5(0x1ad),_0x22745f?.[_0x5723a5(0x1cf)]||_0x22745f),_0x34aa9f=![];}if(!_0x34aa9f)return;const _0xe31b44=await resolveDefaultChatJidsForUser(_0x5c65ec);if(!_0xe31b44||_0xe31b44[_0x5723a5(0x210)]===-0x1a*0xfb+0x2243+0x8c5*-0x1)return;if(_0x432bed['isCommand']){const _0x333930=_0x432bed[_0x5723a5(0x193)]&&_0x432bed[_0x5723a5(0x193)]['trim']()?_0x432bed[_0x5723a5(0x193)][_0x5723a5(0x152)]():getMessageText(_0x432bed)[_0x5723a5(0x152)](),_0x36f715=detectCommandNameFromText(_0x333930);if(!_0x36f715)return;const _0x2bb888=Array[_0x5723a5(0x15e)](commands)?commands['map'](_0x59e9cb=>String(_0x59e9cb)[_0x5723a5(0x192)+'e']()):[];if(!_0x2bb888[_0x5723a5(0x1e3)](_0x36f715))return;const _0x3c66a2=_0x333930['split'](/\s+/)[_0x5723a5(0x186)](0xd5*0x2a+0x20a0+-0x4391)[_0x5723a5(0x185)]('\x20')[_0x5723a5(0x152)](),_0x5a8e56=_0x3c66a2[_0x5723a5(0x1f1)](/\s+/)[_0x5723a5(0x18b)](Boolean),_0x133eb0=_0x5a8e56[-0x1fcf+0x19*-0x148+0x3fd7]?_0x5a8e56[-0x123*0x1d+-0x20ba+0x41b1*0x1][_0x5723a5(0x192)+'e']():null;if(!_0x133eb0||_0x133eb0===_0x5723a5(0x15d)){await safeSend(_0x407a61,{'text':_0x5723a5(0x1ae)+_0x5723a5(0x1d4)+_0x5723a5(0x170)+_0x5723a5(0x190)+'\x20cmd\x20list\x0a'+_0x5723a5(0x1f7)+'te\x20<emoji>'+_0x5723a5(0x1f6)+'ete\x20index\x20'+_0x5723a5(0x177)+_0x5723a5(0x1e8)+'\x0aMapping\x20e'+'xamples:\x0a\x20'+'\x20@\x20hello\x20\x20'+_0x5723a5(0x14d)+_0x5723a5(0x1c5)+_0x5723a5(0x17f)+_0x5723a5(0x1b3)+_0x5723a5(0x1a6)+'t\x20@Display'+_0x5723a5(0x1a8)+_0x5723a5(0x15b)+_0x5723a5(0x194)+_0x5723a5(0x204)+_0x5723a5(0x1a1)+_0x5723a5(0x1a3)+'ext\x20to\x20def'+_0x5723a5(0x1ab)+_0x5723a5(0x1dd)});return;}if(_0x133eb0==='add'){if(_0x5a8e56[_0x5723a5(0x210)]<-0x39*0x6b+-0x15d4+0x2daa){await safeSend(_0x407a61,{'text':_0x5723a5(0x1a9)+_0x5723a5(0x1f5)+_0x5723a5(0x18f)+_0x5723a5(0x1d8)});return;}const _0x7cd2c8=_0x5a8e56[0x14bd+-0x1a08+0x54c],_0x2799fe=_0x5a8e56[_0x5723a5(0x186)](0xa3+-0x1325+0x5*0x3b4)[_0x5723a5(0x185)]('\x20');let _0x48cc02=0x1*0x12cc+0x1c41+0x447*-0xb;for(const _0x483534 of _0xe31b44){const _0x3b0ccc=await upsertCmd(_0x483534,_0x7cd2c8,_0x2799fe,_0x43d02d||'');if(_0x3b0ccc)_0x48cc02++;}if(_0x48cc02>0x240+0xfd+-0x33d)await safeSend(_0x407a61,{'text':_0x5723a5(0x1aa)+_0x5723a5(0x16e)+_0x7cd2c8+'\x20->\x20'+_0x2799fe+'\x20to\x20'+_0x48cc02+(_0x5723a5(0x209)+_0x5723a5(0x19c)+_0x5723a5(0x1fa))});else await safeSend(_0x407a61,{'text':_0x5723a5(0x184)+_0x5723a5(0x181)+_0x5723a5(0x227)+_0x7cd2c8});return;}if(_0x133eb0===_0x5723a5(0x1d5)){let _0x5869fc=[];for(const _0x2d7e2f of _0xe31b44){const _0x1107c7=await listCmds(_0x2d7e2f);if(!_0x1107c7[_0x5723a5(0x210)]){_0x5869fc[_0x5723a5(0x1eb)]('—\x20'+_0x2d7e2f+(':\x20(no\x20mapp'+'ings)'));continue;}const _0x5532ee=_0x1107c7[_0x5723a5(0x20e)]((_0x342be1,_0x442295)=>_0x442295+(0xe0*-0x8+0x1*-0x1743+-0x12a*-0x1a)+'.\x20'+_0x342be1['emoji']+'\x20->\x20'+_0x342be1[_0x5723a5(0x1b1)]);_0x5869fc[_0x5723a5(0x1eb)]('—\x20'+_0x2d7e2f+'\x20('+_0x1107c7[_0x5723a5(0x210)]+_0x5723a5(0x171)+_0x5532ee[_0x5723a5(0x185)]('\x0a'));}let _0x18ed15='';for(const _0x531dd1 of _0x5869fc){const _0x3bcc6d=_0x531dd1+'\x0a\x0a';(_0x18ed15+_0x3bcc6d)['length']>0x1e3f+0x2*0x808+-0x1*0x2873&&(await safeSend(_0x407a61,{'text':_0x18ed15[_0x5723a5(0x152)]()}),_0x18ed15=''),_0x18ed15+=_0x3bcc6d;}if(_0x18ed15['trim']())await safeSend(_0x407a61,{'text':_0x18ed15[_0x5723a5(0x152)]()});return;}if(_0x133eb0==='delete'){if(_0x5a8e56[_0x5723a5(0x210)]<-0x2063+-0x2538+-0x459d*-0x1){await safeSend(_0x407a61,{'text':_0x5723a5(0x1a9)+_0x5723a5(0x17b)+_0x5723a5(0x1c6)+_0x5723a5(0x178)+_0x5723a5(0x1ee)+_0x5723a5(0x153)+_0x5723a5(0x1ea)});return;}if(_0x5a8e56[0x3b+0x6d6+-0x710]===_0x5723a5(0x21c)){let _0x188c01=-0x1*0x1066+0xbd+0xd3*0x13;for(const _0x4dce95 of _0xe31b44){const _0x3e9bd4=await deleteAllCmds(_0x4dce95);_0x188c01+=_0x3e9bd4;}await safeSend(_0x407a61,{'text':_0x5723a5(0x228)+_0x188c01+(_0x5723a5(0x225)+_0x5723a5(0x162))+_0xe31b44['length']+(_0x5723a5(0x209)+_0x5723a5(0x19c)+_0x5723a5(0x1fa))});return;}if(_0x5a8e56[-0x315+0x7c8+-0x4b2]===_0x5723a5(0x1f4)&&_0x5a8e56[_0x5723a5(0x210)]>=-0x1b69+-0x18b1+0x341d){const _0x1a5fb6=parseInt(_0x5a8e56[0xdf6+-0x1f38+-0x41*-0x44],0x7*0x584+0x27*0x73+0xad*-0x53);if(!Number['isFinite'](_0x1a5fb6)||_0x1a5fb6<=-0x32*-0x2b+-0x1*0x1c2b+0x13c5*0x1){await safeSend(_0x407a61,{'text':_0x5723a5(0x16c)+_0x5723a5(0x159)});return;}let _0x17c285=0x91*-0x29+0x12a1+0x498;for(const _0x11c83c of _0xe31b44){const _0x1f63c2=await listCmds(_0x11c83c);if(_0x1a5fb6>_0x1f63c2[_0x5723a5(0x210)])continue;const _0x275352=_0x1f63c2[_0x1a5fb6-(-0x16ef+-0x123b+-0xdb9*-0x3)]['id'],_0x10874c=await deleteCmdById(_0x11c83c,_0x275352);_0x17c285+=_0x10874c;}await safeSend(_0x407a61,{'text':_0x5723a5(0x228)+_0x17c285+(_0x5723a5(0x225)+_0x5723a5(0x1cd))+_0x1a5fb6+(_0x5723a5(0x1b7)+_0x5723a5(0x1f8)+'t\x20connecti'+'on(s).')});return;}const _0x1cf579=_0x5a8e56[0x7e9+0xd4+-0x8bc];let _0x4cef9b=0x20b0+0xfa*-0x28+-0x3*-0x220;for(const _0x463196 of _0xe31b44){const _0x56fc69=await deleteCmdByEmoji(_0x463196,_0x1cf579);_0x4cef9b+=_0x56fc69;}await safeSend(_0x407a61,{'text':_0x5723a5(0x228)+_0x4cef9b+(_0x5723a5(0x225)+')\x20for\x20emoj'+'i\x20')+_0x1cf579+('\x20across\x20yo'+_0x5723a5(0x176)+'\x20connectio'+'n(s).')});return;}return;}const _0x226497=getMessageText(_0x432bed);if(!_0x226497||!_0x226497[_0x5723a5(0x152)]())return;const _0x569047=_0x226497[_0x5723a5(0x152)](),_0x408ee6=/(?:^|\s)(@@?)\s+([^\n]+)/,_0x5186e2=_0x569047[_0x5723a5(0x19e)](_0x408ee6);if(_0x5186e2){const _0x28f38f=_0x5186e2[0xb*-0x1cf+0x1*0xf12+0x4d4],_0x23f8d8=(_0x5186e2[-0xe92+-0x2*-0x15b+-0xe*-0xd9]||'')[_0x5723a5(0x152)](),_0x2b05f6=(_0x28f38f+'\x20'+_0x23f8d8)[_0x5723a5(0x152)]();for(const _0x3d8733 of _0xe31b44){try{await dispatchMappingForChat(_0x3d8733,_0x2b05f6,'');}catch(_0x2dc3e5){warn(_0x5723a5(0x1e5)+_0x5723a5(0x200)+'gForChat\x20('+_0x5723a5(0x1da)+_0x5723a5(0x1ce),_0x2dc3e5?.[_0x5723a5(0x1cf)]||_0x2dc3e5);}}return;}for(const _0x5cfa13 of _0xe31b44){const _0x14b19b=await listCmds(_0x5cfa13);if(!_0x14b19b['length'])continue;const _0x304996=_0x14b19b[_0x5723a5(0x20e)](_0x2c395c=>_0x2c395c[_0x5723a5(0x1c4)])[_0x5723a5(0x18b)](Boolean)[_0x5723a5(0x1d1)]((_0xdf86ed,_0x1ddf3b)=>_0x1ddf3b['length']-_0xdf86ed['length']);let _0x18ed72=null,_0x5a62b1=null;for(const _0x110641 of _0x304996){if(!_0x110641)continue;let _0x2c5049=_0x569047[_0x5723a5(0x1b6)](_0x110641);while(_0x2c5049!==-(-0x1445*0x1+0x200a+-0xbc4)){if(isBoundaryAt(_0x569047,_0x2c5049,_0x110641[_0x5723a5(0x210)])){_0x18ed72=_0x110641,_0x5a62b1=_0x14b19b[_0x5723a5(0x203)](_0x3e0579=>_0x3e0579['emoji']===_0x110641);break;}_0x2c5049=_0x569047[_0x5723a5(0x1b6)](_0x110641,_0x2c5049+(-0x15b1+-0x13*-0x189+-0x779));}if(_0x18ed72)break;}if(!_0x18ed72||!_0x5a62b1)continue;let _0x11c6f0='';const _0x49e92b=_0x569047[_0x5723a5(0x1b6)](_0x18ed72);if(_0x49e92b!==-(0x2372+0x80d+-0x2b7e)){const _0xb2288=_0x569047[_0x5723a5(0x186)](_0x49e92b+_0x18ed72[_0x5723a5(0x210)])[_0x5723a5(0x152)]();if(_0xb2288)_0x11c6f0=_0xb2288;}try{await dispatchMappingForChat(_0x5cfa13,_0x5a62b1[_0x5723a5(0x1b1)]||'',_0x11c6f0);}catch(_0x441a25){warn(_0x5723a5(0x1e5)+_0x5723a5(0x200)+'gForChat\x20e'+'rror',_0x441a25?.[_0x5723a5(0x1cf)]||_0x441a25);}}}catch(_0x388aa9){error(_0x388aa9,_0x5723a5(0x21f)+_0x5723a5(0x16b)+'l');}}export async function cleanup(){const _0x5c1123=_0x29dd04;botRef=null,sendApi=null,info(_0x5c1123(0x216)+_0x5c1123(0x205));}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};